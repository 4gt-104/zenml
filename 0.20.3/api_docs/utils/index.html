
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://apidocs.zenml.io/0.20.3/api_docs/utils/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.4.0, mkdocs-material-8.3.0">
    
    
      
        <title>Utils - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fd896c8a.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  analytics.page();
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#utils" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Utils
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Api docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Api docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Api docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/" class="md-nav__link">
        Integrations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../repository/" class="md-nav__link">
        Repository
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../secrets_managers/" class="md-nav__link">
        Secrets Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Utils
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Utils
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils" class="md-nav__link">
    analytics_utils
  </a>
  
    <nav class="md-nav" aria-label="analytics_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext" class="md-nav__link">
    AnalyticsContext
  </a>
  
    <nav class="md-nav" aria-label="AnalyticsContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext.__enter__" class="md-nav__link">
    __enter__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext.__exit__" class="md-nav__link">
    __exit__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext.group" class="md-nav__link">
    group()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext.identify" class="md-nav__link">
    identify()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext.track" class="md-nav__link">
    track()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsEvent" class="md-nav__link">
    AnalyticsEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsGroup" class="md-nav__link">
    AnalyticsGroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsTrackedModelMixin" class="md-nav__link">
    AnalyticsTrackedModelMixin
  </a>
  
    <nav class="md-nav" aria-label="AnalyticsTrackedModelMixin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsTrackedModelMixin.get_analytics_metadata" class="md-nav__link">
    get_analytics_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsTrackedModelMixin.track_event" class="md-nav__link">
    track_event()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsTrackerMixin" class="md-nav__link">
    AnalyticsTrackerMixin
  </a>
  
    <nav class="md-nav" aria-label="AnalyticsTrackerMixin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsTrackerMixin.track_event" class="md-nav__link">
    track_event()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.get_segment_key" class="md-nav__link">
    get_segment_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.identify_group" class="md-nav__link">
    identify_group()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.identify_user" class="md-nav__link">
    identify_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.parametrized" class="md-nav__link">
    parametrized()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.track" class="md-nav__link">
    track()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.track_event" class="md-nav__link">
    track_event()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon" class="md-nav__link">
    daemon
  </a>
  
    <nav class="md-nav" aria-label="daemon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.check_if_daemon_is_running" class="md-nav__link">
    check_if_daemon_is_running()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.daemonize" class="md-nav__link">
    daemonize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.get_daemon_pid_if_running" class="md-nav__link">
    get_daemon_pid_if_running()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.run_as_daemon" class="md-nav__link">
    run_as_daemon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.stop_daemon" class="md-nav__link">
    stop_daemon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.terminate_children" class="md-nav__link">
    terminate_children()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils" class="md-nav__link">
    dashboard_utils
  </a>
  
    <nav class="md-nav" aria-label="dashboard_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_run_url" class="md-nav__link">
    get_run_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.print_run_url" class="md-nav__link">
    print_run_url()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.deprecation_utils" class="md-nav__link">
    deprecation_utils
  </a>
  
    <nav class="md-nav" aria-label="deprecation_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.deprecation_utils.deprecate_pydantic_attributes" class="md-nav__link">
    deprecate_pydantic_attributes()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils" class="md-nav__link">
    dict_utils
  </a>
  
    <nav class="md-nav" aria-label="dict_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils.recursive_update" class="md-nav__link">
    recursive_update()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils.remove_none_values" class="md-nav__link">
    remove_none_values()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils" class="md-nav__link">
    docker_utils
  </a>
  
    <nav class="md-nav" aria-label="docker_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.build_image" class="md-nav__link">
    build_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.get_image_digest" class="md-nav__link">
    get_image_digest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.is_local_image" class="md-nav__link">
    is_local_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.push_image" class="md-nav__link">
    push_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.tag_image" class="md-nav__link">
    tag_image()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils" class="md-nav__link">
    enum_utils
  </a>
  
    <nav class="md-nav" aria-label="enum_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils.StrEnum" class="md-nav__link">
    StrEnum
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model" class="md-nav__link">
    filesync_model
  </a>
  
    <nav class="md-nav" aria-label="filesync_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel" class="md-nav__link">
    FileSyncModel
  </a>
  
    <nav class="md-nav" aria-label="FileSyncModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.__getattribute__" class="md-nav__link">
    __getattribute__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.__setattr__" class="md-nav__link">
    __setattr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.load_config" class="md-nav__link">
    load_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.write_config" class="md-nav__link">
    write_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils" class="md-nav__link">
    io_utils
  </a>
  
    <nav class="md-nav" aria-label="io_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.convert_to_str" class="md-nav__link">
    convert_to_str()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.copy_dir" class="md-nav__link">
    copy_dir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.create_dir_if_not_exists" class="md-nav__link">
    create_dir_if_not_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.create_dir_recursive_if_not_exists" class="md-nav__link">
    create_dir_recursive_if_not_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.create_file_if_not_exists" class="md-nav__link">
    create_file_if_not_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.find_files" class="md-nav__link">
    find_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.get_global_config_directory" class="md-nav__link">
    get_global_config_directory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.get_grandparent" class="md-nav__link">
    get_grandparent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.get_parent" class="md-nav__link">
    get_parent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.is_remote" class="md-nav__link">
    is_remote()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.is_root" class="md-nav__link">
    is_root()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.read_file_contents_as_string" class="md-nav__link">
    read_file_contents_as_string()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.resolve_relative_path" class="md-nav__link">
    resolve_relative_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.write_file_contents_as_string" class="md-nav__link">
    write_file_contents_as_string()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils" class="md-nav__link">
    materializer_utils
  </a>
  
    <nav class="md-nav" aria-label="materializer_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils.load_model_from_metadata" class="md-nav__link">
    load_model_from_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils.save_model_metadata" class="md-nav__link">
    save_model_metadata()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils" class="md-nav__link">
    networking_utils
  </a>
  
    <nav class="md-nav" aria-label="networking_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.find_available_port" class="md-nav__link">
    find_available_port()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.port_available" class="md-nav__link">
    port_available()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.port_is_open" class="md-nav__link">
    port_is_open()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.scan_for_available_port" class="md-nav__link">
    scan_for_available_port()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder" class="md-nav__link">
    pipeline_docker_image_builder
  </a>
  
    <nav class="md-nav" aria-label="pipeline_docker_image_builder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder" class="md-nav__link">
    PipelineDockerImageBuilder
  </a>
  
    <nav class="md-nav" aria-label="PipelineDockerImageBuilder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder.build_and_push_docker_image" class="md-nav__link">
    build_and_push_docker_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder.build_docker_image" class="md-nav__link">
    build_docker_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder.get_target_image_name" class="md-nav__link">
    get_target_image_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proto_utils" class="md-nav__link">
    proto_utils
  </a>
  
    <nav class="md-nav" aria-label="proto_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proto_utils.add_mlmd_contexts" class="md-nav__link">
    add_mlmd_contexts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proto_utils.add_pipeline_node_context" class="md-nav__link">
    add_pipeline_node_context()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proto_utils.get_pipeline_config" class="md-nav__link">
    get_pipeline_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proto_utils.get_step" class="md-nav__link">
    get_step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils" class="md-nav__link">
    pydantic_utils
  </a>
  
    <nav class="md-nav" aria-label="pydantic_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.TemplateGenerator" class="md-nav__link">
    TemplateGenerator
  </a>
  
    <nav class="md-nav" aria-label="TemplateGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.TemplateGenerator.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.TemplateGenerator.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.update_model" class="md-nav__link">
    update_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils" class="md-nav__link">
    secret_utils
  </a>
  
    <nav class="md-nav" aria-label="secret_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretReference" class="md-nav__link">
    SecretReference
  </a>
  
    <nav class="md-nav" aria-label="SecretReference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretReference.__getnewargs__" class="md-nav__link">
    __getnewargs__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretReference.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretReference.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.ClearTextField" class="md-nav__link">
    ClearTextField()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretField" class="md-nav__link">
    SecretField()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.is_clear_text_field" class="md-nav__link">
    is_clear_text_field()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.is_secret_field" class="md-nav__link">
    is_secret_field()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.is_secret_reference" class="md-nav__link">
    is_secret_reference()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.parse_secret_reference" class="md-nav__link">
    parse_secret_reference()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils" class="md-nav__link">
    settings_utils
  </a>
  
    <nav class="md-nav" aria-label="settings_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_flavor_setting_key" class="md-nav__link">
    get_flavor_setting_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_general_settings" class="md-nav__link">
    get_general_settings()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_stack_component_setting_key" class="md-nav__link">
    get_stack_component_setting_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.is_general_setting_key" class="md-nav__link">
    is_general_setting_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.is_stack_component_setting_key" class="md-nav__link">
    is_stack_component_setting_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.is_valid_setting_key" class="md-nav__link">
    is_valid_setting_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.validate_setting_keys" class="md-nav__link">
    validate_setting_keys()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton" class="md-nav__link">
    singleton
  </a>
  
    <nav class="md-nav" aria-label="singleton">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass" class="md-nav__link">
    SingletonMetaClass
  </a>
  
    <nav class="md-nav" aria-label="SingletonMetaClass">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils" class="md-nav__link">
    source_utils
  </a>
  
    <nav class="md-nav" aria-label="source_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.create_zenml_pin" class="md-nav__link">
    create_zenml_pin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_hashed_source" class="md-nav__link">
    get_hashed_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_main_module_source" class="md-nav__link">
    get_main_module_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_module_source_from_module" class="md-nav__link">
    get_module_source_from_module()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_source" class="md-nav__link">
    get_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_source_root_path" class="md-nav__link">
    get_source_root_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.import_class_by_path" class="md-nav__link">
    import_class_by_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.import_python_file" class="md-nav__link">
    import_python_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_inside_repository" class="md-nav__link">
    is_inside_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_standard_pin" class="md-nav__link">
    is_standard_pin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_standard_source" class="md-nav__link">
    is_standard_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_third_party_module" class="md-nav__link">
    is_third_party_module()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.load_and_validate_class" class="md-nav__link">
    load_and_validate_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.load_source_path_class" class="md-nav__link">
    load_source_path_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.prepend_python_path" class="md-nav__link">
    prepend_python_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.resolve_class" class="md-nav__link">
    resolve_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.resolve_standard_source" class="md-nav__link">
    resolve_standard_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.validate_config_source" class="md-nav__link">
    validate_config_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.validate_flavor_source" class="md-nav__link">
    validate_flavor_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.validate_source_class" class="md-nav__link">
    validate_source_class()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils" class="md-nav__link">
    string_utils
  </a>
  
    <nav class="md-nav" aria-label="string_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.b64_decode" class="md-nav__link">
    b64_decode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.b64_encode" class="md-nav__link">
    b64_encode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.get_human_readable_filesize" class="md-nav__link">
    get_human_readable_filesize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.get_human_readable_time" class="md-nav__link">
    get_human_readable_time()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.random_str" class="md-nav__link">
    random_str()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model" class="md-nav__link">
    typed_model
  </a>
  
    <nav class="md-nav" aria-label="typed_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel" class="md-nav__link">
    BaseTypedModel
  </a>
  
    <nav class="md-nav" aria-label="BaseTypedModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel.from_dict" class="md-nav__link">
    from_dict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel.from_json" class="md-nav__link">
    from_json()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModelMeta" class="md-nav__link">
    BaseTypedModelMeta
  </a>
  
    <nav class="md-nav" aria-label="BaseTypedModelMeta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModelMeta.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils" class="md-nav__link">
    uuid_utils
  </a>
  
    <nav class="md-nav" aria-label="uuid_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils.is_valid_uuid" class="md-nav__link">
    is_valid_uuid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils.parse_name_or_uuid" class="md-nav__link">
    parse_name_or_uuid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils.parse_optional_name_or_uuid" class="md-nav__link">
    parse_optional_name_or_uuid()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils" class="md-nav__link">
    yaml_utils
  </a>
  
    <nav class="md-nav" aria-label="yaml_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.UUIDEncoder" class="md-nav__link">
    UUIDEncoder
  </a>
  
    <nav class="md-nav" aria-label="UUIDEncoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.UUIDEncoder.default" class="md-nav__link">
    default()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.append_yaml" class="md-nav__link">
    append_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.comment_out_yaml" class="md-nav__link">
    comment_out_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.is_yaml" class="md-nav__link">
    is_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.read_json" class="md-nav__link">
    read_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.read_yaml" class="md-nav__link">
    read_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.write_json" class="md-nav__link">
    write_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.write_yaml" class="md-nav__link">
    write_yaml()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../visualizers/" class="md-nav__link">
        Visualizers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_37" type="checkbox" id="__nav_3_37" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_37">
          Cli
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cli" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_37">
          <span class="md-nav__icon md-icon"></span>
          Cli
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/annotator/" class="md-nav__link">
        Annotator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/base/" class="md-nav__link">
        Base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/cli/" class="md-nav__link">
        Cli
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/example/" class="md-nav__link">
        Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/feature/" class="md-nav__link">
        Feature
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/formatter/" class="md-nav__link">
        Formatter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/model/" class="md-nav__link">
        Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/pipeline/" class="md-nav__link">
        Pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/profile/" class="md-nav__link">
        Profile
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/server/" class="md-nav__link">
        Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/stack_components/" class="md-nav__link">
        Stack Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/stack_recipes/" class="md-nav__link">
        Stack Recipes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/text_utils/" class="md-nav__link">
        Text Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/user_management/" class="md-nav__link">
        User Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/version/" class="md-nav__link">
        Version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils" class="md-nav__link">
    analytics_utils
  </a>
  
    <nav class="md-nav" aria-label="analytics_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext" class="md-nav__link">
    AnalyticsContext
  </a>
  
    <nav class="md-nav" aria-label="AnalyticsContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext.__enter__" class="md-nav__link">
    __enter__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext.__exit__" class="md-nav__link">
    __exit__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext.group" class="md-nav__link">
    group()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext.identify" class="md-nav__link">
    identify()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsContext.track" class="md-nav__link">
    track()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsEvent" class="md-nav__link">
    AnalyticsEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsGroup" class="md-nav__link">
    AnalyticsGroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsTrackedModelMixin" class="md-nav__link">
    AnalyticsTrackedModelMixin
  </a>
  
    <nav class="md-nav" aria-label="AnalyticsTrackedModelMixin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsTrackedModelMixin.get_analytics_metadata" class="md-nav__link">
    get_analytics_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsTrackedModelMixin.track_event" class="md-nav__link">
    track_event()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsTrackerMixin" class="md-nav__link">
    AnalyticsTrackerMixin
  </a>
  
    <nav class="md-nav" aria-label="AnalyticsTrackerMixin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsTrackerMixin.track_event" class="md-nav__link">
    track_event()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.get_segment_key" class="md-nav__link">
    get_segment_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.identify_group" class="md-nav__link">
    identify_group()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.identify_user" class="md-nav__link">
    identify_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.parametrized" class="md-nav__link">
    parametrized()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.track" class="md-nav__link">
    track()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.track_event" class="md-nav__link">
    track_event()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon" class="md-nav__link">
    daemon
  </a>
  
    <nav class="md-nav" aria-label="daemon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.check_if_daemon_is_running" class="md-nav__link">
    check_if_daemon_is_running()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.daemonize" class="md-nav__link">
    daemonize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.get_daemon_pid_if_running" class="md-nav__link">
    get_daemon_pid_if_running()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.run_as_daemon" class="md-nav__link">
    run_as_daemon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.stop_daemon" class="md-nav__link">
    stop_daemon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.terminate_children" class="md-nav__link">
    terminate_children()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils" class="md-nav__link">
    dashboard_utils
  </a>
  
    <nav class="md-nav" aria-label="dashboard_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_run_url" class="md-nav__link">
    get_run_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.print_run_url" class="md-nav__link">
    print_run_url()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.deprecation_utils" class="md-nav__link">
    deprecation_utils
  </a>
  
    <nav class="md-nav" aria-label="deprecation_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.deprecation_utils.deprecate_pydantic_attributes" class="md-nav__link">
    deprecate_pydantic_attributes()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils" class="md-nav__link">
    dict_utils
  </a>
  
    <nav class="md-nav" aria-label="dict_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils.recursive_update" class="md-nav__link">
    recursive_update()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils.remove_none_values" class="md-nav__link">
    remove_none_values()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils" class="md-nav__link">
    docker_utils
  </a>
  
    <nav class="md-nav" aria-label="docker_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.build_image" class="md-nav__link">
    build_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.get_image_digest" class="md-nav__link">
    get_image_digest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.is_local_image" class="md-nav__link">
    is_local_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.push_image" class="md-nav__link">
    push_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.tag_image" class="md-nav__link">
    tag_image()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils" class="md-nav__link">
    enum_utils
  </a>
  
    <nav class="md-nav" aria-label="enum_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils.StrEnum" class="md-nav__link">
    StrEnum
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model" class="md-nav__link">
    filesync_model
  </a>
  
    <nav class="md-nav" aria-label="filesync_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel" class="md-nav__link">
    FileSyncModel
  </a>
  
    <nav class="md-nav" aria-label="FileSyncModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.__getattribute__" class="md-nav__link">
    __getattribute__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.__setattr__" class="md-nav__link">
    __setattr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.load_config" class="md-nav__link">
    load_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.write_config" class="md-nav__link">
    write_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils" class="md-nav__link">
    io_utils
  </a>
  
    <nav class="md-nav" aria-label="io_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.convert_to_str" class="md-nav__link">
    convert_to_str()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.copy_dir" class="md-nav__link">
    copy_dir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.create_dir_if_not_exists" class="md-nav__link">
    create_dir_if_not_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.create_dir_recursive_if_not_exists" class="md-nav__link">
    create_dir_recursive_if_not_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.create_file_if_not_exists" class="md-nav__link">
    create_file_if_not_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.find_files" class="md-nav__link">
    find_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.get_global_config_directory" class="md-nav__link">
    get_global_config_directory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.get_grandparent" class="md-nav__link">
    get_grandparent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.get_parent" class="md-nav__link">
    get_parent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.is_remote" class="md-nav__link">
    is_remote()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.is_root" class="md-nav__link">
    is_root()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.read_file_contents_as_string" class="md-nav__link">
    read_file_contents_as_string()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.resolve_relative_path" class="md-nav__link">
    resolve_relative_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.write_file_contents_as_string" class="md-nav__link">
    write_file_contents_as_string()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils" class="md-nav__link">
    materializer_utils
  </a>
  
    <nav class="md-nav" aria-label="materializer_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils.load_model_from_metadata" class="md-nav__link">
    load_model_from_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils.save_model_metadata" class="md-nav__link">
    save_model_metadata()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils" class="md-nav__link">
    networking_utils
  </a>
  
    <nav class="md-nav" aria-label="networking_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.find_available_port" class="md-nav__link">
    find_available_port()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.port_available" class="md-nav__link">
    port_available()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.port_is_open" class="md-nav__link">
    port_is_open()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.scan_for_available_port" class="md-nav__link">
    scan_for_available_port()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder" class="md-nav__link">
    pipeline_docker_image_builder
  </a>
  
    <nav class="md-nav" aria-label="pipeline_docker_image_builder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder" class="md-nav__link">
    PipelineDockerImageBuilder
  </a>
  
    <nav class="md-nav" aria-label="PipelineDockerImageBuilder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder.build_and_push_docker_image" class="md-nav__link">
    build_and_push_docker_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder.build_docker_image" class="md-nav__link">
    build_docker_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder.get_target_image_name" class="md-nav__link">
    get_target_image_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proto_utils" class="md-nav__link">
    proto_utils
  </a>
  
    <nav class="md-nav" aria-label="proto_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proto_utils.add_mlmd_contexts" class="md-nav__link">
    add_mlmd_contexts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proto_utils.add_pipeline_node_context" class="md-nav__link">
    add_pipeline_node_context()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proto_utils.get_pipeline_config" class="md-nav__link">
    get_pipeline_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proto_utils.get_step" class="md-nav__link">
    get_step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils" class="md-nav__link">
    pydantic_utils
  </a>
  
    <nav class="md-nav" aria-label="pydantic_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.TemplateGenerator" class="md-nav__link">
    TemplateGenerator
  </a>
  
    <nav class="md-nav" aria-label="TemplateGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.TemplateGenerator.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.TemplateGenerator.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.update_model" class="md-nav__link">
    update_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils" class="md-nav__link">
    secret_utils
  </a>
  
    <nav class="md-nav" aria-label="secret_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretReference" class="md-nav__link">
    SecretReference
  </a>
  
    <nav class="md-nav" aria-label="SecretReference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretReference.__getnewargs__" class="md-nav__link">
    __getnewargs__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretReference.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretReference.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.ClearTextField" class="md-nav__link">
    ClearTextField()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretField" class="md-nav__link">
    SecretField()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.is_clear_text_field" class="md-nav__link">
    is_clear_text_field()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.is_secret_field" class="md-nav__link">
    is_secret_field()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.is_secret_reference" class="md-nav__link">
    is_secret_reference()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.parse_secret_reference" class="md-nav__link">
    parse_secret_reference()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils" class="md-nav__link">
    settings_utils
  </a>
  
    <nav class="md-nav" aria-label="settings_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_flavor_setting_key" class="md-nav__link">
    get_flavor_setting_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_general_settings" class="md-nav__link">
    get_general_settings()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_stack_component_setting_key" class="md-nav__link">
    get_stack_component_setting_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.is_general_setting_key" class="md-nav__link">
    is_general_setting_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.is_stack_component_setting_key" class="md-nav__link">
    is_stack_component_setting_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.is_valid_setting_key" class="md-nav__link">
    is_valid_setting_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.validate_setting_keys" class="md-nav__link">
    validate_setting_keys()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton" class="md-nav__link">
    singleton
  </a>
  
    <nav class="md-nav" aria-label="singleton">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass" class="md-nav__link">
    SingletonMetaClass
  </a>
  
    <nav class="md-nav" aria-label="SingletonMetaClass">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils" class="md-nav__link">
    source_utils
  </a>
  
    <nav class="md-nav" aria-label="source_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.create_zenml_pin" class="md-nav__link">
    create_zenml_pin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_hashed_source" class="md-nav__link">
    get_hashed_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_main_module_source" class="md-nav__link">
    get_main_module_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_module_source_from_module" class="md-nav__link">
    get_module_source_from_module()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_source" class="md-nav__link">
    get_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_source_root_path" class="md-nav__link">
    get_source_root_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.import_class_by_path" class="md-nav__link">
    import_class_by_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.import_python_file" class="md-nav__link">
    import_python_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_inside_repository" class="md-nav__link">
    is_inside_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_standard_pin" class="md-nav__link">
    is_standard_pin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_standard_source" class="md-nav__link">
    is_standard_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_third_party_module" class="md-nav__link">
    is_third_party_module()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.load_and_validate_class" class="md-nav__link">
    load_and_validate_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.load_source_path_class" class="md-nav__link">
    load_source_path_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.prepend_python_path" class="md-nav__link">
    prepend_python_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.resolve_class" class="md-nav__link">
    resolve_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.resolve_standard_source" class="md-nav__link">
    resolve_standard_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.validate_config_source" class="md-nav__link">
    validate_config_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.validate_flavor_source" class="md-nav__link">
    validate_flavor_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.validate_source_class" class="md-nav__link">
    validate_source_class()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils" class="md-nav__link">
    string_utils
  </a>
  
    <nav class="md-nav" aria-label="string_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.b64_decode" class="md-nav__link">
    b64_decode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.b64_encode" class="md-nav__link">
    b64_encode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.get_human_readable_filesize" class="md-nav__link">
    get_human_readable_filesize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.get_human_readable_time" class="md-nav__link">
    get_human_readable_time()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.random_str" class="md-nav__link">
    random_str()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model" class="md-nav__link">
    typed_model
  </a>
  
    <nav class="md-nav" aria-label="typed_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel" class="md-nav__link">
    BaseTypedModel
  </a>
  
    <nav class="md-nav" aria-label="BaseTypedModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel.from_dict" class="md-nav__link">
    from_dict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel.from_json" class="md-nav__link">
    from_json()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModelMeta" class="md-nav__link">
    BaseTypedModelMeta
  </a>
  
    <nav class="md-nav" aria-label="BaseTypedModelMeta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModelMeta.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils" class="md-nav__link">
    uuid_utils
  </a>
  
    <nav class="md-nav" aria-label="uuid_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils.is_valid_uuid" class="md-nav__link">
    is_valid_uuid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils.parse_name_or_uuid" class="md-nav__link">
    parse_name_or_uuid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils.parse_optional_name_or_uuid" class="md-nav__link">
    parse_optional_name_or_uuid()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils" class="md-nav__link">
    yaml_utils
  </a>
  
    <nav class="md-nav" aria-label="yaml_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.UUIDEncoder" class="md-nav__link">
    UUIDEncoder
  </a>
  
    <nav class="md-nav" aria-label="UUIDEncoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.UUIDEncoder.default" class="md-nav__link">
    default()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.append_yaml" class="md-nav__link">
    append_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.comment_out_yaml" class="md-nav__link">
    comment_out_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.is_yaml" class="md-nav__link">
    is_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.read_json" class="md-nav__link">
    read_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.read_yaml" class="md-nav__link">
    read_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.write_json" class="md-nav__link">
    write_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.write_yaml" class="md-nav__link">
    write_yaml()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/zenml-io/zenml/docs/api_docs/utils.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="utils">Utils</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.utils" class="doc doc-heading">
        <code>zenml.utils</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>Initialization of the utils module.</p>
<p>The <code>utils</code> module contains utility functions handling analytics, reading and
writing YAML data as well as other general purpose functions.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.analytics_utils" class="doc doc-heading">
        <code>analytics_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Analytics code for ZenML.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.analytics_utils.AnalyticsContext" class="doc doc-heading">
        <code>
AnalyticsContext        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Context manager for analytics.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AnalyticsContext</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Context manager for analytics.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Context manager for analytics.</span>

<span class="sd">        Use this as a context manager to ensure that analytics are initialized</span>
<span class="sd">        properly, only tracked when configured to do so and that any errors</span>
<span class="sd">        are handled gracefully.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">analytics</span>

        <span class="kn">from</span> <span class="nn">zenml.config.global_config</span> <span class="kn">import</span> <span class="n">GlobalConfiguration</span>

        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">analytics_opt_in</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">gc</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span>

        <span class="c1"># That means user opted out of analytics</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">gc</span><span class="o">.</span><span class="n">analytics_opt_in</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">analytics</span><span class="o">.</span><span class="n">write_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">analytics</span><span class="o">.</span><span class="n">write_key</span> <span class="o">=</span> <span class="n">get_segment_key</span><span class="p">()</span>

        <span class="k">assert</span> <span class="p">(</span>
            <span class="n">analytics</span><span class="o">.</span><span class="n">write_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">),</span> <span class="s2">&quot;Analytics key not set but trying to make telemetry call.&quot;</span>

        <span class="c1"># Set this to 1 to avoid backoff loop</span>
        <span class="n">analytics</span><span class="o">.</span><span class="n">max_retries</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AnalyticsContext&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Enter context manager.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Self.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">exc_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">]],</span>
        <span class="n">exc_val</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">],</span>
        <span class="n">exc_tb</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TracebackType</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Exit context manager.</span>

<span class="sd">        Args:</span>
<span class="sd">            exc_type: Exception type.</span>
<span class="sd">            exc_val: Exception value.</span>
<span class="sd">            exc_tb: Exception traceback.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if exception was handled, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">exc_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Sending telemetry data failed: </span><span class="si">{exc_val}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># We should never fail main thread</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Identify the user.</span>

<span class="sd">        Args:</span>
<span class="sd">            traits: Traits of the user.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if tracking information was sent, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">analytics</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Attempting to attach metadata to: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">traits</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">analytics</span><span class="o">.</span><span class="n">identify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span> <span class="n">traits</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User data sent: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">traits</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">group</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">group</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">AnalyticsGroup</span><span class="p">],</span>
        <span class="n">group_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Group the user.</span>

<span class="sd">        Args:</span>
<span class="sd">            group: Group to which the user belongs.</span>
<span class="sd">            group_id: Group ID.</span>
<span class="sd">            traits: Traits of the group.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if tracking information was sent, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">analytics</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">AnalyticsGroup</span><span class="p">):</span>
            <span class="n">group</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">value</span>

        <span class="k">if</span> <span class="n">traits</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">traits</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">traits</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="n">group_id</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Attempting to attach metadata to: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Group: </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">, Group ID: </span><span class="si">{</span><span class="n">group_id</span><span class="si">}</span><span class="s2">, Metadata: </span><span class="si">{</span><span class="n">traits</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">analytics</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span> <span class="n">group_id</span><span class="p">,</span> <span class="n">traits</span><span class="o">=</span><span class="n">traits</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Group data sent: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, Group: </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">, Group ID: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group_id</span><span class="si">}</span><span class="s2">, Metadata: </span><span class="si">{</span><span class="n">traits</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">track</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">event</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">AnalyticsEvent</span><span class="p">],</span>
        <span class="n">properties</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Track an event.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: Event to track.</span>
<span class="sd">            properties: Event properties.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if tracking information was sent, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">analytics</span>

        <span class="kn">from</span> <span class="nn">zenml.config.global_config</span> <span class="kn">import</span> <span class="n">GlobalConfiguration</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">AnalyticsEvent</span><span class="p">):</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">value</span>

        <span class="k">if</span> <span class="n">properties</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">properties</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Attempting analytics: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Event: </span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2">,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">properties</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span> <span class="ow">and</span> <span class="n">event</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span>
            <span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">OPT_OUT_ANALYTICS</span><span class="p">,</span>
            <span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">OPT_IN_ANALYTICS</span><span class="p">,</span>
        <span class="p">}:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># add basics</span>
        <span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Environment</span><span class="o">.</span><span class="n">get_system_info</span><span class="p">())</span>
        <span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;environment&quot;</span><span class="p">:</span> <span class="n">get_environment</span><span class="p">(),</span>
                <span class="s2">&quot;python_version&quot;</span><span class="p">:</span> <span class="n">Environment</span><span class="o">.</span><span class="n">python_version</span><span class="p">(),</span>
                <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">__version__</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
        <span class="c1"># avoid initializing the store in the analytics, to not create an</span>
        <span class="c1"># infinite loop</span>
        <span class="k">if</span> <span class="n">gc</span><span class="o">.</span><span class="n">_zen_store</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">zen_store</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">zen_store</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">zen_store</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span>
                <span class="ow">and</span> <span class="s2">&quot;server_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">properties</span>
            <span class="p">):</span>
                <span class="n">user</span> <span class="o">=</span> <span class="n">zen_store</span><span class="o">.</span><span class="n">active_user</span>
                <span class="n">server_info</span> <span class="o">=</span> <span class="n">zen_store</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span>
                <span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                        <span class="s2">&quot;server_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">server_info</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                        <span class="s2">&quot;server_deployment&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">server_info</span><span class="o">.</span><span class="n">deployment_type</span><span class="p">),</span>
                        <span class="s2">&quot;database_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">server_info</span><span class="o">.</span><span class="n">database_type</span><span class="p">),</span>
                    <span class="p">}</span>
                <span class="p">)</span>

        <span class="n">analytics</span><span class="o">.</span><span class="n">track</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">properties</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Analytics sent: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, Event: </span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2">, Metadata: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">properties</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.analytics_utils.AnalyticsContext.__enter__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Enter context manager.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AnalyticsContext</code></td>
      <td><p>Self.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AnalyticsContext&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Enter context manager.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Self.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.analytics_utils.AnalyticsContext.__exit__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Exit context manager.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>exc_type</code></td>
        <td><code>Optional[Type[BaseException]]</code></td>
        <td><p>Exception type.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>exc_val</code></td>
        <td><code>Optional[BaseException]</code></td>
        <td><p>Exception value.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>exc_tb</code></td>
        <td><code>Optional[traceback]</code></td>
        <td><p>Exception traceback.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if exception was handled, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">exc_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">]],</span>
    <span class="n">exc_val</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">],</span>
    <span class="n">exc_tb</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TracebackType</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Exit context manager.</span>

<span class="sd">    Args:</span>
<span class="sd">        exc_type: Exception type.</span>
<span class="sd">        exc_val: Exception value.</span>
<span class="sd">        exc_tb: Exception traceback.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if exception was handled, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">exc_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Sending telemetry data failed: </span><span class="si">{exc_val}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># We should never fail main thread</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.analytics_utils.AnalyticsContext.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Context manager for analytics.</p>
<p>Use this as a context manager to ensure that analytics are initialized
properly, only tracked when configured to do so and that any errors
are handled gracefully.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Context manager for analytics.</span>

<span class="sd">    Use this as a context manager to ensure that analytics are initialized</span>
<span class="sd">    properly, only tracked when configured to do so and that any errors</span>
<span class="sd">    are handled gracefully.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">analytics</span>

    <span class="kn">from</span> <span class="nn">zenml.config.global_config</span> <span class="kn">import</span> <span class="n">GlobalConfiguration</span>

    <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">analytics_opt_in</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">gc</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span>

    <span class="c1"># That means user opted out of analytics</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">gc</span><span class="o">.</span><span class="n">analytics_opt_in</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="n">analytics</span><span class="o">.</span><span class="n">write_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">analytics</span><span class="o">.</span><span class="n">write_key</span> <span class="o">=</span> <span class="n">get_segment_key</span><span class="p">()</span>

    <span class="k">assert</span> <span class="p">(</span>
        <span class="n">analytics</span><span class="o">.</span><span class="n">write_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="p">),</span> <span class="s2">&quot;Analytics key not set but trying to make telemetry call.&quot;</span>

    <span class="c1"># Set this to 1 to avoid backoff loop</span>
    <span class="n">analytics</span><span class="o">.</span><span class="n">max_retries</span> <span class="o">=</span> <span class="mi">1</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.analytics_utils.AnalyticsContext.group" class="doc doc-heading">
<code class="highlight language-python"><span class="n">group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">group_id</span><span class="p">,</span> <span class="n">traits</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Group the user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>group</code></td>
        <td><code>Union[str, zenml.utils.analytics_utils.AnalyticsGroup]</code></td>
        <td><p>Group to which the user belongs.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>group_id</code></td>
        <td><code>str</code></td>
        <td><p>Group ID.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>traits</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Traits of the group.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if tracking information was sent, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">group</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">group</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">AnalyticsGroup</span><span class="p">],</span>
    <span class="n">group_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Group the user.</span>

<span class="sd">    Args:</span>
<span class="sd">        group: Group to which the user belongs.</span>
<span class="sd">        group_id: Group ID.</span>
<span class="sd">        traits: Traits of the group.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if tracking information was sent, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">analytics</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">AnalyticsGroup</span><span class="p">):</span>
        <span class="n">group</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">value</span>

    <span class="k">if</span> <span class="n">traits</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">traits</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">traits</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="n">group_id</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Attempting to attach metadata to: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;Group: </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">, Group ID: </span><span class="si">{</span><span class="n">group_id</span><span class="si">}</span><span class="s2">, Metadata: </span><span class="si">{</span><span class="n">traits</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">analytics</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span> <span class="n">group_id</span><span class="p">,</span> <span class="n">traits</span><span class="o">=</span><span class="n">traits</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Group data sent: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, Group: </span><span class="si">{</span><span class="n">group</span><span class="si">}</span><span class="s2">, Group ID: &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group_id</span><span class="si">}</span><span class="s2">, Metadata: </span><span class="si">{</span><span class="n">traits</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.analytics_utils.AnalyticsContext.identify" class="doc doc-heading">
<code class="highlight language-python"><span class="n">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">traits</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Identify the user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>traits</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Traits of the user.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if tracking information was sent, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Identify the user.</span>

<span class="sd">    Args:</span>
<span class="sd">        traits: Traits of the user.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if tracking information was sent, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">analytics</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Attempting to attach metadata to: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">traits</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">analytics</span><span class="o">.</span><span class="n">identify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span> <span class="n">traits</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User data sent: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">traits</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.analytics_utils.AnalyticsContext.track" class="doc doc-heading">
<code class="highlight language-python"><span class="n">track</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Track an event.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>event</code></td>
        <td><code>Union[str, zenml.utils.analytics_utils.AnalyticsEvent]</code></td>
        <td><p>Event to track.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>properties</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Event properties.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if tracking information was sent, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">track</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">event</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">AnalyticsEvent</span><span class="p">],</span>
    <span class="n">properties</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Track an event.</span>

<span class="sd">    Args:</span>
<span class="sd">        event: Event to track.</span>
<span class="sd">        properties: Event properties.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if tracking information was sent, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">analytics</span>

    <span class="kn">from</span> <span class="nn">zenml.config.global_config</span> <span class="kn">import</span> <span class="n">GlobalConfiguration</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">AnalyticsEvent</span><span class="p">):</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">value</span>

    <span class="k">if</span> <span class="n">properties</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">properties</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Attempting analytics: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;Event: </span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2">,&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">properties</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span> <span class="ow">and</span> <span class="n">event</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span>
        <span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">OPT_OUT_ANALYTICS</span><span class="p">,</span>
        <span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">OPT_IN_ANALYTICS</span><span class="p">,</span>
    <span class="p">}:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="c1"># add basics</span>
    <span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Environment</span><span class="o">.</span><span class="n">get_system_info</span><span class="p">())</span>
    <span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;environment&quot;</span><span class="p">:</span> <span class="n">get_environment</span><span class="p">(),</span>
            <span class="s2">&quot;python_version&quot;</span><span class="p">:</span> <span class="n">Environment</span><span class="o">.</span><span class="n">python_version</span><span class="p">(),</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">__version__</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
    <span class="c1"># avoid initializing the store in the analytics, to not create an</span>
    <span class="c1"># infinite loop</span>
    <span class="k">if</span> <span class="n">gc</span><span class="o">.</span><span class="n">_zen_store</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">zen_store</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">zen_store</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">zen_store</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span>
            <span class="ow">and</span> <span class="s2">&quot;server_id&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">properties</span>
        <span class="p">):</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">zen_store</span><span class="o">.</span><span class="n">active_user</span>
            <span class="n">server_info</span> <span class="o">=</span> <span class="n">zen_store</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span>
            <span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                    <span class="s2">&quot;server_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">server_info</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                    <span class="s2">&quot;server_deployment&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">server_info</span><span class="o">.</span><span class="n">deployment_type</span><span class="p">),</span>
                    <span class="s2">&quot;database_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">server_info</span><span class="o">.</span><span class="n">database_type</span><span class="p">),</span>
                <span class="p">}</span>
            <span class="p">)</span>

    <span class="n">analytics</span><span class="o">.</span><span class="n">track</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">properties</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Analytics sent: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, Event: </span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2">, Metadata: &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">properties</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.analytics_utils.AnalyticsEvent" class="doc doc-heading">
        <code>
AnalyticsEvent            (<span title="str">str</span>, <span title="enum.Enum">Enum</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Enum of events to track in segment.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AnalyticsEvent</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Enum of events to track in segment.&quot;&quot;&quot;</span>

    <span class="c1"># Pipelines</span>
    <span class="n">RUN_PIPELINE</span> <span class="o">=</span> <span class="s2">&quot;Pipeline run&quot;</span>
    <span class="n">GET_PIPELINES</span> <span class="o">=</span> <span class="s2">&quot;Pipelines fetched&quot;</span>
    <span class="n">GET_PIPELINE</span> <span class="o">=</span> <span class="s2">&quot;Pipeline fetched&quot;</span>
    <span class="n">CREATE_PIPELINE</span> <span class="o">=</span> <span class="s2">&quot;Pipeline created&quot;</span>
    <span class="n">UPDATE_PIPELINE</span> <span class="o">=</span> <span class="s2">&quot;Pipeline updated&quot;</span>
    <span class="n">DELETE_PIPELINE</span> <span class="o">=</span> <span class="s2">&quot;Pipeline deleted&quot;</span>

    <span class="c1"># Repo</span>
    <span class="n">INITIALIZE_REPO</span> <span class="o">=</span> <span class="s2">&quot;ZenML initialized&quot;</span>
    <span class="n">CONNECT_REPOSITORY</span> <span class="o">=</span> <span class="s2">&quot;Repository connected&quot;</span>
    <span class="n">UPDATE_REPOSITORY</span> <span class="o">=</span> <span class="s2">&quot;Repository updated&quot;</span>
    <span class="n">DELETE_REPOSITORY</span> <span class="o">=</span> <span class="s2">&quot;Repository deleted&quot;</span>

    <span class="c1"># Zen store</span>
    <span class="n">INITIALIZED_STORE</span> <span class="o">=</span> <span class="s2">&quot;Store initialized&quot;</span>

    <span class="c1"># Components</span>
    <span class="n">REGISTERED_STACK_COMPONENT</span> <span class="o">=</span> <span class="s2">&quot;Stack component registered&quot;</span>
    <span class="n">UPDATED_STACK_COMPONENT</span> <span class="o">=</span> <span class="s2">&quot;Stack component updated&quot;</span>
    <span class="n">COPIED_STACK_COMPONENT</span> <span class="o">=</span> <span class="s2">&quot;Stack component copied&quot;</span>
    <span class="n">DELETED_STACK_COMPONENT</span> <span class="o">=</span> <span class="s2">&quot;Stack component copied&quot;</span>

    <span class="c1"># Stack</span>
    <span class="n">REGISTERED_STACK</span> <span class="o">=</span> <span class="s2">&quot;Stack registered&quot;</span>
    <span class="n">REGISTERED_DEFAULT_STACK</span> <span class="o">=</span> <span class="s2">&quot;Default stack registered&quot;</span>
    <span class="n">SET_STACK</span> <span class="o">=</span> <span class="s2">&quot;Stack set&quot;</span>
    <span class="n">UPDATED_STACK</span> <span class="o">=</span> <span class="s2">&quot;Stack updated&quot;</span>
    <span class="n">COPIED_STACK</span> <span class="o">=</span> <span class="s2">&quot;Stack copied&quot;</span>
    <span class="n">IMPORT_STACK</span> <span class="o">=</span> <span class="s2">&quot;Stack imported&quot;</span>
    <span class="n">EXPORT_STACK</span> <span class="o">=</span> <span class="s2">&quot;Stack exported&quot;</span>
    <span class="n">DELETED_STACK</span> <span class="o">=</span> <span class="s2">&quot;Stack deleted&quot;</span>

    <span class="c1"># Model Deployment</span>
    <span class="n">MODEL_DEPLOYED</span> <span class="o">=</span> <span class="s2">&quot;Model deployed&quot;</span>

    <span class="c1"># Analytics opt in and out</span>
    <span class="n">OPT_IN_ANALYTICS</span> <span class="o">=</span> <span class="s2">&quot;Analytics opt-in&quot;</span>
    <span class="n">OPT_OUT_ANALYTICS</span> <span class="o">=</span> <span class="s2">&quot;Analytics opt-out&quot;</span>
    <span class="n">OPT_IN_OUT_EMAIL</span> <span class="o">=</span> <span class="s2">&quot;Response for Email prompt&quot;</span>

    <span class="c1"># Examples</span>
    <span class="n">RUN_ZENML_GO</span> <span class="o">=</span> <span class="s2">&quot;ZenML go&quot;</span>
    <span class="n">RUN_EXAMPLE</span> <span class="o">=</span> <span class="s2">&quot;Example run&quot;</span>
    <span class="n">PULL_EXAMPLE</span> <span class="o">=</span> <span class="s2">&quot;Example pull&quot;</span>

    <span class="c1"># Integrations</span>
    <span class="n">INSTALL_INTEGRATION</span> <span class="o">=</span> <span class="s2">&quot;Integration installed&quot;</span>

    <span class="c1"># Users</span>
    <span class="n">CREATED_USER</span> <span class="o">=</span> <span class="s2">&quot;User created&quot;</span>
    <span class="n">CREATED_DEFAULT_USER</span> <span class="o">=</span> <span class="s2">&quot;Default user created&quot;</span>
    <span class="n">UPDATED_USER</span> <span class="o">=</span> <span class="s2">&quot;User updated&quot;</span>
    <span class="n">DELETED_USER</span> <span class="o">=</span> <span class="s2">&quot;User deleted&quot;</span>

    <span class="c1"># Teams</span>
    <span class="n">CREATED_TEAM</span> <span class="o">=</span> <span class="s2">&quot;Team created&quot;</span>
    <span class="n">UPDATED_TEAM</span> <span class="o">=</span> <span class="s2">&quot;Team updated&quot;</span>
    <span class="n">DELETED_TEAM</span> <span class="o">=</span> <span class="s2">&quot;Team deleted&quot;</span>

    <span class="c1"># Projects</span>
    <span class="n">CREATED_PROJECT</span> <span class="o">=</span> <span class="s2">&quot;Project created&quot;</span>
    <span class="n">CREATED_DEFAULT_PROJECT</span> <span class="o">=</span> <span class="s2">&quot;Default project created&quot;</span>
    <span class="n">UPDATED_PROJECT</span> <span class="o">=</span> <span class="s2">&quot;Project updated&quot;</span>
    <span class="n">DELETED_PROJECT</span> <span class="o">=</span> <span class="s2">&quot;Project deleted&quot;</span>
    <span class="n">SET_PROJECT</span> <span class="o">=</span> <span class="s2">&quot;Project set&quot;</span>

    <span class="c1"># Role</span>
    <span class="n">CREATED_ROLE</span> <span class="o">=</span> <span class="s2">&quot;Role created&quot;</span>
    <span class="n">UPDATED_ROLE</span> <span class="o">=</span> <span class="s2">&quot;Role updated&quot;</span>
    <span class="n">DELETED_ROLE</span> <span class="o">=</span> <span class="s2">&quot;Role deleted&quot;</span>

    <span class="c1"># Flavor</span>
    <span class="n">CREATED_FLAVOR</span> <span class="o">=</span> <span class="s2">&quot;Flavor created&quot;</span>
    <span class="n">UPDATED_FLAVOR</span> <span class="o">=</span> <span class="s2">&quot;Flavor updated&quot;</span>
    <span class="n">DELETED_FLAVOR</span> <span class="o">=</span> <span class="s2">&quot;Flavor deleted&quot;</span>

    <span class="c1"># Test event</span>
    <span class="n">EVENT_TEST</span> <span class="o">=</span> <span class="s2">&quot;Test event&quot;</span>

    <span class="c1"># Stack recipes</span>
    <span class="n">PULL_STACK_RECIPE</span> <span class="o">=</span> <span class="s2">&quot;Stack recipes pulled&quot;</span>
    <span class="n">RUN_STACK_RECIPE</span> <span class="o">=</span> <span class="s2">&quot;Stack recipe created&quot;</span>
    <span class="n">DESTROY_STACK_RECIPE</span> <span class="o">=</span> <span class="s2">&quot;Stack recipe destroyed&quot;</span>

    <span class="c1"># ZenML server events</span>
    <span class="n">ZENML_SERVER_STARTED</span> <span class="o">=</span> <span class="s2">&quot;ZenML server started&quot;</span>
    <span class="n">ZENML_SERVER_STOPPED</span> <span class="o">=</span> <span class="s2">&quot;ZenML server stopped&quot;</span>
    <span class="n">ZENML_SERVER_CONNECTED</span> <span class="o">=</span> <span class="s2">&quot;ZenML server connected&quot;</span>
    <span class="n">ZENML_SERVER_DEPLOYED</span> <span class="o">=</span> <span class="s2">&quot;ZenML server deployed&quot;</span>
    <span class="n">ZENML_SERVER_DESTROYED</span> <span class="o">=</span> <span class="s2">&quot;ZenML server destroyed&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




































































  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.analytics_utils.AnalyticsGroup" class="doc doc-heading">
        <code>
AnalyticsGroup            (<span title="str">str</span>, <span title="enum.Enum">Enum</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Enum of event groups to track in segment.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AnalyticsGroup</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Enum of event groups to track in segment.&quot;&quot;&quot;</span>

    <span class="n">ZENML_SERVER_GROUP</span> <span class="o">=</span> <span class="s2">&quot;ZenML server group&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.analytics_utils.AnalyticsTrackedModelMixin" class="doc doc-heading">
        <code>
AnalyticsTrackedModelMixin            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Mixin for models that are tracked through analytics events.</p>
<p>Classes that have information tracked in analytics events can inherit
from this mixin and implement the abstract methods. The <code>@track</code> decorator
will detect function arguments and return values that inherit from this
class and will include the <code>ANALYTICS_FIELDS</code> attributes as
tracking metadata.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AnalyticsTrackedModelMixin</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Mixin for models that are tracked through analytics events.</span>

<span class="sd">    Classes that have information tracked in analytics events can inherit</span>
<span class="sd">    from this mixin and implement the abstract methods. The `@track` decorator</span>
<span class="sd">    will detect function arguments and return values that inherit from this</span>
<span class="sd">    class and will include the `ANALYTICS_FIELDS` attributes as</span>
<span class="sd">    tracking metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ANALYTICS_FIELDS</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>

    <span class="k">def</span> <span class="nf">get_analytics_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the analytics metadata for the model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dict of analytics metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ANALYTICS_FIELDS</span><span class="p">:</span>
            <span class="n">metadata</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">metadata</span>

    <span class="k">def</span> <span class="nf">track_event</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">event</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">AnalyticsEvent</span><span class="p">],</span>
        <span class="n">tracker</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AnalyticsTrackerMixin</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Track an event for the model.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: Event to track.</span>
<span class="sd">            tracker: Optional tracker to use for analytics.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_analytics_metadata</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">tracker</span><span class="p">:</span>
            <span class="n">tracker</span><span class="o">.</span><span class="n">track_event</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">track_event</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.analytics_utils.AnalyticsTrackedModelMixin.get_analytics_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_analytics_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the analytics metadata for the model.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Dict of analytics metadata.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_analytics_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get the analytics metadata for the model.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict of analytics metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ANALYTICS_FIELDS</span><span class="p">:</span>
        <span class="n">metadata</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">metadata</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.analytics_utils.AnalyticsTrackedModelMixin.track_event" class="doc doc-heading">
<code class="highlight language-python"><span class="n">track_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">tracker</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Track an event for the model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>event</code></td>
        <td><code>Union[str, zenml.utils.analytics_utils.AnalyticsEvent]</code></td>
        <td><p>Event to track.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>tracker</code></td>
        <td><code>Optional[zenml.utils.analytics_utils.AnalyticsTrackerMixin]</code></td>
        <td><p>Optional tracker to use for analytics.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">track_event</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">event</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">AnalyticsEvent</span><span class="p">],</span>
    <span class="n">tracker</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AnalyticsTrackerMixin</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Track an event for the model.</span>

<span class="sd">    Args:</span>
<span class="sd">        event: Event to track.</span>
<span class="sd">        tracker: Optional tracker to use for analytics.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_analytics_metadata</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">tracker</span><span class="p">:</span>
        <span class="n">tracker</span><span class="o">.</span><span class="n">track_event</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">track_event</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.analytics_utils.AnalyticsTrackerMixin" class="doc doc-heading">
        <code>
AnalyticsTrackerMixin            (<span title="abc.ABC">ABC</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Abstract base class for analytics trackers.</p>
<p>Use this as a mixin for classes that have methods decorated with
<code>@track</code> to add global control over how analytics are tracked. The decorator
will detect that the class has this mixin and will call the class
<code>track_event</code> method.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AnalyticsTrackerMixin</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Abstract base class for analytics trackers.</span>

<span class="sd">    Use this as a mixin for classes that have methods decorated with</span>
<span class="sd">    `@track` to add global control over how analytics are tracked. The decorator</span>
<span class="sd">    will detect that the class has this mixin and will call the class</span>
<span class="sd">    `track_event` method.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">track_event</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">event</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">AnalyticsEvent</span><span class="p">],</span>
        <span class="n">metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Track an event.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: Event to track.</span>
<span class="sd">            metadata: Metadata to track.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.analytics_utils.AnalyticsTrackerMixin.track_event" class="doc doc-heading">
<code class="highlight language-python"><span class="n">track_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Track an event.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>event</code></td>
        <td><code>Union[str, zenml.utils.analytics_utils.AnalyticsEvent]</code></td>
        <td><p>Event to track.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>metadata</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Metadata to track.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">track_event</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">event</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">AnalyticsEvent</span><span class="p">],</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Track an event.</span>

<span class="sd">    Args:</span>
<span class="sd">        event: Event to track.</span>
<span class="sd">        metadata: Metadata to track.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.analytics_utils.get_segment_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_segment_key</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get key for authorizing to Segment backend.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Segment key as a string.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_segment_key</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get key for authorizing to Segment backend.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Segment key as a string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">IS_DEBUG_ENV</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">SEGMENT_KEY_DEV</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">SEGMENT_KEY_PROD</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.analytics_utils.identify_group" class="doc doc-heading">
<code class="highlight language-python"><span class="n">identify_group</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">group_id</span><span class="p">,</span> <span class="n">group_metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Attach metadata to a segment group.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>group</code></td>
        <td><code>Union[str, zenml.utils.analytics_utils.AnalyticsGroup]</code></td>
        <td><p>Group to track.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>group_id</code></td>
        <td><code>str</code></td>
        <td><p>ID of the group.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>group_metadata</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Metadata to attach to the group.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if event is sent successfully, False is not.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">identify_group</span><span class="p">(</span>
    <span class="n">group</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">AnalyticsGroup</span><span class="p">],</span>
    <span class="n">group_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">group_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Attach metadata to a segment group.</span>

<span class="sd">    Args:</span>
<span class="sd">        group: Group to track.</span>
<span class="sd">        group_id: ID of the group.</span>
<span class="sd">        group_metadata: Metadata to attach to the group.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if event is sent successfully, False is not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">AnalyticsContext</span><span class="p">()</span> <span class="k">as</span> <span class="n">analytics</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">analytics</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">group_id</span><span class="p">,</span> <span class="n">traits</span><span class="o">=</span><span class="n">group_metadata</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.analytics_utils.identify_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">identify_user</span><span class="p">(</span><span class="n">user_metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Attach metadata to user directly.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_metadata</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Dict of metadata to attach to the user.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if event is sent successfully, False is not.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">identify_user</span><span class="p">(</span><span class="n">user_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Attach metadata to user directly.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_metadata: Dict of metadata to attach to the user.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if event is sent successfully, False is not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">AnalyticsContext</span><span class="p">()</span> <span class="k">as</span> <span class="n">analytics</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">user_metadata</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">analytics</span><span class="o">.</span><span class="n">identify</span><span class="p">(</span><span class="n">traits</span><span class="o">=</span><span class="n">user_metadata</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.analytics_utils.parametrized" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parametrized</span><span class="p">(</span><span class="n">dec</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>This is a meta-decorator, that is, a decorator for decorators.</p>
<p>As a decorator is a function, it actually works as a regular decorator
with arguments.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dec</code></td>
        <td><code>Callable[..., Callable[..., Any]]</code></td>
        <td><p>Decorator to be applied to the function.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Callable[..., Callable[[Callable[..., Any]], Callable[..., Any]]]</code></td>
      <td><p>Decorator that applies the given decorator to the function.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parametrized</span><span class="p">(</span>
    <span class="n">dec</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]:</span>
    <span class="sd">&quot;&quot;&quot;This is a meta-decorator, that is, a decorator for decorators.</span>

<span class="sd">    As a decorator is a function, it actually works as a regular decorator</span>
<span class="sd">    with arguments.</span>

<span class="sd">    Args:</span>
<span class="sd">        dec: Decorator to be applied to the function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Decorator that applies the given decorator to the function.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">layer</span><span class="p">(</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Internal layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Arguments to be passed to the decorator.</span>
<span class="sd">            **kwargs: Keyword arguments to be passed to the decorator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Decorator that applies the given decorator to the function.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">repl</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
            <span class="sd">&quot;&quot;&quot;Internal REPL.</span>

<span class="sd">            Args:</span>
<span class="sd">                f: Function to be decorated.</span>

<span class="sd">            Returns:</span>
<span class="sd">                Decorated function.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">dec</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">repl</span>

    <span class="k">return</span> <span class="n">layer</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.analytics_utils.track" class="doc doc-heading">
<code class="highlight language-python"><span class="n">track</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Internal layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Arguments to be passed to the decorator.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Keyword arguments to be passed to the decorator.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Callable[[Callable[..., Any]], Callable[..., Any]]</code></td>
      <td><p>Decorator that applies the given decorator to the function.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">layer</span><span class="p">(</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Internal layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: Arguments to be passed to the decorator.</span>
<span class="sd">        **kwargs: Keyword arguments to be passed to the decorator.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Decorator that applies the given decorator to the function.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">repl</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Internal REPL.</span>

<span class="sd">        Args:</span>
<span class="sd">            f: Function to be decorated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Decorated function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">dec</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">repl</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.analytics_utils.track_event" class="doc doc-heading">
<code class="highlight language-python"><span class="n">track_event</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Track segment event if user opted-in.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>event</code></td>
        <td><code>Union[str, zenml.utils.analytics_utils.AnalyticsEvent]</code></td>
        <td><p>Name of event to track in segment.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>metadata</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Dict of metadata to track.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if event is sent successfully, False is not.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">track_event</span><span class="p">(</span>
    <span class="n">event</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">AnalyticsEvent</span><span class="p">],</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Track segment event if user opted-in.</span>

<span class="sd">    Args:</span>
<span class="sd">        event: Name of event to track in segment.</span>
<span class="sd">        metadata: Dict of metadata to track.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if event is sent successfully, False is not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">AnalyticsContext</span><span class="p">()</span> <span class="k">as</span> <span class="n">analytics</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">analytics</span><span class="o">.</span><span class="n">track</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.daemon" class="doc doc-heading">
        <code>daemon</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions to start/stop daemon processes.</p>
<p>This is only implemented for UNIX systems and therefore doesn't work on
Windows. Based on
https://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.daemon.check_if_daemon_is_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_if_daemon_is_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Checks whether a daemon process indicated by the PID file is running.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pid_file</code></td>
        <td><code>str</code></td>
        <td><p>Path to file containing the PID of the daemon
process to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the daemon process is running, otherwise False.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/daemon.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_if_daemon_is_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks whether a daemon process indicated by the PID file is running.</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file: Path to file containing the PID of the daemon</span>
<span class="sd">            process to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the daemon process is running, otherwise False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_daemon_pid_if_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.daemon.daemonize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">daemonize</span><span class="p">(</span><span class="n">pid_file</span><span class="p">,</span> <span class="n">log_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">working_directory</span><span class="o">=</span><span class="s1">&#39;/&#39;</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Decorator that executes the decorated function as a daemon process.</p>
<p>Use this decorator to easily transform any function into a daemon
process.</p>

<p><strong>Examples:</strong></p>
    
      <pre><code class="language-python">import time
from zenml.utils.daemonizer import daemonize


@daemonize(log_file='/tmp/daemon.log', pid_file='/tmp/daemon.pid')
def sleeping_daemon(period: int) -&gt; None:
    print(f&quot;I'm a daemon! I will sleep for {period} seconds.&quot;)
    time.sleep(period)
    print(&quot;Done sleeping, flying away.&quot;)

sleeping_daemon(period=30)

print(&quot;I'm the daemon's parent!.&quot;)
time.sleep(10) # just to prove that the daemon is running in parallel
</code></pre>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pid_file</code></td>
        <td><code>str</code></td>
        <td><p>an optional file where the PID of the daemon process will
be stored.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>log_file</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>file where stdout and stderr are redirected for the daemon
process. If not supplied, the daemon will be silenced (i.e. have
its stdout/stderr redirected to /dev/null).</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>working_directory</code></td>
        <td><code>str</code></td>
        <td><p>working directory for the daemon process,
defaults to the root directory.</p></td>
        <td><code>&#39;/&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Callable[[~F], ~F]</code></td>
      <td><p>Decorated function that, when called, will detach from the current
process and continue executing in the background, as a daemon
process.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/daemon.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">daemonize</span><span class="p">(</span>
    <span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">working_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">F</span><span class="p">],</span> <span class="n">F</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Decorator that executes the decorated function as a daemon process.</span>

<span class="sd">    Use this decorator to easily transform any function into a daemon</span>
<span class="sd">    process.</span>

<span class="sd">    Example:</span>

<span class="sd">    ```python</span>
<span class="sd">    import time</span>
<span class="sd">    from zenml.utils.daemonizer import daemonize</span>


<span class="sd">    @daemonize(log_file=&#39;/tmp/daemon.log&#39;, pid_file=&#39;/tmp/daemon.pid&#39;)</span>
<span class="sd">    def sleeping_daemon(period: int) -&gt; None:</span>
<span class="sd">        print(f&quot;I&#39;m a daemon! I will sleep for {period} seconds.&quot;)</span>
<span class="sd">        time.sleep(period)</span>
<span class="sd">        print(&quot;Done sleeping, flying away.&quot;)</span>

<span class="sd">    sleeping_daemon(period=30)</span>

<span class="sd">    print(&quot;I&#39;m the daemon&#39;s parent!.&quot;)</span>
<span class="sd">    time.sleep(10) # just to prove that the daemon is running in parallel</span>
<span class="sd">    ```</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file: an optional file where the PID of the daemon process will</span>
<span class="sd">            be stored.</span>
<span class="sd">        log_file: file where stdout and stderr are redirected for the daemon</span>
<span class="sd">            process. If not supplied, the daemon will be silenced (i.e. have</span>
<span class="sd">            its stdout/stderr redirected to /dev/null).</span>
<span class="sd">        working_directory: working directory for the daemon process,</span>
<span class="sd">            defaults to the root directory.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Decorated function that, when called, will detach from the current</span>
<span class="sd">        process and continue executing in the background, as a daemon</span>
<span class="sd">        process.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">inner_decorator</span><span class="p">(</span><span class="n">_func</span><span class="p">:</span> <span class="n">F</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">F</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">daemon</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Standard daemonization of a process.</span>

<span class="sd">            Args:</span>
<span class="sd">                *args: Arguments to be passed to the decorated function.</span>
<span class="sd">                **kwargs: Keyword arguments to be passed to the decorated</span>
<span class="sd">                    function.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="c1"># flake8: noqa: C901</span>
            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Daemon functionality is currently not supported on Windows.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">run_as_daemon</span><span class="p">(</span>
                    <span class="n">_func</span><span class="p">,</span>
                    <span class="n">log_file</span><span class="o">=</span><span class="n">log_file</span><span class="p">,</span>
                    <span class="n">pid_file</span><span class="o">=</span><span class="n">pid_file</span><span class="p">,</span>
                    <span class="n">working_directory</span><span class="o">=</span><span class="n">working_directory</span><span class="p">,</span>
                    <span class="o">*</span><span class="n">args</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">daemon</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">inner_decorator</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.daemon.get_daemon_pid_if_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_daemon_pid_if_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Read and return the PID value from a PID file.</p>
<p>It does this if the daemon process tracked by the PID file is running.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pid_file</code></td>
        <td><code>str</code></td>
        <td><p>Path to file containing the PID of the daemon
process to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[int]</code></td>
      <td><p>The PID of the daemon process if it is running, otherwise None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/daemon.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_daemon_pid_if_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Read and return the PID value from a PID file.</span>

<span class="sd">    It does this if the daemon process tracked by the PID file is running.</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file: Path to file containing the PID of the daemon</span>
<span class="sd">            process to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The PID of the daemon process if it is running, otherwise None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pid_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">pid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">IOError</span><span class="p">,</span> <span class="ne">FileNotFoundError</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Daemon PID file &#39;</span><span class="si">{</span><span class="n">pid_file</span><span class="si">}</span><span class="s2">&#39; does not exist or cannot be read.&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">pid</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">psutil</span><span class="o">.</span><span class="n">pid_exists</span><span class="p">(</span><span class="n">pid</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Daemon with PID &#39;</span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s2">&#39; is no longer running.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Daemon with PID &#39;</span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s2">&#39; is running.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pid</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.daemon.run_as_daemon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_as_daemon</span><span class="p">(</span><span class="n">daemon_function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">pid_file</span><span class="p">,</span> <span class="n">log_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">working_directory</span><span class="o">=</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Runs a function as a daemon process.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>daemon_function</code></td>
        <td><code>~F</code></td>
        <td><p>The function to run as a daemon.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pid_file</code></td>
        <td><code>str</code></td>
        <td><p>Path to file in which to store the PID of the daemon
process.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>log_file</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional file to which the daemons stdout/stderr will be
redirected to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>working_directory</code></td>
        <td><code>str</code></td>
        <td><p>Working directory for the daemon process,
defaults to the root directory.</p></td>
        <td><code>&#39;/&#39;</code></td>
      </tr>
      <tr>
        <td><code>args</code></td>
        <td><code>Any</code></td>
        <td><p>Positional arguments to pass to the daemon function.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Keyword arguments to pass to the daemon function.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileExistsError</code></td>
        <td><p>If the PID file already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/daemon.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_as_daemon</span><span class="p">(</span>
    <span class="n">daemon_function</span><span class="p">:</span> <span class="n">F</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">working_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Runs a function as a daemon process.</span>

<span class="sd">    Args:</span>
<span class="sd">        daemon_function: The function to run as a daemon.</span>
<span class="sd">        pid_file: Path to file in which to store the PID of the daemon</span>
<span class="sd">            process.</span>
<span class="sd">        log_file: Optional file to which the daemons stdout/stderr will be</span>
<span class="sd">            redirected to.</span>
<span class="sd">        working_directory: Working directory for the daemon process,</span>
<span class="sd">            defaults to the root directory.</span>
<span class="sd">        args: Positional arguments to pass to the daemon function.</span>
<span class="sd">        kwargs: Keyword arguments to pass to the daemon function.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileExistsError: If the PID file already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># convert to absolute path as we will change working directory later</span>
    <span class="k">if</span> <span class="n">pid_file</span><span class="p">:</span>
        <span class="n">pid_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">log_file</span><span class="p">:</span>
        <span class="n">log_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">log_file</span><span class="p">)</span>

    <span class="c1"># create parent directory if necessary</span>
    <span class="n">dir_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dir_name</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">dir_name</span><span class="p">)</span>

    <span class="c1"># check if PID file exists</span>
    <span class="k">if</span> <span class="n">pid_file</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">pid_file</span><span class="p">):</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">get_daemon_pid_if_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pid</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The PID file &#39;</span><span class="si">{</span><span class="n">pid_file</span><span class="si">}</span><span class="s2">&#39; already exists and a daemon &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;process with the same PID &#39;</span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s2">&#39; is already running.&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Please remove the PID file or kill the daemon process &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;before starting a new daemon.&quot;</span>
            <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Removing left over PID file &#39;</span><span class="si">{</span><span class="n">pid_file</span><span class="si">}</span><span class="s2">&#39; from a previous &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;daemon process that didn&#39;t shut down correctly.&quot;</span>
        <span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>

    <span class="c1"># first fork</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">fork</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pid</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># this is the process that called `run_as_daemon` so we</span>
            <span class="c1"># simply return so it can keep running</span>
            <span class="k">return</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to fork (error code: </span><span class="si">%d</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">errno</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># decouple from parent environment</span>
    <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">working_directory</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">setsid</span><span class="p">()</span>
    <span class="n">os</span><span class="o">.</span><span class="n">umask</span><span class="p">(</span><span class="mo">0o22</span><span class="p">)</span>

    <span class="c1"># second fork</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">fork</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pid</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># this is the parent of the future daemon process, kill it</span>
            <span class="c1"># so the daemon gets adopted by the init process</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to fork (error code: </span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">errno</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># redirect standard file descriptors to devnull (or the given logfile)</span>
    <span class="n">devnull</span> <span class="o">=</span> <span class="s2">&quot;/dev/null&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">os</span><span class="p">,</span> <span class="s2">&quot;devnull&quot;</span><span class="p">):</span>
        <span class="n">devnull</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">devnull</span>

    <span class="n">devnull_fd</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">devnull</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">O_RDWR</span><span class="p">)</span>
    <span class="n">log_fd</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">log_file</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">O_CREAT</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">O_RDWR</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">O_APPEND</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">log_file</span>
        <span class="k">else</span> <span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">out_fd</span> <span class="o">=</span> <span class="n">log_fd</span> <span class="ow">or</span> <span class="n">devnull_fd</span>

    <span class="n">os</span><span class="o">.</span><span class="n">dup2</span><span class="p">(</span><span class="n">devnull_fd</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">fileno</span><span class="p">())</span>
    <span class="n">os</span><span class="o">.</span><span class="n">dup2</span><span class="p">(</span><span class="n">out_fd</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">fileno</span><span class="p">())</span>
    <span class="n">os</span><span class="o">.</span><span class="n">dup2</span><span class="p">(</span><span class="n">out_fd</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">fileno</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">pid_file</span><span class="p">:</span>
        <span class="c1"># write the PID file</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pid_file</span><span class="p">,</span> <span class="s2">&quot;w+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># register actions in case this process exits/gets killed</span>
    <span class="k">def</span> <span class="nf">cleanup</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Daemon cleanup.&quot;&quot;&quot;</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Cleanup: terminating children processes...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">terminate_children</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pid_file</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">pid_file</span><span class="p">):</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cleanup: removing PID file </span><span class="si">{</span><span class="n">pid_file</span><span class="si">}</span><span class="s2">...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">sighndl</span><span class="p">(</span><span class="n">signum</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">types</span><span class="o">.</span><span class="n">FrameType</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Daemon signal handler.</span>

<span class="sd">        Args:</span>
<span class="sd">            signum: Signal number.</span>
<span class="sd">            frame: Frame object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Handling signal </span><span class="si">{</span><span class="n">signum</span><span class="si">}</span><span class="s2">...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">cleanup</span><span class="p">()</span>

    <span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGTERM</span><span class="p">,</span> <span class="n">sighndl</span><span class="p">)</span>
    <span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGINT</span><span class="p">,</span> <span class="n">sighndl</span><span class="p">)</span>
    <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">cleanup</span><span class="p">)</span>

    <span class="c1"># finally run the actual daemon code</span>
    <span class="n">daemon_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.daemon.stop_daemon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop_daemon</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Stops a daemon process.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pid_file</code></td>
        <td><code>str</code></td>
        <td><p>Path to file containing the PID of the daemon process to
kill.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/daemon.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop_daemon</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Stops a daemon process.</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file: Path to file containing the PID of the daemon process to</span>
<span class="sd">            kill.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pid_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">pid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">IOError</span><span class="p">,</span> <span class="ne">FileNotFoundError</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Daemon PID file &#39;</span><span class="si">%s</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">,</span> <span class="n">pid_file</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="n">psutil</span><span class="o">.</span><span class="n">pid_exists</span><span class="p">(</span><span class="n">pid</span><span class="p">):</span>
        <span class="n">process</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
        <span class="n">process</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;PID from &#39;</span><span class="si">%s</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">,</span> <span class="n">pid_file</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.daemon.terminate_children" class="doc doc-heading">
<code class="highlight language-python"><span class="n">terminate_children</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Terminate all processes that are children of the currently running process.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/daemon.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">terminate_children</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Terminate all processes that are children of the currently running process.&quot;&quot;&quot;</span>
    <span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Error</span><span class="p">:</span>
        <span class="c1"># could not find parent process id</span>
        <span class="k">return</span>
    <span class="n">children</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Terminating child process with PID </span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2">...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">p</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">alive</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">wait_procs</span><span class="p">(</span>
        <span class="n">children</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">CHILD_PROCESS_WAIT_TIMEOUT</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">alive</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Killing child process with PID </span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2">...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">p</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">alive</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">wait_procs</span><span class="p">(</span>
        <span class="n">children</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">CHILD_PROCESS_WAIT_TIMEOUT</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.dashboard_utils" class="doc doc-heading">
        <code>dashboard_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility class to help with interacting with the dashboard.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.dashboard_utils.get_run_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_url</span><span class="p">(</span><span class="n">run_name</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Computes a dashboard url to directly view the run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the pipeline run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>Optional pipeline_id, to be sent when available.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A direct url link to the pipeline run details page. If run does not exist,
returns None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/dashboard_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_url</span><span class="p">(</span>
    <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Computes a dashboard url to directly view the run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_name: Name of the pipeline run.</span>
<span class="sd">        pipeline_id: Optional pipeline_id, to be sent when available.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A direct url link to the pipeline run details page. If run does not exist,</span>
<span class="sd">        returns None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>

    <span class="c1"># Connected to ZenML Server</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

    <span class="c1"># Get the runs from the zen_store</span>
    <span class="n">runs</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">list_runs</span><span class="p">(</span><span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">)</span>

    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="c1"># We should only do the log if runs exist</span>
    <span class="k">if</span> <span class="n">runs</span> <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
        <span class="c1"># For now, take the first index to get the latest run</span>
        <span class="n">run</span> <span class="o">=</span> <span class="n">runs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">url</span>
        <span class="c1"># Add this for unlisted runs</span>
        <span class="k">if</span> <span class="n">pipeline_id</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;/pipelines/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">pipeline_id</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">url</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;/runs/</span><span class="si">{</span><span class="n">run</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">/dag&quot;</span>
    <span class="k">return</span> <span class="n">url</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.dashboard_utils.print_run_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">print_run_url</span><span class="p">(</span><span class="n">run_name</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Logs a dashboard url to directly view the run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the pipeline run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>Optional pipeline_id, to be sent when available.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/dashboard_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">print_run_url</span><span class="p">(</span><span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Logs a dashboard url to directly view the run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_name: Name of the pipeline run.</span>
<span class="sd">        pipeline_id: Optional pipeline_id, to be sent when available.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">get_run_url</span><span class="p">(</span>
            <span class="n">run_name</span><span class="p">,</span>
            <span class="n">pipeline_id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">url</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dashboard URL: </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">SQL</span><span class="p">:</span>
        <span class="c1"># Connected to SQL Store Type, we&#39;re local</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Pipeline visualization can be seen in the ZenML Dashboard. &quot;</span>
            <span class="s2">&quot;Run `zenml up` to see your pipeline!&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.deprecation_utils" class="doc doc-heading">
        <code>deprecation_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Deprecation utilities.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.deprecation_utils.deprecate_pydantic_attributes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deprecate_pydantic_attributes</span><span class="p">(</span><span class="o">*</span><span class="n">attributes</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Utility function for deprecating and migrating pydantic attributes.</p>
<p><strong>Usage</strong>:
To use this, you can specify it on any pydantic BaseModel subclass like
this (all the deprecated attributes need to be non-required):</p>
<pre><code class="language-python">from pydantic import BaseModel
from typing import Optional

class MyModel(BaseModel):
    deprecated: Optional[int] = None

    old_name: Optional[str] = None
    new_name: str

    _deprecation_validator = deprecate_pydantic_attributes(
        &quot;deprecated&quot;, (&quot;old_name&quot;, &quot;new_name&quot;)
    )
</code></pre>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*attributes</code></td>
        <td><code>Union[str, Tuple[str, str]]</code></td>
        <td><p>List of attributes to deprecate. This is either the name
of the attribute to deprecate, or a tuple containing the name of
the deprecated attribute and it's replacement.</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AnyClassMethod</code></td>
      <td><p>Pydantic validator class method to be used on BaseModel subclasses
to deprecate or migrate attributes.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/deprecation_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deprecate_pydantic_attributes</span><span class="p">(</span>
    <span class="o">*</span><span class="n">attributes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AnyClassMethod&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Utility function for deprecating and migrating pydantic attributes.</span>

<span class="sd">    **Usage**:</span>
<span class="sd">    To use this, you can specify it on any pydantic BaseModel subclass like</span>
<span class="sd">    this (all the deprecated attributes need to be non-required):</span>

<span class="sd">    ```python</span>
<span class="sd">    from pydantic import BaseModel</span>
<span class="sd">    from typing import Optional</span>

<span class="sd">    class MyModel(BaseModel):</span>
<span class="sd">        deprecated: Optional[int] = None</span>

<span class="sd">        old_name: Optional[str] = None</span>
<span class="sd">        new_name: str</span>

<span class="sd">        _deprecation_validator = deprecate_pydantic_attributes(</span>
<span class="sd">            &quot;deprecated&quot;, (&quot;old_name&quot;, &quot;new_name&quot;)</span>
<span class="sd">        )</span>
<span class="sd">    ```</span>

<span class="sd">    Args:</span>
<span class="sd">        *attributes: List of attributes to deprecate. This is either the name</span>
<span class="sd">            of the attribute to deprecate, or a tuple containing the name of</span>
<span class="sd">            the deprecated attribute and it&#39;s replacement.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Pydantic validator class method to be used on BaseModel subclasses</span>
<span class="sd">        to deprecate or migrate attributes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">allow_reuse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_deprecation_validator</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">],</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Pydantic validator function for deprecating pydantic attributes.</span>

<span class="sd">        Args:</span>
<span class="sd">            cls: The class on which the attributes are defined.</span>
<span class="sd">            values: All values passed at model initialization.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AssertionError: If either the deprecated or replacement attribute</span>
<span class="sd">                don&#39;t exist.</span>
<span class="sd">            TypeError: If the deprecated attribute is a required attribute.</span>
<span class="sd">            ValueError: If the deprecated attribute and replacement attribute</span>
<span class="sd">                contain different values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Input values with potentially migrated values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">previous_deprecation_warnings</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span> <span class="n">PREVIOUS_DEPRECATION_WARNINGS_ATTRIBUTE</span><span class="p">,</span> <span class="nb">set</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="k">def</span> <span class="nf">_warn</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attribute</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Logs and raises a warning for a deprecated attribute.</span>

<span class="sd">            Args:</span>
<span class="sd">                message: The warning message.</span>
<span class="sd">                attribute: The name of the attribute.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="n">attribute</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">previous_deprecation_warnings</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
                <span class="n">previous_deprecation_warnings</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">attribute</span><span class="p">)</span>

            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="n">message</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">deprecated_attribute</span> <span class="o">=</span> <span class="n">attribute</span>
                <span class="n">replacement_attribute</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">deprecated_attribute</span><span class="p">,</span> <span class="n">replacement_attribute</span> <span class="o">=</span> <span class="n">attribute</span>

                <span class="k">assert</span> <span class="p">(</span>
                    <span class="n">replacement_attribute</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__fields__</span>
                <span class="p">),</span> <span class="sa">f</span><span class="s2">&quot;Unable to find attribute </span><span class="si">{</span><span class="n">replacement_attribute</span><span class="si">}</span><span class="s2">.&quot;</span>

            <span class="k">assert</span> <span class="p">(</span>
                <span class="n">deprecated_attribute</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__fields__</span>
            <span class="p">),</span> <span class="sa">f</span><span class="s2">&quot;Unable to find attribute </span><span class="si">{</span><span class="n">deprecated_attribute</span><span class="si">}</span><span class="s2">.&quot;</span>

            <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__fields__</span><span class="p">[</span><span class="n">deprecated_attribute</span><span class="p">]</span><span class="o">.</span><span class="n">required</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to deprecate attribute &#39;</span><span class="si">{</span><span class="n">deprecated_attribute</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;of class </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">. In order to deprecate an &quot;</span>
                    <span class="s2">&quot;attribute, it needs to be a non-required attribute. &quot;</span>
                    <span class="s2">&quot;To do so, mark the attribute with an `Optional[...] type &quot;</span>
                    <span class="s2">&quot;annotation.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">deprecated_attribute</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">replacement_attribute</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">_warn</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;The attribute `</span><span class="si">{</span><span class="n">deprecated_attribute</span><span class="si">}</span><span class="s2">` of class &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` will be deprecated soon.&quot;</span><span class="p">,</span>
                    <span class="n">attribute</span><span class="o">=</span><span class="n">deprecated_attribute</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">continue</span>

            <span class="n">_warn</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;The attribute `</span><span class="si">{</span><span class="n">deprecated_attribute</span><span class="si">}</span><span class="s2">` of class &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` will be deprecated soon. Use the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;attribute `</span><span class="si">{</span><span class="n">replacement_attribute</span><span class="si">}</span><span class="s2">` instead.&quot;</span><span class="p">,</span>
                <span class="n">attribute</span><span class="o">=</span><span class="n">deprecated_attribute</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">replacement_attribute</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;Migrating value of deprecated attribute </span><span class="si">%s</span><span class="s2"> to &quot;</span>
                    <span class="s2">&quot;replacement attribute </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
                    <span class="n">deprecated_attribute</span><span class="p">,</span>
                    <span class="n">replacement_attribute</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">values</span><span class="p">[</span><span class="n">replacement_attribute</span><span class="p">]</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">deprecated_attribute</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">values</span><span class="p">[</span><span class="n">deprecated_attribute</span><span class="p">]</span> <span class="o">!=</span> <span class="n">values</span><span class="p">[</span><span class="n">replacement_attribute</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Got different values for deprecated attribute &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">deprecated_attribute</span><span class="si">}</span><span class="s2"> and replacement &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;attribute </span><span class="si">{</span><span class="n">replacement_attribute</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Both values are identical, no need to do anything</span>
                <span class="k">pass</span>

        <span class="nb">setattr</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">PREVIOUS_DEPRECATION_WARNINGS_ATTRIBUTE</span><span class="p">,</span>
            <span class="n">previous_deprecation_warnings</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">values</span>

    <span class="k">return</span> <span class="n">_deprecation_validator</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.dict_utils" class="doc doc-heading">
        <code>dict_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Util functions for dictionaries.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.dict_utils.recursive_update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">recursive_update</span><span class="p">(</span><span class="n">original</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Recursively updates a dictionary.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>original</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>The dictionary to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>update</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>The dictionary containing the updated values.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If the value types of original and update don't match.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>The updated dictionary.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/dict_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">recursive_update</span><span class="p">(</span>
    <span class="n">original</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">update</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Recursively updates a dictionary.</span>

<span class="sd">    Args:</span>
<span class="sd">        original: The dictionary to update.</span>
<span class="sd">        update: The dictionary containing the updated values.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If the value types of original and update don&#39;t match.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">update</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Dict</span><span class="p">):</span>
            <span class="n">original_value</span> <span class="o">=</span> <span class="n">original</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">original_value</span><span class="p">,</span> <span class="n">Dict</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Type of dictionary values for key </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> does not match &quot;</span>
                    <span class="s2">&quot;in original and update dict (original=&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">original_value</span><span class="p">)</span><span class="si">}</span><span class="s2">, update=</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">).&quot;</span>
                <span class="p">)</span>

            <span class="n">original</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">recursive_update</span><span class="p">(</span><span class="n">original_value</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">original</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">original</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.dict_utils.remove_none_values" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_none_values</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Removes all key-value pairs with <code>None</code> value.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dict_</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>The dict from which the key-value pairs should be removed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>recursive</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, will recursively remove <code>None</code> values in all
child dicts.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>The updated dictionary.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/dict_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove_none_values</span><span class="p">(</span>
    <span class="n">dict_</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">recursive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Removes all key-value pairs with `None` value.</span>

<span class="sd">    Args:</span>
<span class="sd">        dict_: The dict from which the key-value pairs should be removed.</span>
<span class="sd">        recursive: If `True`, will recursively remove `None` values in all</span>
<span class="sd">            child dicts.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_maybe_recurse</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Calls `remove_none_values` recursively if required.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: A dictionary value.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated dictionary value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">recursive</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Dict</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">remove_none_values</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

    <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">_maybe_recurse</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">dict_</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.docker_utils" class="doc doc-heading">
        <code>docker_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions relating to Docker.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.docker_utils.build_image" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">,</span> <span class="n">dockerfile</span><span class="p">,</span> <span class="n">build_context_root</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dockerignore</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra_files</span><span class="o">=</span><span class="p">(),</span> <span class="o">**</span><span class="n">custom_build_options</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Builds a docker image.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>image_name</code></td>
        <td><code>str</code></td>
        <td><p>The name to use for the built docker image.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dockerfile</code></td>
        <td><code>Union[str, List[str]]</code></td>
        <td><p>Path to a dockerfile or a list of strings representing the
Dockerfile lines/commands.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>build_context_root</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional path to a directory that will be sent to
the Docker daemon as build context. If left empty, the Docker build
context will be empty.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>dockerignore</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional path to a dockerignore file. If no value is
given, the .dockerignore in the root of the build context will be
used if it exists. Otherwise, all files inside <code>build_context_root</code>
are included in the build context.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>extra_files</code></td>
        <td><code>Sequence[Tuple[str, str]]</code></td>
        <td><p>Additional files to include in the build context. The
files should be passed as a tuple
(filepath_inside_build_context, file_content) and will overwrite
existing files in the build context if they share the same path.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**custom_build_options</code></td>
        <td><code>Any</code></td>
        <td><p>Additional options that will be passed
unmodified to the Docker build call when building the image. You
can use this to for example specify build args or a target stage.
See https://docker-py.readthedocs.io/en/stable/images.html#docker.models.images.ImageCollection.build
for a full list of available options.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/docker_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_image</span><span class="p">(</span>
    <span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">dockerfile</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">build_context_root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dockerignore</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra_files</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="o">**</span><span class="n">custom_build_options</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Builds a docker image.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_name: The name to use for the built docker image.</span>
<span class="sd">        dockerfile: Path to a dockerfile or a list of strings representing the</span>
<span class="sd">            Dockerfile lines/commands.</span>
<span class="sd">        build_context_root: Optional path to a directory that will be sent to</span>
<span class="sd">            the Docker daemon as build context. If left empty, the Docker build</span>
<span class="sd">            context will be empty.</span>
<span class="sd">        dockerignore: Optional path to a dockerignore file. If no value is</span>
<span class="sd">            given, the .dockerignore in the root of the build context will be</span>
<span class="sd">            used if it exists. Otherwise, all files inside `build_context_root`</span>
<span class="sd">            are included in the build context.</span>
<span class="sd">        extra_files: Additional files to include in the build context. The</span>
<span class="sd">            files should be passed as a tuple</span>
<span class="sd">            (filepath_inside_build_context, file_content) and will overwrite</span>
<span class="sd">            existing files in the build context if they share the same path.</span>
<span class="sd">        **custom_build_options: Additional options that will be passed</span>
<span class="sd">            unmodified to the Docker build call when building the image. You</span>
<span class="sd">            can use this to for example specify build args or a target stage.</span>
<span class="sd">            See https://docker-py.readthedocs.io/en/stable/images.html#docker.models.images.ImageCollection.build</span>
<span class="sd">            for a full list of available options.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dockerfile</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">dockerfile_contents</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">dockerfile</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Using Dockerfile `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">dockerfile</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">dockerfile_contents</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dockerfile</span><span class="p">)</span>

    <span class="n">build_context</span> <span class="o">=</span> <span class="n">_create_custom_build_context</span><span class="p">(</span>
        <span class="n">dockerfile_contents</span><span class="o">=</span><span class="n">dockerfile_contents</span><span class="p">,</span>
        <span class="n">build_context_root</span><span class="o">=</span><span class="n">build_context_root</span><span class="p">,</span>
        <span class="n">dockerignore</span><span class="o">=</span><span class="n">dockerignore</span><span class="p">,</span>
        <span class="n">extra_files</span><span class="o">=</span><span class="n">extra_files</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">build_options</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;rm&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>  <span class="c1"># don&#39;t remove intermediate containers to improve caching</span>
        <span class="s2">&quot;pull&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>  <span class="c1"># always pull parent images</span>
        <span class="o">**</span><span class="n">custom_build_options</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Building Docker image `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">image_name</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Docker build options: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">build_options</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Building the image might take a while...&quot;</span><span class="p">)</span>

    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">DockerClient</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
    <span class="c1"># We use the client api directly here, so we can stream the logs</span>
    <span class="n">output_stream</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">build</span><span class="p">(</span>
        <span class="n">fileobj</span><span class="o">=</span><span class="n">build_context</span><span class="p">,</span>
        <span class="n">custom_context</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">tag</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
        <span class="o">**</span><span class="n">build_options</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">_process_stream</span><span class="p">(</span><span class="n">output_stream</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished building Docker image `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">image_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.docker_utils.get_image_digest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets the digest of an image.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>image_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the image to get the digest for.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>Returns the repo digest for the given image if there exists exactly one.
If there are zero or multiple repo digests, returns <code>None</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/docker_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Gets the digest of an image.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_name: Name of the image to get the digest for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Returns the repo digest for the given image if there exists exactly one.</span>
<span class="sd">        If there are zero or multiple repo digests, returns `None`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">DockerClient</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>
    <span class="n">repo_digests</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;RepoDigests&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">repo_digests</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">repo_digests</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Found zero or more repo digests for docker image &#39;</span><span class="si">%s</span><span class="s2">&#39;: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">image_name</span><span class="p">,</span>
            <span class="n">repo_digests</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.docker_utils.is_local_image" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_local_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns whether an image was pulled from a registry or not.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>image_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the image to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the image was pulled from a registry, <code>False</code> otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/docker_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_local_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns whether an image was pulled from a registry or not.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_name: Name of the image to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the image was pulled from a registry, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">DockerClient</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
    <span class="n">images</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">image_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">images</span><span class="p">:</span>
        <span class="c1"># An image with this name is available locally -&gt; now check whether it</span>
        <span class="c1"># was pulled from a repo or built locally (in which case the repo</span>
        <span class="c1"># digest is empty)</span>
        <span class="k">return</span> <span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># no image with this name found locally</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.docker_utils.push_image" class="doc doc-heading">
<code class="highlight language-python"><span class="n">push_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Pushes an image to a container registry.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>image_name</code></td>
        <td><code>str</code></td>
        <td><p>The full name (including a tag) of the image to push.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The Docker repository digest of the pushed image.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If fetching the repository digest of the image failed.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/docker_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">push_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pushes an image to a container registry.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_name: The full name (including a tag) of the image to push.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Docker repository digest of the pushed image.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If fetching the repository digest of the image failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Pushing Docker image `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">image_name</span><span class="p">)</span>
    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">DockerClient</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
    <span class="n">output_stream</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">image_name</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">aux_info</span> <span class="o">=</span> <span class="n">_process_stream</span><span class="p">(</span><span class="n">output_stream</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished pushing Docker image.&quot;</span><span class="p">)</span>

    <span class="n">image_name_without_tag</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">image_name</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">aux_info</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">repo_digest</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s2">&quot;Digest&quot;</span><span class="p">]</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">image_name_without_tag</span><span class="si">}</span><span class="s2">@</span><span class="si">{</span><span class="n">repo_digest</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to find repo digest after pushing image </span><span class="si">{</span><span class="n">image_name</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.docker_utils.tag_image" class="doc doc-heading">
<code class="highlight language-python"><span class="n">tag_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Tags an image.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>image_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the image to tag.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>target</code></td>
        <td><code>str</code></td>
        <td><p>The full target name including a tag.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/docker_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">tag_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Tags an image.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_name: The name of the image to tag.</span>
<span class="sd">        target: The full target name including a tag.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">DockerClient</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>
    <span class="n">image</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.enum_utils" class="doc doc-heading">
        <code>enum_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Util functions for enums.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.enum_utils.StrEnum" class="doc doc-heading">
        <code>
StrEnum            (<span title="str">str</span>, <span title="enum.Enum">Enum</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Base enum type for string enum values.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/enum_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StrEnum</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base enum type for string enum values.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the enum string value.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The enum string value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">names</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get all enum names as a list of strings.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all enum names.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">cls</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get all enum values as a list of strings.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all enum values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">cls</span><span class="p">]</span>
</code></pre></div>
        </details>


    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.filesync_model" class="doc doc-heading">
        <code>filesync_model</code>



</h3>

    <div class="doc doc-contents ">

      <p>Filesync utils for ZenML.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.filesync_model.FileSyncModel" class="doc doc-heading">
        <code>
FileSyncModel            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Pydantic model synchronized with a configuration file.</p>
<p>Use this class as a base Pydantic model that is automatically synchronized
with a configuration file on disk.</p>
<p>This class overrides the <strong>setattr</strong> and <strong>getattr</strong> magic methods to
ensure that the FileSyncModel instance acts as an in-memory cache of the
information stored in the associated configuration file.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileSyncModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Pydantic model synchronized with a configuration file.</span>

<span class="sd">    Use this class as a base Pydantic model that is automatically synchronized</span>
<span class="sd">    with a configuration file on disk.</span>

<span class="sd">    This class overrides the __setattr__ and __getattr__ magic methods to</span>
<span class="sd">    ensure that the FileSyncModel instance acts as an in-memory cache of the</span>
<span class="sd">    information stored in the associated configuration file.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_config_file</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">_config_file_timestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a FileSyncModel instance synchronized with a configuration file on disk.</span>

<span class="sd">        Args:</span>
<span class="sd">            config_file: configuration file path. If the file exists, the model</span>
<span class="sd">                will be initialized with the values from the file.</span>
<span class="sd">            **kwargs: additional keyword arguments to pass to the Pydantic model</span>
<span class="sd">                constructor. If supplied, these values will override those</span>
<span class="sd">                loaded from the configuration file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">config_file</span><span class="p">):</span>
            <span class="n">config_dict</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span> <span class="o">=</span> <span class="n">config_file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">config_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">config_dict</span><span class="p">)</span>

        <span class="c1"># write the configuration file to disk, to reflect new attributes</span>
        <span class="c1"># and schema changes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_config</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Sets an attribute on the model and persists it in the configuration file.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: attribute name.</span>
<span class="sd">            value: attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_config</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets an attribute value for a specific key.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: attribute name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            attribute value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load_config</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes the model to the configuration file.&quot;&quot;&quot;</span>
        <span class="n">config_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
        <span class="n">yaml_utils</span><span class="o">.</span><span class="n">write_yaml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">,</span> <span class="n">config_dict</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Loads the model from the configuration file on disk.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="c1"># don&#39;t reload the configuration if the file hasn&#39;t</span>
        <span class="c1"># been updated since the last load</span>
        <span class="n">file_timestamp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">file_timestamp</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reloading configuration file </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># refresh the model from the configuration file values</span>
        <span class="n">config_dict</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">config_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="n">file_timestamp</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># all attributes with leading underscore are private and therefore</span>
        <span class="c1"># are mutable and not included in serialization</span>
        <span class="n">underscore_attrs_are_private</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.utils.filesync_model.FileSyncModel.Config" class="doc doc-heading">
        <code>
Config        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># all attributes with leading underscore are private and therefore</span>
    <span class="c1"># are mutable and not included in serialization</span>
    <span class="n">underscore_attrs_are_private</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.filesync_model.FileSyncModel.__getattribute__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Gets an attribute value for a specific key.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>key</code></td>
        <td><code>str</code></td>
        <td><p>attribute name.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>attribute value.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets an attribute value for a specific key.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: attribute name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        attribute value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_config</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.filesync_model.FileSyncModel.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Create a FileSyncModel instance synchronized with a configuration file on disk.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config_file</code></td>
        <td><code>str</code></td>
        <td><p>configuration file path. If the file exists, the model
will be initialized with the values from the file.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>additional keyword arguments to pass to the Pydantic model
constructor. If supplied, these values will override those
loaded from the configuration file.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a FileSyncModel instance synchronized with a configuration file on disk.</span>

<span class="sd">    Args:</span>
<span class="sd">        config_file: configuration file path. If the file exists, the model</span>
<span class="sd">            will be initialized with the values from the file.</span>
<span class="sd">        **kwargs: additional keyword arguments to pass to the Pydantic model</span>
<span class="sd">            constructor. If supplied, these values will override those</span>
<span class="sd">            loaded from the configuration file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">config_file</span><span class="p">):</span>
        <span class="n">config_dict</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span> <span class="o">=</span> <span class="n">config_file</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">config_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">config_dict</span><span class="p">)</span>

    <span class="c1"># write the configuration file to disk, to reflect new attributes</span>
    <span class="c1"># and schema changes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write_config</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.filesync_model.FileSyncModel.__setattr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Sets an attribute on the model and persists it in the configuration file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>key</code></td>
        <td><code>str</code></td>
        <td><p>attribute name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>attribute value.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Sets an attribute on the model and persists it in the configuration file.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: attribute name.</span>
<span class="sd">        value: attribute value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">):</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write_config</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.filesync_model.FileSyncModel.load_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Loads the model from the configuration file on disk.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Loads the model from the configuration file on disk.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">):</span>
        <span class="k">return</span>

    <span class="c1"># don&#39;t reload the configuration if the file hasn&#39;t</span>
    <span class="c1"># been updated since the last load</span>
    <span class="n">file_timestamp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">file_timestamp</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reloading configuration file </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># refresh the model from the configuration file values</span>
    <span class="n">config_dict</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">config_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="n">file_timestamp</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.filesync_model.FileSyncModel.write_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Writes the model to the configuration file.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes the model to the configuration file.&quot;&quot;&quot;</span>
    <span class="n">config_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
    <span class="n">yaml_utils</span><span class="o">.</span><span class="n">write_yaml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">,</span> <span class="n">config_dict</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.io_utils" class="doc doc-heading">
        <code>io_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Various utility functions for the io module.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.convert_to_str" class="doc doc-heading">
<code class="highlight language-python"><span class="n">convert_to_str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Converts a PathType to a str using UTF-8.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>Path to convert.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Converted path.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">convert_to_str</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Converts a PathType to a str using UTF-8.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Path to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Converted path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">path</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">path</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.copy_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">copy_dir</span><span class="p">(</span><span class="n">source_dir</span><span class="p">,</span> <span class="n">destination_dir</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Copies dir from source to destination.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source_dir</code></td>
        <td><code>str</code></td>
        <td><p>Path to copy from.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>destination_dir</code></td>
        <td><code>str</code></td>
        <td><p>Path to copy to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>overwrite</code></td>
        <td><code>bool</code></td>
        <td><p>Boolean. If false, function throws an error before overwrite.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">copy_dir</span><span class="p">(</span>
    <span class="n">source_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Copies dir from source to destination.</span>

<span class="sd">    Args:</span>
<span class="sd">        source_dir: Path to copy from.</span>
<span class="sd">        destination_dir: Path to copy to.</span>
<span class="sd">        overwrite: Boolean. If false, function throws an error before overwrite.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">source_file</span> <span class="ow">in</span> <span class="n">listdir</span><span class="p">(</span><span class="n">source_dir</span><span class="p">):</span>
        <span class="n">source_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">source_dir</span><span class="p">,</span> <span class="n">convert_to_str</span><span class="p">(</span><span class="n">source_file</span><span class="p">))</span>
        <span class="n">destination_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">destination_dir</span><span class="p">,</span> <span class="n">convert_to_str</span><span class="p">(</span><span class="n">source_file</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">isdir</span><span class="p">(</span><span class="n">source_path</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">source_path</span> <span class="o">==</span> <span class="n">destination_dir</span><span class="p">:</span>
                <span class="c1"># if the destination is a subdirectory of the source, we skip</span>
                <span class="c1"># copying it to avoid an infinite loop.</span>
                <span class="k">return</span>
            <span class="n">copy_dir</span><span class="p">(</span><span class="n">source_path</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">destination_path</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">copy</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">source_path</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">destination_path</span><span class="p">),</span> <span class="n">overwrite</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.create_dir_if_not_exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_dir_if_not_exists</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Creates directory if it does not exist.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dir_path</code></td>
        <td><code>str</code></td>
        <td><p>Local path in filesystem.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_dir_if_not_exists</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates directory if it does not exist.</span>

<span class="sd">    Args:</span>
<span class="sd">        dir_path: Local path in filesystem.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">isdir</span><span class="p">(</span><span class="n">dir_path</span><span class="p">):</span>
        <span class="n">mkdir</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.create_dir_recursive_if_not_exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Creates directory recursively if it does not exist.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dir_path</code></td>
        <td><code>str</code></td>
        <td><p>Local path in filesystem.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates directory recursively if it does not exist.</span>

<span class="sd">    Args:</span>
<span class="sd">        dir_path: Local path in filesystem.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">isdir</span><span class="p">(</span><span class="n">dir_path</span><span class="p">):</span>
        <span class="n">makedirs</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.create_file_if_not_exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_file_if_not_exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">file_contents</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Creates file if it does not exist.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Local path in filesystem.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>file_contents</code></td>
        <td><code>str</code></td>
        <td><p>Contents of file.</p></td>
        <td><code>&#39;{}&#39;</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_file_if_not_exists</span><span class="p">(</span>
    <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_contents</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates file if it does not exist.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Local path in filesystem.</span>
<span class="sd">        file_contents: Contents of file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">full_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">full_path</span><span class="o">.</span><span class="n">parent</span><span class="p">))</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">full_path</span><span class="p">),</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file_contents</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.find_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_files</span><span class="p">(</span><span class="n">dir_path</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Find files in a directory that match pattern.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dir_path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>Path to directory.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pattern</code></td>
        <td><code>str</code></td>
        <td><p>pattern like *.png.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Yields:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterable[str]</code></td>
      <td><p>All matching filenames if found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_files</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Find files in a directory that match pattern.</span>

<span class="sd">    Args:</span>
<span class="sd">        dir_path: Path to directory.</span>
<span class="sd">        pattern: pattern like *.png.</span>

<span class="sd">    Yields:</span>
<span class="sd">        All matching filenames if found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">walk</span><span class="p">(</span><span class="n">dir_path</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">basename</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">fnmatch</span><span class="o">.</span><span class="n">fnmatch</span><span class="p">(</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">basename</span><span class="p">),</span> <span class="n">pattern</span><span class="p">):</span>
                <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="n">convert_to_str</span><span class="p">(</span><span class="n">root</span><span class="p">),</span> <span class="n">convert_to_str</span><span class="p">(</span><span class="n">basename</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="k">yield</span> <span class="n">filename</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.get_global_config_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_global_config_directory</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets the global config directory for ZenML.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The global config directory for ZenML.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_global_config_directory</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets the global config directory for ZenML.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The global config directory for ZenML.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">env_var_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">env_var_path</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">env_var_path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">click</span><span class="o">.</span><span class="n">get_app_dir</span><span class="p">(</span><span class="n">APP_NAME</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.get_grandparent" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_grandparent</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get grandparent of dir.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dir_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to directory.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The input path's parent's parent.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_grandparent</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get grandparent of dir.</span>

<span class="sd">    Args:</span>
<span class="sd">        dir_path: Path to directory.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The input path&#39;s parent&#39;s parent.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">stem</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.get_parent" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_parent</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get parent of dir.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dir_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to directory.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Parent (stem) of the dir as a string.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_parent</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get parent of dir.</span>

<span class="sd">    Args:</span>
<span class="sd">        dir_path: Path to directory.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Parent (stem) of the dir as a string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">stem</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.is_remote" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_remote</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns True if path exists remotely.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>Any path as a string.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if remote path, else False.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_remote</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns True if path exists remotely.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Any path as a string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if remote path, else False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="n">REMOTE_FS_PREFIX</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.is_root" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_root</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns true if path has no parent in local filesystem.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>Local path in filesystem.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if root, else False.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_root</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns true if path has no parent in local filesystem.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Local path in filesystem.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if root, else False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">==</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.read_file_contents_as_string" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Reads contents of file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Contents of file.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileNotFoundError</code></td>
        <td><p>If file does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads contents of file.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Contents of file.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: If file does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2"> does not exist!&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.resolve_relative_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resolve_relative_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Takes relative path and resolves it absolutely.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>Local path in filesystem.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Resolved path.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">resolve_relative_path</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Takes relative path and resolves it absolutely.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Local path in filesystem.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Resolved path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">is_remote</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">path</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.io_utils.write_file_contents_as_string" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Writes contents of file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to file.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>content</code></td>
        <td><code>str</code></td>
        <td><p>Contents of file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/io_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes contents of file.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to file.</span>
<span class="sd">        content: Contents of file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.materializer_utils" class="doc doc-heading">
        <code>materializer_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Util functions for models and materializers.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.materializer_utils.load_model_from_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_model_from_metadata</span><span class="p">(</span><span class="n">model_uri</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Load a zenml model artifact from a json file.</p>
<p>This function is used to load information from a Yaml file that was created
by the save_model_metadata function. The information in the Yaml file is
used to load the model into memory in the inference environment.</p>
<p>model_uri: the URI of the model checkpoint/files to load.
datatype: the model type. This is the path to the model class.
materializer: the materializer class. This is the path to the materializer class.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_uri</code></td>
        <td><code>str</code></td>
        <td><p>the artifact to extract the metadata from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The ML model object loaded into memory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/materializer_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_model_from_metadata</span><span class="p">(</span><span class="n">model_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Load a zenml model artifact from a json file.</span>

<span class="sd">    This function is used to load information from a Yaml file that was created</span>
<span class="sd">    by the save_model_metadata function. The information in the Yaml file is</span>
<span class="sd">    used to load the model into memory in the inference environment.</span>

<span class="sd">    model_uri: the URI of the model checkpoint/files to load.</span>
<span class="sd">    datatype: the model type. This is the path to the model class.</span>
<span class="sd">    materializer: the materializer class. This is the path to the materializer class.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_uri: the artifact to extract the metadata from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ML model object loaded into memory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">model_uri</span><span class="p">,</span> <span class="n">MODEL_METADATA_YAML_FILE_NAME</span><span class="p">),</span> <span class="s2">&quot;r&quot;</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">read_yaml</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">model_artifact</span> <span class="o">=</span> <span class="n">Artifact</span><span class="p">()</span>
    <span class="n">model_artifact</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="n">model_uri</span>
    <span class="n">model_artifact</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="n">METADATA_DATATYPE</span><span class="p">]</span><span class="o">.</span><span class="n">string_value</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span>
        <span class="n">METADATA_DATATYPE</span>
    <span class="p">]</span>
    <span class="n">model_artifact</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="n">METADATA_MATERIALIZER</span><span class="p">]</span><span class="o">.</span><span class="n">string_value</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span>
        <span class="n">METADATA_MATERIALIZER</span>
    <span class="p">]</span>
    <span class="n">materializer_class</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">load_source_path_class</span><span class="p">(</span>
        <span class="n">model_artifact</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="n">METADATA_MATERIALIZER</span><span class="p">]</span><span class="o">.</span><span class="n">string_value</span>
    <span class="p">)</span>
    <span class="n">model_class</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">load_source_path_class</span><span class="p">(</span>
        <span class="n">model_artifact</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="n">METADATA_DATATYPE</span><span class="p">]</span><span class="o">.</span><span class="n">string_value</span>
    <span class="p">)</span>
    <span class="n">materializer_object</span><span class="p">:</span> <span class="n">BaseMaterializer</span> <span class="o">=</span> <span class="n">materializer_class</span><span class="p">(</span><span class="n">model_artifact</span><span class="p">)</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">materializer_object</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">model_class</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">torch.nn</span> <span class="k">as</span> <span class="nn">nn</span>

        <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">model_class</span><span class="p">,</span> <span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
            <span class="n">model</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Model loaded successfully :</span><span class="se">\n</span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.materializer_utils.save_model_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save_model_metadata</span><span class="p">(</span><span class="n">model_artifact</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Save a zenml model artifact metadata to a YAML file.</p>
<p>This function is used to extract and save information from a zenml model artifact
such as the model type and materializer. The extracted information will be
the key to loading the model into memory in the inference environment.</p>
<p>datatype: the model type. This is the path to the model class.
materializer: the materializer class. This is the path to the materializer class.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_artifact</code></td>
        <td><code>ArtifactModel</code></td>
        <td><p>the artifact to extract the metadata from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The path to the temporary file where the model metadata is saved</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/materializer_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save_model_metadata</span><span class="p">(</span><span class="n">model_artifact</span><span class="p">:</span> <span class="n">ArtifactModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Save a zenml model artifact metadata to a YAML file.</span>

<span class="sd">    This function is used to extract and save information from a zenml model artifact</span>
<span class="sd">    such as the model type and materializer. The extracted information will be</span>
<span class="sd">    the key to loading the model into memory in the inference environment.</span>

<span class="sd">    datatype: the model type. This is the path to the model class.</span>
<span class="sd">    materializer: the materializer class. This is the path to the materializer class.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_artifact: the artifact to extract the metadata from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The path to the temporary file where the model metadata is saved</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">metadata</span><span class="p">[</span><span class="n">METADATA_DATATYPE</span><span class="p">]</span> <span class="o">=</span> <span class="n">model_artifact</span><span class="o">.</span><span class="n">data_type</span>
    <span class="n">metadata</span><span class="p">[</span><span class="n">METADATA_MATERIALIZER</span><span class="p">]</span> <span class="o">=</span> <span class="n">model_artifact</span><span class="o">.</span><span class="n">materializer</span>

    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span>
        <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.yaml&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">write_yaml</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">name</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.networking_utils" class="doc doc-heading">
        <code>networking_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions for networking.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.networking_utils.find_available_port" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_available_port</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Finds a local random unoccupied TCP port.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>A random unoccupied TCP port.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/networking_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_available_port</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Finds a local random unoccupied TCP port.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A random unoccupied TCP port.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
        <span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">getsockname</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.networking_utils.port_available" class="doc doc-heading">
<code class="highlight language-python"><span class="n">port_available</span><span class="p">(</span><span class="n">port</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Checks if a local port is available.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>TCP port number</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>address</code></td>
        <td><code>str</code></td>
        <td><p>IP address on the local machine</p></td>
        <td><code>&#39;127.0.0.1&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the port is available, otherwise False</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/networking_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">port_available</span><span class="p">(</span><span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks if a local port is available.</span>

<span class="sd">    Args:</span>
<span class="sd">        port: TCP port number</span>
<span class="sd">        address: IP address on the local machine</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the port is available, otherwise False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
            <span class="n">s</span><span class="o">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">SOL_SOCKET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SO_REUSEADDR</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">s</span><span class="o">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">SOL_SOCKET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SO_REUSEPORT</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="n">address</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
    <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Port </span><span class="si">%d</span><span class="s2"> unavailable on </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.networking_utils.port_is_open" class="doc doc-heading">
<code class="highlight language-python"><span class="n">port_is_open</span><span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Check if a TCP port is open on a remote host.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>hostname</code></td>
        <td><code>str</code></td>
        <td><p>hostname of the remote machine</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>TCP port number</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the port is open, False otherwise</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/networking_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">port_is_open</span><span class="p">(</span><span class="n">hostname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check if a TCP port is open on a remote host.</span>

<span class="sd">    Args:</span>
<span class="sd">        hostname: hostname of the remote machine</span>
<span class="sd">        port: TCP port number</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the port is open, False otherwise</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">sock</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">connect_ex</span><span class="p">((</span><span class="n">hostname</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">result</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error checking TCP port </span><span class="si">{</span><span class="n">port</span><span class="si">}</span><span class="s2"> on host </span><span class="si">{</span><span class="n">hostname</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.networking_utils.scan_for_available_port" class="doc doc-heading">
<code class="highlight language-python"><span class="n">scan_for_available_port</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">8000</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">65535</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Scan the local network for an available port in the given range.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>start</code></td>
        <td><code>int</code></td>
        <td><p>the beginning of the port range value to scan</p></td>
        <td><code>8000</code></td>
      </tr>
      <tr>
        <td><code>stop</code></td>
        <td><code>int</code></td>
        <td><p>the (inclusive) end of the port range value to scan</p></td>
        <td><code>65535</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[int]</code></td>
      <td><p>The first available port in the given range, or None if no available
port is found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/networking_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">scan_for_available_port</span><span class="p">(</span>
    <span class="n">start</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">SCAN_PORT_RANGE</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stop</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">SCAN_PORT_RANGE</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Scan the local network for an available port in the given range.</span>

<span class="sd">    Args:</span>
<span class="sd">        start: the beginning of the port range value to scan</span>
<span class="sd">        stop: the (inclusive) end of the port range value to scan</span>

<span class="sd">    Returns:</span>
<span class="sd">        The first available port in the given range, or None if no available</span>
<span class="sd">        port is found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">port</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">port_available</span><span class="p">(</span><span class="n">port</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">port</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;No free TCP ports found in the range </span><span class="si">%d</span><span class="s2"> - </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">start</span><span class="p">,</span>
        <span class="n">stop</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.pipeline_docker_image_builder" class="doc doc-heading">
        <code>pipeline_docker_image_builder</code>



</h3>

    <div class="doc doc-contents ">

      <p>Implementation of Docker image builds to run ZenML pipelines.</p>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder" class="doc doc-heading">
        <code>
PipelineDockerImageBuilder        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Builds Docker images to run a ZenML pipeline.</p>
<p><strong>Usage</strong>:</p>
<pre><code class="language-python">class MyStackComponent(StackComponent, PipelineDockerImageBuilder):
    def method_that_requires_docker_image(self):
        image_identifier = self.build_and_push_docker_image(...)
        # use the image ID
</code></pre>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/pipeline_docker_image_builder.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineDockerImageBuilder</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Builds Docker images to run a ZenML pipeline.</span>

<span class="sd">    **Usage**:</span>
<span class="sd">    ```python</span>
<span class="sd">    class MyStackComponent(StackComponent, PipelineDockerImageBuilder):</span>
<span class="sd">        def method_that_requires_docker_image(self):</span>
<span class="sd">            image_identifier = self.build_and_push_docker_image(...)</span>
<span class="sd">            # use the image ID</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">build_and_push_docker_image</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">entrypoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Builds and pushes a Docker image to run a pipeline.</span>

<span class="sd">        Use the image name returned by this method whenever you need to uniquely</span>
<span class="sd">        reference the pushed image in order to pull or run it.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The pipeline deployment for which the image should be</span>
<span class="sd">                built.</span>
<span class="sd">            stack: The stack on which the pipeline will be deployed.</span>
<span class="sd">            entrypoint: Entrypoint to use for the final image. If left empty,</span>
<span class="sd">                no entrypoint will be included in the image.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Docker repository digest of the pushed image.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the stack doesn&#39;t contain a container registry.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">container_registry</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">container_registry</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Unable to build and push Docker image because stack &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` has no container registry.&quot;</span>
            <span class="p">)</span>

        <span class="n">target_image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_target_image_name</span><span class="p">(</span>
            <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span> <span class="n">container_registry</span><span class="o">=</span><span class="n">container_registry</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
            <span class="n">target_image_name</span><span class="o">=</span><span class="n">target_image_name</span><span class="p">,</span>
            <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span>
            <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="o">=</span><span class="n">entrypoint</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">repo_digest</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">push_image</span><span class="p">(</span><span class="n">target_image_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">repo_digest</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_target_image_name</span><span class="p">(</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
        <span class="n">container_registry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseContainerRegistry&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the target image name.</span>

<span class="sd">        If a container registry is given, the image name will include the</span>
<span class="sd">        registry URI</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The pipeline deployment for which the target image name</span>
<span class="sd">                should be returned.</span>
<span class="sd">            container_registry: Optional container registry to which this</span>
<span class="sd">                image will be pushed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The docker image name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span>
        <span class="n">docker_settings</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">docker_settings</span> <span class="ow">or</span> <span class="n">DockerSettings</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="n">target_image_name</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">target_repository</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">container_registry</span><span class="p">:</span>
            <span class="n">target_image_name</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">uri</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">target_image_name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">target_image_name</span>

    <span class="k">def</span> <span class="nf">build_docker_image</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">target_image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">entrypoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Builds a Docker image to run a pipeline.</span>

<span class="sd">        Args:</span>
<span class="sd">            target_image_name: The name of the image to build.</span>
<span class="sd">            deployment: The pipeline deployment for which the image should be</span>
<span class="sd">                built.</span>
<span class="sd">            stack: The stack on which the pipeline will be deployed.</span>
<span class="sd">            entrypoint: Entrypoint to use for the final image. If left empty,</span>
<span class="sd">                no entrypoint will be included in the image.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If no Dockerfile and/or custom parent image is</span>
<span class="sd">                specified and the Docker configuration doesn&#39;t require an</span>
<span class="sd">                image build.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span>
        <span class="n">docker_settings</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">docker_settings</span> <span class="ow">or</span> <span class="n">DockerSettings</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Building Docker image(s) for pipeline `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">pipeline_name</span>
        <span class="p">)</span>
        <span class="n">requires_zenml_build</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">docker_settings</span><span class="o">.</span><span class="n">requirements</span><span class="p">,</span>
                <span class="n">docker_settings</span><span class="o">.</span><span class="n">required_integrations</span><span class="p">,</span>
                <span class="n">docker_settings</span><span class="o">.</span><span class="n">replicate_local_python_environment</span><span class="p">,</span>
                <span class="n">docker_settings</span><span class="o">.</span><span class="n">install_stack_requirements</span><span class="p">,</span>
                <span class="n">docker_settings</span><span class="o">.</span><span class="n">environment</span><span class="p">,</span>
                <span class="n">docker_settings</span><span class="o">.</span><span class="n">copy_files</span><span class="p">,</span>
                <span class="n">docker_settings</span><span class="o">.</span><span class="n">copy_global_config</span><span class="p">,</span>
                <span class="n">entrypoint</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">)</span>

        <span class="c1"># Fallback to the value defined on the stack component if the</span>
        <span class="c1"># pipeline configuration doesn&#39;t have a configured value</span>
        <span class="n">parent_image</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">parent_image</span> <span class="ow">or</span> <span class="n">DEFAULT_DOCKER_PARENT_IMAGE</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">dockerfile</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">parent_image</span> <span class="o">!=</span> <span class="n">DEFAULT_DOCKER_PARENT_IMAGE</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;You&#39;ve specified both a Dockerfile and a custom parent &quot;</span>
                    <span class="s2">&quot;image, ignoring the parent image.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">requires_zenml_build</span><span class="p">:</span>
                <span class="c1"># We will build an additional image on top of this one later</span>
                <span class="c1"># to include user files and/or install requirements. The image</span>
                <span class="c1"># we build now will be used as the parent for the next build.</span>
                <span class="n">user_image_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;zenml-intermediate-build:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">parent_image</span> <span class="o">=</span> <span class="n">user_image_name</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># The image we&#39;ll build from the custom Dockerfile will be</span>
                <span class="c1"># used directly, so we tag it with the requested target name.</span>
                <span class="n">user_image_name</span> <span class="o">=</span> <span class="n">target_image_name</span>

            <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_image</span><span class="p">(</span>
                <span class="n">image_name</span><span class="o">=</span><span class="n">user_image_name</span><span class="p">,</span>
                <span class="n">dockerfile</span><span class="o">=</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">dockerfile</span><span class="p">,</span>
                <span class="n">build_context_root</span><span class="o">=</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">build_context_root</span><span class="p">,</span>
                <span class="o">**</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">build_options</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">requires_zenml_build</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">parent_image</span> <span class="o">==</span> <span class="n">DEFAULT_DOCKER_PARENT_IMAGE</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Unable to run a ZenML pipeline with the given Docker &quot;</span>
                    <span class="s2">&quot;configuration: No Dockerfile or custom parent image &quot;</span>
                    <span class="s2">&quot;specified and no files will be copied or requirements &quot;</span>
                    <span class="s2">&quot;installed.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># The parent image will be used directly to run the pipeline and</span>
                <span class="c1"># needs to be tagged so it gets pushed later</span>
                <span class="n">docker_utils</span><span class="o">.</span><span class="n">tag_image</span><span class="p">(</span><span class="n">parent_image</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target_image_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">requires_zenml_build</span><span class="p">:</span>
            <span class="n">requirement_files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gather_requirements_files</span><span class="p">(</span>
                <span class="n">docker_settings</span><span class="o">=</span><span class="n">docker_settings</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="n">stack</span>
            <span class="p">)</span>
            <span class="n">requirements_file_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">requirement_files</span><span class="p">]</span>

            <span class="n">dockerfile</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_zenml_pipeline_dockerfile</span><span class="p">(</span>
                <span class="n">parent_image</span><span class="o">=</span><span class="n">parent_image</span><span class="p">,</span>
                <span class="n">docker_settings</span><span class="o">=</span><span class="n">docker_settings</span><span class="p">,</span>
                <span class="n">requirements_files</span><span class="o">=</span><span class="n">requirements_file_names</span><span class="p">,</span>
                <span class="n">entrypoint</span><span class="o">=</span><span class="n">entrypoint</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">parent_image</span> <span class="o">==</span> <span class="n">DEFAULT_DOCKER_PARENT_IMAGE</span><span class="p">:</span>
                <span class="c1"># The default parent image is static and doesn&#39;t require a pull</span>
                <span class="c1"># each time</span>
                <span class="n">pull_parent_image</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># If the image is local, we don&#39;t need to pull it. Otherwise</span>
                <span class="c1"># we play it safe and always pull in case the user pushed a new</span>
                <span class="c1"># image for the given name and tag</span>
                <span class="n">pull_parent_image</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">is_local_image</span><span class="p">(</span>
                    <span class="n">parent_image</span>
                <span class="p">)</span>

            <span class="n">extra_files</span> <span class="o">=</span> <span class="n">requirement_files</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">extra_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">(</span><span class="n">DOCKER_IMAGE_DEPLOYMENT_CONFIG_FILE</span><span class="p">,</span> <span class="n">deployment</span><span class="o">.</span><span class="n">yaml</span><span class="p">())</span>
            <span class="p">)</span>

            <span class="c1"># Leave the build context empty if we don&#39;t want to copy any files</span>
            <span class="n">requires_build_context</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">docker_settings</span><span class="o">.</span><span class="n">copy_files</span> <span class="ow">or</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">copy_global_config</span>
            <span class="p">)</span>
            <span class="n">build_context_root</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">source_utils</span><span class="o">.</span><span class="n">get_source_root_path</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">requires_build_context</span>
                <span class="k">else</span> <span class="kc">None</span>
            <span class="p">)</span>
            <span class="n">maybe_include_global_config</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">_include_global_config</span><span class="p">(</span><span class="n">build_context_root</span><span class="o">=</span><span class="n">build_context_root</span><span class="p">)</span>  <span class="c1"># type: ignore[arg-type]</span>
                <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">copy_global_config</span>
                <span class="k">else</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">nullcontext</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="k">with</span> <span class="n">maybe_include_global_config</span><span class="p">:</span>
                <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_image</span><span class="p">(</span>
                    <span class="n">image_name</span><span class="o">=</span><span class="n">target_image_name</span><span class="p">,</span>
                    <span class="n">dockerfile</span><span class="o">=</span><span class="n">dockerfile</span><span class="p">,</span>
                    <span class="n">build_context_root</span><span class="o">=</span><span class="n">build_context_root</span><span class="p">,</span>
                    <span class="n">dockerignore</span><span class="o">=</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">dockerignore</span><span class="p">,</span>
                    <span class="n">extra_files</span><span class="o">=</span><span class="n">extra_files</span><span class="p">,</span>
                    <span class="n">pull</span><span class="o">=</span><span class="n">pull_parent_image</span><span class="p">,</span>
                <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_gather_requirements_files</span><span class="p">(</span>
        <span class="n">docker_settings</span><span class="p">:</span> <span class="n">DockerSettings</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Gathers and/or generates pip requirements files.</span>

<span class="sd">        Args:</span>
<span class="sd">            docker_settings: Docker settings that specifies which</span>
<span class="sd">                requirements to install.</span>
<span class="sd">            stack: The stack on which the pipeline will run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the command to export the local python packages</span>
<span class="sd">                failed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of tuples (filename, file_content) of all requirements files.</span>
<span class="sd">            The files will be in the following order:</span>
<span class="sd">            - Packages installed in the local Python environment</span>
<span class="sd">            - User-defined requirements</span>
<span class="sd">            - Requirements defined by user-defined and/or stack integrations</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requirements_files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Gathering requirements for Docker build:&quot;</span><span class="p">)</span>

        <span class="c1"># Generate requirements file for the local environment if configured</span>
        <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">replicate_local_python_environment</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">local_requirements</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span>
                    <span class="n">docker_settings</span><span class="o">.</span><span class="n">replicate_local_python_environment</span><span class="o">.</span><span class="n">command</span><span class="p">,</span>
                    <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;Unable to export local python packages.&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

            <span class="n">requirements_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">(</span><span class="s2">&quot;.zenml_local_requirements&quot;</span><span class="p">,</span> <span class="n">local_requirements</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">- Including python packages from local environment&quot;</span><span class="p">)</span>

        <span class="c1"># Generate/Read requirements file for user-defined requirements</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">requirements</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">user_requirements</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">read_file_contents_as_string</span><span class="p">(</span>
                <span class="n">docker_settings</span><span class="o">.</span><span class="n">requirements</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">- Including user-defined requirements from file `</span><span class="si">%s</span><span class="s2">`&quot;</span><span class="p">,</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">requirements</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">requirements</span><span class="p">,</span> <span class="n">List</span><span class="p">):</span>
            <span class="n">user_requirements</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">requirements</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">- Including user-defined requirements: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">r</span><span class="si">}</span><span class="s2">`&quot;</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">requirements</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">user_requirements</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">user_requirements</span><span class="p">:</span>
            <span class="n">requirements_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">(</span><span class="s2">&quot;.zenml_user_requirements&quot;</span><span class="p">,</span> <span class="n">user_requirements</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="c1"># Generate requirements file for all required integrations</span>
        <span class="n">integration_requirements</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
            <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
                <span class="n">integration_registry</span><span class="o">.</span><span class="n">select_integration_requirements</span><span class="p">(</span>
                    <span class="n">integration</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">integration</span> <span class="ow">in</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">required_integrations</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">install_stack_requirements</span><span class="p">:</span>
            <span class="n">integration_requirements</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">stack</span><span class="o">.</span><span class="n">requirements</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">integration_requirements</span><span class="p">:</span>
            <span class="n">integration_requirements_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">integration_requirements</span><span class="p">)</span>
            <span class="n">integration_requirements_file</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">integration_requirements_list</span>
            <span class="p">)</span>
            <span class="n">requirements_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">(</span>
                    <span class="s2">&quot;.zenml_integration_requirements&quot;</span><span class="p">,</span>
                    <span class="n">integration_requirements_file</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">- Including integration requirements: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">r</span><span class="si">}</span><span class="s2">`&quot;</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">integration_requirements_list</span><span class="p">),</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">requirements_files</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_generate_zenml_pipeline_dockerfile</span><span class="p">(</span>
        <span class="n">parent_image</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">docker_settings</span><span class="p">:</span> <span class="n">DockerSettings</span><span class="p">,</span>
        <span class="n">requirements_files</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="n">entrypoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Generates a Dockerfile.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent_image: The image to use as parent for the Dockerfile.</span>
<span class="sd">            docker_settings: Docker settings for this image build.</span>
<span class="sd">            requirements_files: Paths of requirements files to install.</span>
<span class="sd">            entrypoint: The default entrypoint command that gets executed when</span>
<span class="sd">                running a container of an image created by this Dockerfile.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Lines of the generated Dockerfile.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;FROM </span><span class="si">{</span><span class="n">parent_image</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;WORKDIR </span><span class="si">{</span><span class="n">DOCKER_IMAGE_WORKDIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">user</span><span class="p">:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;USER </span><span class="si">{</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">user</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">copy_global_config</span><span class="p">:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;ENV </span><span class="si">{</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">DOCKER_IMAGE_ZENML_CONFIG_PATH</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">environment</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ENV </span><span class="si">{</span><span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">requirements_files</span><span class="p">:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;COPY </span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2"> .&quot;</span><span class="p">)</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;RUN pip install --no-cache-dir -r </span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">copy_files</span><span class="p">:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;COPY . .&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">copy_global_config</span><span class="p">:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;COPY </span><span class="si">{</span><span class="n">DOCKER_IMAGE_ZENML_CONFIG_DIR</span><span class="si">}</span><span class="s2"> .&quot;</span><span class="p">)</span>

        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;RUN chmod -R a+rw .&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">entrypoint</span><span class="p">:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ENTRYPOINT </span><span class="si">{</span><span class="n">entrypoint</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">lines</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder.build_and_push_docker_image" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_and_push_docker_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">entrypoint</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Builds and pushes a Docker image to run a pipeline.</p>
<p>Use the image name returned by this method whenever you need to uniquely
reference the pushed image in order to pull or run it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeployment</code></td>
        <td><p>The pipeline deployment for which the image should be
built.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack on which the pipeline will be deployed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>entrypoint</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Entrypoint to use for the final image. If left empty,
no entrypoint will be included in the image.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The Docker repository digest of the pushed image.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the stack doesn't contain a container registry.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/pipeline_docker_image_builder.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_and_push_docker_image</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">entrypoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Builds and pushes a Docker image to run a pipeline.</span>

<span class="sd">    Use the image name returned by this method whenever you need to uniquely</span>
<span class="sd">    reference the pushed image in order to pull or run it.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: The pipeline deployment for which the image should be</span>
<span class="sd">            built.</span>
<span class="sd">        stack: The stack on which the pipeline will be deployed.</span>
<span class="sd">        entrypoint: Entrypoint to use for the final image. If left empty,</span>
<span class="sd">            no entrypoint will be included in the image.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Docker repository digest of the pushed image.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the stack doesn&#39;t contain a container registry.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">container_registry</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">container_registry</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Unable to build and push Docker image because stack &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` has no container registry.&quot;</span>
        <span class="p">)</span>

    <span class="n">target_image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_target_image_name</span><span class="p">(</span>
        <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span> <span class="n">container_registry</span><span class="o">=</span><span class="n">container_registry</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
        <span class="n">target_image_name</span><span class="o">=</span><span class="n">target_image_name</span><span class="p">,</span>
        <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span>
        <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span>
        <span class="n">entrypoint</span><span class="o">=</span><span class="n">entrypoint</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">repo_digest</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">push_image</span><span class="p">(</span><span class="n">target_image_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">repo_digest</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder.build_docker_image" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_docker_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_image_name</span><span class="p">,</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">entrypoint</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Builds a Docker image to run a pipeline.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>target_image_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the image to build.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeployment</code></td>
        <td><p>The pipeline deployment for which the image should be
built.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack on which the pipeline will be deployed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>entrypoint</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Entrypoint to use for the final image. If left empty,
no entrypoint will be included in the image.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If no Dockerfile and/or custom parent image is
specified and the Docker configuration doesn't require an
image build.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/pipeline_docker_image_builder.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_docker_image</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">target_image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">entrypoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Builds a Docker image to run a pipeline.</span>

<span class="sd">    Args:</span>
<span class="sd">        target_image_name: The name of the image to build.</span>
<span class="sd">        deployment: The pipeline deployment for which the image should be</span>
<span class="sd">            built.</span>
<span class="sd">        stack: The stack on which the pipeline will be deployed.</span>
<span class="sd">        entrypoint: Entrypoint to use for the final image. If left empty,</span>
<span class="sd">            no entrypoint will be included in the image.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If no Dockerfile and/or custom parent image is</span>
<span class="sd">            specified and the Docker configuration doesn&#39;t require an</span>
<span class="sd">            image build.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span>
    <span class="n">docker_settings</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">docker_settings</span> <span class="ow">or</span> <span class="n">DockerSettings</span><span class="p">()</span>
    <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Building Docker image(s) for pipeline `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">pipeline_name</span>
    <span class="p">)</span>
    <span class="n">requires_zenml_build</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">requirements</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">required_integrations</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">replicate_local_python_environment</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">install_stack_requirements</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">environment</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">copy_files</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">copy_global_config</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># Fallback to the value defined on the stack component if the</span>
    <span class="c1"># pipeline configuration doesn&#39;t have a configured value</span>
    <span class="n">parent_image</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">docker_settings</span><span class="o">.</span><span class="n">parent_image</span> <span class="ow">or</span> <span class="n">DEFAULT_DOCKER_PARENT_IMAGE</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">dockerfile</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parent_image</span> <span class="o">!=</span> <span class="n">DEFAULT_DOCKER_PARENT_IMAGE</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;You&#39;ve specified both a Dockerfile and a custom parent &quot;</span>
                <span class="s2">&quot;image, ignoring the parent image.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">requires_zenml_build</span><span class="p">:</span>
            <span class="c1"># We will build an additional image on top of this one later</span>
            <span class="c1"># to include user files and/or install requirements. The image</span>
            <span class="c1"># we build now will be used as the parent for the next build.</span>
            <span class="n">user_image_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;zenml-intermediate-build:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">parent_image</span> <span class="o">=</span> <span class="n">user_image_name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># The image we&#39;ll build from the custom Dockerfile will be</span>
            <span class="c1"># used directly, so we tag it with the requested target name.</span>
            <span class="n">user_image_name</span> <span class="o">=</span> <span class="n">target_image_name</span>

        <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_image</span><span class="p">(</span>
            <span class="n">image_name</span><span class="o">=</span><span class="n">user_image_name</span><span class="p">,</span>
            <span class="n">dockerfile</span><span class="o">=</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">dockerfile</span><span class="p">,</span>
            <span class="n">build_context_root</span><span class="o">=</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">build_context_root</span><span class="p">,</span>
            <span class="o">**</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">build_options</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="n">requires_zenml_build</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parent_image</span> <span class="o">==</span> <span class="n">DEFAULT_DOCKER_PARENT_IMAGE</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Unable to run a ZenML pipeline with the given Docker &quot;</span>
                <span class="s2">&quot;configuration: No Dockerfile or custom parent image &quot;</span>
                <span class="s2">&quot;specified and no files will be copied or requirements &quot;</span>
                <span class="s2">&quot;installed.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># The parent image will be used directly to run the pipeline and</span>
            <span class="c1"># needs to be tagged so it gets pushed later</span>
            <span class="n">docker_utils</span><span class="o">.</span><span class="n">tag_image</span><span class="p">(</span><span class="n">parent_image</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target_image_name</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">requires_zenml_build</span><span class="p">:</span>
        <span class="n">requirement_files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gather_requirements_files</span><span class="p">(</span>
            <span class="n">docker_settings</span><span class="o">=</span><span class="n">docker_settings</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="n">stack</span>
        <span class="p">)</span>
        <span class="n">requirements_file_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">requirement_files</span><span class="p">]</span>

        <span class="n">dockerfile</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_zenml_pipeline_dockerfile</span><span class="p">(</span>
            <span class="n">parent_image</span><span class="o">=</span><span class="n">parent_image</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">=</span><span class="n">docker_settings</span><span class="p">,</span>
            <span class="n">requirements_files</span><span class="o">=</span><span class="n">requirements_file_names</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="o">=</span><span class="n">entrypoint</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">parent_image</span> <span class="o">==</span> <span class="n">DEFAULT_DOCKER_PARENT_IMAGE</span><span class="p">:</span>
            <span class="c1"># The default parent image is static and doesn&#39;t require a pull</span>
            <span class="c1"># each time</span>
            <span class="n">pull_parent_image</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If the image is local, we don&#39;t need to pull it. Otherwise</span>
            <span class="c1"># we play it safe and always pull in case the user pushed a new</span>
            <span class="c1"># image for the given name and tag</span>
            <span class="n">pull_parent_image</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">is_local_image</span><span class="p">(</span>
                <span class="n">parent_image</span>
            <span class="p">)</span>

        <span class="n">extra_files</span> <span class="o">=</span> <span class="n">requirement_files</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">extra_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">(</span><span class="n">DOCKER_IMAGE_DEPLOYMENT_CONFIG_FILE</span><span class="p">,</span> <span class="n">deployment</span><span class="o">.</span><span class="n">yaml</span><span class="p">())</span>
        <span class="p">)</span>

        <span class="c1"># Leave the build context empty if we don&#39;t want to copy any files</span>
        <span class="n">requires_build_context</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">copy_files</span> <span class="ow">or</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">copy_global_config</span>
        <span class="p">)</span>
        <span class="n">build_context_root</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">source_utils</span><span class="o">.</span><span class="n">get_source_root_path</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">requires_build_context</span>
            <span class="k">else</span> <span class="kc">None</span>
        <span class="p">)</span>
        <span class="n">maybe_include_global_config</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">_include_global_config</span><span class="p">(</span><span class="n">build_context_root</span><span class="o">=</span><span class="n">build_context_root</span><span class="p">)</span>  <span class="c1"># type: ignore[arg-type]</span>
            <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">copy_global_config</span>
            <span class="k">else</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">nullcontext</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="k">with</span> <span class="n">maybe_include_global_config</span><span class="p">:</span>
            <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_image</span><span class="p">(</span>
                <span class="n">image_name</span><span class="o">=</span><span class="n">target_image_name</span><span class="p">,</span>
                <span class="n">dockerfile</span><span class="o">=</span><span class="n">dockerfile</span><span class="p">,</span>
                <span class="n">build_context_root</span><span class="o">=</span><span class="n">build_context_root</span><span class="p">,</span>
                <span class="n">dockerignore</span><span class="o">=</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">dockerignore</span><span class="p">,</span>
                <span class="n">extra_files</span><span class="o">=</span><span class="n">extra_files</span><span class="p">,</span>
                <span class="n">pull</span><span class="o">=</span><span class="n">pull_parent_image</span><span class="p">,</span>
            <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder.get_target_image_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_target_image_name</span><span class="p">(</span><span class="n">deployment</span><span class="p">,</span> <span class="n">container_registry</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Returns the target image name.</p>
<p>If a container registry is given, the image name will include the
registry URI</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeployment</code></td>
        <td><p>The pipeline deployment for which the target image name
should be returned.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>container_registry</code></td>
        <td><code>Optional[BaseContainerRegistry]</code></td>
        <td><p>Optional container registry to which this
image will be pushed.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The docker image name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/pipeline_docker_image_builder.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_target_image_name</span><span class="p">(</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
    <span class="n">container_registry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseContainerRegistry&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the target image name.</span>

<span class="sd">    If a container registry is given, the image name will include the</span>
<span class="sd">    registry URI</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: The pipeline deployment for which the target image name</span>
<span class="sd">            should be returned.</span>
<span class="sd">        container_registry: Optional container registry to which this</span>
<span class="sd">            image will be pushed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The docker image name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span>
    <span class="n">docker_settings</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">docker_settings</span> <span class="ow">or</span> <span class="n">DockerSettings</span><span class="p">()</span>
    <span class="p">)</span>

    <span class="n">target_image_name</span> <span class="o">=</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">target_repository</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">container_registry</span><span class="p">:</span>
        <span class="n">target_image_name</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">uri</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">target_image_name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">target_image_name</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.proto_utils" class="doc doc-heading">
        <code>proto_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions for interacting with TFX contexts.</p>



  <div class="doc doc-children">














  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.proto_utils.add_mlmd_contexts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_mlmd_contexts</span><span class="p">(</span><span class="n">pipeline_node</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Adds context to each pipeline node of a pb2_pipeline.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_node</code></td>
        <td><code>PipelineNode</code></td>
        <td><p>The pipeline node to which the contexts should be
added.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>step</code></td>
        <td><code>Step</code></td>
        <td><p>The corresponding step for the pipeline node.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeployment</code></td>
        <td><p>The pipeline deployment to store in the contexts.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack the pipeline will run on.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/proto_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_mlmd_contexts</span><span class="p">(</span>
    <span class="n">pipeline_node</span><span class="p">:</span> <span class="n">pipeline_pb2</span><span class="o">.</span><span class="n">PipelineNode</span><span class="p">,</span>
    <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;Step&quot;</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Adds context to each pipeline node of a pb2_pipeline.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_node: The pipeline node to which the contexts should be</span>
<span class="sd">            added.</span>
<span class="sd">        step: The corresponding step for the pipeline node.</span>
<span class="sd">        deployment: The pipeline deployment to store in the contexts.</span>
<span class="sd">        stack: The stack the pipeline will run on.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

    <span class="n">model_ids</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="n">client</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="n">client</span><span class="o">.</span><span class="n">active_project</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s2">&quot;pipeline_id&quot;</span><span class="p">:</span> <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="s2">&quot;stack_id&quot;</span><span class="p">:</span> <span class="n">deployment</span><span class="o">.</span><span class="n">stack_id</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">stack_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">stack</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">step_config</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">context_properties</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">MLMD_CONTEXT_STACK_PROPERTY_NAME</span><span class="p">:</span> <span class="n">stack_json</span><span class="p">,</span>
        <span class="n">MLMD_CONTEXT_PIPELINE_CONFIG_PROPERTY_NAME</span><span class="p">:</span> <span class="n">pipeline_config</span><span class="p">,</span>
        <span class="n">MLMD_CONTEXT_STEP_CONFIG_PROPERTY_NAME</span><span class="p">:</span> <span class="n">step_config</span><span class="p">,</span>
        <span class="n">MLMD_CONTEXT_MODEL_IDS_PROPERTY_NAME</span><span class="p">:</span> <span class="n">model_ids</span><span class="p">,</span>
        <span class="n">MLMD_CONTEXT_NUM_STEPS_PROPERTY_NAME</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">deployment</span><span class="o">.</span><span class="n">steps</span><span class="p">)),</span>
    <span class="p">}</span>

    <span class="n">properties_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">context_properties</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">context_name</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">(</span><span class="n">properties_json</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

    <span class="n">add_pipeline_node_context</span><span class="p">(</span>
        <span class="n">pipeline_node</span><span class="p">,</span>
        <span class="n">type_</span><span class="o">=</span><span class="n">ZENML_MLMD_CONTEXT_TYPE</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">context_name</span><span class="p">,</span>
        <span class="n">properties</span><span class="o">=</span><span class="n">context_properties</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.proto_utils.add_pipeline_node_context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_pipeline_node_context</span><span class="p">(</span><span class="n">pipeline_node</span><span class="p">,</span> <span class="n">type_</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">properties</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Adds a new context to a TFX protobuf pipeline node.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_node</code></td>
        <td><code>PipelineNode</code></td>
        <td><p>A tfx protobuf pipeline node</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>type_</code></td>
        <td><code>str</code></td>
        <td><p>The type name for the context to be added</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Unique key for the context</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>properties</code></td>
        <td><code>Dict[str, str]</code></td>
        <td><p>dictionary of strings as properties of the context</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/proto_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_pipeline_node_context</span><span class="p">(</span>
    <span class="n">pipeline_node</span><span class="p">:</span> <span class="n">pipeline_pb2</span><span class="o">.</span><span class="n">PipelineNode</span><span class="p">,</span>
    <span class="n">type_</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">properties</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Adds a new context to a TFX protobuf pipeline node.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_node: A tfx protobuf pipeline node</span>
<span class="sd">        type_: The type name for the context to be added</span>
<span class="sd">        name: Unique key for the context</span>
<span class="sd">        properties: dictionary of strings as properties of the context</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">pipeline_pb2</span><span class="o">.</span><span class="n">ContextSpec</span> <span class="o">=</span> <span class="n">pipeline_node</span><span class="o">.</span><span class="n">contexts</span><span class="o">.</span><span class="n">contexts</span><span class="o">.</span><span class="n">add</span><span class="p">()</span>
    <span class="n">context</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">type_</span>
    <span class="n">context</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">field_value</span><span class="o">.</span><span class="n">string_value</span> <span class="o">=</span> <span class="n">name</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">properties</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">c_property</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="n">c_property</span><span class="o">.</span><span class="n">field_value</span><span class="o">.</span><span class="n">string_value</span> <span class="o">=</span> <span class="n">value</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.proto_utils.get_pipeline_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pipeline_config</span><span class="p">(</span><span class="n">pipeline_node</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Fetches the pipeline configuration from a PipelineNode context.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_node</code></td>
        <td><code>PipelineNode</code></td>
        <td><p>Pipeline node info for a step.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineConfiguration</code></td>
      <td><p>The pipeline config.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If no pipeline config was found.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/proto_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pipeline_config</span><span class="p">(</span>
    <span class="n">pipeline_node</span><span class="p">:</span> <span class="n">pipeline_pb2</span><span class="o">.</span><span class="n">PipelineNode</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineConfiguration&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Fetches the pipeline configuration from a PipelineNode context.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_node: Pipeline node info for a step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline config.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If no pipeline config was found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">context</span> <span class="ow">in</span> <span class="n">pipeline_node</span><span class="o">.</span><span class="n">contexts</span><span class="o">.</span><span class="n">contexts</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">ZENML_MLMD_CONTEXT_TYPE</span><span class="p">:</span>
            <span class="n">config_json</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span>
                <span class="n">MLMD_CONTEXT_PIPELINE_CONFIG_PROPERTY_NAME</span>
            <span class="p">]</span><span class="o">.</span><span class="n">field_value</span><span class="o">.</span><span class="n">string_value</span>

            <span class="k">return</span> <span class="n">PipelineConfiguration</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="n">config_json</span><span class="p">)</span>

    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unable to find pipeline config.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.proto_utils.get_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_step</span><span class="p">(</span><span class="n">pipeline_node</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Fetches the step from a PipelineNode context.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_node</code></td>
        <td><code>PipelineNode</code></td>
        <td><p>Pipeline node info for a step.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Step</code></td>
      <td><p>The step.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If no step was found.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/proto_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_step</span><span class="p">(</span>
    <span class="n">pipeline_node</span><span class="p">:</span> <span class="n">pipeline_pb2</span><span class="o">.</span><span class="n">PipelineNode</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Step&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Fetches the step from a PipelineNode context.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_node: Pipeline node info for a step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If no step was found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">context</span> <span class="ow">in</span> <span class="n">pipeline_node</span><span class="o">.</span><span class="n">contexts</span><span class="o">.</span><span class="n">contexts</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">ZENML_MLMD_CONTEXT_TYPE</span><span class="p">:</span>
            <span class="n">config_json</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span>
                <span class="n">MLMD_CONTEXT_STEP_CONFIG_PROPERTY_NAME</span>
            <span class="p">]</span><span class="o">.</span><span class="n">field_value</span><span class="o">.</span><span class="n">string_value</span>

            <span class="k">return</span> <span class="n">Step</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="n">config_json</span><span class="p">)</span>

    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unable to find step.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.pydantic_utils" class="doc doc-heading">
        <code>pydantic_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utilities for pydantic models.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.pydantic_utils.TemplateGenerator" class="doc doc-heading">
        <code>
TemplateGenerator        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Class to generate templates for pydantic models or classes.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/pydantic_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TemplateGenerator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Class to generate templates for pydantic models or classes.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">instance_or_class</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initializes the template generator.</span>

<span class="sd">        Args:</span>
<span class="sd">            instance_or_class: The pydantic model or model class for which to</span>
<span class="sd">                generate a template.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instance_or_class</span> <span class="o">=</span> <span class="n">instance_or_class</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Generates the template.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The template dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_or_class</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
            <span class="n">template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_template_for_model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_or_class</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_template_for_model_class</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">instance_or_class</span>
            <span class="p">)</span>

        <span class="c1"># Convert to json in an intermediate step so we can leverage Pydantic&#39;s</span>
        <span class="c1"># encoder to support types like UUID and datetime</span>
        <span class="n">json_string</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">template</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_string</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_generate_template_for_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Generates a template for a pydantic model.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The model for which to generate the template.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model template.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_template_for_model_class</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">__fields_set__</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
            <span class="n">template</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_template_for_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">template</span>

    <span class="k">def</span> <span class="nf">_generate_template_for_model_class</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">model_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Generates a template for a pydantic model class.</span>

<span class="sd">        Args:</span>
<span class="sd">            model_class: The model class for which to generate the template.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model class template.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">template</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">model_class</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_model_class</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">outer_type_</span><span class="p">):</span>
                <span class="n">template</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_template_for_model_class</span><span class="p">(</span>
                    <span class="n">field</span><span class="o">.</span><span class="n">outer_type_</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">field</span><span class="o">.</span><span class="n">outer_type_</span> <span class="ow">is</span> <span class="n">Optional</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_model_class</span><span class="p">(</span>
                <span class="n">field</span><span class="o">.</span><span class="n">type_</span>
            <span class="p">):</span>
                <span class="n">template</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_template_for_model_class</span><span class="p">(</span>
                    <span class="n">field</span><span class="o">.</span><span class="n">type_</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">template</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">_type_display</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">template</span>

    <span class="k">def</span> <span class="nf">_generate_template_for_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Generates a template for an arbitrary value.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: The value for which to generate the template.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The value template.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Dict</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_template_for_value</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>
        <span class="k">elif</span> <span class="n">sequence_like</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_generate_template_for_value</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_template_for_model</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_is_model_class</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks if the given value is a pydantic model class.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: The value to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            If the value is a pydantic model class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.pydantic_utils.TemplateGenerator.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance_or_class</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initializes the template generator.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>instance_or_class</code></td>
        <td><code>Union[pydantic.main.BaseModel, Type[pydantic.main.BaseModel]]</code></td>
        <td><p>The pydantic model or model class for which to
generate a template.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/pydantic_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">instance_or_class</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Initializes the template generator.</span>

<span class="sd">    Args:</span>
<span class="sd">        instance_or_class: The pydantic model or model class for which to</span>
<span class="sd">            generate a template.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">instance_or_class</span> <span class="o">=</span> <span class="n">instance_or_class</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.pydantic_utils.TemplateGenerator.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Generates the template.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>The template dictionary.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/pydantic_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Generates the template.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The template dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_or_class</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
        <span class="n">template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_template_for_model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_or_class</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_template_for_model_class</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instance_or_class</span>
        <span class="p">)</span>

    <span class="c1"># Convert to json in an intermediate step so we can leverage Pydantic&#39;s</span>
    <span class="c1"># encoder to support types like UUID and datetime</span>
    <span class="n">json_string</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">template</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_string</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.pydantic_utils.update_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_model</span><span class="p">(</span><span class="n">original</span><span class="p">,</span> <span class="n">update</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Updates a pydantic model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>original</code></td>
        <td><code>~M</code></td>
        <td><p>The model to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>update</code></td>
        <td><code>Union[BaseModel, Dict[str, Any]]</code></td>
        <td><p>The update values.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>recursive</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, dictionary values will be updated recursively.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>exclude_none</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, <code>None</code> values in the update dictionary
will be removed.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~M</code></td>
      <td><p>The updated model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/pydantic_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_model</span><span class="p">(</span>
    <span class="n">original</span><span class="p">:</span> <span class="n">M</span><span class="p">,</span>
    <span class="n">update</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;BaseModel&quot;</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="n">recursive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">exclude_none</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">M</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Updates a pydantic model.</span>

<span class="sd">    Args:</span>
<span class="sd">        original: The model to update.</span>
<span class="sd">        update: The update values.</span>
<span class="sd">        recursive: If `True`, dictionary values will be updated recursively.</span>
<span class="sd">        exclude_none: If `True`, `None` values in the update dictionary</span>
<span class="sd">            will be removed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">update</span><span class="p">,</span> <span class="n">Dict</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">exclude_none</span><span class="p">:</span>
            <span class="n">update_dict</span> <span class="o">=</span> <span class="n">dict_utils</span><span class="o">.</span><span class="n">remove_none_values</span><span class="p">(</span>
                <span class="n">update</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="n">recursive</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">update_dict</span> <span class="o">=</span> <span class="n">update</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">update_dict</span> <span class="o">=</span> <span class="n">update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">original_dict</span> <span class="o">=</span> <span class="n">original</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">recursive</span><span class="p">:</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">dict_utils</span><span class="o">.</span><span class="n">recursive_update</span><span class="p">(</span><span class="n">original_dict</span><span class="p">,</span> <span class="n">update_dict</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">original_dict</span><span class="p">,</span> <span class="o">**</span><span class="n">update_dict</span><span class="p">}</span>

    <span class="k">return</span> <span class="n">original</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.secret_utils" class="doc doc-heading">
        <code>secret_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions for secrets and secret references.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.secret_utils.SecretReference" class="doc doc-heading">
        <code>
SecretReference            (<span title="tuple">tuple</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Class representing a secret reference.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The secret name.</p></td>
      </tr>
      <tr>
        <td><code>key</code></td>
        <td><code>str</code></td>
        <td><p>The secret key.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/secret_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SecretReference</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class representing a secret reference.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: The secret name.</span>
<span class="sd">        key: The secret key.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.secret_utils.SecretReference.__getnewargs__" class="doc doc-heading">
<code class="highlight language-python"><span class="n">__getnewargs__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Return self as a plain tuple.  Used by copy and pickle.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/secret_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">__getnewargs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s1">&#39;Return self as a plain tuple.  Used by copy and pickle.&#39;</span>
    <span class="k">return</span> <span class="n">_tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.secret_utils.SecretReference.__new__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="n">_cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Create new instance of SecretReference(name, key)</p>

    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.secret_utils.SecretReference.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Return a nicely formatted representation string</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/secret_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s1">&#39;Return a nicely formatted representation string&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">+</span> <span class="n">repr_fmt</span> <span class="o">%</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.secret_utils.ClearTextField" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ClearTextField</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Marks a pydantic field to prevent secret references.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Positional arguments which will be forwarded
to <code>pydantic.Field(...)</code>.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Keyword arguments which will be forwarded to
<code>pydantic.Field(...)</code>.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>Pydantic field info.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/secret_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">ClearTextField</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Marks a pydantic field to prevent secret references.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: Positional arguments which will be forwarded</span>
<span class="sd">            to `pydantic.Field(...)`.</span>
<span class="sd">        **kwargs: Keyword arguments which will be forwarded to</span>
<span class="sd">            `pydantic.Field(...)`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Pydantic field info.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="n">PYDANTIC_CLEAR_TEXT_FIELD_MARKER</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">Field</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.secret_utils.SecretField" class="doc doc-heading">
<code class="highlight language-python"><span class="n">SecretField</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Marks a pydantic field as something containing sensitive information.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Positional arguments which will be forwarded
to <code>pydantic.Field(...)</code>.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Keyword arguments which will be forwarded to
<code>pydantic.Field(...)</code>.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>Pydantic field info.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/secret_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">SecretField</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Marks a pydantic field as something containing sensitive information.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: Positional arguments which will be forwarded</span>
<span class="sd">            to `pydantic.Field(...)`.</span>
<span class="sd">        **kwargs: Keyword arguments which will be forwarded to</span>
<span class="sd">            `pydantic.Field(...)`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Pydantic field info.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="n">PYDANTIC_SENSITIVE_FIELD_MARKER</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">Field</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.secret_utils.is_clear_text_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_clear_text_field</span><span class="p">(</span><span class="n">field</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns whether a pydantic field prevents secret references or not.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>field</code></td>
        <td><code>ModelField</code></td>
        <td><p>The field to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the field prevents secret references, <code>False</code> otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/secret_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_clear_text_field</span><span class="p">(</span><span class="n">field</span><span class="p">:</span> <span class="s2">&quot;ModelField&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns whether a pydantic field prevents secret references or not.</span>

<span class="sd">    Args:</span>
<span class="sd">        field: The field to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the field prevents secret references, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">field</span><span class="o">.</span><span class="n">field_info</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">PYDANTIC_CLEAR_TEXT_FIELD_MARKER</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.secret_utils.is_secret_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_secret_field</span><span class="p">(</span><span class="n">field</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns whether a pydantic field contains sensitive information or not.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>field</code></td>
        <td><code>ModelField</code></td>
        <td><p>The field to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the field contains sensitive information, <code>False</code> otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/secret_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_secret_field</span><span class="p">(</span><span class="n">field</span><span class="p">:</span> <span class="s2">&quot;ModelField&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns whether a pydantic field contains sensitive information or not.</span>

<span class="sd">    Args:</span>
<span class="sd">        field: The field to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the field contains sensitive information, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">field</span><span class="o">.</span><span class="n">field_info</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">PYDANTIC_SENSITIVE_FIELD_MARKER</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.secret_utils.is_secret_reference" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_secret_reference</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Checks whether any value is a secret reference.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>The value to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the value is a secret reference, <code>False</code> otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/secret_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_secret_reference</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks whether any value is a secret reference.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: The value to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the value is a secret reference, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">_secret_reference_expression</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.secret_utils.parse_secret_reference" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse_secret_reference</span><span class="p">(</span><span class="n">reference</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Parses a secret reference.</p>
<p>This function assumes the input string is a valid secret reference and
<strong>does not</strong> perform any additional checks. If you pass an invalid secret
reference here, this will most likely crash.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reference</code></td>
        <td><code>str</code></td>
        <td><p>The string representing a <strong>valid</strong> secret reference.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretReference</code></td>
      <td><p>The parsed secret reference.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/secret_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse_secret_reference</span><span class="p">(</span><span class="n">reference</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretReference</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Parses a secret reference.</span>

<span class="sd">    This function assumes the input string is a valid secret reference and</span>
<span class="sd">    **does not** perform any additional checks. If you pass an invalid secret</span>
<span class="sd">    reference here, this will most likely crash.</span>

<span class="sd">    Args:</span>
<span class="sd">        reference: The string representing a **valid** secret reference.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The parsed secret reference.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">reference</span> <span class="o">=</span> <span class="n">reference</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
    <span class="n">reference</span> <span class="o">=</span> <span class="n">reference</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

    <span class="n">secret_name</span><span class="p">,</span> <span class="n">secret_key</span> <span class="o">=</span> <span class="n">reference</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">SecretReference</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">secret_key</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.settings_utils" class="doc doc-heading">
        <code>settings_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions for ZenML settings.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.settings_utils.get_flavor_setting_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_flavor_setting_key</span><span class="p">(</span><span class="n">flavor</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets the setting key for a flavor.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor</code></td>
        <td><code>Flavor</code></td>
        <td><p>The flavor for which to get the key.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The setting key for the flavor.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/settings_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_flavor_setting_key</span><span class="p">(</span><span class="n">flavor</span><span class="p">:</span> <span class="s2">&quot;Flavor&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets the setting key for a flavor.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor: The flavor for which to get the key.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The setting key for the flavor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.settings_utils.get_general_settings" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_general_settings</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns all general settings.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Type[BaseSettings]]</code></td>
      <td><p>Dictionary mapping general settings keys to their type.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/settings_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_general_settings</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseSettings&quot;</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Returns all general settings.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary mapping general settings keys to their type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.config</span> <span class="kn">import</span> <span class="n">DockerSettings</span><span class="p">,</span> <span class="n">ResourceSettings</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="n">DOCKER_SETTINGS_KEY</span><span class="p">:</span> <span class="n">DockerSettings</span><span class="p">,</span>
        <span class="n">RESOURCE_SETTINGS_KEY</span><span class="p">:</span> <span class="n">ResourceSettings</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.settings_utils.get_stack_component_setting_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_stack_component_setting_key</span><span class="p">(</span><span class="n">stack_component</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets the setting key for a stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_component</code></td>
        <td><code>StackComponent</code></td>
        <td><p>The stack component for which to get the key.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The setting key for the stack component.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/settings_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_stack_component_setting_key</span><span class="p">(</span><span class="n">stack_component</span><span class="p">:</span> <span class="s2">&quot;StackComponent&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets the setting key for a stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_component: The stack component for which to get the key.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The setting key for the stack component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stack_component</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">stack_component</span><span class="o">.</span><span class="n">flavor</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.settings_utils.is_general_setting_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_general_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Checks whether the key refers to a general setting.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>key</code></td>
        <td><code>str</code></td>
        <td><p>The key to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>If the key refers to a general setting.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/settings_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_general_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks whether the key refers to a general setting.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: The key to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        If the key refers to a general setting.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">get_general_settings</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.settings_utils.is_stack_component_setting_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_stack_component_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Checks whether a settings key refers to a stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>key</code></td>
        <td><code>str</code></td>
        <td><p>The key to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>If the key refers to a stack component.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/settings_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_stack_component_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks whether a settings key refers to a stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: The key to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        If the key refers to a stack component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">STACK_COMPONENT_REGEX</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.settings_utils.is_valid_setting_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_valid_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Checks whether a settings key is valid.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>key</code></td>
        <td><code>str</code></td>
        <td><p>The key to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>If the key is valid.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/settings_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_valid_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks whether a settings key is valid.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: The key to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        If the key is valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">is_general_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">or</span> <span class="n">is_stack_component_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.settings_utils.validate_setting_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_setting_keys</span><span class="p">(</span><span class="n">setting_keys</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Validates settings keys.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>setting_keys</code></td>
        <td><code>Sequence[str]</code></td>
        <td><p>The keys to validate.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If any key is invalid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/settings_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate_setting_keys</span><span class="p">(</span><span class="n">setting_keys</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Validates settings keys.</span>

<span class="sd">    Args:</span>
<span class="sd">        setting_keys: The keys to validate.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If any key is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">setting_keys</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_valid_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid setting key `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">`. Setting keys can either refer &quot;</span>
                <span class="s2">&quot;to general settings (available keys: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">set</span><span class="p">(</span><span class="n">get_general_settings</span><span class="p">())</span><span class="si">}</span><span class="s2">) or stack component specific &quot;</span>
                <span class="s2">&quot;settings. Stack component specific keys are of the format &quot;</span>
                <span class="s2">&quot;`&lt;STACK_COMPONENT_TYPE&gt;.&lt;STACK_COMPONENT_FLAVOR&gt;`.&quot;</span>
            <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.singleton" class="doc doc-heading">
        <code>singleton</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility class to turn classes into singleton classes.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.singleton.SingletonMetaClass" class="doc doc-heading">
        <code>
SingletonMetaClass            (<span title="type">type</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Singleton metaclass.</p>
<p>Use this metaclass to make any class into a singleton class:</p>
<pre><code class="language-python">class OneRing(metaclass=SingletonMetaClass):
    def __init__(self, owner):
        self._owner = owner

    @property
    def owner(self):
        return self._owner

the_one_ring = OneRing('Sauron')
the_lost_ring = OneRing('Frodo')
print(the_lost_ring.owner)  # Sauron
OneRing._clear() # ring destroyed
</code></pre>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/singleton.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SingletonMetaClass</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Singleton metaclass.</span>

<span class="sd">    Use this metaclass to make any class into a singleton class:</span>

<span class="sd">    ```python</span>
<span class="sd">    class OneRing(metaclass=SingletonMetaClass):</span>
<span class="sd">        def __init__(self, owner):</span>
<span class="sd">            self._owner = owner</span>

<span class="sd">        @property</span>
<span class="sd">        def owner(self):</span>
<span class="sd">            return self._owner</span>

<span class="sd">    the_one_ring = OneRing(&#39;Sauron&#39;)</span>
<span class="sd">    the_lost_ring = OneRing(&#39;Frodo&#39;)</span>
<span class="sd">    print(the_lost_ring.owner)  # Sauron</span>
<span class="sd">    OneRing._clear() # ring destroyed</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialize a singleton class.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Additional arguments.</span>
<span class="sd">            **kwargs: Additional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;SingletonMetaClass&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SingletonMetaClass&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create or return the singleton instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Additional arguments.</span>
<span class="sd">            **kwargs: Additional keyword arguments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The singleton instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
                <span class="s2">&quot;SingletonMetaClass&quot;</span><span class="p">,</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span>

    <span class="k">def</span> <span class="nf">_clear</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Clear the singleton instance.&quot;&quot;&quot;</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.singleton.SingletonMetaClass.__call__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Create or return the singleton instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional arguments.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SingletonMetaClass</code></td>
      <td><p>The singleton instance.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/singleton.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SingletonMetaClass&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create or return the singleton instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: Additional arguments.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The singleton instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span><span class="p">:</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="s2">&quot;SingletonMetaClass&quot;</span><span class="p">,</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.singleton.SingletonMetaClass.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialize a singleton class.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional arguments.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/singleton.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Initialize a singleton class.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: Additional arguments.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;SingletonMetaClass&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.source_utils" class="doc doc-heading">
        <code>source_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions for source code.</p>
<p>These utils are predicated on the following definitions:</p>
<ul>
<li>class_source: This is a python-import type path to a class, e.g.
    some.mod.class</li>
<li>module_source: This is a python-import type path to a module, e.g. some.mod</li>
<li>file_path, relative_path, absolute_path: These are file system paths.</li>
<li>source: This is a class_source or module_source. If it is a class_source, it
    can also be optionally pinned.</li>
<li>pin: Whatever comes after the <code>@</code> symbol from a source, usually the git sha
    or the version of zenml as a string.</li>
</ul>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.create_zenml_pin" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_zenml_pin</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Creates a ZenML pin for source pinning from release version.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>ZenML pin.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_zenml_pin</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a ZenML pin for source pinning from release version.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ZenML pin.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">constants</span><span class="o">.</span><span class="n">APP_NAME</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">__version__</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_hashed_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_hashed_source</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns a hash of the objects source code.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>object to get source from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Hash of source code.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If unable to compute the hash.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_hashed_source</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns a hash of the objects source code.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: object to get source from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Hash of source code.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If unable to compute the hash.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">source_code</span> <span class="o">=</span> <span class="n">get_source</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to compute the hash of source code of object: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">source_code</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_main_module_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_main_module_source</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets the source of the main module.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The main module source.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_main_module_source</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets the source of the main module.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The main module source.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">main_module</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="s2">&quot;__main__&quot;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">get_module_source_from_module</span><span class="p">(</span><span class="n">main_module</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_module_source_from_module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_module_source_from_module</span><span class="p">(</span><span class="n">module</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets the source of the supplied module.</p>
<p>E.g.:</p>
<ul>
<li>
<p>a <code>/home/myrepo/src/run.py</code> module running as the main module returns
  <code>run</code> if no repository root is specified.</p>
</li>
<li>
<p>a <code>/home/myrepo/src/run.py</code> module running as the main module returns
  <code>src.run</code> if the repository root is configured in <code>/home/myrepo</code></p>
</li>
<li>
<p>a <code>/home/myrepo/src/pipeline.py</code> module not running as the main module
  returns <code>src.pipeline</code> if the repository root is configured in
  <code>/home/myrepo</code></p>
</li>
<li>
<p>a <code>/home/myrepo/src/pipeline.py</code> module not running as the main module
  returns <code>pipeline</code> if no repository root is specified and the main
  module is also in <code>/home/myrepo/src</code>.</p>
</li>
<li>
<p>a <code>/home/step.py</code> module not running as the main module
  returns <code>step</code> if the CWD is /home and the repository root or the main
  module are in a different path (e.g. <code>/home/myrepo/src</code>).</p>
</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>module</code></td>
        <td><code>module</code></td>
        <td><p>the module to get the source of.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The source of the main module.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the module is not loaded from a file</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_module_source_from_module</span><span class="p">(</span><span class="n">module</span><span class="p">:</span> <span class="n">ModuleType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets the source of the supplied module.</span>

<span class="sd">    E.g.:</span>

<span class="sd">      * a `/home/myrepo/src/run.py` module running as the main module returns</span>
<span class="sd">      `run` if no repository root is specified.</span>

<span class="sd">      * a `/home/myrepo/src/run.py` module running as the main module returns</span>
<span class="sd">      `src.run` if the repository root is configured in `/home/myrepo`</span>

<span class="sd">      * a `/home/myrepo/src/pipeline.py` module not running as the main module</span>
<span class="sd">      returns `src.pipeline` if the repository root is configured in</span>
<span class="sd">      `/home/myrepo`</span>

<span class="sd">      * a `/home/myrepo/src/pipeline.py` module not running as the main module</span>
<span class="sd">      returns `pipeline` if no repository root is specified and the main</span>
<span class="sd">      module is also in `/home/myrepo/src`.</span>

<span class="sd">      * a `/home/step.py` module not running as the main module</span>
<span class="sd">      returns `step` if the CWD is /home and the repository root or the main</span>
<span class="sd">      module are in a different path (e.g. `/home/myrepo/src`).</span>

<span class="sd">    Args:</span>
<span class="sd">        module: the module to get the source of.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The source of the main module.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the module is not loaded from a file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="s2">&quot;__file__&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">module</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s2"> module was not loaded from a file. Cannot &quot;</span>
                <span class="s2">&quot;determine the module root path.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">module</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="n">module_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>

    <span class="n">root_path</span> <span class="o">=</span> <span class="n">get_source_root_path</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">module_path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">root_path</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;User module </span><span class="si">%s</span><span class="s2"> is not in the source root </span><span class="si">%s</span><span class="s2">. Using current &quot;</span>
            <span class="s2">&quot;directory </span><span class="si">%s</span><span class="s2"> instead to resolve module source.&quot;</span><span class="p">,</span>
            <span class="n">module</span><span class="p">,</span>
            <span class="n">root_path</span><span class="p">,</span>
            <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="n">root_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>

    <span class="n">root_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">root_path</span><span class="p">)</span>

    <span class="c1"># Remove root_path from module_path to get relative path left over</span>
    <span class="n">module_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">module_path</span><span class="p">,</span> <span class="n">root_path</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">module_path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to resolve source for module </span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s2">. The module file &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">module_path</span><span class="si">}</span><span class="s2">&#39; does not seem to be inside the source root &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">root_path</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Remove the file extension and replace the os specific path separators</span>
    <span class="c1"># with `.` to get the module source</span>
    <span class="n">module_path</span><span class="p">,</span> <span class="n">file_extension</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">module_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">file_extension</span> <span class="o">!=</span> <span class="s2">&quot;.py&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to resolve source for module </span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s2">. The module file &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">module_path</span><span class="si">}</span><span class="s2">&#39; does not seem to be a python file.&quot;</span>
        <span class="p">)</span>

    <span class="n">module_source</span> <span class="o">=</span> <span class="n">module_path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Resolved module source for module </span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s2"> to: `</span><span class="si">{</span><span class="n">module_source</span><span class="si">}</span><span class="s2">`&quot;</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">module_source</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_source</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns the source code of an object.</p>
<p>If executing within a IPython kernel environment, then this monkey-patches
<code>inspect</code> module temporarily with a workaround to get source from the cell.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>object to get source from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Source code of object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_source</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the source code of an object.</span>

<span class="sd">    If executing within a IPython kernel environment, then this monkey-patches</span>
<span class="sd">    `inspect` module temporarily with a workaround to get source from the cell.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: object to get source from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Source code of object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>
        <span class="c1"># Monkey patch inspect.getfile temporarily to make getsource work.</span>
        <span class="c1"># Source: https://stackoverflow.com/questions/51566497/</span>
        <span class="k">def</span> <span class="nf">_new_getfile</span><span class="p">(</span>
            <span class="nb">object</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
            <span class="n">_old_getfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span>
                <span class="p">[</span>
                    <span class="n">Union</span><span class="p">[</span>
                        <span class="n">ModuleType</span><span class="p">,</span>
                        <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span>
                        <span class="n">MethodType</span><span class="p">,</span>
                        <span class="n">FunctionType</span><span class="p">,</span>
                        <span class="n">TracebackType</span><span class="p">,</span>
                        <span class="n">FrameType</span><span class="p">,</span>
                        <span class="n">CodeType</span><span class="p">,</span>
                        <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
                    <span class="p">]</span>
                <span class="p">],</span>
                <span class="nb">str</span><span class="p">,</span>
            <span class="p">]</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">_old_getfile</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>

            <span class="c1"># Lookup by parent module (as in current inspect)</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="s2">&quot;__module__&quot;</span><span class="p">):</span>
                <span class="n">object_</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">object</span><span class="o">.</span><span class="vm">__module__</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">object_</span><span class="p">,</span> <span class="s2">&quot;__file__&quot;</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">object_</span><span class="o">.</span><span class="vm">__file__</span>  <span class="c1"># type: ignore[union-attr]</span>

            <span class="c1"># If parent module is __main__, lookup by methods</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">inspect</span><span class="o">.</span><span class="n">isfunction</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__qualname__</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">member</span><span class="o">.</span><span class="vm">__name__</span>
                    <span class="o">==</span> <span class="n">member</span><span class="o">.</span><span class="vm">__qualname__</span>
                <span class="p">):</span>
                    <span class="k">return</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Source for </span><span class="si">{</span><span class="nb">object</span><span class="si">!r}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>

        <span class="c1"># Monkey patch, compute source, then revert monkey patch.</span>
        <span class="n">_old_getfile</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span>
        <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span> <span class="o">=</span> <span class="n">_new_getfile</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">src</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span> <span class="o">=</span> <span class="n">_old_getfile</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Use standard inspect if running outside a notebook</span>
        <span class="n">src</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">src</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_source_root_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_source_root_path</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets repository root path or the source root path of the current process.</p>
<p>E.g.:</p>
<ul>
<li>
<p>if the process was started by running a <code>run.py</code> file under
  <code>full/path/to/my/run.py</code>, and the repository root is configured at
  <code>full/path</code>, the source root path is <code>full/path</code>.</p>
</li>
<li>
<p>same case as above, but when there is no repository root configured,
  the source root path is <code>full/path/to/my</code>.</p>
</li>
</ul>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The source root path of the current process.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the main module was not started or determined.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_source_root_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets repository root path or the source root path of the current process.</span>

<span class="sd">    E.g.:</span>

<span class="sd">      * if the process was started by running a `run.py` file under</span>
<span class="sd">      `full/path/to/my/run.py`, and the repository root is configured at</span>
<span class="sd">      `full/path`, the source root path is `full/path`.</span>

<span class="sd">      * same case as above, but when there is no repository root configured,</span>
<span class="sd">      the source root path is `full/path/to/my`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The source root path of the current process.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the main module was not started or determined.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>

    <span class="n">repo_root</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">find_repository</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">repo_root</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Using repository root as source root: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">repo_root</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">repo_root</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>

    <span class="n">main_module</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;__main__&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">main_module</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Could not determine the main module used to run the current &quot;</span>
            <span class="s2">&quot;process.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">main_module</span><span class="p">,</span> <span class="s2">&quot;__file__&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">main_module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Main module was not started from a file. Cannot &quot;</span>
            <span class="s2">&quot;determine the module root path.&quot;</span>
        <span class="p">)</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">main_module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Using main module location as source root: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.import_class_by_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">import_class_by_path</span><span class="p">(</span><span class="n">class_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Imports a class based on a given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>class_path</code></td>
        <td><code>str</code></td>
        <td><p>str, class_source e.g. this.module.Class</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[Any]</code></td>
      <td><p>the given class</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">import_class_by_path</span><span class="p">(</span><span class="n">class_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Imports a class based on a given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        class_path: str, class_source e.g. this.module.Class</span>

<span class="sd">    Returns:</span>
<span class="sd">        the given class</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">module_name</span><span class="p">,</span> <span class="n">class_name</span> <span class="o">=</span> <span class="n">class_path</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.import_python_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">import_python_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">zen_root</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Imports a python file in relationship to the zen root.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to python file that should be imported.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>zen_root</code></td>
        <td><code>str</code></td>
        <td><p>Path to current zenml root</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>imported module</code></td>
      <td><p>Module</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">import_python_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">zen_root</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Imports a python file in relationship to the zen root.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to python file that should be imported.</span>
<span class="sd">        zen_root: Path to current zenml root</span>

<span class="sd">    Returns:</span>
<span class="sd">        imported module: Module</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
    <span class="n">module_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">zen_root</span><span class="p">)</span>
    <span class="n">module_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">module_path</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">module_name</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">module_name</span><span class="p">]</span>
        <span class="c1"># Add directory of python file to PYTHONPATH so we can import it</span>
        <span class="k">with</span> <span class="n">prepend_python_path</span><span class="p">([</span><span class="n">zen_root</span><span class="p">]):</span>
            <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">module</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Add directory of python file to PYTHONPATH so we can import it</span>
        <span class="k">with</span> <span class="n">prepend_python_path</span><span class="p">([</span><span class="n">zen_root</span><span class="p">]):</span>
            <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">module</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.is_inside_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_inside_repository</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns whether a file is inside a zenml repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>A file path.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the file is inside a zenml repository, else <code>False</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_inside_repository</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns whether a file is inside a zenml repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: A file path.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the file is inside a zenml repository, else `False`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>

    <span class="n">repo_path</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">find_repository</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">repo_path</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">repo_path</span> <span class="o">=</span> <span class="n">repo_path</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
    <span class="n">absolute_file_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">repo_path</span> <span class="ow">in</span> <span class="n">absolute_file_path</span><span class="o">.</span><span class="n">parents</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.is_standard_pin" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_standard_pin</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns <code>True</code> if pin is valid ZenML pin, else False.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pin</code></td>
        <td><code>str</code></td>
        <td><p>potential ZenML pin like 'zenml_0.1.1'</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if pin is valid ZenML pin, else False.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_standard_pin</span><span class="p">(</span><span class="n">pin</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns `True` if pin is valid ZenML pin, else False.</span>

<span class="sd">    Args:</span>
<span class="sd">        pin: potential ZenML pin like &#39;zenml_0.1.1&#39;</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if pin is valid ZenML pin, else False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">pin</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">constants</span><span class="o">.</span><span class="n">APP_NAME</span><span class="si">}</span><span class="s2">_&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.is_standard_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_standard_source</span><span class="p">(</span><span class="n">source</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns <code>True</code> if source is a standard ZenML source.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>class_source e.g. this.module.Class[@pin].</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if source is a standard ZenML source, else <code>False</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_standard_source</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns `True` if source is a standard ZenML source.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: class_source e.g. this.module.Class[@pin].</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if source is a standard ZenML source, else `False`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">source</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;zenml&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.is_third_party_module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_third_party_module</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns whether a file belongs to a third party package.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>A file path.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the file belongs to a third party package, else <code>False</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_third_party_module</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns whether a file belongs to a third party package.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: A file path.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the file belongs to a third party package, else `False`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">absolute_file_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">site</span><span class="o">.</span><span class="n">getsitepackages</span><span class="p">()</span> <span class="o">+</span> <span class="p">[</span>
        <span class="n">site</span><span class="o">.</span><span class="n">getusersitepackages</span><span class="p">(),</span>
        <span class="n">get_python_lib</span><span class="p">(</span><span class="n">standard_lib</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="p">]:</span>
        <span class="k">if</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span> <span class="ow">in</span> <span class="n">absolute_file_path</span><span class="o">.</span><span class="n">parents</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">get_source_root_path</span><span class="p">())</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">absolute_file_path</span><span class="o">.</span><span class="n">parents</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.load_and_validate_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_and_validate_class</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">expected_class</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Loads a source class and validates its type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>The source string.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>expected_class</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The class that the source should resolve to.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If the source does not resolve to the expected type.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[Any]</code></td>
      <td><p>The resolved source class.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_and_validate_class</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">expected_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Loads a source class and validates its type.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: The source string.</span>
<span class="sd">        expected_class: The class that the source should resolve to.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If the source does not resolve to the expected type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The resolved source class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">class_</span> <span class="o">=</span> <span class="n">load_source_path_class</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="n">expected_class</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">class_</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error while loading `</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">`. Expected class &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">expected_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">, got </span><span class="si">{</span><span class="n">class_</span><span class="si">}</span><span class="s2"> instead.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.load_source_path_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_source_path_class</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">import_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Loads a Python class from the source.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>class_source e.g. this.module.Class[@sha]</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>import_path</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>optional path to add to python path</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[Any]</code></td>
      <td><p>the given class</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_source_path_class</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">import_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Loads a Python class from the source.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: class_source e.g. this.module.Class[@sha]</span>
<span class="sd">        import_path: optional path to add to python path</span>

<span class="sd">    Returns:</span>
<span class="sd">        the given class</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>

    <span class="n">repo_root</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">find_repository</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">import_path</span> <span class="ow">and</span> <span class="n">repo_root</span><span class="p">:</span>
        <span class="n">import_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">repo_root</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">source</span><span class="p">:</span>
        <span class="n">source</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">import_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">prepend_python_path</span><span class="p">([</span><span class="n">import_path</span><span class="p">]):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Loading class </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2"> with import path </span><span class="si">{</span><span class="n">import_path</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">import_class_by_path</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">import_class_by_path</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.prepend_python_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepend_python_path</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Simple context manager to help import module within the repo.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>paths</code></td>
        <td><code>List[str]</code></td>
        <td><p>paths to prepend to sys.path</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Yields:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterator[NoneType]</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">prepend_python_path</span><span class="p">(</span><span class="n">paths</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="kc">None</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Simple context manager to help import module within the repo.</span>

<span class="sd">    Args:</span>
<span class="sd">        paths: paths to prepend to sys.path</span>

<span class="sd">    Yields:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Entering the with statement</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
        <span class="k">yield</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># Exiting the with statement</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.resolve_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resolve_class</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="n">replace_main_module</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Resolves a class into a serializable source string.</p>
<p>For classes that are not built-in nor imported from a Python package, the
<code>get_source_root_path</code> function is used to determine the root path
relative to which the class source is resolved.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>class_</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>A Python Class reference.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>replace_main_module</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, classes in the main module will have
the <strong>main</strong> module source replaced with the source relative to
the ZenML source root.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>source_path e.g. this.module.Class.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">resolve_class</span><span class="p">(</span><span class="n">class_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">replace_main_module</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Resolves a class into a serializable source string.</span>

<span class="sd">    For classes that are not built-in nor imported from a Python package, the</span>
<span class="sd">    `get_source_root_path` function is used to determine the root path</span>
<span class="sd">    relative to which the class source is resolved.</span>

<span class="sd">    Args:</span>
<span class="sd">        class_: A Python Class reference.</span>
<span class="sd">        replace_main_module: If `True`, classes in the main module will have</span>
<span class="sd">            the __main__ module source replaced with the source relative to</span>
<span class="sd">            the ZenML source root.</span>

<span class="sd">    Returns:</span>
<span class="sd">        source_path e.g. this.module.Class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">initial_source</span> <span class="o">=</span> <span class="n">class_</span><span class="o">.</span><span class="vm">__module__</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">class_</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="k">if</span> <span class="n">is_standard_source</span><span class="p">(</span><span class="n">initial_source</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">resolve_standard_source</span><span class="p">(</span><span class="n">initial_source</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span><span class="p">(</span><span class="n">class_</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="c1"># builtin file</span>
        <span class="k">return</span> <span class="n">initial_source</span>

    <span class="k">if</span> <span class="n">initial_source</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;__main__&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">replace_main_module</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">initial_source</span>

        <span class="c1"># Resolve the __main__ module to something relative to the ZenML source</span>
        <span class="c1"># root</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">get_main_module_source</span><span class="p">()</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">class_</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">if</span> <span class="n">is_third_party_module</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">initial_source</span>

    <span class="c1"># Regular user file -&gt; get the full module path relative to the</span>
    <span class="c1"># source root.</span>
    <span class="n">module_source</span> <span class="o">=</span> <span class="n">get_module_source_from_module</span><span class="p">(</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">class_</span><span class="o">.</span><span class="vm">__module__</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="n">source</span> <span class="o">=</span> <span class="n">module_source</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">class_</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Resolved class </span><span class="si">{</span><span class="n">class_</span><span class="si">}</span><span class="s2"> to `</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">`.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">source</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.resolve_standard_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resolve_standard_source</span><span class="p">(</span><span class="n">source</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Creates a ZenML pin for source pinning from release version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>class_source e.g. this.module.Class.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>ZenML pin.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AssertionError</code></td>
        <td><p>If source is already pinned.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">resolve_standard_source</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a ZenML pin for source pinning from release version.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: class_source e.g. this.module.Class.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ZenML pin.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AssertionError: If source is already pinned.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">source</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;source </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2"> is already pinned.&quot;</span><span class="p">)</span>
    <span class="n">pin</span> <span class="o">=</span> <span class="n">create_zenml_pin</span><span class="p">()</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">@</span><span class="si">{</span><span class="n">pin</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.validate_config_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_config_source</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">component_type</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Validates a StackComponentConfig class from a given source.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>source path of the implementation</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>component_type</code></td>
        <td><code>StackComponentType</code></td>
        <td><p>the type of the stack component</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[StackComponentConfig]</code></td>
      <td><p>The validated config.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If ZenML cannot import the config class.</p></td>
      </tr>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If the config class is not a subclass of the <code>config_class</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate_config_source</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">component_type</span><span class="p">:</span> <span class="n">StackComponentType</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;StackComponentConfig&quot;</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Validates a StackComponentConfig class from a given source.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: source path of the implementation</span>
<span class="sd">        component_type: the type of the stack component</span>

<span class="sd">    Returns:</span>
<span class="sd">        The validated config.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If ZenML cannot import the config class.</span>
<span class="sd">        TypeError: If the config class is not a subclass of the `config_class`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.stack.stack_component</span> <span class="kn">import</span> <span class="n">StackComponentConfig</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">config_class</span> <span class="o">=</span> <span class="n">load_source_path_class</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">ImportError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;ZenML can not import the config class &#39;</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">config_class</span><span class="p">,</span> <span class="n">StackComponentConfig</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The source path &#39;</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&#39; does not point to a subclass of &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;the ZenML config_class.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">config_class</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.validate_flavor_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_flavor_source</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">component_type</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Import a StackComponent class from a given source and validate its type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>source path of the implementation</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>component_type</code></td>
        <td><code>StackComponentType</code></td>
        <td><p>the type of the stack component</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[Flavor]</code></td>
      <td><p>the imported class</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If ZenML cannot find the given module path</p></td>
      </tr>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If the given module path does not point to a subclass of a
StackComponent which has the right component type.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate_flavor_source</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">component_type</span><span class="p">:</span> <span class="n">StackComponentType</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Flavor&quot;</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Import a StackComponent class from a given source and validate its type.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: source path of the implementation</span>
<span class="sd">        component_type: the type of the stack component</span>

<span class="sd">    Returns:</span>
<span class="sd">        the imported class</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If ZenML cannot find the given module path</span>
<span class="sd">        TypeError: If the given module path does not point to a subclass of a</span>
<span class="sd">            StackComponent which has the right component type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.stack.flavor</span> <span class="kn">import</span> <span class="n">Flavor</span>
    <span class="kn">from</span> <span class="nn">zenml.stack.stack_component</span> <span class="kn">import</span> <span class="n">StackComponent</span><span class="p">,</span> <span class="n">StackComponentConfig</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">flavor_class</span> <span class="o">=</span> <span class="n">load_source_path_class</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">ImportError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;ZenML can not import the flavor class &#39;</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">flavor_class</span><span class="p">,</span> <span class="n">Flavor</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The source &#39;</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&#39; does not point to a subclass of the ZenML&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Flavor.&quot;</span>
        <span class="p">)</span>

    <span class="n">flavor</span> <span class="o">=</span> <span class="n">flavor_class</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">impl_class</span> <span class="o">=</span> <span class="n">flavor</span><span class="o">.</span><span class="n">implementation_class</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">ModuleNotFoundError</span><span class="p">,</span> <span class="ne">ImportError</span><span class="p">,</span> <span class="ne">NotImplementedError</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The implementation class defined within the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">flavor_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; can not be imported.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">impl_class</span><span class="p">,</span> <span class="n">StackComponent</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The implementation class &#39;</span><span class="si">{</span><span class="n">impl_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; of a flavor &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;needs to be a subclass of the ZenML StackComponent.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">flavor</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">component_type</span><span class="p">:</span>  <span class="c1"># noqa</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The source points to a </span><span class="si">{</span><span class="n">impl_class</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">, not a &quot;</span>  <span class="c1"># noqa</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">component_type</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">conf_class</span> <span class="o">=</span> <span class="n">flavor</span><span class="o">.</span><span class="n">config_class</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">ModuleNotFoundError</span><span class="p">,</span> <span class="ne">ImportError</span><span class="p">,</span> <span class="ne">NotImplementedError</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The config class defined within the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">flavor_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; can not be imported.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">conf_class</span><span class="p">,</span> <span class="n">StackComponentConfig</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The config class &#39;</span><span class="si">{</span><span class="n">conf_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; of a flavor &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;needs to be a subclass of the ZenML StackComponentConfig.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">flavor_class</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.validate_source_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_source_class</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">expected_class</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Validates that a source resolves to a certain type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>The source to validate.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>expected_class</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The class that the source should resolve to.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>If the source resolves to the expected class.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate_source_class</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">expected_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Validates that a source resolves to a certain type.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: The source to validate.</span>
<span class="sd">        expected_class: The class that the source should resolve to.</span>

<span class="sd">    Returns:</span>
<span class="sd">        If the source resolves to the expected class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">load_source_path_class</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">is_class</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_class</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">expected_class</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.string_utils" class="doc doc-heading">
        <code>string_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utils for strings.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.string_utils.b64_decode" class="doc doc-heading">
<code class="highlight language-python"><span class="n">b64_decode</span><span class="p">(</span><span class="n">input_</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns a decoded string of the base 64 encoded input string.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>input_</code></td>
        <td><code>str</code></td>
        <td><p>Base64 encoded string.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Decoded string.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/string_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">b64_decode</span><span class="p">(</span><span class="n">input_</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns a decoded string of the base 64 encoded input string.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_: Base64 encoded string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Decoded string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">encoded_bytes</span> <span class="o">=</span> <span class="n">input_</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
    <span class="n">decoded_bytes</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">encoded_bytes</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">decoded_bytes</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.string_utils.b64_encode" class="doc doc-heading">
<code class="highlight language-python"><span class="n">b64_encode</span><span class="p">(</span><span class="n">input_</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns a base 64 encoded string of the input string.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>input_</code></td>
        <td><code>str</code></td>
        <td><p>The input to encode.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Base64 encoded string.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/string_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">b64_encode</span><span class="p">(</span><span class="n">input_</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns a base 64 encoded string of the input string.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_: The input to encode.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Base64 encoded string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">input_bytes</span> <span class="o">=</span> <span class="n">input_</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
    <span class="n">encoded_bytes</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">input_bytes</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">encoded_bytes</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.string_utils.get_human_readable_filesize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_human_readable_filesize</span><span class="p">(</span><span class="n">bytes_</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Convert a file size in bytes into a human-readable string.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>bytes_</code></td>
        <td><code>int</code></td>
        <td><p>The number of bytes to convert.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>A human-readable string.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/string_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_human_readable_filesize</span><span class="p">(</span><span class="n">bytes_</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Convert a file size in bytes into a human-readable string.</span>

<span class="sd">    Args:</span>
<span class="sd">        bytes_: The number of bytes to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A human-readable string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">bytes_</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">unit</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;KiB&quot;</span><span class="p">,</span> <span class="s2">&quot;MiB&quot;</span><span class="p">,</span> <span class="s2">&quot;GiB&quot;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">&lt;</span> <span class="mf">1024.0</span> <span class="ow">or</span> <span class="n">unit</span> <span class="o">==</span> <span class="s2">&quot;GiB&quot;</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">size</span> <span class="o">/=</span> <span class="mf">1024.0</span>

    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">size</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">unit</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.string_utils.get_human_readable_time" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_human_readable_time</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Convert seconds into a human-readable string.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>seconds</code></td>
        <td><code>float</code></td>
        <td><p>The number of seconds to convert.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>A human-readable string.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/string_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_human_readable_time</span><span class="p">(</span><span class="n">seconds</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Convert seconds into a human-readable string.</span>

<span class="sd">    Args:</span>
<span class="sd">        seconds: The number of seconds to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A human-readable string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span> <span class="k">if</span> <span class="n">seconds</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">seconds</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span>
    <span class="n">int_seconds</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span>
    <span class="n">days</span><span class="p">,</span> <span class="n">int_seconds</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">int_seconds</span><span class="p">,</span> <span class="mi">86400</span><span class="p">)</span>
    <span class="n">hours</span><span class="p">,</span> <span class="n">int_seconds</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">int_seconds</span><span class="p">,</span> <span class="mi">3600</span><span class="p">)</span>
    <span class="n">minutes</span><span class="p">,</span> <span class="n">int_seconds</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">int_seconds</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">days</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">days</span><span class="si">}</span><span class="s2">d</span><span class="si">{</span><span class="n">hours</span><span class="si">}</span><span class="s2">h</span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">m</span><span class="si">{</span><span class="n">int_seconds</span><span class="si">}</span><span class="s2">s&quot;</span>
    <span class="k">elif</span> <span class="n">hours</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">hours</span><span class="si">}</span><span class="s2">h</span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">m</span><span class="si">{</span><span class="n">int_seconds</span><span class="si">}</span><span class="s2">s&quot;</span>
    <span class="k">elif</span> <span class="n">minutes</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">m</span><span class="si">{</span><span class="n">int_seconds</span><span class="si">}</span><span class="s2">s&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">seconds</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s&quot;</span>

    <span class="k">return</span> <span class="n">prefix</span> <span class="o">+</span> <span class="n">time_string</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.string_utils.random_str" class="doc doc-heading">
<code class="highlight language-python"><span class="n">random_str</span><span class="p">(</span><span class="n">length</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Generate a random human readable string of given length.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>length</code></td>
        <td><code>int</code></td>
        <td><p>Length of string</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Random human-readable string.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/string_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">random_str</span><span class="p">(</span><span class="n">length</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Generate a random human readable string of given length.</span>

<span class="sd">    Args:</span>
<span class="sd">        length: Length of string</span>

<span class="sd">    Returns:</span>
<span class="sd">        Random human-readable string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">()</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choices</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">length</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.typed_model" class="doc doc-heading">
        <code>typed_model</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility classes for adding type information to Pydantic models.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.typed_model.BaseTypedModel" class="doc doc-heading">
        <code>
BaseTypedModel            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Typed Pydantic model base class.</p>
<p>Use this class as a base class instead of BaseModel to automatically
add a <code>type</code> literal attribute to the model that stores the name of the
class.</p>
<p>This can be useful when serializing models to JSON and then de-serializing
them as part of a submodel union field, e.g.:</p>
<pre><code class="language-python">
class BluePill(BaseTypedModel):
    ...

class RedPill(BaseTypedModel):
    ...

class TheMatrix(BaseTypedModel):
    choice: Union[BluePill, RedPill] = Field(..., discriminator='type')

matrix = TheMatrix(choice=RedPill())
d = matrix.dict()
new_matrix = TheMatrix.parse_obj(d)
assert isinstance(new_matrix.choice, RedPill)
</code></pre>
<p>It can also facilitate de-serializing objects when their type isn't known:</p>
<pre><code class="language-python">matrix = TheMatrix(choice=RedPill())
d = matrix.dict()
new_matrix = BaseTypedModel.from_dict(d)
assert isinstance(new_matrix.choice, RedPill)
</code></pre>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/typed_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseTypedModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">metaclass</span><span class="o">=</span><span class="n">BaseTypedModelMeta</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Typed Pydantic model base class.</span>

<span class="sd">    Use this class as a base class instead of BaseModel to automatically</span>
<span class="sd">    add a `type` literal attribute to the model that stores the name of the</span>
<span class="sd">    class.</span>

<span class="sd">    This can be useful when serializing models to JSON and then de-serializing</span>
<span class="sd">    them as part of a submodel union field, e.g.:</span>

<span class="sd">    ```python</span>

<span class="sd">    class BluePill(BaseTypedModel):</span>
<span class="sd">        ...</span>

<span class="sd">    class RedPill(BaseTypedModel):</span>
<span class="sd">        ...</span>

<span class="sd">    class TheMatrix(BaseTypedModel):</span>
<span class="sd">        choice: Union[BluePill, RedPill] = Field(..., discriminator=&#39;type&#39;)</span>

<span class="sd">    matrix = TheMatrix(choice=RedPill())</span>
<span class="sd">    d = matrix.dict()</span>
<span class="sd">    new_matrix = TheMatrix.parse_obj(d)</span>
<span class="sd">    assert isinstance(new_matrix.choice, RedPill)</span>
<span class="sd">    ```</span>

<span class="sd">    It can also facilitate de-serializing objects when their type isn&#39;t known:</span>

<span class="sd">    ```python</span>
<span class="sd">    matrix = TheMatrix(choice=RedPill())</span>
<span class="sd">    d = matrix.dict()</span>
<span class="sd">    new_matrix = BaseTypedModel.from_dict(d)</span>
<span class="sd">    assert isinstance(new_matrix.choice, RedPill)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">model_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Instantiate a Pydantic model from a serialized JSON-able dict representation.</span>

<span class="sd">        Args:</span>
<span class="sd">            model_dict: the model attributes serialized as JSON-able dict.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A BaseTypedModel created from the serialized representation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the model_dict contains an invalid type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">model_type</span> <span class="o">=</span> <span class="n">model_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">model_type</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;`type` information is missing from the serialized model dict.&quot;</span>
            <span class="p">)</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="n">load_source_path_class</span><span class="p">(</span><span class="n">model_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">BaseTypedModel</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Class `</span><span class="si">{</span><span class="bp">cls</span><span class="si">}</span><span class="s2">` is not a ZenML BaseTypedModel subclass.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">model_dict</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">json_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Instantiate a Pydantic model from a serialized JSON representation.</span>

<span class="sd">        Args:</span>
<span class="sd">            json_str: the model attributes serialized as JSON.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A BaseTypedModel created from the serialized representation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">model_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">model_dict</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.typed_model.BaseTypedModel.from_dict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">model_dict</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Instantiate a Pydantic model from a serialized JSON-able dict representation.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_dict</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>the model attributes serialized as JSON-able dict.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseTypedModel</code></td>
      <td><p>A BaseTypedModel created from the serialized representation.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the model_dict contains an invalid type.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/typed_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">model_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Instantiate a Pydantic model from a serialized JSON-able dict representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_dict: the model attributes serialized as JSON-able dict.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A BaseTypedModel created from the serialized representation.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the model_dict contains an invalid type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_type</span> <span class="o">=</span> <span class="n">model_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">model_type</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;`type` information is missing from the serialized model dict.&quot;</span>
        <span class="p">)</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">load_source_path_class</span><span class="p">(</span><span class="n">model_type</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">BaseTypedModel</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Class `</span><span class="si">{</span><span class="bp">cls</span><span class="si">}</span><span class="s2">` is not a ZenML BaseTypedModel subclass.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">model_dict</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.typed_model.BaseTypedModel.from_json" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_json</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Instantiate a Pydantic model from a serialized JSON representation.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>json_str</code></td>
        <td><code>str</code></td>
        <td><p>the model attributes serialized as JSON.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseTypedModel</code></td>
      <td><p>A BaseTypedModel created from the serialized representation.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/typed_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">json_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Instantiate a Pydantic model from a serialized JSON representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        json_str: the model attributes serialized as JSON.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A BaseTypedModel created from the serialized representation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">model_dict</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.typed_model.BaseTypedModelMeta" class="doc doc-heading">
        <code>
BaseTypedModelMeta            (<span title="pydantic.main.ModelMetaclass">ModelMetaclass</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Metaclass responsible for adding type information to Pydantic models.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/typed_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseTypedModelMeta</span><span class="p">(</span><span class="n">ModelMetaclass</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Metaclass responsible for adding type information to Pydantic models.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
        <span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModelMeta&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a Pydantic BaseModel class.</span>

<span class="sd">        This includes a hidden attribute that reflects the full class</span>
<span class="sd">        identifier.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the class.</span>
<span class="sd">            bases: The base classes of the class.</span>
<span class="sd">            dct: The class dictionary.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A Pydantic BaseModel class that includes a hidden attribute that</span>
<span class="sd">            reflects the full class identifier.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the class is not a Pydantic BaseModel class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;type&quot;</span> <span class="ow">in</span> <span class="n">dct</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;`type` is a reserved attribute name for BaseTypedModel &quot;</span>
                <span class="s2">&quot;subclasses&quot;</span>
            <span class="p">)</span>
        <span class="n">type_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dct</span><span class="p">[</span><span class="s1">&#39;__module__&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">dct</span><span class="p">[</span><span class="s1">&#39;__qualname__&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">type_ann</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">[</span><span class="n">type_name</span><span class="p">]</span>  <span class="c1"># type: ignore [misc,valid-type]</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">type_name</span><span class="p">)</span>
        <span class="n">dct</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;__annotations__&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">())[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">type_ann</span>
        <span class="n">dct</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">type</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">],</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.typed_model.BaseTypedModelMeta.__new__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Creates a Pydantic BaseModel class.</p>
<p>This includes a hidden attribute that reflects the full class
identifier.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the class.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>bases</code></td>
        <td><code>Tuple[Type[Any], ...]</code></td>
        <td><p>The base classes of the class.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dct</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>The class dictionary.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseTypedModelMeta</code></td>
      <td><p>A Pydantic BaseModel class that includes a hidden attribute that
reflects the full class identifier.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If the class is not a Pydantic BaseModel class.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/typed_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
    <span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModelMeta&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a Pydantic BaseModel class.</span>

<span class="sd">    This includes a hidden attribute that reflects the full class</span>
<span class="sd">    identifier.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the class.</span>
<span class="sd">        bases: The base classes of the class.</span>
<span class="sd">        dct: The class dictionary.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A Pydantic BaseModel class that includes a hidden attribute that</span>
<span class="sd">        reflects the full class identifier.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If the class is not a Pydantic BaseModel class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;type&quot;</span> <span class="ow">in</span> <span class="n">dct</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="s2">&quot;`type` is a reserved attribute name for BaseTypedModel &quot;</span>
            <span class="s2">&quot;subclasses&quot;</span>
        <span class="p">)</span>
    <span class="n">type_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dct</span><span class="p">[</span><span class="s1">&#39;__module__&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">dct</span><span class="p">[</span><span class="s1">&#39;__qualname__&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">type_ann</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">[</span><span class="n">type_name</span><span class="p">]</span>  <span class="c1"># type: ignore [misc,valid-type]</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">type_name</span><span class="p">)</span>
    <span class="n">dct</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;__annotations__&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">())[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">type_ann</span>
    <span class="n">dct</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">type</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
        <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">],</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.uuid_utils" class="doc doc-heading">
        <code>uuid_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions for handling UUIDs.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.uuid_utils.is_valid_uuid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_valid_uuid</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Checks if a string is a valid UUID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>String to check.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>int</code></td>
        <td><p>Version of UUID to check for.</p></td>
        <td><code>4</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if string is a valid UUID, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/uuid_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_valid_uuid</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks if a string is a valid UUID.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: String to check.</span>
<span class="sd">        version: Version of UUID to check for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if string is a valid UUID, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">UUID</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.uuid_utils.parse_name_or_uuid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse_name_or_uuid</span><span class="p">(</span><span class="n">name_or_id</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Convert a "name or id" string value to a string or UUID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name_or_id</code></td>
        <td><code>str</code></td>
        <td><p>Name or id to convert.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[str, uuid.UUID]</code></td>
      <td><p>A UUID if name_or_id is a UUID, string otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/uuid_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse_name_or_uuid</span><span class="p">(</span><span class="n">name_or_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Convert a &quot;name or id&quot; string value to a string or UUID.</span>

<span class="sd">    Args:</span>
<span class="sd">        name_or_id: Name or id to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A UUID if name_or_id is a UUID, string otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name_or_id</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">UUID</span><span class="p">(</span><span class="n">name_or_id</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">name_or_id</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">name_or_id</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.uuid_utils.parse_optional_name_or_uuid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse_optional_name_or_uuid</span><span class="p">(</span><span class="n">name_or_id</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Convert an optional "name or id" string value to an optional string or UUID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name_or_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name or id to convert.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[str, uuid.UUID]</code></td>
      <td><p>A UUID if name_or_id is a UUID, string otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/uuid_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse_optional_name_or_uuid</span><span class="p">(</span>
    <span class="n">name_or_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Convert an optional &quot;name or id&quot; string value to an optional string or UUID.</span>

<span class="sd">    Args:</span>
<span class="sd">        name_or_id: Name or id to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A UUID if name_or_id is a UUID, string otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name_or_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">parse_name_or_uuid</span><span class="p">(</span><span class="n">name_or_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.yaml_utils" class="doc doc-heading">
        <code>yaml_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions to help with YAML files and data.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.yaml_utils.UUIDEncoder" class="doc doc-heading">
        <code>
UUIDEncoder            (<span title="json.encoder.JSONEncoder">JSONEncoder</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>JSON encoder for UUID objects.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">UUIDEncoder</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">JSONEncoder</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;JSON encoder for UUID objects.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Default UUID encoder for JSON.</span>

<span class="sd">        Args:</span>
<span class="sd">            obj: Object to encode.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Encoded object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
            <span class="c1"># if the obj is uuid, we simply return the value of uuid</span>
            <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">hex</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.yaml_utils.UUIDEncoder.default" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Default UUID encoder for JSON.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>obj</code></td>
        <td><code>Any</code></td>
        <td><p>Object to encode.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>Encoded object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Default UUID encoder for JSON.</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: Object to encode.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Encoded object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
        <span class="c1"># if the obj is uuid, we simply return the value of uuid</span>
        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">hex</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.yaml_utils.append_yaml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">append_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">contents</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Append contents to a YAML file at file_path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to YAML file.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>contents</code></td>
        <td><code>Dict[Any, Any]</code></td>
        <td><p>Contents of YAML file as dict.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileNotFoundError</code></td>
        <td><p>if directory does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">append_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">contents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Append contents to a YAML file at file_path.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to YAML file.</span>
<span class="sd">        contents: Contents of YAML file as dict.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if directory does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">file_contents</span> <span class="o">=</span> <span class="n">read_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">file_contents</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">dir_</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Directory </span><span class="si">{</span><span class="n">dir_</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">write_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">file_contents</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.yaml_utils.comment_out_yaml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">comment_out_yaml</span><span class="p">(</span><span class="n">yaml_string</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Comments out a yaml string.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>yaml_string</code></td>
        <td><code>str</code></td>
        <td><p>The yaml string to comment out.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The commented out yaml string.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">comment_out_yaml</span><span class="p">(</span><span class="n">yaml_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Comments out a yaml string.</span>

<span class="sd">    Args:</span>
<span class="sd">        yaml_string: The yaml string to comment out.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The commented out yaml string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">yaml_string</span><span class="o">.</span><span class="n">splitlines</span><span class="p">(</span><span class="n">keepends</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;# &quot;</span> <span class="o">+</span> <span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">]</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.yaml_utils.is_yaml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns True if file_path is YAML, else False.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to YAML file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if is yaml, else False.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns True if file_path is YAML, else False.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to YAML file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if is yaml, else False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">file_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;yaml&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">file_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;yml&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.yaml_utils.read_json" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Read JSON on file path and returns contents as dict.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to JSON file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>Contents of the file in a dict.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileNotFoundError</code></td>
        <td><p>if file does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Read JSON on file path and returns contents as dict.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to JSON file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Contents of the file in a dict.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if file does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.yaml_utils.read_yaml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Read YAML on file path and returns contents as dict.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to YAML file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>Contents of the file in a dict.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileNotFoundError</code></td>
        <td><p>if file does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Read YAML on file path and returns contents as dict.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to YAML file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Contents of the file in a dict.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if file does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="c1"># TODO: [LOW] consider adding a default empty dict to be returned</span>
        <span class="c1">#   instead of None</span>
        <span class="k">return</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.yaml_utils.write_json" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">contents</span><span class="p">,</span> <span class="n">encoder</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Write contents as JSON format to file_path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to JSON file.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>contents</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>Contents of JSON file as dict.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>encoder</code></td>
        <td><code>Optional[Type[json.encoder.JSONEncoder]]</code></td>
        <td><p>Custom JSON encoder to use when saving json.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileNotFoundError</code></td>
        <td><p>if directory does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_json</span><span class="p">(</span>
    <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">contents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">encoder</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">json</span><span class="o">.</span><span class="n">JSONEncoder</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Write contents as JSON format to file_path.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to JSON file.</span>
<span class="sd">        contents: Contents of JSON file as dict.</span>
<span class="sd">        encoder: Custom JSON encoder to use when saving json.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if directory does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">dir_</span><span class="p">):</span>
            <span class="c1"># Check if it is a local path, if it doesn&#39;t exist, raise Exception.</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Directory </span><span class="si">{</span><span class="n">dir_</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">write_file_contents_as_string</span><span class="p">(</span>
        <span class="n">file_path</span><span class="p">,</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
            <span class="n">contents</span><span class="p">,</span>
            <span class="bp">cls</span><span class="o">=</span><span class="n">encoder</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.yaml_utils.write_yaml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">contents</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Write contents as YAML format to file_path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to YAML file.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>contents</code></td>
        <td><code>Dict[Any, Any]</code></td>
        <td><p>Contents of YAML file as dict.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>sort_keys</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, keys are sorted alphabetically. If <code>False</code>,
the order in which the keys were inserted into the dict will
be preserved.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileNotFoundError</code></td>
        <td><p>if directory does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_yaml</span><span class="p">(</span>
    <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">contents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">sort_keys</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Write contents as YAML format to file_path.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to YAML file.</span>
<span class="sd">        contents: Contents of YAML file as dict.</span>
<span class="sd">        sort_keys: If `True`, keys are sorted alphabetically. If `False`,</span>
<span class="sd">            the order in which the keys were inserted into the dict will</span>
<span class="sd">            be preserved.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if directory does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">dir_</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Directory </span><span class="si">{</span><span class="n">dir_</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">write_file_contents_as_string</span><span class="p">(</span>
        <span class="n">file_path</span><span class="p">,</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="n">sort_keys</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../steps/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Steps" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Steps
            </div>
          </div>
        </a>
      
      
        
        <a href="../visualizers/" class="md-footer__link md-footer__link--next" aria-label="Next: Visualizers" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Visualizers
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH – <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.b028fd86.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.0f659f14.min.js"></script>
      
    
  </body>
</html>