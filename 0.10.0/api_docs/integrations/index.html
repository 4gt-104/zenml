
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://apidocs.zenml.io/0.10.0/api_docs/integrations/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.15">
    
    
      
        <title>Integrations - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.c382b1dc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#integrations" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Integrations
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Api docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Api docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Api docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Integrations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Integrations
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.integrations" class="md-nav__link">
    integrations
  </a>
  
    <nav class="md-nav" aria-label="integrations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow" class="md-nav__link">
    airflow
  </a>
  
    <nav class="md-nav" aria-label="airflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow.AirflowIntegration" class="md-nav__link">
    AirflowIntegration
  </a>
  
    <nav class="md-nav" aria-label="AirflowIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow.AirflowIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow.orchestrators.airflow_orchestrator" class="md-nav__link">
    airflow_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="airflow_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator" class="md-nav__link">
    AirflowOrchestrator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.prepare_or_run_pipeline--how-it-works" class="md-nav__link">
    How it works:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws" class="md-nav__link">
    aws
  </a>
  
    <nav class="md-nav" aria-label="aws">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.AWSIntegration" class="md-nav__link">
    AWSIntegration
  </a>
  
    <nav class="md-nav" aria-label="AWSIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.AWSIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.container_registries" class="md-nav__link">
    container_registries
  </a>
  
    <nav class="md-nav" aria-label="container_registries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.container_registries.aws_container_registry" class="md-nav__link">
    aws_container_registry
  </a>
  
    <nav class="md-nav" aria-label="aws_container_registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.container_registries.aws_container_registry.AWSContainerRegistry" class="md-nav__link">
    AWSContainerRegistry
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.secrets_managers" class="md-nav__link">
    secrets_managers
  </a>
  
    <nav class="md-nav" aria-label="secrets_managers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.secrets_managers.aws_secrets_manager" class="md-nav__link">
    aws_secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="aws_secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.secrets_managers.aws_secrets_manager.AWSSecretsManager" class="md-nav__link">
    AWSSecretsManager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.secrets_managers.aws_secrets_manager.jsonify_secret_contents" class="md-nav__link">
    jsonify_secret_contents()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.step_operators" class="md-nav__link">
    step_operators
  </a>
  
    <nav class="md-nav" aria-label="step_operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.step_operators.sagemaker_step_operator" class="md-nav__link">
    sagemaker_step_operator
  </a>
  
    <nav class="md-nav" aria-label="sagemaker_step_operator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.step_operators.sagemaker_step_operator.SagemakerStepOperator" class="md-nav__link">
    SagemakerStepOperator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure" class="md-nav__link">
    azure
  </a>
  
    <nav class="md-nav" aria-label="azure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.AzureIntegration" class="md-nav__link">
    AzureIntegration
  </a>
  
    <nav class="md-nav" aria-label="AzureIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.AzureIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores" class="md-nav__link">
    artifact_stores
  </a>
  
    <nav class="md-nav" aria-label="artifact_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store" class="md-nav__link">
    azure_artifact_store
  </a>
  
    <nav class="md-nav" aria-label="azure_artifact_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore" class="md-nav__link">
    AzureArtifactStore
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.secrets_managers" class="md-nav__link">
    secrets_managers
  </a>
  
    <nav class="md-nav" aria-label="secrets_managers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.secrets_managers.azure_secrets_manager" class="md-nav__link">
    azure_secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="azure_secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.secrets_managers.azure_secrets_manager.AzureSecretsManager" class="md-nav__link">
    AzureSecretsManager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.secrets_managers.azure_secrets_manager.prepend_group_name_to_keys" class="md-nav__link">
    prepend_group_name_to_keys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.secrets_managers.azure_secrets_manager.remove_group_name_from_key" class="md-nav__link">
    remove_group_name_from_key()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators" class="md-nav__link">
    step_operators
  </a>
  
    <nav class="md-nav" aria-label="step_operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator" class="md-nav__link">
    azureml_step_operator
  </a>
  
    <nav class="md-nav" aria-label="azureml_step_operator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator" class="md-nav__link">
    AzureMLStepOperator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.constants" class="md-nav__link">
    constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.dash" class="md-nav__link">
    dash
  </a>
  
    <nav class="md-nav" aria-label="dash">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.dash.DashIntegration" class="md-nav__link">
    DashIntegration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.dash.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.dash.visualizers.pipeline_run_lineage_visualizer" class="md-nav__link">
    pipeline_run_lineage_visualizer
  </a>
  
    <nav class="md-nav" aria-label="pipeline_run_lineage_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.dash.visualizers.pipeline_run_lineage_visualizer.PipelineRunLineageVisualizer" class="md-nav__link">
    PipelineRunLineageVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently" class="md-nav__link">
    evidently
  </a>
  
    <nav class="md-nav" aria-label="evidently">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.EvidentlyIntegration" class="md-nav__link">
    EvidentlyIntegration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.steps.evidently_profile" class="md-nav__link">
    evidently_profile
  </a>
  
    <nav class="md-nav" aria-label="evidently_profile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.steps.evidently_profile.EvidentlyProfileConfig" class="md-nav__link">
    EvidentlyProfileConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.steps.evidently_profile.EvidentlyProfileStep" class="md-nav__link">
    EvidentlyProfileStep
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.visualizers.evidently_visualizer" class="md-nav__link">
    evidently_visualizer
  </a>
  
    <nav class="md-nav" aria-label="evidently_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.visualizers.evidently_visualizer.EvidentlyVisualizer" class="md-nav__link">
    EvidentlyVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.facets" class="md-nav__link">
    facets
  </a>
  
    <nav class="md-nav" aria-label="facets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.facets.FacetsIntegration" class="md-nav__link">
    FacetsIntegration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.facets.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.facets.visualizers.facet_statistics_visualizer" class="md-nav__link">
    facet_statistics_visualizer
  </a>
  
    <nav class="md-nav" aria-label="facet_statistics_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.facets.visualizers.facet_statistics_visualizer.FacetStatisticsVisualizer" class="md-nav__link">
    FacetStatisticsVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.feast" class="md-nav__link">
    feast
  </a>
  
    <nav class="md-nav" aria-label="feast">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.feast.FeastIntegration" class="md-nav__link">
    FeastIntegration
  </a>
  
    <nav class="md-nav" aria-label="FeastIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.feast.FeastIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.feast.feature_stores" class="md-nav__link">
    feature_stores
  </a>
  
    <nav class="md-nav" aria-label="feature_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.feast.feature_stores.feast_feature_store" class="md-nav__link">
    feast_feature_store
  </a>
  
    <nav class="md-nav" aria-label="feast_feature_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.feast.feature_stores.feast_feature_store.FeastFeatureStore" class="md-nav__link">
    FeastFeatureStore
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp" class="md-nav__link">
    gcp
  </a>
  
    <nav class="md-nav" aria-label="gcp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.GcpIntegration" class="md-nav__link">
    GcpIntegration
  </a>
  
    <nav class="md-nav" aria-label="GcpIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.GcpIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.artifact_stores" class="md-nav__link">
    artifact_stores
  </a>
  
    <nav class="md-nav" aria-label="artifact_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.artifact_stores.gcp_artifact_store" class="md-nav__link">
    gcp_artifact_store
  </a>
  
    <nav class="md-nav" aria-label="gcp_artifact_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore" class="md-nav__link">
    GCPArtifactStore
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.constants" class="md-nav__link">
    constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.google_credentials_mixin" class="md-nav__link">
    google_credentials_mixin
  </a>
  
    <nav class="md-nav" aria-label="google_credentials_mixin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.google_credentials_mixin.GoogleCredentialsMixin" class="md-nav__link">
    GoogleCredentialsMixin
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators.vertex_entrypoint_configuration" class="md-nav__link">
    vertex_entrypoint_configuration
  </a>
  
    <nav class="md-nav" aria-label="vertex_entrypoint_configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators.vertex_entrypoint_configuration.VertexEntrypointConfiguration" class="md-nav__link">
    VertexEntrypointConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators.vertex_orchestrator" class="md-nav__link">
    vertex_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="vertex_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator" class="md-nav__link">
    VertexOrchestrator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator.prepare_or_run_pipeline--noqa-dar402" class="md-nav__link">
    noqa: DAR402
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator.prepare_or_run_pipeline--how-it-works" class="md-nav__link">
    How it works:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.secrets_manager" class="md-nav__link">
    secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.secrets_manager.gcp_secrets_manager" class="md-nav__link">
    gcp_secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="gcp_secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.GCPSecretsManager" class="md-nav__link">
    GCPSecretsManager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.prepend_group_name_to_keys" class="md-nav__link">
    prepend_group_name_to_keys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.remove_group_name_from_key" class="md-nav__link">
    remove_group_name_from_key()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.step_operators" class="md-nav__link">
    step_operators
  </a>
  
    <nav class="md-nav" aria-label="step_operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.step_operators.vertex_step_operator" class="md-nav__link">
    vertex_step_operator
  </a>
  
    <nav class="md-nav" aria-label="vertex_step_operator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.step_operators.vertex_step_operator.VertexStepOperator" class="md-nav__link">
    VertexStepOperator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github" class="md-nav__link">
    github
  </a>
  
    <nav class="md-nav" aria-label="github">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.GitHubIntegration" class="md-nav__link">
    GitHubIntegration
  </a>
  
    <nav class="md-nav" aria-label="GitHubIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.GitHubIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.orchestrators.github_actions_entrypoint_configuration" class="md-nav__link">
    github_actions_entrypoint_configuration
  </a>
  
    <nav class="md-nav" aria-label="github_actions_entrypoint_configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.orchestrators.github_actions_entrypoint_configuration.GitHubActionsEntrypointConfiguration" class="md-nav__link">
    GitHubActionsEntrypointConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.orchestrators.github_actions_orchestrator" class="md-nav__link">
    github_actions_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="github_actions_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.orchestrators.github_actions_orchestrator.GitHubActionsOrchestrator" class="md-nav__link">
    GitHubActionsOrchestrator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.secrets_managers" class="md-nav__link">
    secrets_managers
  </a>
  
    <nav class="md-nav" aria-label="secrets_managers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.secrets_managers.github_secrets_manager" class="md-nav__link">
    github_secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="github_secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.secrets_managers.github_secrets_manager.GitHubSecretsManager" class="md-nav__link">
    GitHubSecretsManager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.secrets_managers.github_secrets_manager.inside_github_action_environment" class="md-nav__link">
    inside_github_action_environment()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.graphviz" class="md-nav__link">
    graphviz
  </a>
  
    <nav class="md-nav" aria-label="graphviz">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.graphviz.GraphvizIntegration" class="md-nav__link">
    GraphvizIntegration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.graphviz.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.graphviz.visualizers.pipeline_run_dag_visualizer" class="md-nav__link">
    pipeline_run_dag_visualizer
  </a>
  
    <nav class="md-nav" aria-label="pipeline_run_dag_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.graphviz.visualizers.pipeline_run_dag_visualizer.PipelineRunDagVisualizer" class="md-nav__link">
    PipelineRunDagVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations" class="md-nav__link">
    great_expectations
  </a>
  
    <nav class="md-nav" aria-label="great_expectations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.GreatExpectationsIntegration" class="md-nav__link">
    GreatExpectationsIntegration
  </a>
  
    <nav class="md-nav" aria-label="GreatExpectationsIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.GreatExpectationsIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.GreatExpectationsIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.data_validators" class="md-nav__link">
    data_validators
  </a>
  
    <nav class="md-nav" aria-label="data_validators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.data_validators.ge_data_validator" class="md-nav__link">
    ge_data_validator
  </a>
  
    <nav class="md-nav" aria-label="ge_data_validator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.data_validators.ge_data_validator.GreatExpectationsDataValidator" class="md-nav__link">
    GreatExpectationsDataValidator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend" class="md-nav__link">
    ge_store_backend
  </a>
  
    <nav class="md-nav" aria-label="ge_store_backend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend" class="md-nav__link">
    ZenMLArtifactStoreBackend
  </a>
  
    <nav class="md-nav" aria-label="ZenMLArtifactStoreBackend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.get_public_url_for_key" class="md-nav__link">
    get_public_url_for_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.get_url_for_key" class="md-nav__link">
    get_url_for_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.list_keys" class="md-nav__link">
    list_keys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.remove_key" class="md-nav__link">
    remove_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.rrmdir" class="md-nav__link">
    rrmdir()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.materializers.ge_materializer" class="md-nav__link">
    ge_materializer
  </a>
  
    <nav class="md-nav" aria-label="ge_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.materializers.ge_materializer.GreatExpectationsMaterializer" class="md-nav__link">
    GreatExpectationsMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.ge_profiler" class="md-nav__link">
    ge_profiler
  </a>
  
    <nav class="md-nav" aria-label="ge_profiler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.ge_profiler.GreatExpectationsProfilerConfig" class="md-nav__link">
    GreatExpectationsProfilerConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.ge_profiler.GreatExpectationsProfilerStep" class="md-nav__link">
    GreatExpectationsProfilerStep
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.ge_validator" class="md-nav__link">
    ge_validator
  </a>
  
    <nav class="md-nav" aria-label="ge_validator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.ge_validator.GreatExpectationsValidatorConfig" class="md-nav__link">
    GreatExpectationsValidatorConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.ge_validator.GreatExpectationsValidatorStep" class="md-nav__link">
    GreatExpectationsValidatorStep
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.utils.create_batch_request" class="md-nav__link">
    create_batch_request()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.visualizers.ge_visualizer" class="md-nav__link">
    ge_visualizer
  </a>
  
    <nav class="md-nav" aria-label="ge_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.visualizers.ge_visualizer.GreatExpectationsVisualizer" class="md-nav__link">
    GreatExpectationsVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface" class="md-nav__link">
    huggingface
  </a>
  
    <nav class="md-nav" aria-label="huggingface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.HuggingfaceIntegration" class="md-nav__link">
    HuggingfaceIntegration
  </a>
  
    <nav class="md-nav" aria-label="HuggingfaceIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.HuggingfaceIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer" class="md-nav__link">
    huggingface_datasets_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_datasets_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer" class="md-nav__link">
    HFDatasetMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer" class="md-nav__link">
    huggingface_pt_model_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_pt_model_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer" class="md-nav__link">
    HFPTModelMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer" class="md-nav__link">
    huggingface_tf_model_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_tf_model_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer" class="md-nav__link">
    HFTFModelMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer" class="md-nav__link">
    huggingface_tokenizer_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_tokenizer_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer" class="md-nav__link">
    HFTokenizerMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration" class="md-nav__link">
    integration
  </a>
  
    <nav class="md-nav" aria-label="integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration.Integration" class="md-nav__link">
    Integration
  </a>
  
    <nav class="md-nav" aria-label="Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration.Integration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration.Integration.check_installation" class="md-nav__link">
    check_installation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration.Integration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration.IntegrationMeta" class="md-nav__link">
    IntegrationMeta
  </a>
  
    <nav class="md-nav" aria-label="IntegrationMeta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration.IntegrationMeta.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow" class="md-nav__link">
    kubeflow
  </a>
  
    <nav class="md-nav" aria-label="kubeflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.KubeflowIntegration" class="md-nav__link">
    KubeflowIntegration
  </a>
  
    <nav class="md-nav" aria-label="KubeflowIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.KubeflowIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.metadata_stores" class="md-nav__link">
    metadata_stores
  </a>
  
    <nav class="md-nav" aria-label="metadata_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store" class="md-nav__link">
    kubeflow_metadata_store
  </a>
  
    <nav class="md-nav" aria-label="kubeflow_metadata_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore" class="md-nav__link">
    KubeflowMetadataStore
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.inside_kfp_pod" class="md-nav__link">
    inside_kfp_pod()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.kubeflow_entrypoint_configuration" class="md-nav__link">
    kubeflow_entrypoint_configuration
  </a>
  
    <nav class="md-nav" aria-label="kubeflow_entrypoint_configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.kubeflow_entrypoint_configuration.KubeflowEntrypointConfiguration" class="md-nav__link">
    KubeflowEntrypointConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator" class="md-nav__link">
    kubeflow_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="kubeflow_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator" class="md-nav__link">
    KubeflowOrchestrator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.prepare_or_run_pipeline--how-it-works" class="md-nav__link">
    How it works:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils" class="md-nav__link">
    local_deployment_utils
  </a>
  
    <nav class="md-nav" aria-label="local_deployment_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.add_hostpath_to_kubeflow_pipelines" class="md-nav__link">
    add_hostpath_to_kubeflow_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.check_prerequisites" class="md-nav__link">
    check_prerequisites()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.create_k3d_cluster" class="md-nav__link">
    create_k3d_cluster()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.delete_k3d_cluster" class="md-nav__link">
    delete_k3d_cluster()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.deploy_kubeflow_pipelines" class="md-nav__link">
    deploy_kubeflow_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.k3d_cluster_exists" class="md-nav__link">
    k3d_cluster_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.k3d_cluster_running" class="md-nav__link">
    k3d_cluster_running()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.kubeflow_pipelines_ready" class="md-nav__link">
    kubeflow_pipelines_ready()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.start_k3d_cluster" class="md-nav__link">
    start_k3d_cluster()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.start_kfp_ui_daemon" class="md-nav__link">
    start_kfp_ui_daemon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.stop_k3d_cluster" class="md-nav__link">
    stop_k3d_cluster()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.stop_kfp_ui_daemon" class="md-nav__link">
    stop_kfp_ui_daemon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.wait_until_kubeflow_pipelines_ready" class="md-nav__link">
    wait_until_kubeflow_pipelines_ready()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.write_local_registry_yaml" class="md-nav__link">
    write_local_registry_yaml()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.utils.dump_ui_metadata" class="md-nav__link">
    dump_ui_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.utils.mount_config_map_op" class="md-nav__link">
    mount_config_map_op()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes" class="md-nav__link">
    kubernetes
  </a>
  
    <nav class="md-nav" aria-label="kubernetes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.KubernetesIntegration" class="md-nav__link">
    KubernetesIntegration
  </a>
  
    <nav class="md-nav" aria-label="KubernetesIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.KubernetesIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.metadata_stores" class="md-nav__link">
    metadata_stores
  </a>
  
    <nav class="md-nav" aria-label="metadata_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store" class="md-nav__link">
    kubernetes_metadata_store
  </a>
  
    <nav class="md-nav" aria-label="kubernetes_metadata_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore" class="md-nav__link">
    KubernetesMetadataStore
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.dag_runner" class="md-nav__link">
    dag_runner
  </a>
  
    <nav class="md-nav" aria-label="dag_runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.dag_runner.NodeStatus" class="md-nav__link">
    NodeStatus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.dag_runner.ThreadedDagRunner" class="md-nav__link">
    ThreadedDagRunner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.dag_runner.reverse_dag" class="md-nav__link">
    reverse_dag()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils" class="md-nav__link">
    kube_utils
  </a>
  
    <nav class="md-nav" aria-label="kube_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.PodPhase" class="md-nav__link">
    PodPhase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.create_edit_service_account" class="md-nav__link">
    create_edit_service_account()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.create_mysql_deployment" class="md-nav__link">
    create_mysql_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.create_namespace" class="md-nav__link">
    create_namespace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.delete_deployment" class="md-nav__link">
    delete_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.get_pod" class="md-nav__link">
    get_pod()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.is_inside_kubernetes" class="md-nav__link">
    is_inside_kubernetes()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.load_kube_config" class="md-nav__link">
    load_kube_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.pod_failed" class="md-nav__link">
    pod_failed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.pod_is_done" class="md-nav__link">
    pod_is_done()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.pod_is_not_pending" class="md-nav__link">
    pod_is_not_pending()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.sanitize_pod_name" class="md-nav__link">
    sanitize_pod_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.wait_pod" class="md-nav__link">
    wait_pod()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator" class="md-nav__link">
    kubernetes_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="kubernetes_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator.KubernetesOrchestrator" class="md-nav__link">
    KubernetesOrchestrator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint" class="md-nav__link">
    kubernetes_orchestrator_entrypoint
  </a>
  
    <nav class="md-nav" aria-label="kubernetes_orchestrator_entrypoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint.main" class="md-nav__link">
    main()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint.parse_args" class="md-nav__link">
    parse_args()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint.patch_run_name_for_cron_scheduling" class="md-nav__link">
    patch_run_name_for_cron_scheduling()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint_configuration" class="md-nav__link">
    kubernetes_orchestrator_entrypoint_configuration
  </a>
  
    <nav class="md-nav" aria-label="kubernetes_orchestrator_entrypoint_configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint_configuration.KubernetesOrchestratorEntrypointConfiguration" class="md-nav__link">
    KubernetesOrchestratorEntrypointConfiguration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint_configuration.split_step_args" class="md-nav__link">
    split_step_args()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_step_entrypoint_configuration" class="md-nav__link">
    kubernetes_step_entrypoint_configuration
  </a>
  
    <nav class="md-nav" aria-label="kubernetes_step_entrypoint_configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_step_entrypoint_configuration.KubernetesStepEntrypointConfiguration" class="md-nav__link">
    KubernetesStepEntrypointConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils" class="md-nav__link">
    manifest_utils
  </a>
  
    <nav class="md-nav" aria-label="manifest_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_cluster_role_binding_manifest_for_service_account" class="md-nav__link">
    build_cluster_role_binding_manifest_for_service_account()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_cron_job_manifest" class="md-nav__link">
    build_cron_job_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_mysql_deployment_manifest" class="md-nav__link">
    build_mysql_deployment_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_mysql_service_manifest" class="md-nav__link">
    build_mysql_service_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_namespace_manifest" class="md-nav__link">
    build_namespace_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_persistent_volume_claim_manifest" class="md-nav__link">
    build_persistent_volume_claim_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_persistent_volume_manifest" class="md-nav__link">
    build_persistent_volume_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_pod_manifest" class="md-nav__link">
    build_pod_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_service_account_manifest" class="md-nav__link">
    build_service_account_manifest()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm" class="md-nav__link">
    lightgbm
  </a>
  
    <nav class="md-nav" aria-label="lightgbm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.LightGBMIntegration" class="md-nav__link">
    LightGBMIntegration
  </a>
  
    <nav class="md-nav" aria-label="LightGBMIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.LightGBMIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.materializers.lightgbm_booster_materializer" class="md-nav__link">
    lightgbm_booster_materializer
  </a>
  
    <nav class="md-nav" aria-label="lightgbm_booster_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.materializers.lightgbm_booster_materializer.LightGBMBoosterMaterializer" class="md-nav__link">
    LightGBMBoosterMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.materializers.lightgbm_dataset_materializer" class="md-nav__link">
    lightgbm_dataset_materializer
  </a>
  
    <nav class="md-nav" aria-label="lightgbm_dataset_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.materializers.lightgbm_dataset_materializer.LightGBMDatasetMaterializer" class="md-nav__link">
    LightGBMDatasetMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow" class="md-nav__link">
    mlflow
  </a>
  
    <nav class="md-nav" aria-label="mlflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.MlflowIntegration" class="md-nav__link">
    MlflowIntegration
  </a>
  
    <nav class="md-nav" aria-label="MlflowIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.MlflowIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.MlflowIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.experiment_trackers" class="md-nav__link">
    experiment_trackers
  </a>
  
    <nav class="md-nav" aria-label="experiment_trackers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker" class="md-nav__link">
    mlflow_experiment_tracker
  </a>
  
    <nav class="md-nav" aria-label="mlflow_experiment_tracker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker.MLFlowExperimentTracker" class="md-nav__link">
    MLFlowExperimentTracker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_step_decorator" class="md-nav__link">
    mlflow_step_decorator
  </a>
  
    <nav class="md-nav" aria-label="mlflow_step_decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_step_decorator.enable_mlflow" class="md-nav__link">
    enable_mlflow()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_step_decorator.mlflow_step_entrypoint" class="md-nav__link">
    mlflow_step_entrypoint()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_utils" class="md-nav__link">
    mlflow_utils
  </a>
  
    <nav class="md-nav" aria-label="mlflow_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_utils.get_missing_mlflow_experiment_tracker_error" class="md-nav__link">
    get_missing_mlflow_experiment_tracker_error()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_utils.get_tracking_uri" class="md-nav__link">
    get_tracking_uri()
  </a>
  
    <nav class="md-nav" aria-label="get_tracking_uri()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_utils.get_tracking_uri--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.model_deployers" class="md-nav__link">
    model_deployers
  </a>
  
    <nav class="md-nav" aria-label="model_deployers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.model_deployers.mlflow_model_deployer" class="md-nav__link">
    mlflow_model_deployer
  </a>
  
    <nav class="md-nav" aria-label="mlflow_model_deployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.model_deployers.mlflow_model_deployer.MLFlowModelDeployer" class="md-nav__link">
    MLFlowModelDeployer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.services" class="md-nav__link">
    services
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.services.mlflow_deployment" class="md-nav__link">
    mlflow_deployment
  </a>
  
    <nav class="md-nav" aria-label="mlflow_deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentConfig" class="md-nav__link">
    MLFlowDeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentEndpoint" class="md-nav__link">
    MLFlowDeploymentEndpoint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentEndpointConfig" class="md-nav__link">
    MLFlowDeploymentEndpointConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentService" class="md-nav__link">
    MLFlowDeploymentService
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps.mlflow_deployer" class="md-nav__link">
    mlflow_deployer
  </a>
  
    <nav class="md-nav" aria-label="mlflow_deployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps.mlflow_deployer.MLFlowDeployerConfig" class="md-nav__link">
    MLFlowDeployerConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_model_deployer_step" class="md-nav__link">
    mlflow_model_deployer_step
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_model_deployer_step--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_model_deployer_step.entrypoint--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_deployer_step" class="md-nav__link">
    mlflow_deployer_step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.neural_prophet" class="md-nav__link">
    neural_prophet
  </a>
  
    <nav class="md-nav" aria-label="neural_prophet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.neural_prophet.NeuralProphetIntegration" class="md-nav__link">
    NeuralProphetIntegration
  </a>
  
    <nav class="md-nav" aria-label="NeuralProphetIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.neural_prophet.NeuralProphetIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.neural_prophet.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.neural_prophet.materializers.neural_prophet_materializer" class="md-nav__link">
    neural_prophet_materializer
  </a>
  
    <nav class="md-nav" aria-label="neural_prophet_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.neural_prophet.materializers.neural_prophet_materializer.NeuralProphetMaterializer" class="md-nav__link">
    NeuralProphetMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.plotly" class="md-nav__link">
    plotly
  </a>
  
    <nav class="md-nav" aria-label="plotly">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.plotly.PlotlyIntegration" class="md-nav__link">
    PlotlyIntegration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.plotly.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.plotly.visualizers.pipeline_lineage_visualizer" class="md-nav__link">
    pipeline_lineage_visualizer
  </a>
  
    <nav class="md-nav" aria-label="pipeline_lineage_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.plotly.visualizers.pipeline_lineage_visualizer.PipelineLineageVisualizer" class="md-nav__link">
    PipelineLineageVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch" class="md-nav__link">
    pytorch
  </a>
  
    <nav class="md-nav" aria-label="pytorch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.PytorchIntegration" class="md-nav__link">
    PytorchIntegration
  </a>
  
    <nav class="md-nav" aria-label="PytorchIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.PytorchIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.materializers.pytorch_dataloader_materializer" class="md-nav__link">
    pytorch_dataloader_materializer
  </a>
  
    <nav class="md-nav" aria-label="pytorch_dataloader_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.materializers.pytorch_dataloader_materializer.PyTorchDataLoaderMaterializer" class="md-nav__link">
    PyTorchDataLoaderMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.materializers.pytorch_module_materializer" class="md-nav__link">
    pytorch_module_materializer
  </a>
  
    <nav class="md-nav" aria-label="pytorch_module_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.materializers.pytorch_module_materializer.PyTorchModuleMaterializer" class="md-nav__link">
    PyTorchModuleMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch_lightning" class="md-nav__link">
    pytorch_lightning
  </a>
  
    <nav class="md-nav" aria-label="pytorch_lightning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch_lightning.PytorchLightningIntegration" class="md-nav__link">
    PytorchLightningIntegration
  </a>
  
    <nav class="md-nav" aria-label="PytorchLightningIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch_lightning.PytorchLightningIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch_lightning.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch_lightning.materializers.pytorch_lightning_materializer" class="md-nav__link">
    pytorch_lightning_materializer
  </a>
  
    <nav class="md-nav" aria-label="pytorch_lightning_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch_lightning.materializers.pytorch_lightning_materializer.PyTorchLightningMaterializer" class="md-nav__link">
    PyTorchLightningMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry" class="md-nav__link">
    registry
  </a>
  
    <nav class="md-nav" aria-label="registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry" class="md-nav__link">
    IntegrationRegistry
  </a>
  
    <nav class="md-nav" aria-label="IntegrationRegistry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.integrations" class="md-nav__link">
    integrations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.list_integration_names" class="md-nav__link">
    list_integration_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.activate_integrations" class="md-nav__link">
    activate_integrations()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.get_installed_integrations" class="md-nav__link">
    get_installed_integrations()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.register_integration" class="md-nav__link">
    register_integration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.select_integration_requirements" class="md-nav__link">
    select_integration_requirements()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.s3" class="md-nav__link">
    s3
  </a>
  
    <nav class="md-nav" aria-label="s3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.s3.S3Integration" class="md-nav__link">
    S3Integration
  </a>
  
    <nav class="md-nav" aria-label="S3Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.s3.S3Integration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.s3.artifact_stores" class="md-nav__link">
    artifact_stores
  </a>
  
    <nav class="md-nav" aria-label="artifact_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.s3.artifact_stores.s3_artifact_store" class="md-nav__link">
    s3_artifact_store
  </a>
  
    <nav class="md-nav" aria-label="s3_artifact_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore" class="md-nav__link">
    S3ArtifactStore
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.scipy" class="md-nav__link">
    scipy
  </a>
  
    <nav class="md-nav" aria-label="scipy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.scipy.ScipyIntegration" class="md-nav__link">
    ScipyIntegration
  </a>
  
    <nav class="md-nav" aria-label="ScipyIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.scipy.ScipyIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.scipy.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.scipy.materializers.sparse_materializer" class="md-nav__link">
    sparse_materializer
  </a>
  
    <nav class="md-nav" aria-label="sparse_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.scipy.materializers.sparse_materializer.SparseMaterializer" class="md-nav__link">
    SparseMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon" class="md-nav__link">
    seldon
  </a>
  
    <nav class="md-nav" aria-label="seldon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.SeldonIntegration" class="md-nav__link">
    SeldonIntegration
  </a>
  
    <nav class="md-nav" aria-label="SeldonIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.SeldonIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.SeldonIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.model_deployers" class="md-nav__link">
    model_deployers
  </a>
  
    <nav class="md-nav" aria-label="model_deployers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.model_deployers.seldon_model_deployer" class="md-nav__link">
    seldon_model_deployer
  </a>
  
    <nav class="md-nav" aria-label="seldon_model_deployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer" class="md-nav__link">
    SeldonModelDeployer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer.deploy_model--noqa-dar402" class="md-nav__link">
    noqa: DAR402
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.secret_schemas" class="md-nav__link">
    secret_schemas
  </a>
  
    <nav class="md-nav" aria-label="secret_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.secret_schemas.secret_schemas" class="md-nav__link">
    secret_schemas
  </a>
  
    <nav class="md-nav" aria-label="secret_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.secret_schemas.secret_schemas.SeldonAzureSecretSchema" class="md-nav__link">
    SeldonAzureSecretSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.secret_schemas.secret_schemas.SeldonGSSecretSchema" class="md-nav__link">
    SeldonGSSecretSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.secret_schemas.secret_schemas.SeldonS3SecretSchema" class="md-nav__link">
    SeldonS3SecretSchema
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client" class="md-nav__link">
    seldon_client
  </a>
  
    <nav class="md-nav" aria-label="seldon_client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient" class="md-nav__link">
    SeldonClient
  </a>
  
    <nav class="md-nav" aria-label="SeldonClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.namespace" class="md-nav__link">
    namespace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.create_deployment" class="md-nav__link">
    create_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.create_or_update_secret" class="md-nav__link">
    create_or_update_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.delete_deployment" class="md-nav__link">
    delete_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.find_deployments" class="md-nav__link">
    find_deployments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.get_deployment" class="md-nav__link">
    get_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.get_deployment_logs" class="md-nav__link">
    get_deployment_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.sanitize_labels" class="md-nav__link">
    sanitize_labels()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.update_deployment" class="md-nav__link">
    update_deployment()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClientError" class="md-nav__link">
    SeldonClientError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClientTimeout" class="md-nav__link">
    SeldonClientTimeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment" class="md-nav__link">
    SeldonDeployment
  </a>
  
    <nav class="md-nav" aria-label="SeldonDeployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.state" class="md-nav__link">
    state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.build" class="md-nav__link">
    build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.get_error" class="md-nav__link">
    get_error()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.get_pending_message" class="md-nav__link">
    get_pending_message()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.is_available" class="md-nav__link">
    is_available()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.is_failed" class="md-nav__link">
    is_failed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.is_managed_by_zenml" class="md-nav__link">
    is_managed_by_zenml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.is_pending" class="md-nav__link">
    is_pending()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.mark_as_managed_by_zenml" class="md-nav__link">
    mark_as_managed_by_zenml()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentExistsError" class="md-nav__link">
    SeldonDeploymentExistsError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentMetadata" class="md-nav__link">
    SeldonDeploymentMetadata
  </a>
  
    <nav class="md-nav" aria-label="SeldonDeploymentMetadata">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentMetadata.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentNotFoundError" class="md-nav__link">
    SeldonDeploymentNotFoundError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictiveUnit" class="md-nav__link">
    SeldonDeploymentPredictiveUnit
  </a>
  
    <nav class="md-nav" aria-label="SeldonDeploymentPredictiveUnit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictiveUnit.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictiveUnitType" class="md-nav__link">
    SeldonDeploymentPredictiveUnitType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictor" class="md-nav__link">
    SeldonDeploymentPredictor
  </a>
  
    <nav class="md-nav" aria-label="SeldonDeploymentPredictor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictor.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentSpec" class="md-nav__link">
    SeldonDeploymentSpec
  </a>
  
    <nav class="md-nav" aria-label="SeldonDeploymentSpec">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentSpec.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentStatus" class="md-nav__link">
    SeldonDeploymentStatus
  </a>
  
    <nav class="md-nav" aria-label="SeldonDeploymentStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentStatus.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentStatusAddress" class="md-nav__link">
    SeldonDeploymentStatusAddress
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentStatusCondition" class="md-nav__link">
    SeldonDeploymentStatusCondition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentStatusState" class="md-nav__link">
    SeldonDeploymentStatusState
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.services" class="md-nav__link">
    services
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.services.seldon_deployment" class="md-nav__link">
    seldon_deployment
  </a>
  
    <nav class="md-nav" aria-label="seldon_deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentConfig" class="md-nav__link">
    SeldonDeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentService" class="md-nav__link">
    SeldonDeploymentService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentServiceStatus" class="md-nav__link">
    SeldonDeploymentServiceStatus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.steps.seldon_deployer" class="md-nav__link">
    seldon_deployer
  </a>
  
    <nav class="md-nav" aria-label="seldon_deployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.steps.seldon_deployer.SeldonDeployerStepConfig" class="md-nav__link">
    SeldonDeployerStepConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.steps.seldon_deployer.seldon_model_deployer_step" class="md-nav__link">
    seldon_model_deployer_step
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn" class="md-nav__link">
    sklearn
  </a>
  
    <nav class="md-nav" aria-label="sklearn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.SklearnIntegration" class="md-nav__link">
    SklearnIntegration
  </a>
  
    <nav class="md-nav" aria-label="SklearnIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.SklearnIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.helpers" class="md-nav__link">
    helpers
  </a>
  
    <nav class="md-nav" aria-label="helpers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.helpers.digits" class="md-nav__link">
    digits
  </a>
  
    <nav class="md-nav" aria-label="digits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.helpers.digits.get_digits" class="md-nav__link">
    get_digits()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.helpers.digits.get_digits_model" class="md-nav__link">
    get_digits_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.materializers.sklearn_materializer" class="md-nav__link">
    sklearn_materializer
  </a>
  
    <nav class="md-nav" aria-label="sklearn_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.materializers.sklearn_materializer.SklearnMaterializer" class="md-nav__link">
    SklearnMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_evaluator" class="md-nav__link">
    sklearn_evaluator
  </a>
  
    <nav class="md-nav" aria-label="sklearn_evaluator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_evaluator.SklearnEvaluator" class="md-nav__link">
    SklearnEvaluator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_evaluator.SklearnEvaluatorConfig" class="md-nav__link">
    SklearnEvaluatorConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_splitter" class="md-nav__link">
    sklearn_splitter
  </a>
  
    <nav class="md-nav" aria-label="sklearn_splitter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_splitter.SklearnSplitter" class="md-nav__link">
    SklearnSplitter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_splitter.SklearnSplitterConfig" class="md-nav__link">
    SklearnSplitterConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_standard_scaler" class="md-nav__link">
    sklearn_standard_scaler
  </a>
  
    <nav class="md-nav" aria-label="sklearn_standard_scaler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_standard_scaler.SklearnStandardScaler" class="md-nav__link">
    SklearnStandardScaler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_standard_scaler.SklearnStandardScalerConfig" class="md-nav__link">
    SklearnStandardScalerConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack" class="md-nav__link">
    slack
  </a>
  
    <nav class="md-nav" aria-label="slack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack.SlackIntegration" class="md-nav__link">
    SlackIntegration
  </a>
  
    <nav class="md-nav" aria-label="SlackIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack.SlackIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack.alerters" class="md-nav__link">
    alerters
  </a>
  
    <nav class="md-nav" aria-label="alerters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack.alerters.slack_alerter" class="md-nav__link">
    slack_alerter
  </a>
  
    <nav class="md-nav" aria-label="slack_alerter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack.alerters.slack_alerter.SlackAlerter" class="md-nav__link">
    SlackAlerter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack.alerters.slack_alerter.SlackAlerterConfig" class="md-nav__link">
    SlackAlerterConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow" class="md-nav__link">
    tensorflow
  </a>
  
    <nav class="md-nav" aria-label="tensorflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.TensorflowIntegration" class="md-nav__link">
    TensorflowIntegration
  </a>
  
    <nav class="md-nav" aria-label="TensorflowIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.TensorflowIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.materializers.keras_materializer" class="md-nav__link">
    keras_materializer
  </a>
  
    <nav class="md-nav" aria-label="keras_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.materializers.keras_materializer.KerasMaterializer" class="md-nav__link">
    KerasMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.materializers.tf_dataset_materializer" class="md-nav__link">
    tf_dataset_materializer
  </a>
  
    <nav class="md-nav" aria-label="tf_dataset_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.materializers.tf_dataset_materializer.TensorflowDatasetMaterializer" class="md-nav__link">
    TensorflowDatasetMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.services" class="md-nav__link">
    services
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.services.tensorboard_service" class="md-nav__link">
    tensorboard_service
  </a>
  
    <nav class="md-nav" aria-label="tensorboard_service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.services.tensorboard_service.TensorboardService" class="md-nav__link">
    TensorboardService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.services.tensorboard_service.TensorboardServiceConfig" class="md-nav__link">
    TensorboardServiceConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.steps.tensorflow_trainer" class="md-nav__link">
    tensorflow_trainer
  </a>
  
    <nav class="md-nav" aria-label="tensorflow_trainer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.steps.tensorflow_trainer.TensorflowBinaryClassifier" class="md-nav__link">
    TensorflowBinaryClassifier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.steps.tensorflow_trainer.TensorflowBinaryClassifierConfig" class="md-nav__link">
    TensorflowBinaryClassifierConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.visualizers.tensorboard_visualizer" class="md-nav__link">
    tensorboard_visualizer
  </a>
  
    <nav class="md-nav" aria-label="tensorboard_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.TensorboardVisualizer" class="md-nav__link">
    TensorboardVisualizer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.get_step" class="md-nav__link">
    get_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.stop_tensorboard_server" class="md-nav__link">
    stop_tensorboard_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.visualize_tensorboard" class="md-nav__link">
    visualize_tensorboard()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.utils.get_integration_for_module" class="md-nav__link">
    get_integration_for_module()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.utils.get_requirements_for_module" class="md-nav__link">
    get_requirements_for_module()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault" class="md-nav__link">
    vault
  </a>
  
    <nav class="md-nav" aria-label="vault">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.VaultSecretsManagerIntegration" class="md-nav__link">
    VaultSecretsManagerIntegration
  </a>
  
    <nav class="md-nav" aria-label="VaultSecretsManagerIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.VaultSecretsManagerIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager" class="md-nav__link">
    secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager.vault_secrets_manager" class="md-nav__link">
    vault_secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="vault_secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager.vault_secrets_manager.VaultSecretsManager" class="md-nav__link">
    VaultSecretsManager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager.vault_secrets_manager.get_secret_schema_name" class="md-nav__link">
    get_secret_schema_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager.vault_secrets_manager.prepend_secret_schema_to_secret_name" class="md-nav__link">
    prepend_secret_schema_to_secret_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager.vault_secrets_manager.remove_secret_schema_name" class="md-nav__link">
    remove_secret_schema_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager.vault_secrets_manager.sanitize_secret_name" class="md-nav__link">
    sanitize_secret_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb" class="md-nav__link">
    wandb
  </a>
  
    <nav class="md-nav" aria-label="wandb">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.WandbIntegration" class="md-nav__link">
    WandbIntegration
  </a>
  
    <nav class="md-nav" aria-label="WandbIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.WandbIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.experiment_trackers" class="md-nav__link">
    experiment_trackers
  </a>
  
    <nav class="md-nav" aria-label="experiment_trackers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.experiment_trackers.wandb_experiment_tracker" class="md-nav__link">
    wandb_experiment_tracker
  </a>
  
    <nav class="md-nav" aria-label="wandb_experiment_tracker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.experiment_trackers.wandb_experiment_tracker.WandbExperimentTracker" class="md-nav__link">
    WandbExperimentTracker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.wandb_step_decorator" class="md-nav__link">
    wandb_step_decorator
  </a>
  
    <nav class="md-nav" aria-label="wandb_step_decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.wandb_step_decorator.enable_wandb" class="md-nav__link">
    enable_wandb()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.wandb_step_decorator.wandb_step_entrypoint" class="md-nav__link">
    wandb_step_entrypoint()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs" class="md-nav__link">
    whylogs
  </a>
  
    <nav class="md-nav" aria-label="whylogs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.WhylogsIntegration" class="md-nav__link">
    WhylogsIntegration
  </a>
  
    <nav class="md-nav" aria-label="WhylogsIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.WhylogsIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.materializers.whylogs_materializer" class="md-nav__link">
    whylogs_materializer
  </a>
  
    <nav class="md-nav" aria-label="whylogs_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.materializers.whylogs_materializer.WhylogsMaterializer" class="md-nav__link">
    WhylogsMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.steps.whylogs_profiler" class="md-nav__link">
    whylogs_profiler
  </a>
  
    <nav class="md-nav" aria-label="whylogs_profiler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.steps.whylogs_profiler.WhylogsProfilerConfig" class="md-nav__link">
    WhylogsProfilerConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.steps.whylogs_profiler.WhylogsProfilerStep" class="md-nav__link">
    WhylogsProfilerStep
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.steps.whylogs_profiler.whylogs_profiler_step" class="md-nav__link">
    whylogs_profiler_step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.visualizers.whylogs_visualizer" class="md-nav__link">
    whylogs_visualizer
  </a>
  
    <nav class="md-nav" aria-label="whylogs_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.visualizers.whylogs_visualizer.WhylogsPlots" class="md-nav__link">
    WhylogsPlots
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.visualizers.whylogs_visualizer.WhylogsVisualizer" class="md-nav__link">
    WhylogsVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_context" class="md-nav__link">
    whylogs_context
  </a>
  
    <nav class="md-nav" aria-label="whylogs_context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_context.WhylogsContext" class="md-nav__link">
    WhylogsContext
  </a>
  
    <nav class="md-nav" aria-label="WhylogsContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_context.WhylogsContext.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_context.WhylogsContext.get_whylogs_session" class="md-nav__link">
    get_whylogs_session()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_context.WhylogsContext.profile_dataframe" class="md-nav__link">
    profile_dataframe()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_step_decorator" class="md-nav__link">
    whylogs_step_decorator
  </a>
  
    <nav class="md-nav" aria-label="whylogs_step_decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_step_decorator.enable_whylogs" class="md-nav__link">
    enable_whylogs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_step_decorator.whylogs_entrypoint" class="md-nav__link">
    whylogs_entrypoint()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost" class="md-nav__link">
    xgboost
  </a>
  
    <nav class="md-nav" aria-label="xgboost">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.XgboostIntegration" class="md-nav__link">
    XgboostIntegration
  </a>
  
    <nav class="md-nav" aria-label="XgboostIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.XgboostIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.materializers.xgboost_booster_materializer" class="md-nav__link">
    xgboost_booster_materializer
  </a>
  
    <nav class="md-nav" aria-label="xgboost_booster_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.materializers.xgboost_booster_materializer.XgboostBoosterMaterializer" class="md-nav__link">
    XgboostBoosterMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.materializers.xgboost_dmatrix_materializer" class="md-nav__link">
    xgboost_dmatrix_materializer
  </a>
  
    <nav class="md-nav" aria-label="xgboost_dmatrix_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.materializers.xgboost_dmatrix_materializer.XgboostDMatrixMaterializer" class="md-nav__link">
    XgboostDMatrixMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../metadata_stores/" class="md-nav__link">
        Metadata Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../repository/" class="md-nav__link">
        Repository
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runtime_configuration/" class="md-nav__link">
        Runtime Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../secrets_managers/" class="md-nav__link">
        Secrets Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../visualizers/" class="md-nav__link">
        Visualizers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_36" type="checkbox" id="__nav_3_36" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_36">
          Cli
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cli" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_36">
          <span class="md-nav__icon md-icon"></span>
          Cli
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/base/" class="md-nav__link">
        Base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/cli/" class="md-nav__link">
        Cli
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/example/" class="md-nav__link">
        Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/feature/" class="md-nav__link">
        Feature
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/formatter/" class="md-nav__link">
        Formatter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/pipeline/" class="md-nav__link">
        Pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/served_models/" class="md-nav__link">
        Served Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/server/" class="md-nav__link">
        Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/stack_components/" class="md-nav__link">
        Stack Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/text_utils/" class="md-nav__link">
        Text Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/user_management/" class="md-nav__link">
        User Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/version/" class="md-nav__link">
        Version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.integrations" class="md-nav__link">
    integrations
  </a>
  
    <nav class="md-nav" aria-label="integrations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow" class="md-nav__link">
    airflow
  </a>
  
    <nav class="md-nav" aria-label="airflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow.AirflowIntegration" class="md-nav__link">
    AirflowIntegration
  </a>
  
    <nav class="md-nav" aria-label="AirflowIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow.AirflowIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow.orchestrators.airflow_orchestrator" class="md-nav__link">
    airflow_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="airflow_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator" class="md-nav__link">
    AirflowOrchestrator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.prepare_or_run_pipeline--how-it-works" class="md-nav__link">
    How it works:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws" class="md-nav__link">
    aws
  </a>
  
    <nav class="md-nav" aria-label="aws">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.AWSIntegration" class="md-nav__link">
    AWSIntegration
  </a>
  
    <nav class="md-nav" aria-label="AWSIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.AWSIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.container_registries" class="md-nav__link">
    container_registries
  </a>
  
    <nav class="md-nav" aria-label="container_registries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.container_registries.aws_container_registry" class="md-nav__link">
    aws_container_registry
  </a>
  
    <nav class="md-nav" aria-label="aws_container_registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.container_registries.aws_container_registry.AWSContainerRegistry" class="md-nav__link">
    AWSContainerRegistry
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.secrets_managers" class="md-nav__link">
    secrets_managers
  </a>
  
    <nav class="md-nav" aria-label="secrets_managers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.secrets_managers.aws_secrets_manager" class="md-nav__link">
    aws_secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="aws_secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.secrets_managers.aws_secrets_manager.AWSSecretsManager" class="md-nav__link">
    AWSSecretsManager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.secrets_managers.aws_secrets_manager.jsonify_secret_contents" class="md-nav__link">
    jsonify_secret_contents()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.step_operators" class="md-nav__link">
    step_operators
  </a>
  
    <nav class="md-nav" aria-label="step_operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.step_operators.sagemaker_step_operator" class="md-nav__link">
    sagemaker_step_operator
  </a>
  
    <nav class="md-nav" aria-label="sagemaker_step_operator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.aws.step_operators.sagemaker_step_operator.SagemakerStepOperator" class="md-nav__link">
    SagemakerStepOperator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure" class="md-nav__link">
    azure
  </a>
  
    <nav class="md-nav" aria-label="azure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.AzureIntegration" class="md-nav__link">
    AzureIntegration
  </a>
  
    <nav class="md-nav" aria-label="AzureIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.AzureIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores" class="md-nav__link">
    artifact_stores
  </a>
  
    <nav class="md-nav" aria-label="artifact_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store" class="md-nav__link">
    azure_artifact_store
  </a>
  
    <nav class="md-nav" aria-label="azure_artifact_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore" class="md-nav__link">
    AzureArtifactStore
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.secrets_managers" class="md-nav__link">
    secrets_managers
  </a>
  
    <nav class="md-nav" aria-label="secrets_managers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.secrets_managers.azure_secrets_manager" class="md-nav__link">
    azure_secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="azure_secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.secrets_managers.azure_secrets_manager.AzureSecretsManager" class="md-nav__link">
    AzureSecretsManager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.secrets_managers.azure_secrets_manager.prepend_group_name_to_keys" class="md-nav__link">
    prepend_group_name_to_keys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.secrets_managers.azure_secrets_manager.remove_group_name_from_key" class="md-nav__link">
    remove_group_name_from_key()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators" class="md-nav__link">
    step_operators
  </a>
  
    <nav class="md-nav" aria-label="step_operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator" class="md-nav__link">
    azureml_step_operator
  </a>
  
    <nav class="md-nav" aria-label="azureml_step_operator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator" class="md-nav__link">
    AzureMLStepOperator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.constants" class="md-nav__link">
    constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.dash" class="md-nav__link">
    dash
  </a>
  
    <nav class="md-nav" aria-label="dash">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.dash.DashIntegration" class="md-nav__link">
    DashIntegration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.dash.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.dash.visualizers.pipeline_run_lineage_visualizer" class="md-nav__link">
    pipeline_run_lineage_visualizer
  </a>
  
    <nav class="md-nav" aria-label="pipeline_run_lineage_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.dash.visualizers.pipeline_run_lineage_visualizer.PipelineRunLineageVisualizer" class="md-nav__link">
    PipelineRunLineageVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently" class="md-nav__link">
    evidently
  </a>
  
    <nav class="md-nav" aria-label="evidently">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.EvidentlyIntegration" class="md-nav__link">
    EvidentlyIntegration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.steps.evidently_profile" class="md-nav__link">
    evidently_profile
  </a>
  
    <nav class="md-nav" aria-label="evidently_profile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.steps.evidently_profile.EvidentlyProfileConfig" class="md-nav__link">
    EvidentlyProfileConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.steps.evidently_profile.EvidentlyProfileStep" class="md-nav__link">
    EvidentlyProfileStep
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.visualizers.evidently_visualizer" class="md-nav__link">
    evidently_visualizer
  </a>
  
    <nav class="md-nav" aria-label="evidently_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.evidently.visualizers.evidently_visualizer.EvidentlyVisualizer" class="md-nav__link">
    EvidentlyVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.facets" class="md-nav__link">
    facets
  </a>
  
    <nav class="md-nav" aria-label="facets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.facets.FacetsIntegration" class="md-nav__link">
    FacetsIntegration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.facets.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.facets.visualizers.facet_statistics_visualizer" class="md-nav__link">
    facet_statistics_visualizer
  </a>
  
    <nav class="md-nav" aria-label="facet_statistics_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.facets.visualizers.facet_statistics_visualizer.FacetStatisticsVisualizer" class="md-nav__link">
    FacetStatisticsVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.feast" class="md-nav__link">
    feast
  </a>
  
    <nav class="md-nav" aria-label="feast">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.feast.FeastIntegration" class="md-nav__link">
    FeastIntegration
  </a>
  
    <nav class="md-nav" aria-label="FeastIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.feast.FeastIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.feast.feature_stores" class="md-nav__link">
    feature_stores
  </a>
  
    <nav class="md-nav" aria-label="feature_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.feast.feature_stores.feast_feature_store" class="md-nav__link">
    feast_feature_store
  </a>
  
    <nav class="md-nav" aria-label="feast_feature_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.feast.feature_stores.feast_feature_store.FeastFeatureStore" class="md-nav__link">
    FeastFeatureStore
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp" class="md-nav__link">
    gcp
  </a>
  
    <nav class="md-nav" aria-label="gcp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.GcpIntegration" class="md-nav__link">
    GcpIntegration
  </a>
  
    <nav class="md-nav" aria-label="GcpIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.GcpIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.artifact_stores" class="md-nav__link">
    artifact_stores
  </a>
  
    <nav class="md-nav" aria-label="artifact_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.artifact_stores.gcp_artifact_store" class="md-nav__link">
    gcp_artifact_store
  </a>
  
    <nav class="md-nav" aria-label="gcp_artifact_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore" class="md-nav__link">
    GCPArtifactStore
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.constants" class="md-nav__link">
    constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.google_credentials_mixin" class="md-nav__link">
    google_credentials_mixin
  </a>
  
    <nav class="md-nav" aria-label="google_credentials_mixin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.google_credentials_mixin.GoogleCredentialsMixin" class="md-nav__link">
    GoogleCredentialsMixin
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators.vertex_entrypoint_configuration" class="md-nav__link">
    vertex_entrypoint_configuration
  </a>
  
    <nav class="md-nav" aria-label="vertex_entrypoint_configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators.vertex_entrypoint_configuration.VertexEntrypointConfiguration" class="md-nav__link">
    VertexEntrypointConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators.vertex_orchestrator" class="md-nav__link">
    vertex_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="vertex_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator" class="md-nav__link">
    VertexOrchestrator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator.prepare_or_run_pipeline--noqa-dar402" class="md-nav__link">
    noqa: DAR402
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator.prepare_or_run_pipeline--how-it-works" class="md-nav__link">
    How it works:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.secrets_manager" class="md-nav__link">
    secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.secrets_manager.gcp_secrets_manager" class="md-nav__link">
    gcp_secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="gcp_secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.GCPSecretsManager" class="md-nav__link">
    GCPSecretsManager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.prepend_group_name_to_keys" class="md-nav__link">
    prepend_group_name_to_keys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.remove_group_name_from_key" class="md-nav__link">
    remove_group_name_from_key()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.step_operators" class="md-nav__link">
    step_operators
  </a>
  
    <nav class="md-nav" aria-label="step_operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.step_operators.vertex_step_operator" class="md-nav__link">
    vertex_step_operator
  </a>
  
    <nav class="md-nav" aria-label="vertex_step_operator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.gcp.step_operators.vertex_step_operator.VertexStepOperator" class="md-nav__link">
    VertexStepOperator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github" class="md-nav__link">
    github
  </a>
  
    <nav class="md-nav" aria-label="github">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.GitHubIntegration" class="md-nav__link">
    GitHubIntegration
  </a>
  
    <nav class="md-nav" aria-label="GitHubIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.GitHubIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.orchestrators.github_actions_entrypoint_configuration" class="md-nav__link">
    github_actions_entrypoint_configuration
  </a>
  
    <nav class="md-nav" aria-label="github_actions_entrypoint_configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.orchestrators.github_actions_entrypoint_configuration.GitHubActionsEntrypointConfiguration" class="md-nav__link">
    GitHubActionsEntrypointConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.orchestrators.github_actions_orchestrator" class="md-nav__link">
    github_actions_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="github_actions_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.orchestrators.github_actions_orchestrator.GitHubActionsOrchestrator" class="md-nav__link">
    GitHubActionsOrchestrator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.secrets_managers" class="md-nav__link">
    secrets_managers
  </a>
  
    <nav class="md-nav" aria-label="secrets_managers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.secrets_managers.github_secrets_manager" class="md-nav__link">
    github_secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="github_secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.secrets_managers.github_secrets_manager.GitHubSecretsManager" class="md-nav__link">
    GitHubSecretsManager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.github.secrets_managers.github_secrets_manager.inside_github_action_environment" class="md-nav__link">
    inside_github_action_environment()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.graphviz" class="md-nav__link">
    graphviz
  </a>
  
    <nav class="md-nav" aria-label="graphviz">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.graphviz.GraphvizIntegration" class="md-nav__link">
    GraphvizIntegration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.graphviz.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.graphviz.visualizers.pipeline_run_dag_visualizer" class="md-nav__link">
    pipeline_run_dag_visualizer
  </a>
  
    <nav class="md-nav" aria-label="pipeline_run_dag_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.graphviz.visualizers.pipeline_run_dag_visualizer.PipelineRunDagVisualizer" class="md-nav__link">
    PipelineRunDagVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations" class="md-nav__link">
    great_expectations
  </a>
  
    <nav class="md-nav" aria-label="great_expectations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.GreatExpectationsIntegration" class="md-nav__link">
    GreatExpectationsIntegration
  </a>
  
    <nav class="md-nav" aria-label="GreatExpectationsIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.GreatExpectationsIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.GreatExpectationsIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.data_validators" class="md-nav__link">
    data_validators
  </a>
  
    <nav class="md-nav" aria-label="data_validators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.data_validators.ge_data_validator" class="md-nav__link">
    ge_data_validator
  </a>
  
    <nav class="md-nav" aria-label="ge_data_validator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.data_validators.ge_data_validator.GreatExpectationsDataValidator" class="md-nav__link">
    GreatExpectationsDataValidator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend" class="md-nav__link">
    ge_store_backend
  </a>
  
    <nav class="md-nav" aria-label="ge_store_backend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend" class="md-nav__link">
    ZenMLArtifactStoreBackend
  </a>
  
    <nav class="md-nav" aria-label="ZenMLArtifactStoreBackend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.get_public_url_for_key" class="md-nav__link">
    get_public_url_for_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.get_url_for_key" class="md-nav__link">
    get_url_for_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.list_keys" class="md-nav__link">
    list_keys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.remove_key" class="md-nav__link">
    remove_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.rrmdir" class="md-nav__link">
    rrmdir()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.materializers.ge_materializer" class="md-nav__link">
    ge_materializer
  </a>
  
    <nav class="md-nav" aria-label="ge_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.materializers.ge_materializer.GreatExpectationsMaterializer" class="md-nav__link">
    GreatExpectationsMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.ge_profiler" class="md-nav__link">
    ge_profiler
  </a>
  
    <nav class="md-nav" aria-label="ge_profiler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.ge_profiler.GreatExpectationsProfilerConfig" class="md-nav__link">
    GreatExpectationsProfilerConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.ge_profiler.GreatExpectationsProfilerStep" class="md-nav__link">
    GreatExpectationsProfilerStep
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.ge_validator" class="md-nav__link">
    ge_validator
  </a>
  
    <nav class="md-nav" aria-label="ge_validator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.ge_validator.GreatExpectationsValidatorConfig" class="md-nav__link">
    GreatExpectationsValidatorConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.ge_validator.GreatExpectationsValidatorStep" class="md-nav__link">
    GreatExpectationsValidatorStep
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.steps.utils.create_batch_request" class="md-nav__link">
    create_batch_request()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.visualizers.ge_visualizer" class="md-nav__link">
    ge_visualizer
  </a>
  
    <nav class="md-nav" aria-label="ge_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.great_expectations.visualizers.ge_visualizer.GreatExpectationsVisualizer" class="md-nav__link">
    GreatExpectationsVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface" class="md-nav__link">
    huggingface
  </a>
  
    <nav class="md-nav" aria-label="huggingface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.HuggingfaceIntegration" class="md-nav__link">
    HuggingfaceIntegration
  </a>
  
    <nav class="md-nav" aria-label="HuggingfaceIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.HuggingfaceIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer" class="md-nav__link">
    huggingface_datasets_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_datasets_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer" class="md-nav__link">
    HFDatasetMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer" class="md-nav__link">
    huggingface_pt_model_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_pt_model_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer" class="md-nav__link">
    HFPTModelMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer" class="md-nav__link">
    huggingface_tf_model_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_tf_model_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer" class="md-nav__link">
    HFTFModelMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer" class="md-nav__link">
    huggingface_tokenizer_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_tokenizer_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer" class="md-nav__link">
    HFTokenizerMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration" class="md-nav__link">
    integration
  </a>
  
    <nav class="md-nav" aria-label="integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration.Integration" class="md-nav__link">
    Integration
  </a>
  
    <nav class="md-nav" aria-label="Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration.Integration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration.Integration.check_installation" class="md-nav__link">
    check_installation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration.Integration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration.IntegrationMeta" class="md-nav__link">
    IntegrationMeta
  </a>
  
    <nav class="md-nav" aria-label="IntegrationMeta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.integration.IntegrationMeta.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow" class="md-nav__link">
    kubeflow
  </a>
  
    <nav class="md-nav" aria-label="kubeflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.KubeflowIntegration" class="md-nav__link">
    KubeflowIntegration
  </a>
  
    <nav class="md-nav" aria-label="KubeflowIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.KubeflowIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.metadata_stores" class="md-nav__link">
    metadata_stores
  </a>
  
    <nav class="md-nav" aria-label="metadata_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store" class="md-nav__link">
    kubeflow_metadata_store
  </a>
  
    <nav class="md-nav" aria-label="kubeflow_metadata_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore" class="md-nav__link">
    KubeflowMetadataStore
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.inside_kfp_pod" class="md-nav__link">
    inside_kfp_pod()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.kubeflow_entrypoint_configuration" class="md-nav__link">
    kubeflow_entrypoint_configuration
  </a>
  
    <nav class="md-nav" aria-label="kubeflow_entrypoint_configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.kubeflow_entrypoint_configuration.KubeflowEntrypointConfiguration" class="md-nav__link">
    KubeflowEntrypointConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator" class="md-nav__link">
    kubeflow_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="kubeflow_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator" class="md-nav__link">
    KubeflowOrchestrator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.prepare_or_run_pipeline--how-it-works" class="md-nav__link">
    How it works:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils" class="md-nav__link">
    local_deployment_utils
  </a>
  
    <nav class="md-nav" aria-label="local_deployment_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.add_hostpath_to_kubeflow_pipelines" class="md-nav__link">
    add_hostpath_to_kubeflow_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.check_prerequisites" class="md-nav__link">
    check_prerequisites()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.create_k3d_cluster" class="md-nav__link">
    create_k3d_cluster()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.delete_k3d_cluster" class="md-nav__link">
    delete_k3d_cluster()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.deploy_kubeflow_pipelines" class="md-nav__link">
    deploy_kubeflow_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.k3d_cluster_exists" class="md-nav__link">
    k3d_cluster_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.k3d_cluster_running" class="md-nav__link">
    k3d_cluster_running()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.kubeflow_pipelines_ready" class="md-nav__link">
    kubeflow_pipelines_ready()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.start_k3d_cluster" class="md-nav__link">
    start_k3d_cluster()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.start_kfp_ui_daemon" class="md-nav__link">
    start_kfp_ui_daemon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.stop_k3d_cluster" class="md-nav__link">
    stop_k3d_cluster()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.stop_kfp_ui_daemon" class="md-nav__link">
    stop_kfp_ui_daemon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.wait_until_kubeflow_pipelines_ready" class="md-nav__link">
    wait_until_kubeflow_pipelines_ready()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.local_deployment_utils.write_local_registry_yaml" class="md-nav__link">
    write_local_registry_yaml()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.utils.dump_ui_metadata" class="md-nav__link">
    dump_ui_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubeflow.orchestrators.utils.mount_config_map_op" class="md-nav__link">
    mount_config_map_op()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes" class="md-nav__link">
    kubernetes
  </a>
  
    <nav class="md-nav" aria-label="kubernetes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.KubernetesIntegration" class="md-nav__link">
    KubernetesIntegration
  </a>
  
    <nav class="md-nav" aria-label="KubernetesIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.KubernetesIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.metadata_stores" class="md-nav__link">
    metadata_stores
  </a>
  
    <nav class="md-nav" aria-label="metadata_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store" class="md-nav__link">
    kubernetes_metadata_store
  </a>
  
    <nav class="md-nav" aria-label="kubernetes_metadata_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore" class="md-nav__link">
    KubernetesMetadataStore
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.dag_runner" class="md-nav__link">
    dag_runner
  </a>
  
    <nav class="md-nav" aria-label="dag_runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.dag_runner.NodeStatus" class="md-nav__link">
    NodeStatus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.dag_runner.ThreadedDagRunner" class="md-nav__link">
    ThreadedDagRunner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.dag_runner.reverse_dag" class="md-nav__link">
    reverse_dag()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils" class="md-nav__link">
    kube_utils
  </a>
  
    <nav class="md-nav" aria-label="kube_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.PodPhase" class="md-nav__link">
    PodPhase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.create_edit_service_account" class="md-nav__link">
    create_edit_service_account()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.create_mysql_deployment" class="md-nav__link">
    create_mysql_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.create_namespace" class="md-nav__link">
    create_namespace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.delete_deployment" class="md-nav__link">
    delete_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.get_pod" class="md-nav__link">
    get_pod()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.is_inside_kubernetes" class="md-nav__link">
    is_inside_kubernetes()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.load_kube_config" class="md-nav__link">
    load_kube_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.pod_failed" class="md-nav__link">
    pod_failed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.pod_is_done" class="md-nav__link">
    pod_is_done()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.pod_is_not_pending" class="md-nav__link">
    pod_is_not_pending()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.sanitize_pod_name" class="md-nav__link">
    sanitize_pod_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kube_utils.wait_pod" class="md-nav__link">
    wait_pod()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator" class="md-nav__link">
    kubernetes_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="kubernetes_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator.KubernetesOrchestrator" class="md-nav__link">
    KubernetesOrchestrator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint" class="md-nav__link">
    kubernetes_orchestrator_entrypoint
  </a>
  
    <nav class="md-nav" aria-label="kubernetes_orchestrator_entrypoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint.main" class="md-nav__link">
    main()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint.parse_args" class="md-nav__link">
    parse_args()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint.patch_run_name_for_cron_scheduling" class="md-nav__link">
    patch_run_name_for_cron_scheduling()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint_configuration" class="md-nav__link">
    kubernetes_orchestrator_entrypoint_configuration
  </a>
  
    <nav class="md-nav" aria-label="kubernetes_orchestrator_entrypoint_configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint_configuration.KubernetesOrchestratorEntrypointConfiguration" class="md-nav__link">
    KubernetesOrchestratorEntrypointConfiguration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint_configuration.split_step_args" class="md-nav__link">
    split_step_args()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_step_entrypoint_configuration" class="md-nav__link">
    kubernetes_step_entrypoint_configuration
  </a>
  
    <nav class="md-nav" aria-label="kubernetes_step_entrypoint_configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.kubernetes_step_entrypoint_configuration.KubernetesStepEntrypointConfiguration" class="md-nav__link">
    KubernetesStepEntrypointConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils" class="md-nav__link">
    manifest_utils
  </a>
  
    <nav class="md-nav" aria-label="manifest_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_cluster_role_binding_manifest_for_service_account" class="md-nav__link">
    build_cluster_role_binding_manifest_for_service_account()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_cron_job_manifest" class="md-nav__link">
    build_cron_job_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_mysql_deployment_manifest" class="md-nav__link">
    build_mysql_deployment_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_mysql_service_manifest" class="md-nav__link">
    build_mysql_service_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_namespace_manifest" class="md-nav__link">
    build_namespace_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_persistent_volume_claim_manifest" class="md-nav__link">
    build_persistent_volume_claim_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_persistent_volume_manifest" class="md-nav__link">
    build_persistent_volume_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_pod_manifest" class="md-nav__link">
    build_pod_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.kubernetes.orchestrators.manifest_utils.build_service_account_manifest" class="md-nav__link">
    build_service_account_manifest()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm" class="md-nav__link">
    lightgbm
  </a>
  
    <nav class="md-nav" aria-label="lightgbm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.LightGBMIntegration" class="md-nav__link">
    LightGBMIntegration
  </a>
  
    <nav class="md-nav" aria-label="LightGBMIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.LightGBMIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.materializers.lightgbm_booster_materializer" class="md-nav__link">
    lightgbm_booster_materializer
  </a>
  
    <nav class="md-nav" aria-label="lightgbm_booster_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.materializers.lightgbm_booster_materializer.LightGBMBoosterMaterializer" class="md-nav__link">
    LightGBMBoosterMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.materializers.lightgbm_dataset_materializer" class="md-nav__link">
    lightgbm_dataset_materializer
  </a>
  
    <nav class="md-nav" aria-label="lightgbm_dataset_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.lightgbm.materializers.lightgbm_dataset_materializer.LightGBMDatasetMaterializer" class="md-nav__link">
    LightGBMDatasetMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow" class="md-nav__link">
    mlflow
  </a>
  
    <nav class="md-nav" aria-label="mlflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.MlflowIntegration" class="md-nav__link">
    MlflowIntegration
  </a>
  
    <nav class="md-nav" aria-label="MlflowIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.MlflowIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.MlflowIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.experiment_trackers" class="md-nav__link">
    experiment_trackers
  </a>
  
    <nav class="md-nav" aria-label="experiment_trackers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker" class="md-nav__link">
    mlflow_experiment_tracker
  </a>
  
    <nav class="md-nav" aria-label="mlflow_experiment_tracker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker.MLFlowExperimentTracker" class="md-nav__link">
    MLFlowExperimentTracker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_step_decorator" class="md-nav__link">
    mlflow_step_decorator
  </a>
  
    <nav class="md-nav" aria-label="mlflow_step_decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_step_decorator.enable_mlflow" class="md-nav__link">
    enable_mlflow()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_step_decorator.mlflow_step_entrypoint" class="md-nav__link">
    mlflow_step_entrypoint()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_utils" class="md-nav__link">
    mlflow_utils
  </a>
  
    <nav class="md-nav" aria-label="mlflow_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_utils.get_missing_mlflow_experiment_tracker_error" class="md-nav__link">
    get_missing_mlflow_experiment_tracker_error()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_utils.get_tracking_uri" class="md-nav__link">
    get_tracking_uri()
  </a>
  
    <nav class="md-nav" aria-label="get_tracking_uri()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.mlflow_utils.get_tracking_uri--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.model_deployers" class="md-nav__link">
    model_deployers
  </a>
  
    <nav class="md-nav" aria-label="model_deployers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.model_deployers.mlflow_model_deployer" class="md-nav__link">
    mlflow_model_deployer
  </a>
  
    <nav class="md-nav" aria-label="mlflow_model_deployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.model_deployers.mlflow_model_deployer.MLFlowModelDeployer" class="md-nav__link">
    MLFlowModelDeployer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.services" class="md-nav__link">
    services
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.services.mlflow_deployment" class="md-nav__link">
    mlflow_deployment
  </a>
  
    <nav class="md-nav" aria-label="mlflow_deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentConfig" class="md-nav__link">
    MLFlowDeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentEndpoint" class="md-nav__link">
    MLFlowDeploymentEndpoint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentEndpointConfig" class="md-nav__link">
    MLFlowDeploymentEndpointConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentService" class="md-nav__link">
    MLFlowDeploymentService
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps.mlflow_deployer" class="md-nav__link">
    mlflow_deployer
  </a>
  
    <nav class="md-nav" aria-label="mlflow_deployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps.mlflow_deployer.MLFlowDeployerConfig" class="md-nav__link">
    MLFlowDeployerConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_model_deployer_step" class="md-nav__link">
    mlflow_model_deployer_step
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_model_deployer_step--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_model_deployer_step.entrypoint--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_deployer_step" class="md-nav__link">
    mlflow_deployer_step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.neural_prophet" class="md-nav__link">
    neural_prophet
  </a>
  
    <nav class="md-nav" aria-label="neural_prophet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.neural_prophet.NeuralProphetIntegration" class="md-nav__link">
    NeuralProphetIntegration
  </a>
  
    <nav class="md-nav" aria-label="NeuralProphetIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.neural_prophet.NeuralProphetIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.neural_prophet.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.neural_prophet.materializers.neural_prophet_materializer" class="md-nav__link">
    neural_prophet_materializer
  </a>
  
    <nav class="md-nav" aria-label="neural_prophet_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.neural_prophet.materializers.neural_prophet_materializer.NeuralProphetMaterializer" class="md-nav__link">
    NeuralProphetMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.plotly" class="md-nav__link">
    plotly
  </a>
  
    <nav class="md-nav" aria-label="plotly">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.plotly.PlotlyIntegration" class="md-nav__link">
    PlotlyIntegration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.plotly.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.plotly.visualizers.pipeline_lineage_visualizer" class="md-nav__link">
    pipeline_lineage_visualizer
  </a>
  
    <nav class="md-nav" aria-label="pipeline_lineage_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.plotly.visualizers.pipeline_lineage_visualizer.PipelineLineageVisualizer" class="md-nav__link">
    PipelineLineageVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch" class="md-nav__link">
    pytorch
  </a>
  
    <nav class="md-nav" aria-label="pytorch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.PytorchIntegration" class="md-nav__link">
    PytorchIntegration
  </a>
  
    <nav class="md-nav" aria-label="PytorchIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.PytorchIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.materializers.pytorch_dataloader_materializer" class="md-nav__link">
    pytorch_dataloader_materializer
  </a>
  
    <nav class="md-nav" aria-label="pytorch_dataloader_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.materializers.pytorch_dataloader_materializer.PyTorchDataLoaderMaterializer" class="md-nav__link">
    PyTorchDataLoaderMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.materializers.pytorch_module_materializer" class="md-nav__link">
    pytorch_module_materializer
  </a>
  
    <nav class="md-nav" aria-label="pytorch_module_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch.materializers.pytorch_module_materializer.PyTorchModuleMaterializer" class="md-nav__link">
    PyTorchModuleMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch_lightning" class="md-nav__link">
    pytorch_lightning
  </a>
  
    <nav class="md-nav" aria-label="pytorch_lightning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch_lightning.PytorchLightningIntegration" class="md-nav__link">
    PytorchLightningIntegration
  </a>
  
    <nav class="md-nav" aria-label="PytorchLightningIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch_lightning.PytorchLightningIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch_lightning.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch_lightning.materializers.pytorch_lightning_materializer" class="md-nav__link">
    pytorch_lightning_materializer
  </a>
  
    <nav class="md-nav" aria-label="pytorch_lightning_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.pytorch_lightning.materializers.pytorch_lightning_materializer.PyTorchLightningMaterializer" class="md-nav__link">
    PyTorchLightningMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry" class="md-nav__link">
    registry
  </a>
  
    <nav class="md-nav" aria-label="registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry" class="md-nav__link">
    IntegrationRegistry
  </a>
  
    <nav class="md-nav" aria-label="IntegrationRegistry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.integrations" class="md-nav__link">
    integrations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.list_integration_names" class="md-nav__link">
    list_integration_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.activate_integrations" class="md-nav__link">
    activate_integrations()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.get_installed_integrations" class="md-nav__link">
    get_installed_integrations()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.register_integration" class="md-nav__link">
    register_integration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.registry.IntegrationRegistry.select_integration_requirements" class="md-nav__link">
    select_integration_requirements()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.s3" class="md-nav__link">
    s3
  </a>
  
    <nav class="md-nav" aria-label="s3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.s3.S3Integration" class="md-nav__link">
    S3Integration
  </a>
  
    <nav class="md-nav" aria-label="S3Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.s3.S3Integration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.s3.artifact_stores" class="md-nav__link">
    artifact_stores
  </a>
  
    <nav class="md-nav" aria-label="artifact_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.s3.artifact_stores.s3_artifact_store" class="md-nav__link">
    s3_artifact_store
  </a>
  
    <nav class="md-nav" aria-label="s3_artifact_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore" class="md-nav__link">
    S3ArtifactStore
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.scipy" class="md-nav__link">
    scipy
  </a>
  
    <nav class="md-nav" aria-label="scipy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.scipy.ScipyIntegration" class="md-nav__link">
    ScipyIntegration
  </a>
  
    <nav class="md-nav" aria-label="ScipyIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.scipy.ScipyIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.scipy.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.scipy.materializers.sparse_materializer" class="md-nav__link">
    sparse_materializer
  </a>
  
    <nav class="md-nav" aria-label="sparse_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.scipy.materializers.sparse_materializer.SparseMaterializer" class="md-nav__link">
    SparseMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon" class="md-nav__link">
    seldon
  </a>
  
    <nav class="md-nav" aria-label="seldon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.SeldonIntegration" class="md-nav__link">
    SeldonIntegration
  </a>
  
    <nav class="md-nav" aria-label="SeldonIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.SeldonIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.SeldonIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.model_deployers" class="md-nav__link">
    model_deployers
  </a>
  
    <nav class="md-nav" aria-label="model_deployers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.model_deployers.seldon_model_deployer" class="md-nav__link">
    seldon_model_deployer
  </a>
  
    <nav class="md-nav" aria-label="seldon_model_deployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer" class="md-nav__link">
    SeldonModelDeployer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer.deploy_model--noqa-dar402" class="md-nav__link">
    noqa: DAR402
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.secret_schemas" class="md-nav__link">
    secret_schemas
  </a>
  
    <nav class="md-nav" aria-label="secret_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.secret_schemas.secret_schemas" class="md-nav__link">
    secret_schemas
  </a>
  
    <nav class="md-nav" aria-label="secret_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.secret_schemas.secret_schemas.SeldonAzureSecretSchema" class="md-nav__link">
    SeldonAzureSecretSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.secret_schemas.secret_schemas.SeldonGSSecretSchema" class="md-nav__link">
    SeldonGSSecretSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.secret_schemas.secret_schemas.SeldonS3SecretSchema" class="md-nav__link">
    SeldonS3SecretSchema
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client" class="md-nav__link">
    seldon_client
  </a>
  
    <nav class="md-nav" aria-label="seldon_client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient" class="md-nav__link">
    SeldonClient
  </a>
  
    <nav class="md-nav" aria-label="SeldonClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.namespace" class="md-nav__link">
    namespace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.create_deployment" class="md-nav__link">
    create_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.create_or_update_secret" class="md-nav__link">
    create_or_update_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.delete_deployment" class="md-nav__link">
    delete_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.find_deployments" class="md-nav__link">
    find_deployments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.get_deployment" class="md-nav__link">
    get_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.get_deployment_logs" class="md-nav__link">
    get_deployment_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.sanitize_labels" class="md-nav__link">
    sanitize_labels()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClient.update_deployment" class="md-nav__link">
    update_deployment()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClientError" class="md-nav__link">
    SeldonClientError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonClientTimeout" class="md-nav__link">
    SeldonClientTimeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment" class="md-nav__link">
    SeldonDeployment
  </a>
  
    <nav class="md-nav" aria-label="SeldonDeployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.state" class="md-nav__link">
    state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.build" class="md-nav__link">
    build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.get_error" class="md-nav__link">
    get_error()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.get_pending_message" class="md-nav__link">
    get_pending_message()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.is_available" class="md-nav__link">
    is_available()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.is_failed" class="md-nav__link">
    is_failed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.is_managed_by_zenml" class="md-nav__link">
    is_managed_by_zenml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.is_pending" class="md-nav__link">
    is_pending()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeployment.mark_as_managed_by_zenml" class="md-nav__link">
    mark_as_managed_by_zenml()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentExistsError" class="md-nav__link">
    SeldonDeploymentExistsError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentMetadata" class="md-nav__link">
    SeldonDeploymentMetadata
  </a>
  
    <nav class="md-nav" aria-label="SeldonDeploymentMetadata">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentMetadata.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentNotFoundError" class="md-nav__link">
    SeldonDeploymentNotFoundError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictiveUnit" class="md-nav__link">
    SeldonDeploymentPredictiveUnit
  </a>
  
    <nav class="md-nav" aria-label="SeldonDeploymentPredictiveUnit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictiveUnit.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictiveUnitType" class="md-nav__link">
    SeldonDeploymentPredictiveUnitType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictor" class="md-nav__link">
    SeldonDeploymentPredictor
  </a>
  
    <nav class="md-nav" aria-label="SeldonDeploymentPredictor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictor.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentSpec" class="md-nav__link">
    SeldonDeploymentSpec
  </a>
  
    <nav class="md-nav" aria-label="SeldonDeploymentSpec">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentSpec.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentStatus" class="md-nav__link">
    SeldonDeploymentStatus
  </a>
  
    <nav class="md-nav" aria-label="SeldonDeploymentStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentStatus.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentStatusAddress" class="md-nav__link">
    SeldonDeploymentStatusAddress
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentStatusCondition" class="md-nav__link">
    SeldonDeploymentStatusCondition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.seldon_client.SeldonDeploymentStatusState" class="md-nav__link">
    SeldonDeploymentStatusState
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.services" class="md-nav__link">
    services
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.services.seldon_deployment" class="md-nav__link">
    seldon_deployment
  </a>
  
    <nav class="md-nav" aria-label="seldon_deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentConfig" class="md-nav__link">
    SeldonDeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentService" class="md-nav__link">
    SeldonDeploymentService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentServiceStatus" class="md-nav__link">
    SeldonDeploymentServiceStatus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.steps.seldon_deployer" class="md-nav__link">
    seldon_deployer
  </a>
  
    <nav class="md-nav" aria-label="seldon_deployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.steps.seldon_deployer.SeldonDeployerStepConfig" class="md-nav__link">
    SeldonDeployerStepConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.seldon.steps.seldon_deployer.seldon_model_deployer_step" class="md-nav__link">
    seldon_model_deployer_step
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn" class="md-nav__link">
    sklearn
  </a>
  
    <nav class="md-nav" aria-label="sklearn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.SklearnIntegration" class="md-nav__link">
    SklearnIntegration
  </a>
  
    <nav class="md-nav" aria-label="SklearnIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.SklearnIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.helpers" class="md-nav__link">
    helpers
  </a>
  
    <nav class="md-nav" aria-label="helpers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.helpers.digits" class="md-nav__link">
    digits
  </a>
  
    <nav class="md-nav" aria-label="digits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.helpers.digits.get_digits" class="md-nav__link">
    get_digits()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.helpers.digits.get_digits_model" class="md-nav__link">
    get_digits_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.materializers.sklearn_materializer" class="md-nav__link">
    sklearn_materializer
  </a>
  
    <nav class="md-nav" aria-label="sklearn_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.materializers.sklearn_materializer.SklearnMaterializer" class="md-nav__link">
    SklearnMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_evaluator" class="md-nav__link">
    sklearn_evaluator
  </a>
  
    <nav class="md-nav" aria-label="sklearn_evaluator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_evaluator.SklearnEvaluator" class="md-nav__link">
    SklearnEvaluator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_evaluator.SklearnEvaluatorConfig" class="md-nav__link">
    SklearnEvaluatorConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_splitter" class="md-nav__link">
    sklearn_splitter
  </a>
  
    <nav class="md-nav" aria-label="sklearn_splitter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_splitter.SklearnSplitter" class="md-nav__link">
    SklearnSplitter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_splitter.SklearnSplitterConfig" class="md-nav__link">
    SklearnSplitterConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_standard_scaler" class="md-nav__link">
    sklearn_standard_scaler
  </a>
  
    <nav class="md-nav" aria-label="sklearn_standard_scaler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_standard_scaler.SklearnStandardScaler" class="md-nav__link">
    SklearnStandardScaler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.sklearn.steps.sklearn_standard_scaler.SklearnStandardScalerConfig" class="md-nav__link">
    SklearnStandardScalerConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack" class="md-nav__link">
    slack
  </a>
  
    <nav class="md-nav" aria-label="slack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack.SlackIntegration" class="md-nav__link">
    SlackIntegration
  </a>
  
    <nav class="md-nav" aria-label="SlackIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack.SlackIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack.alerters" class="md-nav__link">
    alerters
  </a>
  
    <nav class="md-nav" aria-label="alerters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack.alerters.slack_alerter" class="md-nav__link">
    slack_alerter
  </a>
  
    <nav class="md-nav" aria-label="slack_alerter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack.alerters.slack_alerter.SlackAlerter" class="md-nav__link">
    SlackAlerter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.slack.alerters.slack_alerter.SlackAlerterConfig" class="md-nav__link">
    SlackAlerterConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow" class="md-nav__link">
    tensorflow
  </a>
  
    <nav class="md-nav" aria-label="tensorflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.TensorflowIntegration" class="md-nav__link">
    TensorflowIntegration
  </a>
  
    <nav class="md-nav" aria-label="TensorflowIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.TensorflowIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.materializers.keras_materializer" class="md-nav__link">
    keras_materializer
  </a>
  
    <nav class="md-nav" aria-label="keras_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.materializers.keras_materializer.KerasMaterializer" class="md-nav__link">
    KerasMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.materializers.tf_dataset_materializer" class="md-nav__link">
    tf_dataset_materializer
  </a>
  
    <nav class="md-nav" aria-label="tf_dataset_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.materializers.tf_dataset_materializer.TensorflowDatasetMaterializer" class="md-nav__link">
    TensorflowDatasetMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.services" class="md-nav__link">
    services
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.services.tensorboard_service" class="md-nav__link">
    tensorboard_service
  </a>
  
    <nav class="md-nav" aria-label="tensorboard_service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.services.tensorboard_service.TensorboardService" class="md-nav__link">
    TensorboardService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.services.tensorboard_service.TensorboardServiceConfig" class="md-nav__link">
    TensorboardServiceConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.steps.tensorflow_trainer" class="md-nav__link">
    tensorflow_trainer
  </a>
  
    <nav class="md-nav" aria-label="tensorflow_trainer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.steps.tensorflow_trainer.TensorflowBinaryClassifier" class="md-nav__link">
    TensorflowBinaryClassifier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.steps.tensorflow_trainer.TensorflowBinaryClassifierConfig" class="md-nav__link">
    TensorflowBinaryClassifierConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.visualizers.tensorboard_visualizer" class="md-nav__link">
    tensorboard_visualizer
  </a>
  
    <nav class="md-nav" aria-label="tensorboard_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.TensorboardVisualizer" class="md-nav__link">
    TensorboardVisualizer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.get_step" class="md-nav__link">
    get_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.stop_tensorboard_server" class="md-nav__link">
    stop_tensorboard_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.visualize_tensorboard" class="md-nav__link">
    visualize_tensorboard()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.utils.get_integration_for_module" class="md-nav__link">
    get_integration_for_module()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.utils.get_requirements_for_module" class="md-nav__link">
    get_requirements_for_module()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault" class="md-nav__link">
    vault
  </a>
  
    <nav class="md-nav" aria-label="vault">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.VaultSecretsManagerIntegration" class="md-nav__link">
    VaultSecretsManagerIntegration
  </a>
  
    <nav class="md-nav" aria-label="VaultSecretsManagerIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.VaultSecretsManagerIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager" class="md-nav__link">
    secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager.vault_secrets_manager" class="md-nav__link">
    vault_secrets_manager
  </a>
  
    <nav class="md-nav" aria-label="vault_secrets_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager.vault_secrets_manager.VaultSecretsManager" class="md-nav__link">
    VaultSecretsManager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager.vault_secrets_manager.get_secret_schema_name" class="md-nav__link">
    get_secret_schema_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager.vault_secrets_manager.prepend_secret_schema_to_secret_name" class="md-nav__link">
    prepend_secret_schema_to_secret_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager.vault_secrets_manager.remove_secret_schema_name" class="md-nav__link">
    remove_secret_schema_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.vault.secrets_manager.vault_secrets_manager.sanitize_secret_name" class="md-nav__link">
    sanitize_secret_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb" class="md-nav__link">
    wandb
  </a>
  
    <nav class="md-nav" aria-label="wandb">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.WandbIntegration" class="md-nav__link">
    WandbIntegration
  </a>
  
    <nav class="md-nav" aria-label="WandbIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.WandbIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.experiment_trackers" class="md-nav__link">
    experiment_trackers
  </a>
  
    <nav class="md-nav" aria-label="experiment_trackers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.experiment_trackers.wandb_experiment_tracker" class="md-nav__link">
    wandb_experiment_tracker
  </a>
  
    <nav class="md-nav" aria-label="wandb_experiment_tracker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.experiment_trackers.wandb_experiment_tracker.WandbExperimentTracker" class="md-nav__link">
    WandbExperimentTracker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.wandb_step_decorator" class="md-nav__link">
    wandb_step_decorator
  </a>
  
    <nav class="md-nav" aria-label="wandb_step_decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.wandb_step_decorator.enable_wandb" class="md-nav__link">
    enable_wandb()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.wandb.wandb_step_decorator.wandb_step_entrypoint" class="md-nav__link">
    wandb_step_entrypoint()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs" class="md-nav__link">
    whylogs
  </a>
  
    <nav class="md-nav" aria-label="whylogs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.WhylogsIntegration" class="md-nav__link">
    WhylogsIntegration
  </a>
  
    <nav class="md-nav" aria-label="WhylogsIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.WhylogsIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.materializers.whylogs_materializer" class="md-nav__link">
    whylogs_materializer
  </a>
  
    <nav class="md-nav" aria-label="whylogs_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.materializers.whylogs_materializer.WhylogsMaterializer" class="md-nav__link">
    WhylogsMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.steps.whylogs_profiler" class="md-nav__link">
    whylogs_profiler
  </a>
  
    <nav class="md-nav" aria-label="whylogs_profiler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.steps.whylogs_profiler.WhylogsProfilerConfig" class="md-nav__link">
    WhylogsProfilerConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.steps.whylogs_profiler.WhylogsProfilerStep" class="md-nav__link">
    WhylogsProfilerStep
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.steps.whylogs_profiler.whylogs_profiler_step" class="md-nav__link">
    whylogs_profiler_step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.visualizers" class="md-nav__link">
    visualizers
  </a>
  
    <nav class="md-nav" aria-label="visualizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.visualizers.whylogs_visualizer" class="md-nav__link">
    whylogs_visualizer
  </a>
  
    <nav class="md-nav" aria-label="whylogs_visualizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.visualizers.whylogs_visualizer.WhylogsPlots" class="md-nav__link">
    WhylogsPlots
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.visualizers.whylogs_visualizer.WhylogsVisualizer" class="md-nav__link">
    WhylogsVisualizer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_context" class="md-nav__link">
    whylogs_context
  </a>
  
    <nav class="md-nav" aria-label="whylogs_context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_context.WhylogsContext" class="md-nav__link">
    WhylogsContext
  </a>
  
    <nav class="md-nav" aria-label="WhylogsContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_context.WhylogsContext.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_context.WhylogsContext.get_whylogs_session" class="md-nav__link">
    get_whylogs_session()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_context.WhylogsContext.profile_dataframe" class="md-nav__link">
    profile_dataframe()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_step_decorator" class="md-nav__link">
    whylogs_step_decorator
  </a>
  
    <nav class="md-nav" aria-label="whylogs_step_decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_step_decorator.enable_whylogs" class="md-nav__link">
    enable_whylogs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.whylogs.whylogs_step_decorator.whylogs_entrypoint" class="md-nav__link">
    whylogs_entrypoint()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost" class="md-nav__link">
    xgboost
  </a>
  
    <nav class="md-nav" aria-label="xgboost">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.XgboostIntegration" class="md-nav__link">
    XgboostIntegration
  </a>
  
    <nav class="md-nav" aria-label="XgboostIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.XgboostIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.materializers.xgboost_booster_materializer" class="md-nav__link">
    xgboost_booster_materializer
  </a>
  
    <nav class="md-nav" aria-label="xgboost_booster_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.materializers.xgboost_booster_materializer.XgboostBoosterMaterializer" class="md-nav__link">
    XgboostBoosterMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.materializers.xgboost_dmatrix_materializer" class="md-nav__link">
    xgboost_dmatrix_materializer
  </a>
  
    <nav class="md-nav" aria-label="xgboost_dmatrix_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.xgboost.materializers.xgboost_dmatrix_materializer.XgboostDMatrixMaterializer" class="md-nav__link">
    XgboostDMatrixMaterializer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/zenml-io/zenml/docs/api_docs/integrations.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="integrations">Integrations</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.integrations" class="doc doc-heading">
        <code>zenml.integrations</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>ZenML integrations module.</p>
<p>The ZenML integrations module contains sub-modules for each integration that we
support. This includes orchestrators like Apache Airflow, visualization tools
like the <code>facets</code> library, as well as deep learning libraries like PyTorch.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.airflow" class="doc doc-heading">
        <code>airflow</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Airflow integration for ZenML.</p>
<p>The Airflow integration sub-module powers an alternative to the local
orchestrator. You can enable it by registering the Airflow orchestrator with
the CLI tool, then bootstrap using the <code>zenml orchestrator up</code> command.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.airflow.AirflowIntegration" class="doc doc-heading">
        <code>
AirflowIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Airflow Integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/airflow/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AirflowIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Airflow Integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">AIRFLOW</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;apache-airflow==2.2.0&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Airflow integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">AIRFLOW_ORCHESTRATOR_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.airflow.orchestrators.AirflowOrchestrator&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.airflow.AirflowIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the Airflow integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/airflow/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Airflow integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">AIRFLOW_ORCHESTRATOR_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.airflow.orchestrators.AirflowOrchestrator&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.airflow.orchestrators" class="doc doc-heading">
        <code>orchestrators</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>The Airflow integration enables the use of Airflow as a pipeline orchestrator.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator" class="doc doc-heading">
        <code>airflow_orchestrator</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of Airflow orchestrator integration.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator" class="doc doc-heading">
        <code>
AirflowOrchestrator            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestrator" href="../orchestrators/#zenml.orchestrators.base_orchestrator.BaseOrchestrator">BaseOrchestrator</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Orchestrator responsible for running pipelines using Airflow.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/airflow/orchestrators/airflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AirflowOrchestrator</span><span class="p">(</span><span class="n">BaseOrchestrator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Orchestrator responsible for running pipelines using Airflow.&quot;&quot;&quot;</span>

    <span class="n">airflow_home</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">AIRFLOW_ORCHESTRATOR_FLAVOR</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets environment variables to configure airflow.</span>

<span class="sd">        Args:</span>
<span class="sd">            **values: Values to set in the orchestrator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_env</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_translate_schedule</span><span class="p">(</span>
        <span class="n">schedule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Schedule</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Convert ZenML schedule into Airflow schedule.</span>

<span class="sd">        The Airflow schedule uses slightly different naming and needs some</span>
<span class="sd">        default entries for execution without a schedule.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule: Containing the interval, start and end date and</span>
<span class="sd">                a boolean flag that defines if past runs should be caught up</span>
<span class="sd">                on</span>

<span class="sd">        Returns:</span>
<span class="sd">            Airflow configuration dict.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">schedule</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">{</span>
                    <span class="s2">&quot;schedule_interval&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">{</span>
                    <span class="s2">&quot;schedule_interval&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">interval_second</span><span class="p">,</span>
                    <span class="s2">&quot;start_date&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
                    <span class="s2">&quot;end_date&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
                    <span class="s2">&quot;catchup&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">catchup</span><span class="p">,</span>
                <span class="p">}</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;schedule_interval&quot;</span><span class="p">:</span> <span class="s2">&quot;@once&quot;</span><span class="p">,</span>
            <span class="c1"># set the a start time in the past and disable catchup so airflow runs the dag immediately</span>
            <span class="s2">&quot;start_date&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span>
            <span class="s2">&quot;catchup&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sorted_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">],</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
        <span class="n">pb2_pipeline</span><span class="p">:</span> <span class="n">Pb2Pipeline</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates an Airflow DAG as the intermediate representation for the pipeline.</span>

<span class="sd">        This DAG will be loaded by airflow in the target environment</span>
<span class="sd">        and used for orchestration of the pipeline.</span>

<span class="sd">        How it works:</span>
<span class="sd">        -------------</span>
<span class="sd">        A new airflow_dag is instantiated with the pipeline name and among</span>
<span class="sd">        others things the run schedule.</span>

<span class="sd">        For each step of the pipeline a callable is created. This callable</span>
<span class="sd">        uses the run_step() method to execute the step. The parameters of</span>
<span class="sd">        this callable are pre-filled and an airflow step_operator is created</span>
<span class="sd">        within the dag. The dependencies to upstream steps are then</span>
<span class="sd">        configured.</span>

<span class="sd">        Finally, the dag is fully complete and can be returned.</span>

<span class="sd">        Args:</span>
<span class="sd">            sorted_steps: List of steps in the pipeline.</span>
<span class="sd">            pipeline: The pipeline to be executed.</span>
<span class="sd">            pb2_pipeline: The pipeline as a protobuf message.</span>
<span class="sd">            stack: The stack on which the pipeline will be deployed.</span>
<span class="sd">            runtime_configuration: The runtime configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Airflow DAG.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">airflow</span>
        <span class="kn">from</span> <span class="nn">airflow.operators</span> <span class="kn">import</span> <span class="n">python</span> <span class="k">as</span> <span class="n">airflow_python</span>

        <span class="c1"># Instantiate and configure airflow Dag with name and schedule</span>
        <span class="n">airflow_dag</span> <span class="o">=</span> <span class="n">airflow</span><span class="o">.</span><span class="n">DAG</span><span class="p">(</span>
            <span class="n">dag_id</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">is_paused_upon_creation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_translate_schedule</span><span class="p">(</span><span class="n">runtime_configuration</span><span class="o">.</span><span class="n">schedule</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="c1"># Dictionary mapping step names to airflow_operators. This will be needed</span>
        <span class="c1"># to configure airflow operator dependencies</span>
        <span class="n">step_name_to_airflow_operator</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span><span class="p">:</span>
            <span class="c1"># Create callable that will be used by airflow to execute the step</span>
            <span class="c1"># within the orchestrated environment</span>
            <span class="k">def</span> <span class="nf">_step_callable</span><span class="p">(</span><span class="n">step_instance</span><span class="p">:</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                <span class="c1"># Extract run name for the kwargs that will be passed to the</span>
                <span class="c1"># callable</span>
                <span class="n">run_name</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;ti&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get_dagrun</span><span class="p">()</span><span class="o">.</span><span class="n">run_id</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">run_step</span><span class="p">(</span>
                    <span class="n">step</span><span class="o">=</span><span class="n">step_instance</span><span class="p">,</span>
                    <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
                    <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="c1"># Create airflow python operator that contains the step callable</span>
            <span class="n">airflow_operator</span> <span class="o">=</span> <span class="n">airflow_python</span><span class="o">.</span><span class="n">PythonOperator</span><span class="p">(</span>
                <span class="n">dag</span><span class="o">=</span><span class="n">airflow_dag</span><span class="p">,</span>
                <span class="n">task_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">provide_context</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">python_callable</span><span class="o">=</span><span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
                    <span class="n">_step_callable</span><span class="p">,</span> <span class="n">step_instance</span><span class="o">=</span><span class="n">step</span>
                <span class="p">),</span>
            <span class="p">)</span>

            <span class="c1"># Configure the current airflow operator to run after all upstream</span>
            <span class="c1"># operators finished executing</span>
            <span class="n">step_name_to_airflow_operator</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">airflow_operator</span>
            <span class="n">upstream_step_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_upstream_step_names</span><span class="p">(</span>
                <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">upstream_step_name</span> <span class="ow">in</span> <span class="n">upstream_step_names</span><span class="p">:</span>
                <span class="n">airflow_operator</span><span class="o">.</span><span class="n">set_upstream</span><span class="p">(</span>
                    <span class="n">step_name_to_airflow_operator</span><span class="p">[</span><span class="n">upstream_step_name</span><span class="p">]</span>
                <span class="p">)</span>

        <span class="c1"># Return the finished airflow dag</span>
        <span class="k">return</span> <span class="n">airflow_dag</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">skip_on_failure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">set_airflow_home</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Sets Airflow home according to orchestrator UUID.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: Dictionary containing all orchestrator attributes values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary containing all orchestrator attributes values and the airflow home.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the orchestrator UUID is not set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;uuid&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;`uuid` needs to exist for AirflowOrchestrator.&quot;</span><span class="p">)</span>
        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;airflow_home&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">io_utils</span><span class="o">.</span><span class="n">get_global_config_directory</span><span class="p">(),</span>
            <span class="n">AIRFLOW_ROOT_DIR</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dags_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to the airflow dags directory.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the airflow dags directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">airflow_home</span><span class="p">,</span> <span class="s2">&quot;dags&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pid_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to the daemon PID file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the daemon PID file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">airflow_home</span><span class="p">,</span> <span class="s2">&quot;airflow_daemon.pid&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">log_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to the airflow log file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: Path to the airflow log file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">airflow_home</span><span class="p">,</span> <span class="s2">&quot;airflow_orchestrator.log&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">password_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to the webserver password file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the webserver password file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">airflow_home</span><span class="p">,</span> <span class="s2">&quot;standalone_admin_password.txt&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_env</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Sets environment variables to configure airflow.&quot;&quot;&quot;</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AIRFLOW_HOME&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">airflow_home</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AIRFLOW__CORE__DAGS_FOLDER&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dags_directory</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AIRFLOW__CORE__DAG_DISCOVERY_SAFE_MODE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;false&quot;</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AIRFLOW__CORE__LOAD_EXAMPLES&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;false&quot;</span>
        <span class="c1"># check the DAG folder every 10 seconds for new files</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AIRFLOW__SCHEDULER__DAG_DIR_LIST_INTERVAL&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;10&quot;</span>

    <span class="k">def</span> <span class="nf">_copy_to_dag_directory_if_necessary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dag_filepath</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Copies DAG module to the Airflow DAGs directory if not already present.</span>

<span class="sd">        Args:</span>
<span class="sd">            dag_filepath: Path to the file in which the DAG is defined.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dags_directory</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">resolve_relative_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dags_directory</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">dags_directory</span> <span class="o">==</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">dag_filepath</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;File is already in airflow DAGs directory.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Copying dag file &#39;</span><span class="si">%s</span><span class="s2">&#39; to DAGs directory.&quot;</span><span class="p">,</span> <span class="n">dag_filepath</span>
            <span class="p">)</span>
            <span class="n">destination_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">dags_directory</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">dag_filepath</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">destination_path</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;File &#39;</span><span class="si">%s</span><span class="s2">&#39; already exists, overwriting with new DAG file&quot;</span><span class="p">,</span>
                    <span class="n">destination_path</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">dag_filepath</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_log_webserver_credentials</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Logs URL and credentials to log in to the airflow webserver.</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileNotFoundError: If the password file does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">password_file</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">password_file</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="n">password</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t find password file &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">password_file</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;To inspect your DAGs, login to http://0.0.0.0:8080 &quot;</span>
            <span class="s2">&quot;with username: admin password: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">password</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">runtime_options</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Runtime options for the airflow orchestrator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Runtime options dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">DAG_FILEPATH_OPTION_KEY</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks Airflow is running and copies DAG file to the Airflow DAGs directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline: Pipeline to be deployed.</span>
<span class="sd">            stack: Stack to be deployed.</span>
<span class="sd">            runtime_configuration: Runtime configuration for the pipeline.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If Airflow is not running or no DAG filepath runtime</span>
<span class="sd">                          option is provided.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Airflow orchestrator is currently not running. Run `zenml &quot;</span>
                <span class="s2">&quot;stack up` to provision resources for the active stack.&quot;</span>
            <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">dag_filepath</span> <span class="o">=</span> <span class="n">runtime_configuration</span><span class="p">[</span><span class="n">DAG_FILEPATH_OPTION_KEY</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No DAG filepath found in runtime configuration. Make sure &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;to add the filepath to your airflow DAG file as a runtime &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;option (key: &#39;</span><span class="si">{</span><span class="n">DAG_FILEPATH_OPTION_KEY</span><span class="si">}</span><span class="s2">&#39;).&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_copy_to_dag_directory_if_necessary</span><span class="p">(</span><span class="n">dag_filepath</span><span class="o">=</span><span class="n">dag_filepath</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns whether the airflow daemon is currently running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the daemon is running, False otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If port 8080 is occupied.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">airflow.cli.commands.standalone_command</span> <span class="kn">import</span> <span class="n">StandaloneCommand</span>
        <span class="kn">from</span> <span class="nn">airflow.jobs.triggerer_job</span> <span class="kn">import</span> <span class="n">TriggererJob</span>

        <span class="n">daemon_running</span> <span class="o">=</span> <span class="n">daemon</span><span class="o">.</span><span class="n">check_if_daemon_is_running</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid_file</span><span class="p">)</span>

        <span class="n">command</span> <span class="o">=</span> <span class="n">StandaloneCommand</span><span class="p">()</span>
        <span class="n">webserver_port_open</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">port_open</span><span class="p">(</span><span class="mi">8080</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">daemon_running</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">webserver_port_open</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;The airflow daemon does not seem to be running but &quot;</span>
                    <span class="s2">&quot;local port 8080 is occupied. Make sure the port is &quot;</span>
                    <span class="s2">&quot;available and try again.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># exit early so we don&#39;t check non-existing airflow databases</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># we can&#39;t use StandaloneCommand().is_ready() here as the</span>
        <span class="c1"># Airflow SequentialExecutor apparently does not send a heartbeat</span>
        <span class="c1"># while running a task which would result in this returning `False`</span>
        <span class="c1"># even if Airflow is running.</span>
        <span class="n">airflow_running</span> <span class="o">=</span> <span class="n">webserver_port_open</span> <span class="ow">and</span> <span class="n">command</span><span class="o">.</span><span class="n">job_running</span><span class="p">(</span>
            <span class="n">TriggererJob</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">airflow_running</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_provisioned</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns whether the airflow daemon is currently running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the airflow daemon is running, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Ensures that Airflow is running.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Airflow is already running.&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log_webserver_credentials</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dags_directory</span><span class="p">):</span>
            <span class="n">io_utils</span><span class="o">.</span><span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dags_directory</span><span class="p">)</span>

        <span class="kn">from</span> <span class="nn">airflow.cli.commands.standalone_command</span> <span class="kn">import</span> <span class="n">StandaloneCommand</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">=</span> <span class="n">StandaloneCommand</span><span class="p">()</span>
            <span class="c1"># Run the daemon with a working directory inside the current</span>
            <span class="c1"># zenml repo so the same repo will be used to run the DAGs</span>
            <span class="n">daemon</span><span class="o">.</span><span class="n">run_as_daemon</span><span class="p">(</span>
                <span class="n">command</span><span class="o">.</span><span class="n">run</span><span class="p">,</span>
                <span class="n">pid_file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pid_file</span><span class="p">,</span>
                <span class="n">log_file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log_file</span><span class="p">,</span>
                <span class="n">working_directory</span><span class="o">=</span><span class="n">get_source_root_path</span><span class="p">(),</span>
            <span class="p">)</span>
            <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
                <span class="c1"># Wait until the daemon started all the relevant airflow</span>
                <span class="c1"># processes</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log_webserver_credentials</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;An error occurred while starting the Airflow daemon. If you &quot;</span>
                <span class="s2">&quot;want to start it manually, use the commands described in the &quot;</span>
                <span class="s2">&quot;official Airflow quickstart guide for running Airflow locally.&quot;</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">deprovision</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Stops the airflow daemon if necessary and tears down resources.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="n">daemon</span><span class="o">.</span><span class="n">stop_daemon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid_file</span><span class="p">)</span>

        <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">airflow_home</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Airflow spun down.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.dags_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dags_directory</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns path to the airflow dags directory.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Path to the airflow dags directory.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.is_provisioned" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_provisioned</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns whether the airflow daemon is currently running.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the airflow daemon is running, False otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.is_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_running</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns whether the airflow daemon is currently running.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the daemon is running, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If port 8080 is occupied.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.log_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">log_file</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns path to the airflow log file.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Path to the airflow log file.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.password_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">password_file</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns path to the webserver password file.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Path to the webserver password file.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.pid_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns path to the daemon PID file.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Path to the daemon PID file.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>







  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Sets environment variables to configure airflow.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>**values</code></td>
        <td><code>Any</code></td>
        <td><p>Values to set in the orchestrator.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/airflow/orchestrators/airflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets environment variables to configure airflow.</span>

<span class="sd">    Args:</span>
<span class="sd">        **values: Values to set in the orchestrator.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_env</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.deprovision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Stops the airflow daemon if necessary and tears down resources.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/airflow/orchestrators/airflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Stops the airflow daemon if necessary and tears down resources.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="n">daemon</span><span class="o">.</span><span class="n">stop_daemon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid_file</span><span class="p">)</span>

    <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">airflow_home</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Airflow spun down.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.prepare_or_run_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_or_run_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sorted_steps</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Creates an Airflow DAG as the intermediate representation for the pipeline.</p>
<p>This DAG will be loaded by airflow in the target environment
and used for orchestration of the pipeline.</p>
<h6 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.prepare_or_run_pipeline--how-it-works">How it works:</h6>
<p>A new airflow_dag is instantiated with the pipeline name and among
others things the run schedule.</p>
<p>For each step of the pipeline a callable is created. This callable
uses the run_step() method to execute the step. The parameters of
this callable are pre-filled and an airflow step_operator is created
within the dag. The dependencies to upstream steps are then
configured.</p>
<p>Finally, the dag is fully complete and can be returned.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sorted_steps</code></td>
        <td><code>List[zenml.steps.base_step.BaseStep]</code></td>
        <td><p>List of steps in the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>BasePipeline</code></td>
        <td><p>The pipeline to be executed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pb2_pipeline</code></td>
        <td><code>Pipeline</code></td>
        <td><p>The pipeline as a protobuf message.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack on which the pipeline will be deployed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>runtime_configuration</code></td>
        <td><code>RuntimeConfiguration</code></td>
        <td><p>The runtime configuration.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The Airflow DAG.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/airflow/orchestrators/airflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sorted_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">],</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
    <span class="n">pb2_pipeline</span><span class="p">:</span> <span class="n">Pb2Pipeline</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates an Airflow DAG as the intermediate representation for the pipeline.</span>

<span class="sd">    This DAG will be loaded by airflow in the target environment</span>
<span class="sd">    and used for orchestration of the pipeline.</span>

<span class="sd">    How it works:</span>
<span class="sd">    -------------</span>
<span class="sd">    A new airflow_dag is instantiated with the pipeline name and among</span>
<span class="sd">    others things the run schedule.</span>

<span class="sd">    For each step of the pipeline a callable is created. This callable</span>
<span class="sd">    uses the run_step() method to execute the step. The parameters of</span>
<span class="sd">    this callable are pre-filled and an airflow step_operator is created</span>
<span class="sd">    within the dag. The dependencies to upstream steps are then</span>
<span class="sd">    configured.</span>

<span class="sd">    Finally, the dag is fully complete and can be returned.</span>

<span class="sd">    Args:</span>
<span class="sd">        sorted_steps: List of steps in the pipeline.</span>
<span class="sd">        pipeline: The pipeline to be executed.</span>
<span class="sd">        pb2_pipeline: The pipeline as a protobuf message.</span>
<span class="sd">        stack: The stack on which the pipeline will be deployed.</span>
<span class="sd">        runtime_configuration: The runtime configuration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Airflow DAG.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">airflow</span>
    <span class="kn">from</span> <span class="nn">airflow.operators</span> <span class="kn">import</span> <span class="n">python</span> <span class="k">as</span> <span class="n">airflow_python</span>

    <span class="c1"># Instantiate and configure airflow Dag with name and schedule</span>
    <span class="n">airflow_dag</span> <span class="o">=</span> <span class="n">airflow</span><span class="o">.</span><span class="n">DAG</span><span class="p">(</span>
        <span class="n">dag_id</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">is_paused_upon_creation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_translate_schedule</span><span class="p">(</span><span class="n">runtime_configuration</span><span class="o">.</span><span class="n">schedule</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="c1"># Dictionary mapping step names to airflow_operators. This will be needed</span>
    <span class="c1"># to configure airflow operator dependencies</span>
    <span class="n">step_name_to_airflow_operator</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span><span class="p">:</span>
        <span class="c1"># Create callable that will be used by airflow to execute the step</span>
        <span class="c1"># within the orchestrated environment</span>
        <span class="k">def</span> <span class="nf">_step_callable</span><span class="p">(</span><span class="n">step_instance</span><span class="p">:</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="c1"># Extract run name for the kwargs that will be passed to the</span>
            <span class="c1"># callable</span>
            <span class="n">run_name</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;ti&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get_dagrun</span><span class="p">()</span><span class="o">.</span><span class="n">run_id</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">run_step</span><span class="p">(</span>
                <span class="n">step</span><span class="o">=</span><span class="n">step_instance</span><span class="p">,</span>
                <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
                <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># Create airflow python operator that contains the step callable</span>
        <span class="n">airflow_operator</span> <span class="o">=</span> <span class="n">airflow_python</span><span class="o">.</span><span class="n">PythonOperator</span><span class="p">(</span>
            <span class="n">dag</span><span class="o">=</span><span class="n">airflow_dag</span><span class="p">,</span>
            <span class="n">task_id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">provide_context</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">python_callable</span><span class="o">=</span><span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
                <span class="n">_step_callable</span><span class="p">,</span> <span class="n">step_instance</span><span class="o">=</span><span class="n">step</span>
            <span class="p">),</span>
        <span class="p">)</span>

        <span class="c1"># Configure the current airflow operator to run after all upstream</span>
        <span class="c1"># operators finished executing</span>
        <span class="n">step_name_to_airflow_operator</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">airflow_operator</span>
        <span class="n">upstream_step_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_upstream_step_names</span><span class="p">(</span>
            <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">upstream_step_name</span> <span class="ow">in</span> <span class="n">upstream_step_names</span><span class="p">:</span>
            <span class="n">airflow_operator</span><span class="o">.</span><span class="n">set_upstream</span><span class="p">(</span>
                <span class="n">step_name_to_airflow_operator</span><span class="p">[</span><span class="n">upstream_step_name</span><span class="p">]</span>
            <span class="p">)</span>

    <span class="c1"># Return the finished airflow dag</span>
    <span class="k">return</span> <span class="n">airflow_dag</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.prepare_pipeline_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_pipeline_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Checks Airflow is running and copies DAG file to the Airflow DAGs directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>BasePipeline</code></td>
        <td><p>Pipeline to be deployed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>Stack to be deployed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>runtime_configuration</code></td>
        <td><code>RuntimeConfiguration</code></td>
        <td><p>Runtime configuration for the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If Airflow is not running or no DAG filepath runtime
          option is provided.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/airflow/orchestrators/airflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks Airflow is running and copies DAG file to the Airflow DAGs directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline: Pipeline to be deployed.</span>
<span class="sd">        stack: Stack to be deployed.</span>
<span class="sd">        runtime_configuration: Runtime configuration for the pipeline.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If Airflow is not running or no DAG filepath runtime</span>
<span class="sd">                      option is provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Airflow orchestrator is currently not running. Run `zenml &quot;</span>
            <span class="s2">&quot;stack up` to provision resources for the active stack.&quot;</span>
        <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">dag_filepath</span> <span class="o">=</span> <span class="n">runtime_configuration</span><span class="p">[</span><span class="n">DAG_FILEPATH_OPTION_KEY</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;No DAG filepath found in runtime configuration. Make sure &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;to add the filepath to your airflow DAG file as a runtime &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;option (key: &#39;</span><span class="si">{</span><span class="n">DAG_FILEPATH_OPTION_KEY</span><span class="si">}</span><span class="s2">&#39;).&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_copy_to_dag_directory_if_necessary</span><span class="p">(</span><span class="n">dag_filepath</span><span class="o">=</span><span class="n">dag_filepath</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Ensures that Airflow is running.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/airflow/orchestrators/airflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Ensures that Airflow is running.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Airflow is already running.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log_webserver_credentials</span><span class="p">()</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dags_directory</span><span class="p">):</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dags_directory</span><span class="p">)</span>

    <span class="kn">from</span> <span class="nn">airflow.cli.commands.standalone_command</span> <span class="kn">import</span> <span class="n">StandaloneCommand</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">command</span> <span class="o">=</span> <span class="n">StandaloneCommand</span><span class="p">()</span>
        <span class="c1"># Run the daemon with a working directory inside the current</span>
        <span class="c1"># zenml repo so the same repo will be used to run the DAGs</span>
        <span class="n">daemon</span><span class="o">.</span><span class="n">run_as_daemon</span><span class="p">(</span>
            <span class="n">command</span><span class="o">.</span><span class="n">run</span><span class="p">,</span>
            <span class="n">pid_file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pid_file</span><span class="p">,</span>
            <span class="n">log_file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log_file</span><span class="p">,</span>
            <span class="n">working_directory</span><span class="o">=</span><span class="n">get_source_root_path</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="c1"># Wait until the daemon started all the relevant airflow</span>
            <span class="c1"># processes</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log_webserver_credentials</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;An error occurred while starting the Airflow daemon. If you &quot;</span>
            <span class="s2">&quot;want to start it manually, use the commands described in the &quot;</span>
            <span class="s2">&quot;official Airflow quickstart guide for running Airflow locally.&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deprovision</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.runtime_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runtime_options</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Runtime options for the airflow orchestrator.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Runtime options dictionary.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/airflow/orchestrators/airflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">runtime_options</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Runtime options for the airflow orchestrator.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Runtime options dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">DAG_FILEPATH_OPTION_KEY</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.airflow.orchestrators.airflow_orchestrator.AirflowOrchestrator.set_airflow_home" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_airflow_home</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Sets Airflow home according to orchestrator UUID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>values</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>Dictionary containing all orchestrator attributes values.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Dictionary containing all orchestrator attributes values and the airflow home.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the orchestrator UUID is not set.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/airflow/orchestrators/airflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@root_validator</span><span class="p">(</span><span class="n">skip_on_failure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">set_airflow_home</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Sets Airflow home according to orchestrator UUID.</span>

<span class="sd">    Args:</span>
<span class="sd">        values: Dictionary containing all orchestrator attributes values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary containing all orchestrator attributes values and the airflow home.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the orchestrator UUID is not set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;uuid&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;`uuid` needs to exist for AirflowOrchestrator.&quot;</span><span class="p">)</span>
    <span class="n">values</span><span class="p">[</span><span class="s2">&quot;airflow_home&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">get_global_config_directory</span><span class="p">(),</span>
        <span class="n">AIRFLOW_ROOT_DIR</span><span class="p">,</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]),</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">values</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.aws" class="doc doc-heading">
        <code>aws</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Integrates multiple AWS Tools as Stack Components.</p>
<p>The AWS integration provides a way for our users to manage their secrets
through AWS, a way to use the aws container registry. Additionally, the
Sagemaker integration submodule provides a way to run ZenML steps in
Sagemaker.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.aws.AWSIntegration" class="doc doc-heading">
        <code>
AWSIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of AWS integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AWSIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of AWS integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">AWS</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;boto3==1.21.21&quot;</span><span class="p">,</span> <span class="s2">&quot;sagemaker==2.82.2&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the AWS integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">AWS_SECRET_MANAGER_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.aws.secrets_managers&quot;</span>
                <span class="s2">&quot;.AWSSecretsManager&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">SECRETS_MANAGER</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">AWS_CONTAINER_REGISTRY_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.aws.container_registries&quot;</span>
                <span class="s2">&quot;.AWSContainerRegistry&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">AWS_SAGEMAKER_STEP_OPERATOR_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.aws.step_operators&quot;</span>
                <span class="s2">&quot;.SagemakerStepOperator&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">STEP_OPERATOR</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.aws.AWSIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the AWS integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the AWS integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">AWS_SECRET_MANAGER_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.aws.secrets_managers&quot;</span>
            <span class="s2">&quot;.AWSSecretsManager&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">SECRETS_MANAGER</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">AWS_CONTAINER_REGISTRY_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.aws.container_registries&quot;</span>
            <span class="s2">&quot;.AWSContainerRegistry&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">AWS_SAGEMAKER_STEP_OPERATOR_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.aws.step_operators&quot;</span>
            <span class="s2">&quot;.SagemakerStepOperator&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">STEP_OPERATOR</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.aws.container_registries" class="doc doc-heading">
        <code>container_registries</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of AWS Container Registry integration.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.aws.container_registries.aws_container_registry" class="doc doc-heading">
        <code>aws_container_registry</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the AWS container registry integration.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.aws.container_registries.aws_container_registry.AWSContainerRegistry" class="doc doc-heading">
        <code>
AWSContainerRegistry            (<a class="autorefs autorefs-internal" title="zenml.container_registries.base_container_registry.BaseContainerRegistry" href="../container_registries/#zenml.container_registries.base_container_registry.BaseContainerRegistry">BaseContainerRegistry</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Class for AWS Container Registry.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/container_registries/aws_container_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AWSContainerRegistry</span><span class="p">(</span><span class="n">BaseContainerRegistry</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class for AWS Container Registry.&quot;&quot;&quot;</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">AWS_CONTAINER_REGISTRY_FLAVOR</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;uri&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_aws_uri</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Validates that the URI is in the correct format.</span>

<span class="sd">        Args:</span>
<span class="sd">            uri: URI to validate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            URI in the correct format.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the URI contains a slash character.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;/&quot;</span> <span class="ow">in</span> <span class="n">uri</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Property `uri` can not contain a `/`. An example of a valid &quot;</span>
                <span class="s2">&quot;URI is: `715803424592.dkr.ecr.us-east-1.amazonaws.com`&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">uri</span>

    <span class="k">def</span> <span class="nf">prepare_image_push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Logs warning message if trying to push an image for which no repository exists.</span>

<span class="sd">        Args:</span>
<span class="sd">            image_name: Name of the docker image that will be pushed.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the docker image name is invalid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s2">&quot;ecr&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">describe_repositories</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">repo_uris</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">repository</span><span class="p">[</span><span class="s2">&quot;repositoryUri&quot;</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">repository</span> <span class="ow">in</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;repositories&quot;</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="n">ClientError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># invalid boto response, let&#39;s hope for the best and just push</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error while trying to fetch ECR repositories: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">repo_exists</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span><span class="n">image_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">uri</span> <span class="ow">in</span> <span class="n">repo_uris</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">repo_exists</span><span class="p">:</span>
            <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="si">}</span><span class="s2">/(.*):.*&quot;</span><span class="p">,</span> <span class="n">image_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid docker image name &#39;</span><span class="si">{</span><span class="n">image_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

            <span class="n">repo_name</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Amazon ECR requires you to create a repository before you can &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;push an image to it. ZenML is trying to push the image &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">image_name</span><span class="si">}</span><span class="s2"> but could only detect the following &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;repositories: </span><span class="si">{</span><span class="n">repo_uris</span><span class="si">}</span><span class="s2">. We will try to push anyway, but &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;in case it fails you need to create a repository named &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">repo_name</span><span class="si">}</span><span class="s2">`.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">post_registration_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Optional message printed after the stack component is registered.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Info message regarding docker repositories in AWS.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="s2">&quot;Amazon ECR requires you to create a repository before you can &quot;</span>
            <span class="s2">&quot;push an image to it. If you want to for example run a pipeline &quot;</span>
            <span class="s2">&quot;using our Kubeflow orchestrator, ZenML will automatically build a &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;docker image called `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="si">}</span><span class="s2">/zenml-kubeflow:&lt;PIPELINE_NAME&gt;` &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;and try to push it. This will fail unless you create the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;repository `zenml-kubeflow` inside your amazon registry.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.aws.container_registries.aws_container_registry.AWSContainerRegistry.post_registration_message" class="doc doc-heading">
<code class="highlight language-python"><span class="n">post_registration_message</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Optional message printed after the stack component is registered.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>Info message regarding docker repositories in AWS.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.aws.container_registries.aws_container_registry.AWSContainerRegistry.prepare_image_push" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_image_push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Logs warning message if trying to push an image for which no repository exists.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>image_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the docker image that will be pushed.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the docker image name is invalid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/container_registries/aws_container_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_image_push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Logs warning message if trying to push an image for which no repository exists.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_name: Name of the docker image that will be pushed.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the docker image name is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s2">&quot;ecr&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">describe_repositories</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">repo_uris</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">repository</span><span class="p">[</span><span class="s2">&quot;repositoryUri&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">repository</span> <span class="ow">in</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;repositories&quot;</span><span class="p">]</span>
        <span class="p">]</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="n">ClientError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c1"># invalid boto response, let&#39;s hope for the best and just push</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error while trying to fetch ECR repositories: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">repo_exists</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span><span class="n">image_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">uri</span> <span class="ow">in</span> <span class="n">repo_uris</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">repo_exists</span><span class="p">:</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="si">}</span><span class="s2">/(.*):.*&quot;</span><span class="p">,</span> <span class="n">image_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid docker image name &#39;</span><span class="si">{</span><span class="n">image_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

        <span class="n">repo_name</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Amazon ECR requires you to create a repository before you can &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;push an image to it. ZenML is trying to push the image &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">image_name</span><span class="si">}</span><span class="s2"> but could only detect the following &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;repositories: </span><span class="si">{</span><span class="n">repo_uris</span><span class="si">}</span><span class="s2">. We will try to push anyway, but &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;in case it fails you need to create a repository named &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">repo_name</span><span class="si">}</span><span class="s2">`.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.aws.container_registries.aws_container_registry.AWSContainerRegistry.validate_aws_uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_aws_uri</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Validates that the URI is in the correct format.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uri</code></td>
        <td><code>str</code></td>
        <td><p>URI to validate.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>URI in the correct format.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the URI contains a slash character.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/container_registries/aws_container_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;uri&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_aws_uri</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Validates that the URI is in the correct format.</span>

<span class="sd">    Args:</span>
<span class="sd">        uri: URI to validate.</span>

<span class="sd">    Returns:</span>
<span class="sd">        URI in the correct format.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the URI contains a slash character.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;/&quot;</span> <span class="ow">in</span> <span class="n">uri</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Property `uri` can not contain a `/`. An example of a valid &quot;</span>
            <span class="s2">&quot;URI is: `715803424592.dkr.ecr.us-east-1.amazonaws.com`&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">uri</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.aws.secrets_managers" class="doc doc-heading">
        <code>secrets_managers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>AWS Secrets Manager.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.aws.secrets_managers.aws_secrets_manager" class="doc doc-heading">
        <code>aws_secrets_manager</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the AWS Secrets Manager integration.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.aws.secrets_managers.aws_secrets_manager.AWSSecretsManager" class="doc doc-heading">
        <code>
AWSSecretsManager            (<a class="autorefs autorefs-internal" title="zenml.secrets_managers.base_secrets_manager.BaseSecretsManager" href="../secrets_managers/#zenml.secrets_managers.base_secrets_manager.BaseSecretsManager">BaseSecretsManager</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Class to interact with the AWS secrets manager.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/secrets_managers/aws_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AWSSecretsManager</span><span class="p">(</span><span class="n">BaseSecretsManager</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class to interact with the AWS secrets manager.&quot;&quot;&quot;</span>

    <span class="n">region_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_AWS_REGION</span>

    <span class="c1"># Class configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">AWS_SECRET_MANAGER_FLAVOR</span>
    <span class="n">CLIENT</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_ensure_client_connected</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">region_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Ensure that the client is connected to the AWS secrets manager.</span>

<span class="sd">        Args:</span>
<span class="sd">            region_name: the AWS region name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CLIENT</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Create a Secrets Manager client</span>
            <span class="n">session</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">CLIENT</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">client</span><span class="p">(</span>
                <span class="n">service_name</span><span class="o">=</span><span class="s2">&quot;secretsmanager&quot;</span><span class="p">,</span> <span class="n">region_name</span><span class="o">=</span><span class="n">region_name</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Registers a new secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: the secret to register</span>

<span class="sd">        Raises:</span>
<span class="sd">            SecretExistsError: if the secret already exists</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">region_name</span><span class="p">)</span>
        <span class="n">secret_value</span> <span class="o">=</span> <span class="n">jsonify_secret_contents</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">SecretExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;A Secret with the name </span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> already exists&quot;</span>
            <span class="p">)</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;SecretString&quot;</span><span class="p">:</span> <span class="n">secret_value</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">create_secret</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseSecretSchema</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets a secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_name: the name of the secret to get</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the secret does not exist</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">region_name</span><span class="p">)</span>
        <span class="n">get_secret_value_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(</span>
            <span class="n">SecretId</span><span class="o">=</span><span class="n">secret_name</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;SecretString&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">get_secret_value_response</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No secrets found within the </span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">secret_contents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
            <span class="n">get_secret_value_response</span><span class="p">[</span><span class="s2">&quot;SecretString&quot;</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="n">zenml_schema_name</span> <span class="o">=</span> <span class="n">secret_contents</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">ZENML_SCHEMA_NAME</span><span class="p">)</span>
        <span class="n">secret_contents</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret_name</span>

        <span class="n">secret_schema</span> <span class="o">=</span> <span class="n">SecretSchemaClassRegistry</span><span class="o">.</span><span class="n">get_class</span><span class="p">(</span>
            <span class="n">secret_schema</span><span class="o">=</span><span class="n">zenml_schema_name</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">secret_schema</span><span class="p">(</span><span class="o">**</span><span class="n">secret_contents</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get all secret keys.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all secret keys</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">region_name</span><span class="p">)</span>

        <span class="c1"># TODO [ENG-720]: Deal with pagination in the aws secret manager when</span>
        <span class="c1">#  listing all secrets</span>
        <span class="c1"># TODO [ENG-721]: take out this magic maxresults number</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span><span class="n">MaxResults</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">secret</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;SecretList&quot;</span><span class="p">]]</span>

    <span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Update an existing secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: the secret to update</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">region_name</span><span class="p">)</span>

        <span class="n">secret_value</span> <span class="o">=</span> <span class="n">jsonify_secret_contents</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;SecretId&quot;</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;SecretString&quot;</span><span class="p">:</span> <span class="n">secret_value</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">put_secret_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete an existing secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_name: the name of the secret to delete</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">region_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span>
            <span class="n">SecretId</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">ForceDeleteWithoutRecovery</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete all existing secrets.</span>

<span class="sd">        This method will force delete all your secrets. You will not be able to</span>
<span class="sd">        recover them once this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">region_name</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">secret_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span>
                <span class="n">SecretId</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">ForceDeleteWithoutRecovery</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">















  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.aws.secrets_managers.aws_secrets_manager.AWSSecretsManager.delete_all_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Delete all existing secrets.</p>
<p>This method will force delete all your secrets. You will not be able to
recover them once this method is called.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/secrets_managers/aws_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete all existing secrets.</span>

<span class="sd">    This method will force delete all your secrets. You will not be able to</span>
<span class="sd">    recover them once this method is called.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">region_name</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">secret_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span>
            <span class="n">SecretId</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">ForceDeleteWithoutRecovery</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.aws.secrets_managers.aws_secrets_manager.AWSSecretsManager.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Delete an existing secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the secret to delete</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/secrets_managers/aws_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete an existing secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: the name of the secret to delete</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">region_name</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span>
        <span class="n">SecretId</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">ForceDeleteWithoutRecovery</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.aws.secrets_managers.aws_secrets_manager.AWSSecretsManager.get_all_secret_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Get all secret keys.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of all secret keys</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/secrets_managers/aws_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get all secret keys.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all secret keys</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">region_name</span><span class="p">)</span>

    <span class="c1"># TODO [ENG-720]: Deal with pagination in the aws secret manager when</span>
    <span class="c1">#  listing all secrets</span>
    <span class="c1"># TODO [ENG-721]: take out this magic maxresults number</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span><span class="n">MaxResults</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">secret</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;SecretList&quot;</span><span class="p">]]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.aws.secrets_managers.aws_secrets_manager.AWSSecretsManager.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Gets a secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the secret to get</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseSecretSchema</code></td>
      <td><p>The secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the secret does not exist</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/secrets_managers/aws_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseSecretSchema</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets a secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: the name of the secret to get</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the secret does not exist</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">region_name</span><span class="p">)</span>
    <span class="n">get_secret_value_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(</span>
        <span class="n">SecretId</span><span class="o">=</span><span class="n">secret_name</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="s2">&quot;SecretString&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">get_secret_value_response</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No secrets found within the </span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">secret_contents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
        <span class="n">get_secret_value_response</span><span class="p">[</span><span class="s2">&quot;SecretString&quot;</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="n">zenml_schema_name</span> <span class="o">=</span> <span class="n">secret_contents</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">ZENML_SCHEMA_NAME</span><span class="p">)</span>
    <span class="n">secret_contents</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret_name</span>

    <span class="n">secret_schema</span> <span class="o">=</span> <span class="n">SecretSchemaClassRegistry</span><span class="o">.</span><span class="n">get_class</span><span class="p">(</span>
        <span class="n">secret_schema</span><span class="o">=</span><span class="n">zenml_schema_name</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">secret_schema</span><span class="p">(</span><span class="o">**</span><span class="n">secret_contents</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.aws.secrets_managers.aws_secrets_manager.AWSSecretsManager.register_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Registers a new secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>the secret to register</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SecretExistsError</code></td>
        <td><p>if the secret already exists</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/secrets_managers/aws_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Registers a new secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: the secret to register</span>

<span class="sd">    Raises:</span>
<span class="sd">        SecretExistsError: if the secret already exists</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">region_name</span><span class="p">)</span>
    <span class="n">secret_value</span> <span class="o">=</span> <span class="n">jsonify_secret_contents</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">SecretExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;A Secret with the name </span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> already exists&quot;</span>
        <span class="p">)</span>

    <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;SecretString&quot;</span><span class="p">:</span> <span class="n">secret_value</span><span class="p">}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">create_secret</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.aws.secrets_managers.aws_secrets_manager.AWSSecretsManager.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Update an existing secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>the secret to update</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/secrets_managers/aws_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update an existing secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: the secret to update</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">region_name</span><span class="p">)</span>

    <span class="n">secret_value</span> <span class="o">=</span> <span class="n">jsonify_secret_contents</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

    <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;SecretId&quot;</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;SecretString&quot;</span><span class="p">:</span> <span class="n">secret_value</span><span class="p">}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">put_secret_value</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.aws.secrets_managers.aws_secrets_manager.jsonify_secret_contents" class="doc doc-heading">
<code class="highlight language-python"><span class="n">jsonify_secret_contents</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Adds the secret type to the secret contents.</p>
<p>This persists the schema type in the secrets backend, so that the correct
SecretSchema can be retrieved when the secret is queried from the backend.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>should be a subclass of the BaseSecretSchema class</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>jsonified dictionary containing all key-value pairs and the ZenML schema
type</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/secrets_managers/aws_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">jsonify_secret_contents</span><span class="p">(</span><span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Adds the secret type to the secret contents.</span>

<span class="sd">    This persists the schema type in the secrets backend, so that the correct</span>
<span class="sd">    SecretSchema can be retrieved when the secret is queried from the backend.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: should be a subclass of the BaseSecretSchema class</span>

<span class="sd">    Returns:</span>
<span class="sd">        jsonified dictionary containing all key-value pairs and the ZenML schema</span>
<span class="sd">        type</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">secret_contents</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">content</span>
    <span class="n">secret_contents</span><span class="p">[</span><span class="n">ZENML_SCHEMA_NAME</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">TYPE</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret_contents</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.aws.step_operators" class="doc doc-heading">
        <code>step_operators</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Sagemaker Step Operator.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.aws.step_operators.sagemaker_step_operator" class="doc doc-heading">
        <code>sagemaker_step_operator</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Sagemaker Step Operator.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.aws.step_operators.sagemaker_step_operator.SagemakerStepOperator" class="doc doc-heading">
        <code>
SagemakerStepOperator            (<a class="autorefs autorefs-internal" title="zenml.step_operators.base_step_operator.BaseStepOperator" href="../step_operators/#zenml.step_operators.base_step_operator.BaseStepOperator">BaseStepOperator</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Step operator to run a step on Sagemaker.</p>
<p>This class defines code that builds an image with the ZenML entrypoint
to run using Sagemaker's Estimator.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role</code></td>
        <td><code>str</code></td>
        <td><p>The role that has to be assigned to the jobs which are
running in Sagemaker.</p></td>
      </tr>
      <tr>
        <td><code>instance_type</code></td>
        <td><code>str</code></td>
        <td><p>The type of the compute instance where jobs will run.</p></td>
      </tr>
      <tr>
        <td><code>base_image</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>[Optional] The base image to use for building the docker
image that will be executed.</p></td>
      </tr>
      <tr>
        <td><code>bucket</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>[Optional] Name of the S3 bucket to use for storing artifacts
from the job run. If not provided, a default bucket will be created
based on the following format: "sagemaker-{region}-{aws-account-id}".</p></td>
      </tr>
      <tr>
        <td><code>experiment_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>[Optional] The name for the experiment to which the job
will be associated. If not provided, the job runs would be
independent.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/step_operators/sagemaker_step_operator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SagemakerStepOperator</span><span class="p">(</span><span class="n">BaseStepOperator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Step operator to run a step on Sagemaker.</span>

<span class="sd">    This class defines code that builds an image with the ZenML entrypoint</span>
<span class="sd">    to run using Sagemaker&#39;s Estimator.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        role: The role that has to be assigned to the jobs which are</span>
<span class="sd">            running in Sagemaker.</span>
<span class="sd">        instance_type: The type of the compute instance where jobs will run.</span>
<span class="sd">        base_image: [Optional] The base image to use for building the docker</span>
<span class="sd">            image that will be executed.</span>
<span class="sd">        bucket: [Optional] Name of the S3 bucket to use for storing artifacts</span>
<span class="sd">            from the job run. If not provided, a default bucket will be created</span>
<span class="sd">            based on the following format: &quot;sagemaker-{region}-{aws-account-id}&quot;.</span>
<span class="sd">        experiment_name: [Optional] The name for the experiment to which the job</span>
<span class="sd">            will be associated. If not provided, the job runs would be</span>
<span class="sd">            independent.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">role</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">instance_type</span><span class="p">:</span> <span class="nb">str</span>

    <span class="n">base_image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">bucket</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">experiment_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">AWS_SAGEMAKER_STEP_OPERATOR_FLAVOR</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StackValidator</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Validates that the stack contains a container registry.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A validator that checks that the stack contains a container registry.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_ensure_local_orchestrator</span><span class="p">(</span><span class="n">stack</span><span class="p">:</span> <span class="n">Stack</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">stack</span><span class="o">.</span><span class="n">orchestrator</span><span class="o">.</span><span class="n">FLAVOR</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Local orchestrator is required&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">StackValidator</span><span class="p">(</span>
            <span class="n">required_components</span><span class="o">=</span><span class="p">{</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">},</span>
            <span class="n">custom_validation_function</span><span class="o">=</span><span class="n">_ensure_local_orchestrator</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_build_docker_image</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">requirements</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">entrypoint_command</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">repo</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span>
        <span class="n">container_registry</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">container_registry</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Missing container registry&quot;</span><span class="p">)</span>

        <span class="n">registry_uri</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="n">image_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">registry_uri</span><span class="si">}</span><span class="s2">/zenml-sagemaker:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
            <span class="n">build_context_path</span><span class="o">=</span><span class="n">get_source_root_path</span><span class="p">(),</span>
            <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entrypoint_command</span><span class="p">),</span>
            <span class="n">requirements</span><span class="o">=</span><span class="nb">set</span><span class="p">(</span><span class="n">requirements</span><span class="p">),</span>
            <span class="n">base_image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">base_image</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">container_registry</span><span class="o">.</span><span class="n">push_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>

    <span class="k">def</span> <span class="nf">launch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">requirements</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">entrypoint_command</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Launches a step on Sagemaker.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: Name of the pipeline which the step to be executed</span>
<span class="sd">                is part of.</span>
<span class="sd">            run_name: Name of the pipeline run which the step to be executed</span>
<span class="sd">                is part of.</span>
<span class="sd">            entrypoint_command: Command that executes the step.</span>
<span class="sd">            requirements: List of pip requirements that must be installed</span>
<span class="sd">                inside the step operator environment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_docker_image</span><span class="p">(</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
            <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
            <span class="n">entrypoint_command</span><span class="o">=</span><span class="n">entrypoint_command</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">session</span> <span class="o">=</span> <span class="n">sagemaker</span><span class="o">.</span><span class="n">Session</span><span class="p">(</span><span class="n">default_bucket</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bucket</span><span class="p">)</span>
        <span class="n">estimator</span> <span class="o">=</span> <span class="n">sagemaker</span><span class="o">.</span><span class="n">estimator</span><span class="o">.</span><span class="n">Estimator</span><span class="p">(</span>
            <span class="n">image_name</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">role</span><span class="p">,</span>
            <span class="n">instance_count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">instance_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_type</span><span class="p">,</span>
            <span class="n">sagemaker_session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Sagemaker doesn&#39;t allow any underscores in job/experiment/trial names</span>
        <span class="n">sanitized_run_name</span> <span class="o">=</span> <span class="n">run_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>

        <span class="n">experiment_config</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">experiment_name</span><span class="p">:</span>
            <span class="n">experiment_config</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;ExperimentName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">experiment_name</span><span class="p">,</span>
                <span class="s2">&quot;TrialName&quot;</span><span class="p">:</span> <span class="n">sanitized_run_name</span><span class="p">,</span>
            <span class="p">}</span>

        <span class="n">estimator</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span>
            <span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">experiment_config</span><span class="o">=</span><span class="n">experiment_config</span><span class="p">,</span>
            <span class="n">job_name</span><span class="o">=</span><span class="n">sanitized_run_name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.aws.step_operators.sagemaker_step_operator.SagemakerStepOperator.validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">stack_validator</span><span class="o">.</span><span class="n">StackValidator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Validates that the stack contains a container registry.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.stack.stack_validator.StackValidator]</code></td>
      <td><p>A validator that checks that the stack contains a container registry.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.aws.step_operators.sagemaker_step_operator.SagemakerStepOperator.launch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">launch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">,</span> <span class="n">run_name</span><span class="p">,</span> <span class="n">requirements</span><span class="p">,</span> <span class="n">entrypoint_command</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Launches a step on Sagemaker.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the pipeline which the step to be executed
is part of.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>run_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the pipeline run which the step to be executed
is part of.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>entrypoint_command</code></td>
        <td><code>List[str]</code></td>
        <td><p>Command that executes the step.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>requirements</code></td>
        <td><code>List[str]</code></td>
        <td><p>List of pip requirements that must be installed
inside the step operator environment.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/aws/step_operators/sagemaker_step_operator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">launch</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">requirements</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">entrypoint_command</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Launches a step on Sagemaker.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: Name of the pipeline which the step to be executed</span>
<span class="sd">            is part of.</span>
<span class="sd">        run_name: Name of the pipeline run which the step to be executed</span>
<span class="sd">            is part of.</span>
<span class="sd">        entrypoint_command: Command that executes the step.</span>
<span class="sd">        requirements: List of pip requirements that must be installed</span>
<span class="sd">            inside the step operator environment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_docker_image</span><span class="p">(</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
        <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
        <span class="n">entrypoint_command</span><span class="o">=</span><span class="n">entrypoint_command</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">session</span> <span class="o">=</span> <span class="n">sagemaker</span><span class="o">.</span><span class="n">Session</span><span class="p">(</span><span class="n">default_bucket</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bucket</span><span class="p">)</span>
    <span class="n">estimator</span> <span class="o">=</span> <span class="n">sagemaker</span><span class="o">.</span><span class="n">estimator</span><span class="o">.</span><span class="n">Estimator</span><span class="p">(</span>
        <span class="n">image_name</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">role</span><span class="p">,</span>
        <span class="n">instance_count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">instance_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_type</span><span class="p">,</span>
        <span class="n">sagemaker_session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Sagemaker doesn&#39;t allow any underscores in job/experiment/trial names</span>
    <span class="n">sanitized_run_name</span> <span class="o">=</span> <span class="n">run_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>

    <span class="n">experiment_config</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">experiment_name</span><span class="p">:</span>
        <span class="n">experiment_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ExperimentName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">experiment_name</span><span class="p">,</span>
            <span class="s2">&quot;TrialName&quot;</span><span class="p">:</span> <span class="n">sanitized_run_name</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="n">estimator</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span>
        <span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">experiment_config</span><span class="o">=</span><span class="n">experiment_config</span><span class="p">,</span>
        <span class="n">job_name</span><span class="o">=</span><span class="n">sanitized_run_name</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.azure" class="doc doc-heading">
        <code>azure</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the ZenML Azure integration.</p>
<p>The Azure integration submodule provides a way to run ZenML pipelines in a cloud
environment. Specifically, it allows the use of cloud artifact stores,
and an <code>io</code> module to handle file operations on Azure Blob Storage.
The Azure Step Operator integration submodule provides a way to run ZenML steps
in AzureML.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.azure.AzureIntegration" class="doc doc-heading">
        <code>
AzureIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Azure integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Azure integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">AZURE</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;adlfs==2021.10.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azure-keyvault-keys&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azure-keyvault-secrets&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azure-identity&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azureml-core==1.39.0.post1&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declares the flavors for the integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">AZURE_ARTIFACT_STORE_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.azure.artifact_stores&quot;</span>
                <span class="s2">&quot;.AzureArtifactStore&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">AZURE_SECRETS_MANAGER_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.azure.secrets_managers&quot;</span>
                <span class="s2">&quot;.AzureSecretsManager&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">SECRETS_MANAGER</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">AZUREML_STEP_OPERATOR_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.azure.step_operators&quot;</span>
                <span class="s2">&quot;.AzureMLStepOperator&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">STEP_OPERATOR</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.azure.AzureIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declares the flavors for the integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declares the flavors for the integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">AZURE_ARTIFACT_STORE_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.azure.artifact_stores&quot;</span>
            <span class="s2">&quot;.AzureArtifactStore&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">AZURE_SECRETS_MANAGER_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.azure.secrets_managers&quot;</span>
            <span class="s2">&quot;.AzureSecretsManager&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">SECRETS_MANAGER</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">AZUREML_STEP_OPERATOR_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.azure.step_operators&quot;</span>
            <span class="s2">&quot;.AzureMLStepOperator&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">STEP_OPERATOR</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.azure.artifact_stores" class="doc doc-heading">
        <code>artifact_stores</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Azure Artifact Store integration.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.azure.artifact_stores.azure_artifact_store" class="doc doc-heading">
        <code>azure_artifact_store</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Azure Artifact Store integration.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore" class="doc doc-heading">
        <code>
AzureArtifactStore            (<a class="autorefs autorefs-internal" title="zenml.artifact_stores.base_artifact_store.BaseArtifactStore" href="../artifact_stores/#zenml.artifact_stores.base_artifact_store.BaseArtifactStore">BaseArtifactStore</a>, <a class="autorefs autorefs-internal" title="zenml.stack.authentication_mixin.AuthenticationMixin" href="../stack/#zenml.stack.authentication_mixin.AuthenticationMixin">AuthenticationMixin</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Artifact Store for Microsoft Azure based artifacts.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureArtifactStore</span><span class="p">(</span><span class="n">BaseArtifactStore</span><span class="p">,</span> <span class="n">AuthenticationMixin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Artifact Store for Microsoft Azure based artifacts.&quot;&quot;&quot;</span>

    <span class="n">_filesystem</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">adlfs</span><span class="o">.</span><span class="n">AzureBlobFileSystem</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">AZURE_ARTIFACT_STORE_FLAVOR</span>
    <span class="n">SUPPORTED_SCHEMES</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;abfs://&quot;</span><span class="p">,</span> <span class="s2">&quot;az://&quot;</span><span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">filesystem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">adlfs</span><span class="o">.</span><span class="n">AzureBlobFileSystem</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The adlfs filesystem to access this artifact store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The adlfs filesystem to access this artifact store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filesystem</span><span class="p">:</span>
            <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_authentication_secret</span><span class="p">(</span>
                <span class="n">expected_schema_type</span><span class="o">=</span><span class="n">AzureSecretSchema</span>
            <span class="p">)</span>
            <span class="n">credentials</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">content</span> <span class="k">if</span> <span class="n">secret</span> <span class="k">else</span> <span class="p">{}</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_filesystem</span> <span class="o">=</span> <span class="n">adlfs</span><span class="o">.</span><span class="n">AzureBlobFileSystem</span><span class="p">(</span>
                <span class="o">**</span><span class="n">credentials</span><span class="p">,</span>
                <span class="n">anon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">use_listings_cache</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filesystem</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_split_path</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Splits a path into the filesystem prefix and remainder.</span>

<span class="sd">        Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        prefix, remainder = ZenAzure._split_path(&quot;az://my_container/test.txt&quot;)</span>
<span class="sd">        print(prefix, remainder)  # &quot;az://&quot; &quot;my_container/test.txt&quot;</span>
<span class="sd">        ```</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to split.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple of the filesystem prefix and the remainder.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">convert_to_str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">potential_prefix</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">SUPPORTED_SCHEMES</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">potential_prefix</span><span class="p">):</span>
                <span class="n">prefix</span> <span class="o">=</span> <span class="n">potential_prefix</span>
                <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">potential_prefix</span><span class="p">)</span> <span class="p">:]</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">path</span>

    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Open a file at the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: Path of the file to open.</span>
<span class="sd">            mode: Mode in which to open the file. Currently, only</span>
<span class="sd">                &#39;rb&#39; and &#39;wb&#39; to read and write binary files are supported.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A file-like object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">copyfile</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Copy a file.</span>

<span class="sd">        Args:</span>
<span class="sd">            src: The path to copy from.</span>
<span class="sd">            dst: The path to copy to.</span>
<span class="sd">            overwrite: If a file already exists at the destination, this</span>
<span class="sd">                method will overwrite it if overwrite=`True` and</span>
<span class="sd">                raise a FileExistsError otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileExistsError: If a file already exists at the destination</span>
<span class="sd">                and overwrite is not set to `True`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to copy to destination &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to copy anyway.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># TODO [ENG-151]: Check if it works with overwrite=True or if we need to</span>
        <span class="c1">#  manually remove it first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Check whether a path exists.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the path exists, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">glob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return all paths that match the given glob pattern.</span>

<span class="sd">        The glob pattern may include:</span>
<span class="sd">        - &#39;*&#39; to match any number of characters</span>
<span class="sd">        - &#39;?&#39; to match a single character</span>
<span class="sd">        - &#39;[...]&#39; to match one of the characters inside the brackets</span>
<span class="sd">        - &#39;**&#39; as the full name of a path component to match to search</span>
<span class="sd">            in subdirectories of any depth (e.g. &#39;/some_dir/**/some_file)</span>

<span class="sd">        Args:</span>
<span class="sd">            pattern: The glob pattern to match, see details above.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of paths that match the given glob pattern.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">prefix</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_path</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">pattern</span><span class="p">)</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">isdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Check whether a path is a directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the path is a directory, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">listdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return a list of files in a directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of files in the given directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">_extract_basename</span><span class="p">(</span><span class="n">file_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Extracts the basename from a dictionary returned by the Azure filesystem.</span>

<span class="sd">            Args:</span>
<span class="sd">                file_dict: A dictionary returned by the Azure filesystem.</span>

<span class="sd">            Returns:</span>
<span class="sd">                The basename of the file.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">file_dict</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
            <span class="n">base_name</span> <span class="o">=</span> <span class="n">file_path</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="p">:]</span>
            <span class="k">return</span> <span class="n">base_name</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span>
            <span class="n">_extract_basename</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">dict_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">        If needed also create missing parent directories.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to create.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to create.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove the file at the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rm_file</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">rename</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Rename source file to destination file.</span>

<span class="sd">        Args:</span>
<span class="sd">            src: The path of the file to rename.</span>
<span class="sd">            dst: The path to rename the source file to.</span>
<span class="sd">            overwrite: If a file already exists at the destination, this</span>
<span class="sd">                method will overwrite it if overwrite=`True` and</span>
<span class="sd">                raise a FileExistsError otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileExistsError: If a file already exists at the destination</span>
<span class="sd">                and overwrite is not set to `True`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to rename file to &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to rename anyway.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># TODO [ENG-152]: Check if it works with overwrite=True or if we need</span>
        <span class="c1">#  to manually remove it first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove the given directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path of the directory to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return stat info for the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to get stat info for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Stat info.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">walk</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">top</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span>
        <span class="n">topdown</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">onerror</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">PathType</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]]]:</span>
        <span class="sd">&quot;&quot;&quot;Return an iterator that walks the contents of the given directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            top: Path of directory to walk.</span>
<span class="sd">            topdown: Unused argument to conform to interface.</span>
<span class="sd">            onerror: Unused argument to conform to interface.</span>

<span class="sd">        Yields:</span>
<span class="sd">            An Iterable of Tuples, each of which contain the path of the current</span>
<span class="sd">            directory path, a list of directories inside the current directory</span>
<span class="sd">            and a list of files inside the current directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO [ENG-153]: Additional params</span>
        <span class="n">prefix</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_path</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
        <span class="k">for</span> <span class="p">(</span>
            <span class="n">directory</span><span class="p">,</span>
            <span class="n">subdirectories</span><span class="p">,</span>
            <span class="n">files</span><span class="p">,</span>
        <span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">top</span><span class="p">):</span>
            <span class="k">yield</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="n">directory</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">subdirectories</span><span class="p">,</span> <span class="n">files</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.filesystem" class="doc doc-heading">
<code class="highlight language-python"><span class="n">filesystem</span><span class="p">:</span> <span class="n">AzureBlobFileSystem</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>The adlfs filesystem to access this artifact store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AzureBlobFileSystem</code></td>
      <td><p>The adlfs filesystem to access this artifact store.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.copyfile" class="doc doc-heading">
<code class="highlight language-python"><span class="n">copyfile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Copy a file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>src</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to copy from.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dst</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to copy to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>overwrite</code></td>
        <td><code>bool</code></td>
        <td><p>If a file already exists at the destination, this
method will overwrite it if overwrite=<code>True</code> and
raise a FileExistsError otherwise.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileExistsError</code></td>
        <td><p>If a file already exists at the destination
and overwrite is not set to <code>True</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">copyfile</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Copy a file.</span>

<span class="sd">    Args:</span>
<span class="sd">        src: The path to copy from.</span>
<span class="sd">        dst: The path to copy to.</span>
<span class="sd">        overwrite: If a file already exists at the destination, this</span>
<span class="sd">            method will overwrite it if overwrite=`True` and</span>
<span class="sd">            raise a FileExistsError otherwise.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileExistsError: If a file already exists at the destination</span>
<span class="sd">            and overwrite is not set to `True`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to copy to destination &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to copy anyway.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># TODO [ENG-151]: Check if it works with overwrite=True or if we need to</span>
    <span class="c1">#  manually remove it first</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Check whether a path exists.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the path exists, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check whether a path exists.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the path exists, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.glob" class="doc doc-heading">
<code class="highlight language-python"><span class="n">glob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return all paths that match the given glob pattern.</p>
<p>The glob pattern may include:
- '<em>' to match any number of characters
- '?' to match a single character
- '[...]' to match one of the characters inside the brackets
- '</em><em>' as the full name of a path component to match to search
    in subdirectories of any depth (e.g. '/some_dir/</em>*/some_file)</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pattern</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The glob pattern to match, see details above.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Union[bytes, str]]</code></td>
      <td><p>A list of paths that match the given glob pattern.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">glob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return all paths that match the given glob pattern.</span>

<span class="sd">    The glob pattern may include:</span>
<span class="sd">    - &#39;*&#39; to match any number of characters</span>
<span class="sd">    - &#39;?&#39; to match a single character</span>
<span class="sd">    - &#39;[...]&#39; to match one of the characters inside the brackets</span>
<span class="sd">    - &#39;**&#39; as the full name of a path component to match to search</span>
<span class="sd">        in subdirectories of any depth (e.g. &#39;/some_dir/**/some_file)</span>

<span class="sd">    Args:</span>
<span class="sd">        pattern: The glob pattern to match, see details above.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of paths that match the given glob pattern.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prefix</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_path</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">pattern</span><span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.isdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Check whether a path is a directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the path is a directory, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">isdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check whether a path is a directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the path is a directory, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.listdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return a list of files in a directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to list.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Union[bytes, str]]</code></td>
      <td><p>A list of files in the given directory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">listdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return a list of files in a directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to list.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of files in the given directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_extract_basename</span><span class="p">(</span><span class="n">file_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Extracts the basename from a dictionary returned by the Azure filesystem.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_dict: A dictionary returned by the Azure filesystem.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The basename of the file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">file_dict</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
        <span class="n">base_name</span> <span class="o">=</span> <span class="n">file_path</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="p">:]</span>
        <span class="k">return</span> <span class="n">base_name</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span>
        <span class="n">_extract_basename</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dict_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.makedirs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Create a directory at the given path.</p>
<p>If needed also create missing parent directories.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">    If needed also create missing parent directories.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.mkdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Create a directory at the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.open" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Open a file at the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>Path of the file to open.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>mode</code></td>
        <td><code>str</code></td>
        <td><p>Mode in which to open the file. Currently, only
'rb' and 'wb' to read and write binary files are supported.</p></td>
        <td><code>&#39;r&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>A file-like object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Open a file at the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Path of the file to open.</span>
<span class="sd">        mode: Mode in which to open the file. Currently, only</span>
<span class="sd">            &#39;rb&#39; and &#39;wb&#39; to read and write binary files are supported.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A file-like object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.remove" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Remove the file at the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to remove.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Remove the file at the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to remove.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rm_file</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.rename" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Rename source file to destination file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>src</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path of the file to rename.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dst</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to rename the source file to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>overwrite</code></td>
        <td><code>bool</code></td>
        <td><p>If a file already exists at the destination, this
method will overwrite it if overwrite=<code>True</code> and
raise a FileExistsError otherwise.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileExistsError</code></td>
        <td><p>If a file already exists at the destination
and overwrite is not set to <code>True</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rename</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Rename source file to destination file.</span>

<span class="sd">    Args:</span>
<span class="sd">        src: The path of the file to rename.</span>
<span class="sd">        dst: The path to rename the source file to.</span>
<span class="sd">        overwrite: If a file already exists at the destination, this</span>
<span class="sd">            method will overwrite it if overwrite=`True` and</span>
<span class="sd">            raise a FileExistsError otherwise.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileExistsError: If a file already exists at the destination</span>
<span class="sd">            and overwrite is not set to `True`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to rename file to &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to rename anyway.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># TODO [ENG-152]: Check if it works with overwrite=True or if we need</span>
    <span class="c1">#  to manually remove it first</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.rmtree" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Remove the given directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path of the directory to remove.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Remove the given directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path of the directory to remove.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.stat" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return stat info for the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to get stat info for.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Stat info.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return stat info for the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to get stat info for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Stat info.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.walk" class="doc doc-heading">
<code class="highlight language-python"><span class="n">walk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">topdown</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">onerror</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return an iterator that walks the contents of the given directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>top</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>Path of directory to walk.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>topdown</code></td>
        <td><code>bool</code></td>
        <td><p>Unused argument to conform to interface.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>onerror</code></td>
        <td><code>Optional[Callable[..., NoneType]]</code></td>
        <td><p>Unused argument to conform to interface.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Yields:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterable[Tuple[Union[bytes, str], List[Union[bytes, str]], List[Union[bytes, str]]]]</code></td>
      <td><p>An Iterable of Tuples, each of which contain the path of the current
directory path, a list of directories inside the current directory
and a list of files inside the current directory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">walk</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">top</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span>
    <span class="n">topdown</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">onerror</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">PathType</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]]]:</span>
    <span class="sd">&quot;&quot;&quot;Return an iterator that walks the contents of the given directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        top: Path of directory to walk.</span>
<span class="sd">        topdown: Unused argument to conform to interface.</span>
<span class="sd">        onerror: Unused argument to conform to interface.</span>

<span class="sd">    Yields:</span>
<span class="sd">        An Iterable of Tuples, each of which contain the path of the current</span>
<span class="sd">        directory path, a list of directories inside the current directory</span>
<span class="sd">        and a list of files inside the current directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO [ENG-153]: Additional params</span>
    <span class="n">prefix</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_path</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
    <span class="k">for</span> <span class="p">(</span>
        <span class="n">directory</span><span class="p">,</span>
        <span class="n">subdirectories</span><span class="p">,</span>
        <span class="n">files</span><span class="p">,</span>
    <span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">top</span><span class="p">):</span>
        <span class="k">yield</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="n">directory</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">subdirectories</span><span class="p">,</span> <span class="n">files</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.azure.secrets_managers" class="doc doc-heading">
        <code>secrets_managers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Azure Secrets Manager integration.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.azure.secrets_managers.azure_secrets_manager" class="doc doc-heading">
        <code>azure_secrets_manager</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Azure Secrets Manager integration.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.azure.secrets_managers.azure_secrets_manager.AzureSecretsManager" class="doc doc-heading">
        <code>
AzureSecretsManager            (<a class="autorefs autorefs-internal" title="zenml.secrets_managers.base_secrets_manager.BaseSecretsManager" href="../secrets_managers/#zenml.secrets_managers.base_secrets_manager.BaseSecretsManager">BaseSecretsManager</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Class to interact with the Azure secrets manager.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>project_id</code></td>
        <td></td>
        <td><p>This is necessary to access the correct Azure project.
         The project_id of your Azure project space that contains
         the Secret Manager.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/secrets_managers/azure_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureSecretsManager</span><span class="p">(</span><span class="n">BaseSecretsManager</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class to interact with the Azure secrets manager.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        project_id:  This is necessary to access the correct Azure project.</span>
<span class="sd">                     The project_id of your Azure project space that contains</span>
<span class="sd">                     the Secret Manager.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">key_vault_name</span><span class="p">:</span> <span class="nb">str</span>

    <span class="c1"># Class configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">AZURE_SECRETS_MANAGER_FLAVOR</span>
    <span class="n">CLIENT</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_ensure_client_connected</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">vault_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CLIENT</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">KVUri</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">vault_name</span><span class="si">}</span><span class="s2">.vault.azure.net&quot;</span>

            <span class="n">credential</span> <span class="o">=</span> <span class="n">DefaultAzureCredential</span><span class="p">()</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">CLIENT</span> <span class="o">=</span> <span class="n">SecretClient</span><span class="p">(</span><span class="n">vault_url</span><span class="o">=</span><span class="n">KVUri</span><span class="p">,</span> <span class="n">credential</span><span class="o">=</span><span class="n">credential</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Registers a new secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: the secret to register</span>

<span class="sd">        Raises:</span>
<span class="sd">            SecretExistsError: if the secret already exists</span>
<span class="sd">            ValueError: if the secret name contains an underscore.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_vault_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;_&quot;</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The secret name `</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` contains an underscore. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;This will cause issues with Azure. Please try again.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">SecretExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;A Secret with the name &#39;</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span>
            <span class="p">)</span>

        <span class="n">adjusted_content</span> <span class="o">=</span> <span class="n">prepend_group_name_to_keys</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">adjusted_content</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Create the secret, this only creates an empty secret with the</span>
            <span class="c1">#  supplied name.</span>
            <span class="n">azure_secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">set_secret</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">update_secret_properties</span><span class="p">(</span>
                <span class="n">azure_secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">tags</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">ZENML_GROUP_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">ZENML_SCHEMA_NAME</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">TYPE</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created created secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">azure_secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Added value to secret.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseSecretSchema</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get a secret by its name.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_name: the name of the secret to get</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the secret does not exist</span>
<span class="sd">            ValueError: if the secret is named &#39;name&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_vault_name</span><span class="p">)</span>

        <span class="n">secret_contents</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">zenml_schema_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">for</span> <span class="n">secret_property</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_properties_of_secrets</span><span class="p">():</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_property</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">tags</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">tags</span>
            <span class="k">if</span> <span class="n">tags</span> <span class="ow">and</span> <span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ZENML_GROUP_KEY</span><span class="p">)</span> <span class="o">==</span> <span class="n">secret_name</span><span class="p">:</span>
                <span class="n">secret_key</span> <span class="o">=</span> <span class="n">remove_group_name_from_key</span><span class="p">(</span>
                    <span class="n">combined_key_name</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">group_name</span><span class="o">=</span><span class="n">secret_name</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">secret_key</span> <span class="o">==</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The secret&#39;s key cannot be &#39;name&#39;.&quot;</span><span class="p">)</span>

                <span class="n">secret_contents</span><span class="p">[</span><span class="n">secret_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">value</span>

                <span class="n">zenml_schema_name</span> <span class="o">=</span> <span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ZENML_SCHEMA_NAME</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">secret_contents</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No secrets found within the </span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">secret_contents</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret_name</span>

        <span class="n">secret_schema</span> <span class="o">=</span> <span class="n">SecretSchemaClassRegistry</span><span class="o">.</span><span class="n">get_class</span><span class="p">(</span>
            <span class="n">secret_schema</span><span class="o">=</span><span class="n">zenml_schema_name</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">secret_schema</span><span class="p">(</span><span class="o">**</span><span class="n">secret_contents</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get all secret keys.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all secret keys</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_vault_name</span><span class="p">)</span>

        <span class="n">set_of_secrets</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">secret_property</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_properties_of_secrets</span><span class="p">():</span>
            <span class="n">tags</span> <span class="o">=</span> <span class="n">secret_property</span><span class="o">.</span><span class="n">tags</span>
            <span class="k">if</span> <span class="n">tags</span><span class="p">:</span>
                <span class="n">set_of_secrets</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ZENML_GROUP_KEY</span><span class="p">))</span>

        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">set_of_secrets</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Update an existing secret by creating new versions of the existing secrets.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: the secret to update</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_vault_name</span><span class="p">)</span>

        <span class="n">adjusted_content</span> <span class="o">=</span> <span class="n">prepend_group_name_to_keys</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">adjusted_content</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">set_secret</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">update_secret_properties</span><span class="p">(</span>
                <span class="n">k</span><span class="p">,</span>
                <span class="n">tags</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">ZENML_GROUP_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">ZENML_SCHEMA_NAME</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">TYPE</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete an existing secret. by name.</span>

<span class="sd">        In Azure a secret is a single k-v pair. Within ZenML a secret is a</span>
<span class="sd">        collection of k-v pairs. As such, deleting a secret will iterate through</span>
<span class="sd">        all secrets and delete the ones with the secret_name as label.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_name: the name of the secret to delete</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_vault_name</span><span class="p">)</span>

        <span class="c1"># Go through all Azure secrets and delete the ones with the secret_name</span>
        <span class="c1">#  as label.</span>
        <span class="k">for</span> <span class="n">secret_property</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_properties_of_secrets</span><span class="p">():</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_property</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">tags</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">tags</span>
            <span class="k">if</span> <span class="n">tags</span> <span class="ow">and</span> <span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ZENML_GROUP_KEY</span><span class="p">)</span> <span class="o">==</span> <span class="n">secret_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">begin_delete_secret</span><span class="p">(</span><span class="n">secret_property</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete all existing secrets.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_vault_name</span><span class="p">)</span>

        <span class="c1"># List all secrets.</span>
        <span class="k">for</span> <span class="n">secret_property</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_properties_of_secrets</span><span class="p">():</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_property</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">tags</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">tags</span>
            <span class="k">if</span> <span class="n">tags</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ZENML_GROUP_KEY</span> <span class="ow">in</span> <span class="n">tags</span> <span class="ow">or</span> <span class="n">ZENML_SCHEMA_NAME</span> <span class="ow">in</span> <span class="n">tags</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;Deleted key-value pair {`</span><span class="si">%s</span><span class="s2">`, `***`} from secret &quot;</span> <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">`&quot;</span><span class="p">,</span>
                    <span class="n">secret_property</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ZENML_GROUP_KEY</span><span class="p">),</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">begin_delete_secret</span><span class="p">(</span><span class="n">secret_property</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">















  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.secrets_managers.azure_secrets_manager.AzureSecretsManager.delete_all_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Delete all existing secrets.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/secrets_managers/azure_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete all existing secrets.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_vault_name</span><span class="p">)</span>

    <span class="c1"># List all secrets.</span>
    <span class="k">for</span> <span class="n">secret_property</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_properties_of_secrets</span><span class="p">():</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_property</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">tags</span>
        <span class="k">if</span> <span class="n">tags</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ZENML_GROUP_KEY</span> <span class="ow">in</span> <span class="n">tags</span> <span class="ow">or</span> <span class="n">ZENML_SCHEMA_NAME</span> <span class="ow">in</span> <span class="n">tags</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Deleted key-value pair {`</span><span class="si">%s</span><span class="s2">`, `***`} from secret &quot;</span> <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">`&quot;</span><span class="p">,</span>
                <span class="n">secret_property</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ZENML_GROUP_KEY</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">begin_delete_secret</span><span class="p">(</span><span class="n">secret_property</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.secrets_managers.azure_secrets_manager.AzureSecretsManager.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Delete an existing secret. by name.</p>
<p>In Azure a secret is a single k-v pair. Within ZenML a secret is a
collection of k-v pairs. As such, deleting a secret will iterate through
all secrets and delete the ones with the secret_name as label.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the secret to delete</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/secrets_managers/azure_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete an existing secret. by name.</span>

<span class="sd">    In Azure a secret is a single k-v pair. Within ZenML a secret is a</span>
<span class="sd">    collection of k-v pairs. As such, deleting a secret will iterate through</span>
<span class="sd">    all secrets and delete the ones with the secret_name as label.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: the name of the secret to delete</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_vault_name</span><span class="p">)</span>

    <span class="c1"># Go through all Azure secrets and delete the ones with the secret_name</span>
    <span class="c1">#  as label.</span>
    <span class="k">for</span> <span class="n">secret_property</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_properties_of_secrets</span><span class="p">():</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_property</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">tags</span>
        <span class="k">if</span> <span class="n">tags</span> <span class="ow">and</span> <span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ZENML_GROUP_KEY</span><span class="p">)</span> <span class="o">==</span> <span class="n">secret_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">begin_delete_secret</span><span class="p">(</span><span class="n">secret_property</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.secrets_managers.azure_secrets_manager.AzureSecretsManager.get_all_secret_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Get all secret keys.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of all secret keys</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/secrets_managers/azure_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get all secret keys.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all secret keys</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_vault_name</span><span class="p">)</span>

    <span class="n">set_of_secrets</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">secret_property</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_properties_of_secrets</span><span class="p">():</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="n">secret_property</span><span class="o">.</span><span class="n">tags</span>
        <span class="k">if</span> <span class="n">tags</span><span class="p">:</span>
            <span class="n">set_of_secrets</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ZENML_GROUP_KEY</span><span class="p">))</span>

    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">set_of_secrets</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.secrets_managers.azure_secrets_manager.AzureSecretsManager.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Get a secret by its name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the secret to get</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseSecretSchema</code></td>
      <td><p>The secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the secret does not exist</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the secret is named 'name'</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/secrets_managers/azure_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseSecretSchema</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get a secret by its name.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: the name of the secret to get</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the secret does not exist</span>
<span class="sd">        ValueError: if the secret is named &#39;name&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_vault_name</span><span class="p">)</span>

    <span class="n">secret_contents</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">zenml_schema_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">for</span> <span class="n">secret_property</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_properties_of_secrets</span><span class="p">():</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_property</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">tags</span>
        <span class="k">if</span> <span class="n">tags</span> <span class="ow">and</span> <span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ZENML_GROUP_KEY</span><span class="p">)</span> <span class="o">==</span> <span class="n">secret_name</span><span class="p">:</span>
            <span class="n">secret_key</span> <span class="o">=</span> <span class="n">remove_group_name_from_key</span><span class="p">(</span>
                <span class="n">combined_key_name</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">group_name</span><span class="o">=</span><span class="n">secret_name</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">secret_key</span> <span class="o">==</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The secret&#39;s key cannot be &#39;name&#39;.&quot;</span><span class="p">)</span>

            <span class="n">secret_contents</span><span class="p">[</span><span class="n">secret_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">value</span>

            <span class="n">zenml_schema_name</span> <span class="o">=</span> <span class="n">tags</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ZENML_SCHEMA_NAME</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">secret_contents</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No secrets found within the </span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">secret_contents</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret_name</span>

    <span class="n">secret_schema</span> <span class="o">=</span> <span class="n">SecretSchemaClassRegistry</span><span class="o">.</span><span class="n">get_class</span><span class="p">(</span>
        <span class="n">secret_schema</span><span class="o">=</span><span class="n">zenml_schema_name</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">secret_schema</span><span class="p">(</span><span class="o">**</span><span class="n">secret_contents</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.secrets_managers.azure_secrets_manager.AzureSecretsManager.register_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Registers a new secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>the secret to register</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SecretExistsError</code></td>
        <td><p>if the secret already exists</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the secret name contains an underscore.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/secrets_managers/azure_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Registers a new secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: the secret to register</span>

<span class="sd">    Raises:</span>
<span class="sd">        SecretExistsError: if the secret already exists</span>
<span class="sd">        ValueError: if the secret name contains an underscore.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_vault_name</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;_&quot;</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The secret name `</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` contains an underscore. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;This will cause issues with Azure. Please try again.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">SecretExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;A Secret with the name &#39;</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span>
        <span class="p">)</span>

    <span class="n">adjusted_content</span> <span class="o">=</span> <span class="n">prepend_group_name_to_keys</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">adjusted_content</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># Create the secret, this only creates an empty secret with the</span>
        <span class="c1">#  supplied name.</span>
        <span class="n">azure_secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">set_secret</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">update_secret_properties</span><span class="p">(</span>
            <span class="n">azure_secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="p">{</span>
                <span class="n">ZENML_GROUP_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">ZENML_SCHEMA_NAME</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">TYPE</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created created secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">azure_secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Added value to secret.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.secrets_managers.azure_secrets_manager.AzureSecretsManager.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Update an existing secret by creating new versions of the existing secrets.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>the secret to update</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/secrets_managers/azure_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update an existing secret by creating new versions of the existing secrets.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: the secret to update</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_vault_name</span><span class="p">)</span>

    <span class="n">adjusted_content</span> <span class="o">=</span> <span class="n">prepend_group_name_to_keys</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">adjusted_content</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">set_secret</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">update_secret_properties</span><span class="p">(</span>
            <span class="n">k</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="p">{</span>
                <span class="n">ZENML_GROUP_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">ZENML_SCHEMA_NAME</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">TYPE</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.azure.secrets_managers.azure_secrets_manager.prepend_group_name_to_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepend_group_name_to_keys</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Adds the secret group name to the keys of each secret key-value pair.</p>
<p>This allows using the same key across multiple
secrets.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>The ZenML Secret schema</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, str]</code></td>
      <td><p>A dictionary with the secret keys prepended with the group name</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/secrets_managers/azure_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepend_group_name_to_keys</span><span class="p">(</span><span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Adds the secret group name to the keys of each secret key-value pair.</span>

<span class="sd">    This allows using the same key across multiple</span>
<span class="sd">    secrets.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The ZenML Secret schema</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary with the secret keys prepended with the group name</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.azure.secrets_managers.azure_secrets_manager.remove_group_name_from_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_group_name_from_key</span><span class="p">(</span><span class="n">combined_key_name</span><span class="p">,</span> <span class="n">group_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Removes the secret group name from the secret key.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>combined_key_name</code></td>
        <td><code>str</code></td>
        <td><p>Full name as it is within the Azure secrets manager</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>group_name</code></td>
        <td><code>str</code></td>
        <td><p>Group name (the ZenML Secret name)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The cleaned key</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the group name is not found in the key name</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/secrets_managers/azure_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove_group_name_from_key</span><span class="p">(</span><span class="n">combined_key_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">group_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Removes the secret group name from the secret key.</span>

<span class="sd">    Args:</span>
<span class="sd">        combined_key_name: Full name as it is within the Azure secrets manager</span>
<span class="sd">        group_name: Group name (the ZenML Secret name)</span>

<span class="sd">    Returns:</span>
<span class="sd">        The cleaned key</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the group name is not found in the key name</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">combined_key_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2">-&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">combined_key_name</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2">-&quot;</span><span class="p">)</span> <span class="p">:]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Key-name `</span><span class="si">{</span><span class="n">combined_key_name</span><span class="si">}</span><span class="s2">` does not have the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;prefix `</span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2">`. Key could not be &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;extracted.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.azure.step_operators" class="doc doc-heading">
        <code>step_operators</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of AzureML Step Operator integration.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.azure.step_operators.azureml_step_operator" class="doc doc-heading">
        <code>azureml_step_operator</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the ZenML AzureML Step Operator.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator" class="doc doc-heading">
        <code>
AzureMLStepOperator            (<a class="autorefs autorefs-internal" title="zenml.step_operators.base_step_operator.BaseStepOperator" href="../step_operators/#zenml.step_operators.base_step_operator.BaseStepOperator">BaseStepOperator</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Step operator to run a step on AzureML.</p>
<p>This class defines code that can set up an AzureML environment and run the
ZenML entrypoint command in it.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>subscription_id</code></td>
        <td><code>str</code></td>
        <td><p>The Azure account's subscription ID</p></td>
      </tr>
      <tr>
        <td><code>resource_group</code></td>
        <td><code>str</code></td>
        <td><p>The resource group to which the AzureML workspace
is deployed.</p></td>
      </tr>
      <tr>
        <td><code>workspace_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the AzureML Workspace.</p></td>
      </tr>
      <tr>
        <td><code>compute_target_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the configured ComputeTarget.
An instance of it has to be created on the portal if it doesn't
exist already.</p></td>
      </tr>
      <tr>
        <td><code>environment_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>[Optional] The name of the environment if there
already exists one.</p></td>
      </tr>
      <tr>
        <td><code>docker_base_image</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>[Optional] The custom docker base image that the
environment should use.</p></td>
      </tr>
      <tr>
        <td><code>tenant_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The Azure Tenant ID.</p></td>
      </tr>
      <tr>
        <td><code>service_principal_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID for the service principal that is created
to allow apps to access secure resources.</p></td>
      </tr>
      <tr>
        <td><code>service_principal_password</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Password for the service principal.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/step_operators/azureml_step_operator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureMLStepOperator</span><span class="p">(</span><span class="n">BaseStepOperator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Step operator to run a step on AzureML.</span>

<span class="sd">    This class defines code that can set up an AzureML environment and run the</span>
<span class="sd">    ZenML entrypoint command in it.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        subscription_id: The Azure account&#39;s subscription ID</span>
<span class="sd">        resource_group: The resource group to which the AzureML workspace</span>
<span class="sd">            is deployed.</span>
<span class="sd">        workspace_name: The name of the AzureML Workspace.</span>
<span class="sd">        compute_target_name: The name of the configured ComputeTarget.</span>
<span class="sd">            An instance of it has to be created on the portal if it doesn&#39;t</span>
<span class="sd">            exist already.</span>
<span class="sd">        environment_name: [Optional] The name of the environment if there</span>
<span class="sd">            already exists one.</span>
<span class="sd">        docker_base_image: [Optional] The custom docker base image that the</span>
<span class="sd">            environment should use.</span>
<span class="sd">        tenant_id: The Azure Tenant ID.</span>
<span class="sd">        service_principal_id: The ID for the service principal that is created</span>
<span class="sd">            to allow apps to access secure resources.</span>
<span class="sd">        service_principal_password: Password for the service principal.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">subscription_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">resource_group</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">workspace_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">compute_target_name</span><span class="p">:</span> <span class="nb">str</span>

    <span class="c1"># Environment</span>
    <span class="n">environment_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">docker_base_image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Service principal authentication</span>
    <span class="c1"># https://docs.microsoft.com/en-us/azure/machine-learning/how-to-setup-authentication#configure-a-service-principal</span>
    <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">service_principal_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">service_principal_password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">AZUREML_STEP_OPERATOR_FLAVOR</span>

    <span class="k">def</span> <span class="nf">_get_authentication</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AbstractAuthentication</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Returns the authentication object for the AzureML environment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The authentication object for the AzureML environment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tenant_id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_principal_id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_principal_password</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">ServicePrincipalAuthentication</span><span class="p">(</span>
                <span class="n">tenant_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tenant_id</span><span class="p">,</span>
                <span class="n">service_principal_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">service_principal_id</span><span class="p">,</span>
                <span class="n">service_principal_password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">service_principal_password</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_prepare_environment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace</span><span class="p">:</span> <span class="n">Workspace</span><span class="p">,</span> <span class="n">requirements</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Environment</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Prepares the environment in which Azure will run all jobs.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace: The AzureML Workspace that has configuration</span>
<span class="sd">                for a storage account, container registry among other</span>
<span class="sd">                things.</span>
<span class="sd">            requirements: The list of requirements to be installed</span>
<span class="sd">                in the environment.</span>
<span class="sd">            run_name: The name of the pipeline run that can be used</span>
<span class="sd">                for naming environments and runs.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The AzureML Environment object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">environment_name</span><span class="p">:</span>
            <span class="n">environment</span> <span class="o">=</span> <span class="n">Environment</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">environment_name</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">environment</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">conda_dependencies</span><span class="p">:</span>
                <span class="n">environment</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">conda_dependencies</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">CondaDependencies</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
                        <span class="n">python_version</span><span class="o">=</span><span class="n">ZenMLEnvironment</span><span class="o">.</span><span class="n">python_version</span><span class="p">()</span>
                    <span class="p">)</span>
                <span class="p">)</span>

            <span class="k">for</span> <span class="n">requirement</span> <span class="ow">in</span> <span class="n">requirements</span><span class="p">:</span>
                <span class="n">environment</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">conda_dependencies</span><span class="o">.</span><span class="n">add_pip_package</span><span class="p">(</span>
                    <span class="n">requirement</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">environment</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;zenml-</span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">environment</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">conda_dependencies</span> <span class="o">=</span> <span class="n">CondaDependencies</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
                <span class="n">pip_packages</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
                <span class="n">python_version</span><span class="o">=</span><span class="n">ZenMLEnvironment</span><span class="o">.</span><span class="n">python_version</span><span class="p">(),</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">docker_base_image</span><span class="p">:</span>
                <span class="c1"># replace the default azure base image</span>
                <span class="n">environment</span><span class="o">.</span><span class="n">docker</span><span class="o">.</span><span class="n">base_image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">docker_base_image</span>

        <span class="n">environment_variables</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ENV_ZENML_PREVENT_PIPELINE_EXECUTION&quot;</span><span class="p">:</span> <span class="s2">&quot;True&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="c1"># set credentials to access azure storage</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="s2">&quot;AZURE_STORAGE_ACCOUNT_KEY&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AZURE_STORAGE_ACCOUNT_NAME&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AZURE_STORAGE_CONNECTION_STRING&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AZURE_STORAGE_SAS_TOKEN&quot;</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">environment_variables</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="n">environment_variables</span><span class="p">[</span>
            <span class="n">ENV_ZENML_CONFIG_PATH</span>
        <span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;./</span><span class="si">{</span><span class="n">CONTAINER_ZENML_CONFIG_DIR</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">environment</span><span class="o">.</span><span class="n">environment_variables</span> <span class="o">=</span> <span class="n">environment_variables</span>
        <span class="k">return</span> <span class="n">environment</span>

    <span class="k">def</span> <span class="nf">launch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">requirements</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">entrypoint_command</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Launches a step on AzureML.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: Name of the pipeline which the step to be executed</span>
<span class="sd">                is part of.</span>
<span class="sd">            run_name: Name of the pipeline run which the step to be executed</span>
<span class="sd">                is part of.</span>
<span class="sd">            entrypoint_command: Command that executes the step.</span>
<span class="sd">            requirements: List of pip requirements that must be installed</span>
<span class="sd">                inside the step operator environment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">workspace</span> <span class="o">=</span> <span class="n">Workspace</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">subscription_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subscription_id</span><span class="p">,</span>
            <span class="n">resource_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_group</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_name</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_authentication</span><span class="p">(),</span>
        <span class="p">)</span>

        <span class="n">source_directory</span> <span class="o">=</span> <span class="n">get_source_root_path</span><span class="p">()</span>
        <span class="n">config_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">source_directory</span><span class="p">,</span> <span class="n">CONTAINER_ZENML_CONFIG_DIR</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>

            <span class="c1"># Save a copy of the current global configuration with the</span>
            <span class="c1"># active profile contents into the build context, to have</span>
            <span class="c1"># the configured stacks accessible from within the Azure ML</span>
            <span class="c1"># environment.</span>
            <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">copy_active_configuration</span><span class="p">(</span>
                <span class="n">config_path</span><span class="p">,</span>
                <span class="n">load_config_path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;./</span><span class="si">{</span><span class="n">CONTAINER_ZENML_CONFIG_DIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">environment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_environment</span><span class="p">(</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
                <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
                <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">compute_target</span> <span class="o">=</span> <span class="n">ComputeTarget</span><span class="p">(</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">compute_target_name</span>
            <span class="p">)</span>

            <span class="n">run_config</span> <span class="o">=</span> <span class="n">ScriptRunConfig</span><span class="p">(</span>
                <span class="n">source_directory</span><span class="o">=</span><span class="n">source_directory</span><span class="p">,</span>
                <span class="n">environment</span><span class="o">=</span><span class="n">environment</span><span class="p">,</span>
                <span class="n">compute_target</span><span class="o">=</span><span class="n">compute_target</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">entrypoint_command</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">experiment</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">)</span>
            <span class="n">run</span> <span class="o">=</span> <span class="n">experiment</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">run_config</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="c1"># Clean up the temporary build files</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">config_path</span><span class="p">)</span>

        <span class="n">run</span><span class="o">.</span><span class="n">display_name</span> <span class="o">=</span> <span class="n">run_name</span>
        <span class="n">run</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">(</span><span class="n">show_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






















  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.launch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">launch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">,</span> <span class="n">run_name</span><span class="p">,</span> <span class="n">requirements</span><span class="p">,</span> <span class="n">entrypoint_command</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Launches a step on AzureML.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the pipeline which the step to be executed
is part of.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>run_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the pipeline run which the step to be executed
is part of.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>entrypoint_command</code></td>
        <td><code>List[str]</code></td>
        <td><p>Command that executes the step.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>requirements</code></td>
        <td><code>List[str]</code></td>
        <td><p>List of pip requirements that must be installed
inside the step operator environment.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/step_operators/azureml_step_operator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">launch</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">requirements</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">entrypoint_command</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Launches a step on AzureML.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: Name of the pipeline which the step to be executed</span>
<span class="sd">            is part of.</span>
<span class="sd">        run_name: Name of the pipeline run which the step to be executed</span>
<span class="sd">            is part of.</span>
<span class="sd">        entrypoint_command: Command that executes the step.</span>
<span class="sd">        requirements: List of pip requirements that must be installed</span>
<span class="sd">            inside the step operator environment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">Workspace</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="n">subscription_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subscription_id</span><span class="p">,</span>
        <span class="n">resource_group</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_group</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_name</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_authentication</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">source_directory</span> <span class="o">=</span> <span class="n">get_source_root_path</span><span class="p">()</span>
    <span class="n">config_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">source_directory</span><span class="p">,</span> <span class="n">CONTAINER_ZENML_CONFIG_DIR</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>

        <span class="c1"># Save a copy of the current global configuration with the</span>
        <span class="c1"># active profile contents into the build context, to have</span>
        <span class="c1"># the configured stacks accessible from within the Azure ML</span>
        <span class="c1"># environment.</span>
        <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">copy_active_configuration</span><span class="p">(</span>
            <span class="n">config_path</span><span class="p">,</span>
            <span class="n">load_config_path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;./</span><span class="si">{</span><span class="n">CONTAINER_ZENML_CONFIG_DIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">environment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_environment</span><span class="p">(</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
            <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">compute_target</span> <span class="o">=</span> <span class="n">ComputeTarget</span><span class="p">(</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">compute_target_name</span>
        <span class="p">)</span>

        <span class="n">run_config</span> <span class="o">=</span> <span class="n">ScriptRunConfig</span><span class="p">(</span>
            <span class="n">source_directory</span><span class="o">=</span><span class="n">source_directory</span><span class="p">,</span>
            <span class="n">environment</span><span class="o">=</span><span class="n">environment</span><span class="p">,</span>
            <span class="n">compute_target</span><span class="o">=</span><span class="n">compute_target</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">entrypoint_command</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">experiment</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">)</span>
        <span class="n">run</span> <span class="o">=</span> <span class="n">experiment</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">run_config</span><span class="p">)</span>

    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># Clean up the temporary build files</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">config_path</span><span class="p">)</span>

    <span class="n">run</span><span class="o">.</span><span class="n">display_name</span> <span class="o">=</span> <span class="n">run_name</span>
    <span class="n">run</span><span class="o">.</span><span class="n">wait_for_completion</span><span class="p">(</span><span class="n">show_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.constants" class="doc doc-heading">
        <code>constants</code>



</h3>

    <div class="doc doc-contents ">

      <p>Constants for ZenML integrations.</p>



  <div class="doc doc-children">













































  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.dash" class="doc doc-heading">
        <code>dash</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the Dash integration.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.dash.DashIntegration" class="doc doc-heading">
        <code>
DashIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Dash integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/dash/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DashIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Dash integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">DASH</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;dash&gt;=2.0.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dash-cytoscape&gt;=0.3.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dash-bootstrap-components&gt;=1.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jupyter-dash&gt;=0.4.2&quot;</span><span class="p">,</span>
    <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.dash.visualizers" class="doc doc-heading">
        <code>visualizers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Pipeline Run Visualizer.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.dash.visualizers.pipeline_run_lineage_visualizer" class="doc doc-heading">
        <code>pipeline_run_lineage_visualizer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the pipeline run lineage visualizer.</p>



  <div class="doc doc-children">














  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.dash.visualizers.pipeline_run_lineage_visualizer.PipelineRunLineageVisualizer" class="doc doc-heading">
        <code>
PipelineRunLineageVisualizer            (<a class="autorefs autorefs-internal" title="zenml.visualizers.base_pipeline_run_visualizer.BasePipelineRunVisualizer" href="../visualizers/#zenml.visualizers.base_pipeline_run_visualizer.BasePipelineRunVisualizer">BasePipelineRunVisualizer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Implementation of a lineage diagram via the dash and dash-cytoscape libraries.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/dash/visualizers/pipeline_run_lineage_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineRunLineageVisualizer</span><span class="p">(</span><span class="n">BasePipelineRunVisualizer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Implementation of a lineage diagram via the dash and dash-cytoscape libraries.&quot;&quot;&quot;</span>

    <span class="n">ARTIFACT_PREFIX</span> <span class="o">=</span> <span class="s2">&quot;artifact_&quot;</span>
    <span class="n">STEP_PREFIX</span> <span class="o">=</span> <span class="s2">&quot;step_&quot;</span>
    <span class="n">STATUS_CLASS_MAPPING</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">CACHED</span><span class="p">:</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span>
        <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">FAILED</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span>
        <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">RUNNING</span><span class="p">:</span> <span class="s2">&quot;yellow&quot;</span><span class="p">,</span>
        <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">COMPLETED</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">object</span><span class="p">:</span> <span class="n">PipelineRunView</span><span class="p">,</span>
        <span class="n">magic</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">dash</span><span class="o">.</span><span class="n">Dash</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Method to visualize pipeline runs via the Dash library.</span>

<span class="sd">        The layout puts every layer of the dag in a column.</span>

<span class="sd">        Args:</span>
<span class="sd">            object: The pipeline run to visualize.</span>
<span class="sd">            magic: If True, the visualization is rendered in a magic mode.</span>
<span class="sd">            *args: Additional positional arguments.</span>
<span class="sd">            **kwargs: Additional keyword arguments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Dash application.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">external_stylesheets</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">dbc</span><span class="o">.</span><span class="n">themes</span><span class="o">.</span><span class="n">BOOTSTRAP</span><span class="p">,</span>
            <span class="n">dbc</span><span class="o">.</span><span class="n">icons</span><span class="o">.</span><span class="n">BOOTSTRAP</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">magic</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">:</span>
                <span class="c1"># Only import jupyter_dash in this case</span>
                <span class="kn">from</span> <span class="nn">jupyter_dash</span> <span class="kn">import</span> <span class="n">JupyterDash</span>  <span class="c1"># noqa</span>

                <span class="n">JupyterDash</span><span class="o">.</span><span class="n">infer_jupyter_proxy_config</span><span class="p">()</span>

                <span class="n">app</span> <span class="o">=</span> <span class="n">JupyterDash</span><span class="p">(</span>
                    <span class="vm">__name__</span><span class="p">,</span>
                    <span class="n">external_stylesheets</span><span class="o">=</span><span class="n">external_stylesheets</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;inline&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cli_utils</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;Cannot set magic flag in non-notebook environments.&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">app</span> <span class="o">=</span> <span class="n">dash</span><span class="o">.</span><span class="n">Dash</span><span class="p">(</span>
                <span class="vm">__name__</span><span class="p">,</span>
                <span class="n">external_stylesheets</span><span class="o">=</span><span class="n">external_stylesheets</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">nodes</span><span class="p">,</span> <span class="n">edges</span><span class="p">,</span> <span class="n">first_step_id</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="kc">None</span>
        <span class="n">first_step_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
            <span class="n">step_output_artifacts</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="n">execution_id</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">step_output_artifacts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">producer_step</span><span class="o">.</span><span class="n">id</span>
                <span class="k">if</span> <span class="n">step_output_artifacts</span>
                <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">id</span>
            <span class="p">)</span>
            <span class="n">step_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">STEP_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">first_step_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">first_step_id</span> <span class="o">=</span> <span class="n">step_id</span>
            <span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">step_id</span><span class="p">,</span>
                        <span class="s2">&quot;execution_id&quot;</span><span class="p">:</span> <span class="n">execution_id</span><span class="p">,</span>
                        <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">execution_id</span><span class="si">}</span><span class="s2"> / </span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">entrypoint_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;entrypoint_name&quot;</span><span class="p">:</span> <span class="n">step</span><span class="o">.</span><span class="n">entrypoint_name</span><span class="p">,</span>  <span class="c1"># redundant for consistency</span>
                        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>  <span class="c1"># redundant for consistency</span>
                        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;step&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="n">step</span><span class="o">.</span><span class="n">parameters</span><span class="p">,</span>
                        <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">uri</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
                        <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">uri</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">STATUS_CLASS_MAPPING</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">status</span><span class="p">],</span>
                <span class="p">}</span>
            <span class="p">)</span>

            <span class="k">for</span> <span class="n">artifact_name</span><span class="p">,</span> <span class="n">artifact</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                            <span class="s2">&quot;execution_id&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> / </span><span class="si">{</span><span class="n">artifact_name</span><span class="si">}</span><span class="s2"> (&quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artifact</span><span class="o">.</span><span class="n">data_type</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;artifact&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">artifact_name</span><span class="p">,</span>
                            <span class="s2">&quot;is_cached&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">is_cached</span><span class="p">,</span>
                            <span class="s2">&quot;artifact_type&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                            <span class="s2">&quot;artifact_data_type&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">data_type</span><span class="p">,</span>
                            <span class="s2">&quot;parent_step_id&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">parent_step_id</span><span class="p">,</span>
                            <span class="s2">&quot;producer_step_id&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">producer_step</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                            <span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;rectangle &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">STATUS_CLASS_MAPPING</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">status</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="p">}</span>
                <span class="p">)</span>
                <span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">STEP_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                            <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;edge-arrow &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">STATUS_CLASS_MAPPING</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">status</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="o">+</span> <span class="p">(</span><span class="s2">&quot; dashed&quot;</span> <span class="k">if</span> <span class="n">artifact</span><span class="o">.</span><span class="n">is_cached</span> <span class="k">else</span> <span class="s2">&quot; solid&quot;</span><span class="p">),</span>
                    <span class="p">}</span>
                <span class="p">)</span>

            <span class="k">for</span> <span class="n">artifact_name</span><span class="p">,</span> <span class="n">artifact</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                            <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">STEP_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="s2">&quot;edge-arrow &quot;</span>
                        <span class="o">+</span> <span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">STATUS_CLASS_MAPPING</span><span class="p">[</span><span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">CACHED</span><span class="p">]</span><span class="si">}</span><span class="s2"> dashed&quot;</span>
                            <span class="k">if</span> <span class="n">artifact</span><span class="o">.</span><span class="n">is_cached</span>
                            <span class="k">else</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">STATUS_CLASS_MAPPING</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">status</span><span class="p">]</span><span class="si">}</span><span class="s2"> solid&quot;</span>
                        <span class="p">),</span>
                    <span class="p">}</span>
                <span class="p">)</span>

        <span class="n">app</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">dbc</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Run: </span><span class="si">{</span><span class="nb">object</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">class_name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">),</span>
                <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                    <span class="p">[</span>
                        <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
                            <span class="p">[</span>
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                                    <span class="p">[</span>
                                        <span class="n">html</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span>
                                            <span class="p">[</span>
                                                <span class="n">html</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span>
                                                    <span class="p">[</span>
                                                        <span class="n">html</span><span class="o">.</span><span class="n">I</span><span class="p">(</span>
                                                            <span class="n">className</span><span class="o">=</span><span class="s2">&quot;bi bi-circle-fill me-1&quot;</span>
                                                        <span class="p">),</span>
                                                        <span class="s2">&quot;Step&quot;</span><span class="p">,</span>
                                                    <span class="p">],</span>
                                                    <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-2&quot;</span><span class="p">,</span>
                                                <span class="p">),</span>
                                                <span class="n">html</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span>
                                                    <span class="p">[</span>
                                                        <span class="n">html</span><span class="o">.</span><span class="n">I</span><span class="p">(</span>
                                                            <span class="n">className</span><span class="o">=</span><span class="s2">&quot;bi bi-square-fill me-1&quot;</span>
                                                        <span class="p">),</span>
                                                        <span class="s2">&quot;Artifact&quot;</span><span class="p">,</span>
                                                    <span class="p">],</span>
                                                    <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-4&quot;</span><span class="p">,</span>
                                                <span class="p">),</span>
                                                <span class="n">dbc</span><span class="o">.</span><span class="n">Badge</span><span class="p">(</span>
                                                    <span class="s2">&quot;Completed&quot;</span><span class="p">,</span>
                                                    <span class="n">color</span><span class="o">=</span><span class="n">COLOR_BLUE</span><span class="p">,</span>
                                                    <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-1&quot;</span><span class="p">,</span>
                                                <span class="p">),</span>
                                                <span class="n">dbc</span><span class="o">.</span><span class="n">Badge</span><span class="p">(</span>
                                                    <span class="s2">&quot;Cached&quot;</span><span class="p">,</span>
                                                    <span class="n">color</span><span class="o">=</span><span class="n">COLOR_GREEN</span><span class="p">,</span>
                                                    <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-1&quot;</span><span class="p">,</span>
                                                <span class="p">),</span>
                                                <span class="n">dbc</span><span class="o">.</span><span class="n">Badge</span><span class="p">(</span>
                                                    <span class="s2">&quot;Running&quot;</span><span class="p">,</span>
                                                    <span class="n">color</span><span class="o">=</span><span class="n">COLOR_YELLOW</span><span class="p">,</span>
                                                    <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-1&quot;</span><span class="p">,</span>
                                                <span class="p">),</span>
                                                <span class="n">dbc</span><span class="o">.</span><span class="n">Badge</span><span class="p">(</span>
                                                    <span class="s2">&quot;Failed&quot;</span><span class="p">,</span>
                                                    <span class="n">color</span><span class="o">=</span><span class="n">COLOR_RED</span><span class="p">,</span>
                                                    <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-1&quot;</span><span class="p">,</span>
                                                <span class="p">),</span>
                                            <span class="p">]</span>
                                        <span class="p">),</span>
                                    <span class="p">]</span>
                                <span class="p">),</span>
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                                    <span class="p">[</span>
                                        <span class="n">cyto</span><span class="o">.</span><span class="n">Cytoscape</span><span class="p">(</span>
                                            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;cytoscape&quot;</span><span class="p">,</span>
                                            <span class="n">layout</span><span class="o">=</span><span class="p">{</span>
                                                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;breadthfirst&quot;</span><span class="p">,</span>
                                                <span class="s2">&quot;roots&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;[id = &quot;</span><span class="si">{</span><span class="n">first_step_id</span><span class="si">}</span><span class="s1">&quot;]&#39;</span><span class="p">,</span>
                                            <span class="p">},</span>
                                            <span class="n">elements</span><span class="o">=</span><span class="n">edges</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">,</span>
                                            <span class="n">stylesheet</span><span class="o">=</span><span class="n">STYLESHEET</span><span class="p">,</span>
                                            <span class="n">style</span><span class="o">=</span><span class="p">{</span>
                                                <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;100%&quot;</span><span class="p">,</span>
                                                <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="s2">&quot;800px&quot;</span><span class="p">,</span>
                                            <span class="p">},</span>
                                            <span class="n">zoom</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                        <span class="p">)</span>
                                    <span class="p">]</span>
                                <span class="p">),</span>
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                                    <span class="p">[</span>
                                        <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
                                            <span class="s2">&quot;Reset&quot;</span><span class="p">,</span>
                                            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;bt-reset&quot;</span><span class="p">,</span>
                                            <span class="n">color</span><span class="o">=</span><span class="s2">&quot;primary&quot;</span><span class="p">,</span>
                                            <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-1&quot;</span><span class="p">,</span>
                                        <span class="p">)</span>
                                    <span class="p">]</span>
                                <span class="p">),</span>
                            <span class="p">]</span>
                        <span class="p">),</span>
                        <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
                            <span class="p">[</span>
                                <span class="n">dcc</span><span class="o">.</span><span class="n">Markdown</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;markdown-selected-node-data&quot;</span><span class="p">),</span>
                            <span class="p">]</span>
                        <span class="p">),</span>
                    <span class="p">]</span>
                <span class="p">),</span>
            <span class="p">],</span>
            <span class="n">className</span><span class="o">=</span><span class="s2">&quot;p-5&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>  <span class="c1"># type: ignore[misc]</span>
            <span class="n">Output</span><span class="p">(</span><span class="s2">&quot;markdown-selected-node-data&quot;</span><span class="p">,</span> <span class="s2">&quot;children&quot;</span><span class="p">),</span>
            <span class="n">Input</span><span class="p">(</span><span class="s2">&quot;cytoscape&quot;</span><span class="p">,</span> <span class="s2">&quot;selectedNodeData&quot;</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">def</span> <span class="nf">display_data</span><span class="p">(</span><span class="n">data_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Callback for the text area below the graph.</span>

<span class="sd">            Args:</span>
<span class="sd">                data_list: The selected node data.</span>

<span class="sd">            Returns:</span>
<span class="sd">                str: The selected node data.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="n">data_list</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;Click on a node in the diagram.&quot;</span>

            <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">data_list</span><span class="p">:</span>
                <span class="n">text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;## </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;execution_id&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1"> / </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;artifact&quot;</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">[</span>
                        <span class="s2">&quot;artifact_data_type&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;is_cached&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;producer_step_id&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;parent_step_id&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;uri&quot;</span><span class="p">,</span>
                    <span class="p">]:</span>
                        <span class="n">text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;**</span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">**: </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="n">item</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="k">elif</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;step&quot;</span><span class="p">:</span>
                    <span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;### Inputs:&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;**</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">**: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                    <span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;### Outputs:&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;outputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;**</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">**: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                    <span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;### Params:&quot;</span>
                    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;parameters&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;**</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">**: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">text</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>  <span class="c1"># type: ignore[misc]</span>
            <span class="p">[</span><span class="n">Output</span><span class="p">(</span><span class="s2">&quot;cytoscape&quot;</span><span class="p">,</span> <span class="s2">&quot;zoom&quot;</span><span class="p">),</span> <span class="n">Output</span><span class="p">(</span><span class="s2">&quot;cytoscape&quot;</span><span class="p">,</span> <span class="s2">&quot;elements&quot;</span><span class="p">)],</span>
            <span class="p">[</span><span class="n">Input</span><span class="p">(</span><span class="s2">&quot;bt-reset&quot;</span><span class="p">,</span> <span class="s2">&quot;n_clicks&quot;</span><span class="p">)],</span>
        <span class="p">)</span>
        <span class="k">def</span> <span class="nf">reset_layout</span><span class="p">(</span>
            <span class="n">n_clicks</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Collection</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]]]:</span>
            <span class="sd">&quot;&quot;&quot;Resets the layout.</span>

<span class="sd">            Args:</span>
<span class="sd">                n_clicks: The number of clicks on the reset button.</span>

<span class="sd">            Returns:</span>
<span class="sd">                The zoom and the elements.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">,</span> <span class="s2">&quot;clicked in reset button.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">edges</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">mode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">app</span><span class="o">.</span><span class="n">run_server</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>
        <span class="n">app</span><span class="o">.</span><span class="n">run_server</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">app</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.dash.visualizers.pipeline_run_lineage_visualizer.PipelineRunLineageVisualizer.visualize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">magic</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Method to visualize pipeline runs via the Dash library.</p>
<p>The layout puts every layer of the dag in a column.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>object</code></td>
        <td><code>PipelineRunView</code></td>
        <td><p>The pipeline run to visualize.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>magic</code></td>
        <td><code>bool</code></td>
        <td><p>If True, the visualization is rendered in a magic mode.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional positional arguments.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dash</code></td>
      <td><p>The Dash application.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/dash/visualizers/pipeline_run_lineage_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">object</span><span class="p">:</span> <span class="n">PipelineRunView</span><span class="p">,</span>
    <span class="n">magic</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">dash</span><span class="o">.</span><span class="n">Dash</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method to visualize pipeline runs via the Dash library.</span>

<span class="sd">    The layout puts every layer of the dag in a column.</span>

<span class="sd">    Args:</span>
<span class="sd">        object: The pipeline run to visualize.</span>
<span class="sd">        magic: If True, the visualization is rendered in a magic mode.</span>
<span class="sd">        *args: Additional positional arguments.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Dash application.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">external_stylesheets</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">dbc</span><span class="o">.</span><span class="n">themes</span><span class="o">.</span><span class="n">BOOTSTRAP</span><span class="p">,</span>
        <span class="n">dbc</span><span class="o">.</span><span class="n">icons</span><span class="o">.</span><span class="n">BOOTSTRAP</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="n">magic</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">:</span>
            <span class="c1"># Only import jupyter_dash in this case</span>
            <span class="kn">from</span> <span class="nn">jupyter_dash</span> <span class="kn">import</span> <span class="n">JupyterDash</span>  <span class="c1"># noqa</span>

            <span class="n">JupyterDash</span><span class="o">.</span><span class="n">infer_jupyter_proxy_config</span><span class="p">()</span>

            <span class="n">app</span> <span class="o">=</span> <span class="n">JupyterDash</span><span class="p">(</span>
                <span class="vm">__name__</span><span class="p">,</span>
                <span class="n">external_stylesheets</span><span class="o">=</span><span class="n">external_stylesheets</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;inline&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cli_utils</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Cannot set magic flag in non-notebook environments.&quot;</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">app</span> <span class="o">=</span> <span class="n">dash</span><span class="o">.</span><span class="n">Dash</span><span class="p">(</span>
            <span class="vm">__name__</span><span class="p">,</span>
            <span class="n">external_stylesheets</span><span class="o">=</span><span class="n">external_stylesheets</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">nodes</span><span class="p">,</span> <span class="n">edges</span><span class="p">,</span> <span class="n">first_step_id</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="kc">None</span>
    <span class="n">first_step_id</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
        <span class="n">step_output_artifacts</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
        <span class="n">execution_id</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">step_output_artifacts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">producer_step</span><span class="o">.</span><span class="n">id</span>
            <span class="k">if</span> <span class="n">step_output_artifacts</span>
            <span class="k">else</span> <span class="n">step</span><span class="o">.</span><span class="n">id</span>
        <span class="p">)</span>
        <span class="n">step_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">STEP_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">first_step_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">first_step_id</span> <span class="o">=</span> <span class="n">step_id</span>
        <span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">step_id</span><span class="p">,</span>
                    <span class="s2">&quot;execution_id&quot;</span><span class="p">:</span> <span class="n">execution_id</span><span class="p">,</span>
                    <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">execution_id</span><span class="si">}</span><span class="s2"> / </span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">entrypoint_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;entrypoint_name&quot;</span><span class="p">:</span> <span class="n">step</span><span class="o">.</span><span class="n">entrypoint_name</span><span class="p">,</span>  <span class="c1"># redundant for consistency</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>  <span class="c1"># redundant for consistency</span>
                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;step&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="n">step</span><span class="o">.</span><span class="n">parameters</span><span class="p">,</span>
                    <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">uri</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
                    <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">uri</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
                <span class="p">},</span>
                <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">STATUS_CLASS_MAPPING</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">status</span><span class="p">],</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">artifact_name</span><span class="p">,</span> <span class="n">artifact</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                        <span class="s2">&quot;execution_id&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                        <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> / </span><span class="si">{</span><span class="n">artifact_name</span><span class="si">}</span><span class="s2"> (&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artifact</span><span class="o">.</span><span class="n">data_type</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;artifact&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">artifact_name</span><span class="p">,</span>
                        <span class="s2">&quot;is_cached&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">is_cached</span><span class="p">,</span>
                        <span class="s2">&quot;artifact_type&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                        <span class="s2">&quot;artifact_data_type&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">data_type</span><span class="p">,</span>
                        <span class="s2">&quot;parent_step_id&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">parent_step_id</span><span class="p">,</span>
                        <span class="s2">&quot;producer_step_id&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">producer_step</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                        <span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;rectangle &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">STATUS_CLASS_MAPPING</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">status</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">)</span>
            <span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">STEP_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                        <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;edge-arrow &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">STATUS_CLASS_MAPPING</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">status</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="o">+</span> <span class="p">(</span><span class="s2">&quot; dashed&quot;</span> <span class="k">if</span> <span class="n">artifact</span><span class="o">.</span><span class="n">is_cached</span> <span class="k">else</span> <span class="s2">&quot; solid&quot;</span><span class="p">),</span>
                <span class="p">}</span>
            <span class="p">)</span>

        <span class="k">for</span> <span class="n">artifact_name</span><span class="p">,</span> <span class="n">artifact</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                        <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">STEP_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="s2">&quot;edge-arrow &quot;</span>
                    <span class="o">+</span> <span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">STATUS_CLASS_MAPPING</span><span class="p">[</span><span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">CACHED</span><span class="p">]</span><span class="si">}</span><span class="s2"> dashed&quot;</span>
                        <span class="k">if</span> <span class="n">artifact</span><span class="o">.</span><span class="n">is_cached</span>
                        <span class="k">else</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">STATUS_CLASS_MAPPING</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">status</span><span class="p">]</span><span class="si">}</span><span class="s2"> solid&quot;</span>
                    <span class="p">),</span>
                <span class="p">}</span>
            <span class="p">)</span>

    <span class="n">app</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">dbc</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Run: </span><span class="si">{</span><span class="nb">object</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">class_name</span><span class="o">=</span><span class="s2">&quot;h1&quot;</span><span class="p">),</span>
            <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
                        <span class="p">[</span>
                            <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                                <span class="p">[</span>
                                    <span class="n">html</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span>
                                        <span class="p">[</span>
                                            <span class="n">html</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span>
                                                <span class="p">[</span>
                                                    <span class="n">html</span><span class="o">.</span><span class="n">I</span><span class="p">(</span>
                                                        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;bi bi-circle-fill me-1&quot;</span>
                                                    <span class="p">),</span>
                                                    <span class="s2">&quot;Step&quot;</span><span class="p">,</span>
                                                <span class="p">],</span>
                                                <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-2&quot;</span><span class="p">,</span>
                                            <span class="p">),</span>
                                            <span class="n">html</span><span class="o">.</span><span class="n">Span</span><span class="p">(</span>
                                                <span class="p">[</span>
                                                    <span class="n">html</span><span class="o">.</span><span class="n">I</span><span class="p">(</span>
                                                        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;bi bi-square-fill me-1&quot;</span>
                                                    <span class="p">),</span>
                                                    <span class="s2">&quot;Artifact&quot;</span><span class="p">,</span>
                                                <span class="p">],</span>
                                                <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-4&quot;</span><span class="p">,</span>
                                            <span class="p">),</span>
                                            <span class="n">dbc</span><span class="o">.</span><span class="n">Badge</span><span class="p">(</span>
                                                <span class="s2">&quot;Completed&quot;</span><span class="p">,</span>
                                                <span class="n">color</span><span class="o">=</span><span class="n">COLOR_BLUE</span><span class="p">,</span>
                                                <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-1&quot;</span><span class="p">,</span>
                                            <span class="p">),</span>
                                            <span class="n">dbc</span><span class="o">.</span><span class="n">Badge</span><span class="p">(</span>
                                                <span class="s2">&quot;Cached&quot;</span><span class="p">,</span>
                                                <span class="n">color</span><span class="o">=</span><span class="n">COLOR_GREEN</span><span class="p">,</span>
                                                <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-1&quot;</span><span class="p">,</span>
                                            <span class="p">),</span>
                                            <span class="n">dbc</span><span class="o">.</span><span class="n">Badge</span><span class="p">(</span>
                                                <span class="s2">&quot;Running&quot;</span><span class="p">,</span>
                                                <span class="n">color</span><span class="o">=</span><span class="n">COLOR_YELLOW</span><span class="p">,</span>
                                                <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-1&quot;</span><span class="p">,</span>
                                            <span class="p">),</span>
                                            <span class="n">dbc</span><span class="o">.</span><span class="n">Badge</span><span class="p">(</span>
                                                <span class="s2">&quot;Failed&quot;</span><span class="p">,</span>
                                                <span class="n">color</span><span class="o">=</span><span class="n">COLOR_RED</span><span class="p">,</span>
                                                <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-1&quot;</span><span class="p">,</span>
                                            <span class="p">),</span>
                                        <span class="p">]</span>
                                    <span class="p">),</span>
                                <span class="p">]</span>
                            <span class="p">),</span>
                            <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                                <span class="p">[</span>
                                    <span class="n">cyto</span><span class="o">.</span><span class="n">Cytoscape</span><span class="p">(</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;cytoscape&quot;</span><span class="p">,</span>
                                        <span class="n">layout</span><span class="o">=</span><span class="p">{</span>
                                            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;breadthfirst&quot;</span><span class="p">,</span>
                                            <span class="s2">&quot;roots&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;[id = &quot;</span><span class="si">{</span><span class="n">first_step_id</span><span class="si">}</span><span class="s1">&quot;]&#39;</span><span class="p">,</span>
                                        <span class="p">},</span>
                                        <span class="n">elements</span><span class="o">=</span><span class="n">edges</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">,</span>
                                        <span class="n">stylesheet</span><span class="o">=</span><span class="n">STYLESHEET</span><span class="p">,</span>
                                        <span class="n">style</span><span class="o">=</span><span class="p">{</span>
                                            <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;100%&quot;</span><span class="p">,</span>
                                            <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="s2">&quot;800px&quot;</span><span class="p">,</span>
                                        <span class="p">},</span>
                                        <span class="n">zoom</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                    <span class="p">)</span>
                                <span class="p">]</span>
                            <span class="p">),</span>
                            <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                                <span class="p">[</span>
                                    <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
                                        <span class="s2">&quot;Reset&quot;</span><span class="p">,</span>
                                        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;bt-reset&quot;</span><span class="p">,</span>
                                        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;primary&quot;</span><span class="p">,</span>
                                        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-1&quot;</span><span class="p">,</span>
                                    <span class="p">)</span>
                                <span class="p">]</span>
                            <span class="p">),</span>
                        <span class="p">]</span>
                    <span class="p">),</span>
                    <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
                        <span class="p">[</span>
                            <span class="n">dcc</span><span class="o">.</span><span class="n">Markdown</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;markdown-selected-node-data&quot;</span><span class="p">),</span>
                        <span class="p">]</span>
                    <span class="p">),</span>
                <span class="p">]</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;p-5&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>  <span class="c1"># type: ignore[misc]</span>
        <span class="n">Output</span><span class="p">(</span><span class="s2">&quot;markdown-selected-node-data&quot;</span><span class="p">,</span> <span class="s2">&quot;children&quot;</span><span class="p">),</span>
        <span class="n">Input</span><span class="p">(</span><span class="s2">&quot;cytoscape&quot;</span><span class="p">,</span> <span class="s2">&quot;selectedNodeData&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">display_data</span><span class="p">(</span><span class="n">data_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Callback for the text area below the graph.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_list: The selected node data.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The selected node data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">data_list</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Click on a node in the diagram.&quot;</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">data_list</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;## </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;execution_id&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1"> / </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;artifact&quot;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">[</span>
                    <span class="s2">&quot;artifact_data_type&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;is_cached&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;producer_step_id&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;parent_step_id&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;uri&quot;</span><span class="p">,</span>
                <span class="p">]:</span>
                    <span class="n">text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;**</span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">**: </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="n">item</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="k">elif</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;step&quot;</span><span class="p">:</span>
                <span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;### Inputs:&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;**</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">**: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;### Outputs:&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;outputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;**</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">**: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;### Params:&quot;</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;parameters&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;**</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">**: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">text</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>  <span class="c1"># type: ignore[misc]</span>
        <span class="p">[</span><span class="n">Output</span><span class="p">(</span><span class="s2">&quot;cytoscape&quot;</span><span class="p">,</span> <span class="s2">&quot;zoom&quot;</span><span class="p">),</span> <span class="n">Output</span><span class="p">(</span><span class="s2">&quot;cytoscape&quot;</span><span class="p">,</span> <span class="s2">&quot;elements&quot;</span><span class="p">)],</span>
        <span class="p">[</span><span class="n">Input</span><span class="p">(</span><span class="s2">&quot;bt-reset&quot;</span><span class="p">,</span> <span class="s2">&quot;n_clicks&quot;</span><span class="p">)],</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">reset_layout</span><span class="p">(</span>
        <span class="n">n_clicks</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Collection</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]]]:</span>
        <span class="sd">&quot;&quot;&quot;Resets the layout.</span>

<span class="sd">        Args:</span>
<span class="sd">            n_clicks: The number of clicks on the reset button.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The zoom and the elements.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">,</span> <span class="s2">&quot;clicked in reset button.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">edges</span> <span class="o">+</span> <span class="n">nodes</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">mode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">app</span><span class="o">.</span><span class="n">run_server</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run_server</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">app</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.evidently" class="doc doc-heading">
        <code>evidently</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the Evidently integration.</p>
<p>The Evidently integration provides a way to monitor your models in production.
It includes a way to detect data drift and different kinds of model performance
issues.</p>
<p>The results of Evidently calculations can either be exported as an interactive
dashboard (visualized as an html file or in your Jupyter notebook), or as a JSON
file.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.evidently.EvidentlyIntegration" class="doc doc-heading">
        <code>
EvidentlyIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p><a href="https://github.com/evidentlyai/evidently">Evidently</a> integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/evidently/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">EvidentlyIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;[Evidently](https://github.com/evidentlyai/evidently) integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">EVIDENTLY</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;evidently==v0.1.41.dev0&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.evidently.steps" class="doc doc-heading">
        <code>steps</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Evidently Standard Steps.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.evidently.steps.evidently_profile" class="doc doc-heading">
        <code>evidently_profile</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Evidently Profile Step.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.evidently.steps.evidently_profile.EvidentlyProfileConfig" class="doc doc-heading">
        <code>
EvidentlyProfileConfig            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_drift_detection_step.BaseDriftDetectionConfig" href="../steps/#zenml.steps.step_interfaces.base_drift_detection_step.BaseDriftDetectionConfig">BaseDriftDetectionConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Config class for Evidently profile steps.</p>
<p>column_mapping: properties of the DataFrame's columns used
!!! profile_section "a string that identifies the profile section to be used."
    The following are valid options supported by Evidently:
    - "datadrift"
    - "categoricaltargetdrift"
    - "numericaltargetdrift"
    - "classificationmodelperformance"
    - "regressionmodelperformance"
    - "probabilisticmodelperformance"</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/evidently/steps/evidently_profile.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">EvidentlyProfileConfig</span><span class="p">(</span><span class="n">BaseDriftDetectionConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for Evidently profile steps.</span>

<span class="sd">    column_mapping: properties of the DataFrame&#39;s columns used</span>
<span class="sd">    profile_section: a string that identifies the profile section to be used.</span>
<span class="sd">        The following are valid options supported by Evidently:</span>
<span class="sd">        - &quot;datadrift&quot;</span>
<span class="sd">        - &quot;categoricaltargetdrift&quot;</span>
<span class="sd">        - &quot;numericaltargetdrift&quot;</span>
<span class="sd">        - &quot;classificationmodelperformance&quot;</span>
<span class="sd">        - &quot;regressionmodelperformance&quot;</span>
<span class="sd">        - &quot;probabilisticmodelperformance&quot;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_profile_sections_and_tabs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">ProfileSection</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Tab</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Get the profile sections and tabs to be used in the dashboard.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple of two lists of profile sections and tabs.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the profile_section is not supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">profile_mapper</span><span class="p">[</span><span class="n">profile</span><span class="p">]()</span>
                    <span class="k">for</span> <span class="n">profile</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">profile_sections</span>
                <span class="p">],</span>
                <span class="p">[</span>
                    <span class="n">dashboard_mapper</span><span class="p">[</span><span class="n">profile</span><span class="p">]()</span>
                    <span class="k">for</span> <span class="n">profile</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">profile_sections</span>
                <span class="p">],</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">nl</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid profile section: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">profile_sections</span><span class="si">}</span><span class="s2"> </span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Valid and supported options are: </span><span class="si">{</span><span class="n">nl</span><span class="si">}</span><span class="s2">- &quot;</span>
                <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nl</span><span class="si">}</span><span class="s2">- &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">profile_mapper</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="p">)</span>

    <span class="n">column_mapping</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ColumnMapping</span><span class="p">]</span>
    <span class="n">profile_sections</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.evidently.steps.evidently_profile.EvidentlyProfileConfig.get_profile_sections_and_tabs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_profile_sections_and_tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Get the profile sections and tabs to be used in the dashboard.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[List[evidently.model_profile.sections.base_profile_section.ProfileSection], List[evidently.dashboard.tabs.base_tab.Tab]]</code></td>
      <td><p>A tuple of two lists of profile sections and tabs.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the profile_section is not supported.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/evidently/steps/evidently_profile.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_profile_sections_and_tabs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">ProfileSection</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Tab</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Get the profile sections and tabs to be used in the dashboard.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tuple of two lists of profile sections and tabs.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if the profile_section is not supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="p">[</span>
                <span class="n">profile_mapper</span><span class="p">[</span><span class="n">profile</span><span class="p">]()</span>
                <span class="k">for</span> <span class="n">profile</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">profile_sections</span>
            <span class="p">],</span>
            <span class="p">[</span>
                <span class="n">dashboard_mapper</span><span class="p">[</span><span class="n">profile</span><span class="p">]()</span>
                <span class="k">for</span> <span class="n">profile</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">profile_sections</span>
            <span class="p">],</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">nl</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid profile section: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">profile_sections</span><span class="si">}</span><span class="s2"> </span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Valid and supported options are: </span><span class="si">{</span><span class="n">nl</span><span class="si">}</span><span class="s2">- &quot;</span>
            <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nl</span><span class="si">}</span><span class="s2">- &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">profile_mapper</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.evidently.steps.evidently_profile.EvidentlyProfileStep" class="doc doc-heading">
        <code>
EvidentlyProfileStep            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_drift_detection_step.BaseDriftDetectionStep" href="../steps/#zenml.steps.step_interfaces.base_drift_detection_step.BaseDriftDetectionStep">BaseDriftDetectionStep</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Step implementation implementing an Evidently Profile Step.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/evidently/steps/evidently_profile.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">EvidentlyProfileStep</span><span class="p">(</span><span class="n">BaseDriftDetectionStep</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Step implementation implementing an Evidently Profile Step.&quot;&quot;&quot;</span>

    <span class="n">OUTPUT_SPEC</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;profile&quot;</span><span class="p">:</span> <span class="n">DataAnalysisArtifact</span><span class="p">,</span>
        <span class="s2">&quot;dashboard&quot;</span><span class="p">:</span> <span class="n">DataAnalysisArtifact</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">reference_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">comparison_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">EvidentlyProfileConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Output</span><span class="p">(</span>  <span class="c1"># type:ignore[valid-type]</span>
        <span class="n">profile</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">dashboard</span><span class="o">=</span><span class="nb">str</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Main entrypoint for the Evidently categorical target drift detection step.</span>

<span class="sd">        Args:</span>
<span class="sd">            reference_dataset: a Pandas DataFrame</span>
<span class="sd">            comparison_dataset: a Pandas DataFrame of new data you wish to</span>
<span class="sd">                compare against the reference data</span>
<span class="sd">            config: the configuration for the step</span>

<span class="sd">        Returns:</span>
<span class="sd">            profile: dictionary report extracted from an Evidently Profile</span>
<span class="sd">              generated for the data drift</span>
<span class="sd">            dashboard: HTML report extracted from an Evidently Dashboard</span>
<span class="sd">              generated for the data drift</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sections</span><span class="p">,</span> <span class="n">tabs</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get_profile_sections_and_tabs</span><span class="p">()</span>
        <span class="n">data_drift_dashboard</span> <span class="o">=</span> <span class="n">Dashboard</span><span class="p">(</span><span class="n">tabs</span><span class="o">=</span><span class="n">tabs</span><span class="p">)</span>
        <span class="n">data_drift_dashboard</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span>
            <span class="n">reference_dataset</span><span class="p">,</span>
            <span class="n">comparison_dataset</span><span class="p">,</span>
            <span class="n">column_mapping</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">column_mapping</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">data_drift_profile</span> <span class="o">=</span> <span class="n">Profile</span><span class="p">(</span><span class="n">sections</span><span class="o">=</span><span class="n">sections</span><span class="p">)</span>
        <span class="n">data_drift_profile</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span>
            <span class="n">reference_dataset</span><span class="p">,</span>
            <span class="n">comparison_dataset</span><span class="p">,</span>
            <span class="n">column_mapping</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">column_mapping</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">data_drift_profile</span><span class="o">.</span><span class="n">object</span><span class="p">(),</span> <span class="n">data_drift_dashboard</span><span class="o">.</span><span class="n">html</span><span class="p">()]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  <div class="doc doc-object doc-class">



<h7 id="zenml.integrations.evidently.steps.evidently_profile.EvidentlyProfileStep.CONFIG_CLASS" class="doc doc-heading">
        <code>
CONFIG_CLASS            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_drift_detection_step.BaseDriftDetectionConfig" href="../steps/#zenml.steps.step_interfaces.base_drift_detection_step.BaseDriftDetectionConfig">BaseDriftDetectionConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Config class for Evidently profile steps.</p>
<p>column_mapping: properties of the DataFrame's columns used
!!! profile_section "a string that identifies the profile section to be used."
    The following are valid options supported by Evidently:
    - "datadrift"
    - "categoricaltargetdrift"
    - "numericaltargetdrift"
    - "classificationmodelperformance"
    - "regressionmodelperformance"
    - "probabilisticmodelperformance"</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/evidently/steps/evidently_profile.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">EvidentlyProfileConfig</span><span class="p">(</span><span class="n">BaseDriftDetectionConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for Evidently profile steps.</span>

<span class="sd">    column_mapping: properties of the DataFrame&#39;s columns used</span>
<span class="sd">    profile_section: a string that identifies the profile section to be used.</span>
<span class="sd">        The following are valid options supported by Evidently:</span>
<span class="sd">        - &quot;datadrift&quot;</span>
<span class="sd">        - &quot;categoricaltargetdrift&quot;</span>
<span class="sd">        - &quot;numericaltargetdrift&quot;</span>
<span class="sd">        - &quot;classificationmodelperformance&quot;</span>
<span class="sd">        - &quot;regressionmodelperformance&quot;</span>
<span class="sd">        - &quot;probabilisticmodelperformance&quot;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_profile_sections_and_tabs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">ProfileSection</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Tab</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Get the profile sections and tabs to be used in the dashboard.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple of two lists of profile sections and tabs.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the profile_section is not supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">profile_mapper</span><span class="p">[</span><span class="n">profile</span><span class="p">]()</span>
                    <span class="k">for</span> <span class="n">profile</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">profile_sections</span>
                <span class="p">],</span>
                <span class="p">[</span>
                    <span class="n">dashboard_mapper</span><span class="p">[</span><span class="n">profile</span><span class="p">]()</span>
                    <span class="k">for</span> <span class="n">profile</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">profile_sections</span>
                <span class="p">],</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">nl</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid profile section: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">profile_sections</span><span class="si">}</span><span class="s2"> </span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Valid and supported options are: </span><span class="si">{</span><span class="n">nl</span><span class="si">}</span><span class="s2">- &quot;</span>
                <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nl</span><span class="si">}</span><span class="s2">- &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">profile_mapper</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="p">)</span>

    <span class="n">column_mapping</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ColumnMapping</span><span class="p">]</span>
    <span class="n">profile_sections</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  <div class="doc doc-object doc-method">



<h8 id="zenml.integrations.evidently.steps.evidently_profile.EvidentlyProfileStep.CONFIG_CLASS.get_profile_sections_and_tabs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_profile_sections_and_tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h8>

    <div class="doc doc-contents ">

      <p>Get the profile sections and tabs to be used in the dashboard.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[List[evidently.model_profile.sections.base_profile_section.ProfileSection], List[evidently.dashboard.tabs.base_tab.Tab]]</code></td>
      <td><p>A tuple of two lists of profile sections and tabs.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the profile_section is not supported.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/evidently/steps/evidently_profile.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_profile_sections_and_tabs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">ProfileSection</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Tab</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Get the profile sections and tabs to be used in the dashboard.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tuple of two lists of profile sections and tabs.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if the profile_section is not supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="p">[</span>
                <span class="n">profile_mapper</span><span class="p">[</span><span class="n">profile</span><span class="p">]()</span>
                <span class="k">for</span> <span class="n">profile</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">profile_sections</span>
            <span class="p">],</span>
            <span class="p">[</span>
                <span class="n">dashboard_mapper</span><span class="p">[</span><span class="n">profile</span><span class="p">]()</span>
                <span class="k">for</span> <span class="n">profile</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">profile_sections</span>
            <span class="p">],</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">nl</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid profile section: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">profile_sections</span><span class="si">}</span><span class="s2"> </span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Valid and supported options are: </span><span class="si">{</span><span class="n">nl</span><span class="si">}</span><span class="s2">- &quot;</span>
            <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nl</span><span class="si">}</span><span class="s2">- &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">profile_mapper</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.evidently.steps.evidently_profile.EvidentlyProfileStep.entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entrypoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reference_dataset</span><span class="p">,</span> <span class="n">comparison_dataset</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Main entrypoint for the Evidently categorical target drift detection step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>reference_dataset</code></td>
        <td><code>DataFrame</code></td>
        <td><p>a Pandas DataFrame</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>comparison_dataset</code></td>
        <td><code>DataFrame</code></td>
        <td><p>a Pandas DataFrame of new data you wish to
compare against the reference data</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>EvidentlyProfileConfig</code></td>
        <td><p>the configuration for the step</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>profile</code></td>
      <td><p>dictionary report extracted from an Evidently Profile
  generated for the data drift
dashboard: HTML report extracted from an Evidently Dashboard
  generated for the data drift</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/evidently/steps/evidently_profile.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">reference_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">comparison_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">EvidentlyProfileConfig</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Output</span><span class="p">(</span>  <span class="c1"># type:ignore[valid-type]</span>
    <span class="n">profile</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">dashboard</span><span class="o">=</span><span class="nb">str</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Main entrypoint for the Evidently categorical target drift detection step.</span>

<span class="sd">    Args:</span>
<span class="sd">        reference_dataset: a Pandas DataFrame</span>
<span class="sd">        comparison_dataset: a Pandas DataFrame of new data you wish to</span>
<span class="sd">            compare against the reference data</span>
<span class="sd">        config: the configuration for the step</span>

<span class="sd">    Returns:</span>
<span class="sd">        profile: dictionary report extracted from an Evidently Profile</span>
<span class="sd">          generated for the data drift</span>
<span class="sd">        dashboard: HTML report extracted from an Evidently Dashboard</span>
<span class="sd">          generated for the data drift</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sections</span><span class="p">,</span> <span class="n">tabs</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get_profile_sections_and_tabs</span><span class="p">()</span>
    <span class="n">data_drift_dashboard</span> <span class="o">=</span> <span class="n">Dashboard</span><span class="p">(</span><span class="n">tabs</span><span class="o">=</span><span class="n">tabs</span><span class="p">)</span>
    <span class="n">data_drift_dashboard</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span>
        <span class="n">reference_dataset</span><span class="p">,</span>
        <span class="n">comparison_dataset</span><span class="p">,</span>
        <span class="n">column_mapping</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">column_mapping</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">data_drift_profile</span> <span class="o">=</span> <span class="n">Profile</span><span class="p">(</span><span class="n">sections</span><span class="o">=</span><span class="n">sections</span><span class="p">)</span>
    <span class="n">data_drift_profile</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span>
        <span class="n">reference_dataset</span><span class="p">,</span>
        <span class="n">comparison_dataset</span><span class="p">,</span>
        <span class="n">column_mapping</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">column_mapping</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">data_drift_profile</span><span class="o">.</span><span class="n">object</span><span class="p">(),</span> <span class="n">data_drift_dashboard</span><span class="o">.</span><span class="n">html</span><span class="p">()]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.evidently.visualizers" class="doc doc-heading">
        <code>visualizers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization for Evidently visualizer.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.evidently.visualizers.evidently_visualizer" class="doc doc-heading">
        <code>evidently_visualizer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Evidently visualizer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.evidently.visualizers.evidently_visualizer.EvidentlyVisualizer" class="doc doc-heading">
        <code>
EvidentlyVisualizer            (<a class="autorefs autorefs-internal" title="zenml.visualizers.base_step_visualizer.BaseStepVisualizer" href="../visualizers/#zenml.visualizers.base_step_visualizer.BaseStepVisualizer">BaseStepVisualizer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>The implementation of an Evidently Visualizer.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/evidently/visualizers/evidently_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">EvidentlyVisualizer</span><span class="p">(</span><span class="n">BaseStepVisualizer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The implementation of an Evidently Visualizer.&quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">:</span> <span class="n">StepView</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Method to visualize components.</span>

<span class="sd">        Args:</span>
<span class="sd">            object: StepView fetched from run.get_step().</span>
<span class="sd">            *args: Additional arguments.</span>
<span class="sd">            **kwargs: Additional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">artifact_view</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="c1"># filter out anything but data analysis artifacts</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">artifact_view</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">DataAnalysisArtifact</span><span class="o">.</span><span class="vm">__name__</span>
                <span class="ow">and</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">data_type</span> <span class="o">==</span> <span class="s2">&quot;builtins.str&quot;</span>
            <span class="p">):</span>
                <span class="n">artifact</span> <span class="o">=</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">generate_facet</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">generate_facet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html_</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Generate a Facet Overview.</span>

<span class="sd">        Args:</span>
<span class="sd">            html_: HTML represented as a string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">()</span> <span class="ow">or</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_google_colab</span><span class="p">():</span>
            <span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="kn">import</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">display</span>

            <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">html_</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The magic functions are only usable in a Jupyter notebook.&quot;</span>
            <span class="p">)</span>
            <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span>
                <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.html&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span>
            <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">html_</span><span class="p">)</span>
                <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;file:///</span><span class="si">{</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Opening </span><span class="si">%s</span><span class="s2"> in a new browser..&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">new</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.evidently.visualizers.evidently_visualizer.EvidentlyVisualizer.generate_facet" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_facet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html_</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Generate a Facet Overview.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>html_</code></td>
        <td><code>str</code></td>
        <td><p>HTML represented as a string.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/evidently/visualizers/evidently_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_facet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html_</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Generate a Facet Overview.</span>

<span class="sd">    Args:</span>
<span class="sd">        html_: HTML represented as a string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">()</span> <span class="ow">or</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_google_colab</span><span class="p">():</span>
        <span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="kn">import</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">display</span>

        <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">html_</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;The magic functions are only usable in a Jupyter notebook.&quot;</span>
        <span class="p">)</span>
        <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.html&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">html_</span><span class="p">)</span>
            <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;file:///</span><span class="si">{</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Opening </span><span class="si">%s</span><span class="s2"> in a new browser..&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">new</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.evidently.visualizers.evidently_visualizer.EvidentlyVisualizer.visualize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Method to visualize components.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>object</code></td>
        <td><code>StepView</code></td>
        <td><p>StepView fetched from run.get_step().</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional arguments.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/evidently/visualizers/evidently_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">:</span> <span class="n">StepView</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method to visualize components.</span>

<span class="sd">    Args:</span>
<span class="sd">        object: StepView fetched from run.get_step().</span>
<span class="sd">        *args: Additional arguments.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">artifact_view</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="c1"># filter out anything but data analysis artifacts</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">artifact_view</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">DataAnalysisArtifact</span><span class="o">.</span><span class="vm">__name__</span>
            <span class="ow">and</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">data_type</span> <span class="o">==</span> <span class="s2">&quot;builtins.str&quot;</span>
        <span class="p">):</span>
            <span class="n">artifact</span> <span class="o">=</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_facet</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.facets" class="doc doc-heading">
        <code>facets</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Facets integration for ZenML.</p>
<p>The Facets integration provides a simple way to visualize post-execution objects
like <code>PipelineView</code>, <code>PipelineRunView</code> and <code>StepView</code>. These objects can be
extended using the <code>BaseVisualization</code> class. This integration requires
<code>facets-overview</code> be installed in your Python environment.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.facets.FacetsIntegration" class="doc doc-heading">
        <code>
FacetsIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of <a href="https://pair-code.github.io/facets/">Facet</a> integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/facets/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FacetsIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of [Facet](https://pair-code.github.io/facets/) integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">FACETS</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;facets-overview&gt;=1.0.0&quot;</span><span class="p">,</span> <span class="s2">&quot;IPython&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.facets.visualizers" class="doc doc-heading">
        <code>visualizers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Intitialization of the Facet Visualizer.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.facets.visualizers.facet_statistics_visualizer" class="doc doc-heading">
        <code>facet_statistics_visualizer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Facet Statistics Visualizer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.facets.visualizers.facet_statistics_visualizer.FacetStatisticsVisualizer" class="doc doc-heading">
        <code>
FacetStatisticsVisualizer            (<a class="autorefs autorefs-internal" title="zenml.visualizers.base_step_visualizer.BaseStepVisualizer" href="../visualizers/#zenml.visualizers.base_step_visualizer.BaseStepVisualizer">BaseStepVisualizer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>The base implementation of a ZenML Visualizer.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/facets/visualizers/facet_statistics_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FacetStatisticsVisualizer</span><span class="p">(</span><span class="n">BaseStepVisualizer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The base implementation of a ZenML Visualizer.&quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">:</span> <span class="n">StepView</span><span class="p">,</span> <span class="n">magic</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Method to visualize components.</span>

<span class="sd">        Args:</span>
<span class="sd">            object: StepView fetched from run.get_step().</span>
<span class="sd">            magic: Whether to render in a Jupyter notebook or not.</span>
<span class="sd">            *args: Additional arguments.</span>
<span class="sd">            **kwargs: Additional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">datasets</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">artifact_view</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">` is not a pd.DataFrame. You can only visualize &quot;</span>
                    <span class="s2">&quot;statistics of steps that output pandas DataFrames. &quot;</span>
                    <span class="s2">&quot;Skipping this output..&quot;</span> <span class="o">%</span> <span class="n">output_name</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">datasets</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">output_name</span><span class="p">,</span> <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="n">df</span><span class="p">})</span>
        <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_html</span><span class="p">(</span><span class="n">datasets</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_facet</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">magic</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">generate_html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">datasets</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Text</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Generates html for facet.</span>

<span class="sd">        Args:</span>
<span class="sd">            datasets: List of dicts of DataFrames to be visualized as stats.</span>

<span class="sd">        Returns:</span>
<span class="sd">            HTML template with proto string embedded.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">proto</span> <span class="o">=</span> <span class="n">GenericFeatureStatisticsGenerator</span><span class="p">()</span><span class="o">.</span><span class="n">ProtoFromDataFrames</span><span class="p">(</span>
            <span class="n">datasets</span>
        <span class="p">)</span>
        <span class="n">protostr</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">proto</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

        <span class="n">template</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)),</span>
            <span class="s2">&quot;stats.html&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">html_template</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>

        <span class="n">html_</span> <span class="o">=</span> <span class="n">html_template</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;protostr&quot;</span><span class="p">,</span> <span class="n">protostr</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">html_</span>

    <span class="k">def</span> <span class="nf">generate_facet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html_</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">magic</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Generate a Facet Overview.</span>

<span class="sd">        Args:</span>
<span class="sd">            html_: HTML represented as a string.</span>
<span class="sd">            magic: Whether to magically materialize facet in a notebook.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EnvironmentError: If magic is True and not in a notebook.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">magic</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">()</span> <span class="ow">or</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_google_colab</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span>
                    <span class="s2">&quot;The magic functions are only usable in a Jupyter notebook.&quot;</span>
                <span class="p">)</span>
            <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">html_</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.html&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">io_utils</span><span class="o">.</span><span class="n">write_file_contents_as_string</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">html_</span><span class="p">)</span>
                <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;file:///</span><span class="si">{</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Opening </span><span class="si">%s</span><span class="s2"> in a new browser..&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">new</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.facets.visualizers.facet_statistics_visualizer.FacetStatisticsVisualizer.generate_facet" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_facet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html_</span><span class="p">,</span> <span class="n">magic</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Generate a Facet Overview.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>html_</code></td>
        <td><code>str</code></td>
        <td><p>HTML represented as a string.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>magic</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to magically materialize facet in a notebook.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EnvironmentError</code></td>
        <td><p>If magic is True and not in a notebook.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/facets/visualizers/facet_statistics_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_facet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html_</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">magic</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Generate a Facet Overview.</span>

<span class="sd">    Args:</span>
<span class="sd">        html_: HTML represented as a string.</span>
<span class="sd">        magic: Whether to magically materialize facet in a notebook.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EnvironmentError: If magic is True and not in a notebook.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">magic</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">()</span> <span class="ow">or</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_google_colab</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span>
                <span class="s2">&quot;The magic functions are only usable in a Jupyter notebook.&quot;</span>
            <span class="p">)</span>
        <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">html_</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.html&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">io_utils</span><span class="o">.</span><span class="n">write_file_contents_as_string</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">html_</span><span class="p">)</span>
            <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;file:///</span><span class="si">{</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Opening </span><span class="si">%s</span><span class="s2"> in a new browser..&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">new</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.facets.visualizers.facet_statistics_visualizer.FacetStatisticsVisualizer.generate_html" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">datasets</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Generates html for facet.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>datasets</code></td>
        <td><code>List[Dict[str, pandas.core.frame.DataFrame]]</code></td>
        <td><p>List of dicts of DataFrames to be visualized as stats.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>HTML template with proto string embedded.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/facets/visualizers/facet_statistics_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">datasets</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Text</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Generates html for facet.</span>

<span class="sd">    Args:</span>
<span class="sd">        datasets: List of dicts of DataFrames to be visualized as stats.</span>

<span class="sd">    Returns:</span>
<span class="sd">        HTML template with proto string embedded.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">proto</span> <span class="o">=</span> <span class="n">GenericFeatureStatisticsGenerator</span><span class="p">()</span><span class="o">.</span><span class="n">ProtoFromDataFrames</span><span class="p">(</span>
        <span class="n">datasets</span>
    <span class="p">)</span>
    <span class="n">protostr</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">proto</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

    <span class="n">template</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)),</span>
        <span class="s2">&quot;stats.html&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">html_template</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>

    <span class="n">html_</span> <span class="o">=</span> <span class="n">html_template</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;protostr&quot;</span><span class="p">,</span> <span class="n">protostr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">html_</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.facets.visualizers.facet_statistics_visualizer.FacetStatisticsVisualizer.visualize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">magic</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Method to visualize components.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>object</code></td>
        <td><code>StepView</code></td>
        <td><p>StepView fetched from run.get_step().</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>magic</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to render in a Jupyter notebook or not.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional arguments.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/facets/visualizers/facet_statistics_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">:</span> <span class="n">StepView</span><span class="p">,</span> <span class="n">magic</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method to visualize components.</span>

<span class="sd">    Args:</span>
<span class="sd">        object: StepView fetched from run.get_step().</span>
<span class="sd">        magic: Whether to render in a Jupyter notebook or not.</span>
<span class="sd">        *args: Additional arguments.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">datasets</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">artifact_view</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">` is not a pd.DataFrame. You can only visualize &quot;</span>
                <span class="s2">&quot;statistics of steps that output pandas DataFrames. &quot;</span>
                <span class="s2">&quot;Skipping this output..&quot;</span> <span class="o">%</span> <span class="n">output_name</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">datasets</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">output_name</span><span class="p">,</span> <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="n">df</span><span class="p">})</span>
    <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_html</span><span class="p">(</span><span class="n">datasets</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">generate_facet</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">magic</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.feast" class="doc doc-heading">
        <code>feast</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization for Feast integration.</p>
<p>The Feast integration offers a way to connect to a Feast Feature Store. ZenML
implements a dedicated stack component that you can access as part of your ZenML
steps in the usual ways.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.feast.FeastIntegration" class="doc doc-heading">
        <code>
FeastIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Feast integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/feast/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FeastIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Feast integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">FEAST</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;feast[redis]&gt;=0.19.4&quot;</span><span class="p">,</span> <span class="s2">&quot;redis-server&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Feast integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">FEAST_FEATURE_STORE_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.feast.feature_store.FeastFeatureStore&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">FEATURE_STORE</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.feast.FeastIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the Feast integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/feast/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Feast integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">FEAST_FEATURE_STORE_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.feast.feature_store.FeastFeatureStore&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">FEATURE_STORE</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.feast.feature_stores" class="doc doc-heading">
        <code>feature_stores</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Feast Feature Store integration for ZenML.</p>
<p>Feature stores allow data teams to serve data via an offline store and an online
low-latency store where data is kept in sync between the two. It also offers a
centralized registry where features (and feature schemas) are stored for use
within a team or wider organization. Feature stores are a relatively recent
addition to commonly-used machine learning stacks. Feast is a leading
open-source feature store, first developed by Gojek in collaboration with
Google.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.feast.feature_stores.feast_feature_store" class="doc doc-heading">
        <code>feast_feature_store</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Feast Feature Store for ZenML.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.feast.feature_stores.feast_feature_store.FeastFeatureStore" class="doc doc-heading">
        <code>
FeastFeatureStore            (<a class="autorefs autorefs-internal" title="zenml.feature_stores.base_feature_store.BaseFeatureStore" href="../feature_stores/#zenml.feature_stores.base_feature_store.BaseFeatureStore">BaseFeatureStore</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Class to interact with the Feast feature store.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/feast/feature_stores/feast_feature_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FeastFeatureStore</span><span class="p">(</span><span class="n">BaseFeatureStore</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class to interact with the Feast feature store.&quot;&quot;&quot;</span>

    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">FEAST_FEATURE_STORE_FLAVOR</span>

    <span class="n">online_host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span>
    <span class="n">online_port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">6379</span>
    <span class="n">feast_repo</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">def</span> <span class="nf">_validate_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Validates the connection to the feature store.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ConnectionError: If the online component (Redis) is not available.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">redis</span><span class="o">.</span><span class="n">Redis</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">online_host</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">online_port</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">client</span><span class="o">.</span><span class="n">ping</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">redis</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">ConnectionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">redis</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">ConnectionError</span><span class="p">(</span>
                <span class="s2">&quot;Could not connect to feature store&#39;s online component. &quot;</span>
                <span class="s2">&quot;Please make sure that Redis is running.&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">def</span> <span class="nf">get_historical_features</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">entity_df</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">features</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">full_feature_names</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the historical features for training or batch scoring.</span>

<span class="sd">        Args:</span>
<span class="sd">            entity_df: The entity DataFrame or entity name.</span>
<span class="sd">            features: The features to retrieve.</span>
<span class="sd">            full_feature_names: Whether to return the full feature names.</span>

<span class="sd">        Raise:</span>
<span class="sd">            ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The historical features as a Pandas DataFrame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">fs</span><span class="o">.</span><span class="n">get_historical_features</span><span class="p">(</span>
            <span class="n">entity_df</span><span class="o">=</span><span class="n">entity_df</span><span class="p">,</span>
            <span class="n">features</span><span class="o">=</span><span class="n">features</span><span class="p">,</span>
            <span class="n">full_feature_names</span><span class="o">=</span><span class="n">full_feature_names</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">to_df</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_online_features</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">entity_rows</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
        <span class="n">features</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">full_feature_names</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Returns the latest online feature data.</span>

<span class="sd">        Args:</span>
<span class="sd">            entity_rows: The entity rows to retrieve.</span>
<span class="sd">            features: The features to retrieve.</span>
<span class="sd">            full_feature_names: Whether to return the full feature names.</span>

<span class="sd">        Raise:</span>
<span class="sd">            ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The latest online feature data as a dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_connection</span><span class="p">()</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">fs</span><span class="o">.</span><span class="n">get_online_features</span><span class="p">(</span>  <span class="c1"># type: ignore[no-any-return]</span>
            <span class="n">entity_rows</span><span class="o">=</span><span class="n">entity_rows</span><span class="p">,</span>
            <span class="n">features</span><span class="o">=</span><span class="n">features</span><span class="p">,</span>
            <span class="n">full_feature_names</span><span class="o">=</span><span class="n">full_feature_names</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_data_sources</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Returns the data sources&#39; names.</span>

<span class="sd">        Raise:</span>
<span class="sd">            ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The data sources&#39; names.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_connection</span><span class="p">()</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">ds</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">fs</span><span class="o">.</span><span class="n">list_data_sources</span><span class="p">()]</span>

    <span class="k">def</span> <span class="nf">get_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Returns the entity names.</span>

<span class="sd">        Raise:</span>
<span class="sd">            ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The entity names.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_connection</span><span class="p">()</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">ds</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">fs</span><span class="o">.</span><span class="n">list_entities</span><span class="p">()]</span>

    <span class="k">def</span> <span class="nf">get_feature_services</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Returns the feature service names.</span>

<span class="sd">        Raise:</span>
<span class="sd">            ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The feature service names.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_connection</span><span class="p">()</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">ds</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">fs</span><span class="o">.</span><span class="n">list_feature_services</span><span class="p">()]</span>

    <span class="k">def</span> <span class="nf">get_feature_views</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Returns the feature view names.</span>

<span class="sd">        Raise:</span>
<span class="sd">            ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The feature view names.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_connection</span><span class="p">()</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">ds</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">fs</span><span class="o">.</span><span class="n">list_feature_views</span><span class="p">()]</span>

    <span class="k">def</span> <span class="nf">get_project</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the project name.</span>

<span class="sd">        Raise:</span>
<span class="sd">            ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The project name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">fs</span><span class="o">.</span><span class="n">project</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Registry</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the feature store registry.</span>

<span class="sd">        Raise:</span>
<span class="sd">            ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The registry.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fs</span><span class="p">:</span> <span class="n">FeatureStore</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fs</span><span class="o">.</span><span class="n">registry</span>

    <span class="k">def</span> <span class="nf">get_feast_version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the version of Feast used.</span>

<span class="sd">        Raise:</span>
<span class="sd">            ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The version of Feast currently being used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">fs</span><span class="o">.</span><span class="n">version</span><span class="p">())</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
















  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.feast.feature_stores.feast_feature_store.FeastFeatureStore.get_data_sources" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_data_sources</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the data sources' names.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the online component (Redis) is not available.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>The data sources' names.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/feast/feature_stores/feast_feature_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_data_sources</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Returns the data sources&#39; names.</span>

<span class="sd">    Raise:</span>
<span class="sd">        ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The data sources&#39; names.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_connection</span><span class="p">()</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">ds</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">fs</span><span class="o">.</span><span class="n">list_data_sources</span><span class="p">()]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.feast.feature_stores.feast_feature_store.FeastFeatureStore.get_entities" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the entity names.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the online component (Redis) is not available.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>The entity names.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/feast/feature_stores/feast_feature_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Returns the entity names.</span>

<span class="sd">    Raise:</span>
<span class="sd">        ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The entity names.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_connection</span><span class="p">()</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">ds</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">fs</span><span class="o">.</span><span class="n">list_entities</span><span class="p">()]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.feast.feature_stores.feast_feature_store.FeastFeatureStore.get_feast_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_feast_version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the version of Feast used.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the online component (Redis) is not available.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The version of Feast currently being used.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/feast/feature_stores/feast_feature_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_feast_version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the version of Feast used.</span>

<span class="sd">    Raise:</span>
<span class="sd">        ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The version of Feast currently being used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">fs</span><span class="o">.</span><span class="n">version</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.feast.feature_stores.feast_feature_store.FeastFeatureStore.get_feature_services" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_feature_services</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the feature service names.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the online component (Redis) is not available.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>The feature service names.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/feast/feature_stores/feast_feature_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_feature_services</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Returns the feature service names.</span>

<span class="sd">    Raise:</span>
<span class="sd">        ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The feature service names.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_connection</span><span class="p">()</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">ds</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">fs</span><span class="o">.</span><span class="n">list_feature_services</span><span class="p">()]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.feast.feature_stores.feast_feature_store.FeastFeatureStore.get_feature_views" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_feature_views</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the feature view names.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the online component (Redis) is not available.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>The feature view names.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/feast/feature_stores/feast_feature_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_feature_views</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Returns the feature view names.</span>

<span class="sd">    Raise:</span>
<span class="sd">        ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The feature view names.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_connection</span><span class="p">()</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">ds</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">fs</span><span class="o">.</span><span class="n">list_feature_views</span><span class="p">()]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.feast.feature_stores.feast_feature_store.FeastFeatureStore.get_historical_features" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_historical_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_df</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">full_feature_names</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the historical features for training or batch scoring.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>entity_df</code></td>
        <td><code>Union[pandas.core.frame.DataFrame, str]</code></td>
        <td><p>The entity DataFrame or entity name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>features</code></td>
        <td><code>List[str]</code></td>
        <td><p>The features to retrieve.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>full_feature_names</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to return the full feature names.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the online component (Redis) is not available.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>The historical features as a Pandas DataFrame.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/feast/feature_stores/feast_feature_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_historical_features</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">entity_df</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="n">features</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">full_feature_names</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the historical features for training or batch scoring.</span>

<span class="sd">    Args:</span>
<span class="sd">        entity_df: The entity DataFrame or entity name.</span>
<span class="sd">        features: The features to retrieve.</span>
<span class="sd">        full_feature_names: Whether to return the full feature names.</span>

<span class="sd">    Raise:</span>
<span class="sd">        ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The historical features as a Pandas DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fs</span><span class="o">.</span><span class="n">get_historical_features</span><span class="p">(</span>
        <span class="n">entity_df</span><span class="o">=</span><span class="n">entity_df</span><span class="p">,</span>
        <span class="n">features</span><span class="o">=</span><span class="n">features</span><span class="p">,</span>
        <span class="n">full_feature_names</span><span class="o">=</span><span class="n">full_feature_names</span><span class="p">,</span>
    <span class="p">)</span><span class="o">.</span><span class="n">to_df</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.feast.feature_stores.feast_feature_store.FeastFeatureStore.get_online_features" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_online_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_rows</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">full_feature_names</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the latest online feature data.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>entity_rows</code></td>
        <td><code>List[Dict[str, Any]]</code></td>
        <td><p>The entity rows to retrieve.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>features</code></td>
        <td><code>List[str]</code></td>
        <td><p>The features to retrieve.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>full_feature_names</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to return the full feature names.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the online component (Redis) is not available.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>The latest online feature data as a dictionary.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/feast/feature_stores/feast_feature_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_online_features</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">entity_rows</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="n">features</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">full_feature_names</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Returns the latest online feature data.</span>

<span class="sd">    Args:</span>
<span class="sd">        entity_rows: The entity rows to retrieve.</span>
<span class="sd">        features: The features to retrieve.</span>
<span class="sd">        full_feature_names: Whether to return the full feature names.</span>

<span class="sd">    Raise:</span>
<span class="sd">        ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The latest online feature data as a dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_connection</span><span class="p">()</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fs</span><span class="o">.</span><span class="n">get_online_features</span><span class="p">(</span>  <span class="c1"># type: ignore[no-any-return]</span>
        <span class="n">entity_rows</span><span class="o">=</span><span class="n">entity_rows</span><span class="p">,</span>
        <span class="n">features</span><span class="o">=</span><span class="n">features</span><span class="p">,</span>
        <span class="n">full_feature_names</span><span class="o">=</span><span class="n">full_feature_names</span><span class="p">,</span>
    <span class="p">)</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.feast.feature_stores.feast_feature_store.FeastFeatureStore.get_project" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_project</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the project name.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the online component (Redis) is not available.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The project name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/feast/feature_stores/feast_feature_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_project</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the project name.</span>

<span class="sd">    Raise:</span>
<span class="sd">        ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The project name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">fs</span><span class="o">.</span><span class="n">project</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.feast.feature_stores.feast_feature_store.FeastFeatureStore.get_registry" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the feature store registry.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the online component (Redis) is not available.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Registry</code></td>
      <td><p>The registry.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/feast/feature_stores/feast_feature_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Registry</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the feature store registry.</span>

<span class="sd">    Raise:</span>
<span class="sd">        ConnectionError: If the online component (Redis) is not available.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The registry.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fs</span><span class="p">:</span> <span class="n">FeatureStore</span> <span class="o">=</span> <span class="n">FeatureStore</span><span class="p">(</span><span class="n">repo_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">feast_repo</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fs</span><span class="o">.</span><span class="n">registry</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.gcp" class="doc doc-heading">
        <code>gcp</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the GCP ZenML integration.</p>
<p>The GCP integration submodule provides a way to run ZenML pipelines in a cloud
environment. Specifically, it allows the use of cloud artifact stores, metadata
stores, and an <code>io</code> module to handle file operations on Google Cloud Storage
(GCS).</p>
<p>Additionally, the GCP secrets manager integration submodule provides a
way to access the GCP secrets manager from within your ZenML Pipeline runs.</p>
<p>The Vertex AI integration submodule provides a way to run ZenML pipelines in a
Vertex AI environment.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.gcp.GcpIntegration" class="doc doc-heading">
        <code>
GcpIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Google Cloud Platform integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GcpIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Google Cloud Platform integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">GCP</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;kfp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gcsfs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;google-cloud-secret-manager&quot;</span><span class="p">,</span>
        <span class="s2">&quot;google-cloud-aiplatform&gt;=1.11.0&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the GCP integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">GCP_ARTIFACT_STORE_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.gcp.artifact_stores&quot;</span>
                <span class="s2">&quot;.GCPArtifactStore&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">GCP_SECRETS_MANAGER_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.gcp.secrets_manager.&quot;</span>
                <span class="s2">&quot;GCPSecretsManager&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">SECRETS_MANAGER</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">GCP_VERTEX_ORCHESTRATOR_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.gcp.orchestrators&quot;</span>
                <span class="s2">&quot;.VertexOrchestrator&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">GCP_VERTEX_STEP_OPERATOR_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.gcp.step_operators&quot;</span>
                <span class="s2">&quot;.VertexStepOperator&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">STEP_OPERATOR</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.gcp.GcpIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the GCP integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the GCP integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">GCP_ARTIFACT_STORE_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.gcp.artifact_stores&quot;</span>
            <span class="s2">&quot;.GCPArtifactStore&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">GCP_SECRETS_MANAGER_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.gcp.secrets_manager.&quot;</span>
            <span class="s2">&quot;GCPSecretsManager&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">SECRETS_MANAGER</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">GCP_VERTEX_ORCHESTRATOR_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.gcp.orchestrators&quot;</span>
            <span class="s2">&quot;.VertexOrchestrator&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">GCP_VERTEX_STEP_OPERATOR_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.gcp.step_operators&quot;</span>
            <span class="s2">&quot;.VertexStepOperator&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">STEP_OPERATOR</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.gcp.artifact_stores" class="doc doc-heading">
        <code>artifact_stores</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the GCP Artifact Store.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store" class="doc doc-heading">
        <code>gcp_artifact_store</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the GCP Artifact Store.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore" class="doc doc-heading">
        <code>
GCPArtifactStore            (<a class="autorefs autorefs-internal" title="zenml.artifact_stores.base_artifact_store.BaseArtifactStore" href="../artifact_stores/#zenml.artifact_stores.base_artifact_store.BaseArtifactStore">BaseArtifactStore</a>, <a class="autorefs autorefs-internal" title="zenml.stack.authentication_mixin.AuthenticationMixin" href="../stack/#zenml.stack.authentication_mixin.AuthenticationMixin">AuthenticationMixin</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Artifact Store for Google Cloud Storage based artifacts.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GCPArtifactStore</span><span class="p">(</span><span class="n">BaseArtifactStore</span><span class="p">,</span> <span class="n">AuthenticationMixin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Artifact Store for Google Cloud Storage based artifacts.&quot;&quot;&quot;</span>

    <span class="n">_filesystem</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">gcsfs</span><span class="o">.</span><span class="n">GCSFileSystem</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">GCP_ARTIFACT_STORE_FLAVOR</span>
    <span class="n">SUPPORTED_SCHEMES</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span><span class="n">GCP_PATH_PREFIX</span><span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">filesystem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">gcsfs</span><span class="o">.</span><span class="n">GCSFileSystem</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The gcsfs filesystem to access this artifact store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The gcsfs filesystem to access this artifact store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filesystem</span><span class="p">:</span>
            <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_authentication_secret</span><span class="p">(</span>
                <span class="n">expected_schema_type</span><span class="o">=</span><span class="n">GCPSecretSchema</span>
            <span class="p">)</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">get_credential_dict</span><span class="p">()</span> <span class="k">if</span> <span class="n">secret</span> <span class="k">else</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_filesystem</span> <span class="o">=</span> <span class="n">gcsfs</span><span class="o">.</span><span class="n">GCSFileSystem</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filesystem</span>

    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Open a file at the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: Path of the file to open.</span>
<span class="sd">            mode: Mode in which to open the file. Currently, only</span>
<span class="sd">                &#39;rb&#39; and &#39;wb&#39; to read and write binary files are supported.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A file-like object that can be used to read or write to the file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">copyfile</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Copy a file.</span>

<span class="sd">        Args:</span>
<span class="sd">            src: The path to copy from.</span>
<span class="sd">            dst: The path to copy to.</span>
<span class="sd">            overwrite: If a file already exists at the destination, this</span>
<span class="sd">                method will overwrite it if overwrite=`True` and</span>
<span class="sd">                raise a FileExistsError otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileExistsError: If a file already exists at the destination</span>
<span class="sd">                and overwrite is not set to `True`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to copy to destination &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to copy anyway.&quot;</span>
            <span class="p">)</span>
        <span class="c1"># TODO [ENG-151]: Check if it works with overwrite=True or if we need to</span>
        <span class="c1">#  manually remove it first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Check whether a path exists.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the path exists, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">glob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return all paths that match the given glob pattern.</span>

<span class="sd">        The glob pattern may include:</span>
<span class="sd">        - &#39;*&#39; to match any number of characters</span>
<span class="sd">        - &#39;?&#39; to match a single character</span>
<span class="sd">        - &#39;[...]&#39; to match one of the characters inside the brackets</span>
<span class="sd">        - &#39;**&#39; as the full name of a path component to match to search</span>
<span class="sd">          in subdirectories of any depth (e.g. &#39;/some_dir/**/some_file)</span>

<span class="sd">        Args:</span>
<span class="sd">            pattern: The glob pattern to match, see details above.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of paths that match the given glob pattern.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">GCP_PATH_PREFIX</span><span class="si">}{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">pattern</span><span class="p">)</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">isdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Check whether a path is a directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the path is a directory, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">listdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return a list of files in a directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path of the directory to list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of paths of files in the directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path_without_prefix</span> <span class="o">=</span> <span class="n">convert_to_str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">path_without_prefix</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">GCP_PATH_PREFIX</span><span class="p">):</span>
            <span class="n">path_without_prefix</span> <span class="o">=</span> <span class="n">path_without_prefix</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">GCP_PATH_PREFIX</span><span class="p">)</span> <span class="p">:]</span>

        <span class="k">def</span> <span class="nf">_extract_basename</span><span class="p">(</span><span class="n">file_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Extracts the basename from a file info dict returned by GCP.</span>

<span class="sd">            Args:</span>
<span class="sd">                file_dict: A file info dict returned by the GCP filesystem.</span>

<span class="sd">            Returns:</span>
<span class="sd">                The basename of the file.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">file_dict</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
            <span class="n">base_name</span> <span class="o">=</span> <span class="n">file_path</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">path_without_prefix</span><span class="p">)</span> <span class="p">:]</span>
            <span class="k">return</span> <span class="n">base_name</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span>
            <span class="n">_extract_basename</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">dict_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">        If needed also create missing parent directories.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path of the directory to create.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path of the directory to create.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove the file at the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path of the file to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rm_file</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">rename</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Rename source file to destination file.</span>

<span class="sd">        Args:</span>
<span class="sd">            src: The path of the file to rename.</span>
<span class="sd">            dst: The path to rename the source file to.</span>
<span class="sd">            overwrite: If a file already exists at the destination, this</span>
<span class="sd">                method will overwrite it if overwrite=`True` and</span>
<span class="sd">                raise a FileExistsError otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileExistsError: If a file already exists at the destination</span>
<span class="sd">                and overwrite is not set to `True`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to rename file to &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to rename anyway.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># TODO [ENG-152]: Check if it works with overwrite=True or if we need</span>
        <span class="c1">#  to manually remove it first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove the given directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path of the directory to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return stat info for the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: the path to get stat info for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary with the stat info.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">walk</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">top</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span>
        <span class="n">topdown</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">onerror</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">PathType</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]]]:</span>
        <span class="sd">&quot;&quot;&quot;Return an iterator that walks the contents of the given directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            top: Path of directory to walk.</span>
<span class="sd">            topdown: Unused argument to conform to interface.</span>
<span class="sd">            onerror: Unused argument to conform to interface.</span>

<span class="sd">        Yields:</span>
<span class="sd">            An Iterable of Tuples, each of which contain the path of the current</span>
<span class="sd">            directory path, a list of directories inside the current directory</span>
<span class="sd">            and a list of files inside the current directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO [ENG-153]: Additional params</span>
        <span class="k">for</span> <span class="p">(</span>
            <span class="n">directory</span><span class="p">,</span>
            <span class="n">subdirectories</span><span class="p">,</span>
            <span class="n">files</span><span class="p">,</span>
        <span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">top</span><span class="p">):</span>
            <span class="k">yield</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">GCP_PATH_PREFIX</span><span class="si">}{</span><span class="n">directory</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">subdirectories</span><span class="p">,</span> <span class="n">files</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.filesystem" class="doc doc-heading">
<code class="highlight language-python"><span class="n">filesystem</span><span class="p">:</span> <span class="n">GCSFileSystem</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>The gcsfs filesystem to access this artifact store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>GCSFileSystem</code></td>
      <td><p>The gcsfs filesystem to access this artifact store.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.copyfile" class="doc doc-heading">
<code class="highlight language-python"><span class="n">copyfile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Copy a file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>src</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to copy from.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dst</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to copy to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>overwrite</code></td>
        <td><code>bool</code></td>
        <td><p>If a file already exists at the destination, this
method will overwrite it if overwrite=<code>True</code> and
raise a FileExistsError otherwise.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileExistsError</code></td>
        <td><p>If a file already exists at the destination
and overwrite is not set to <code>True</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">copyfile</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Copy a file.</span>

<span class="sd">    Args:</span>
<span class="sd">        src: The path to copy from.</span>
<span class="sd">        dst: The path to copy to.</span>
<span class="sd">        overwrite: If a file already exists at the destination, this</span>
<span class="sd">            method will overwrite it if overwrite=`True` and</span>
<span class="sd">            raise a FileExistsError otherwise.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileExistsError: If a file already exists at the destination</span>
<span class="sd">            and overwrite is not set to `True`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to copy to destination &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to copy anyway.&quot;</span>
        <span class="p">)</span>
    <span class="c1"># TODO [ENG-151]: Check if it works with overwrite=True or if we need to</span>
    <span class="c1">#  manually remove it first</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Check whether a path exists.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the path exists, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check whether a path exists.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the path exists, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.glob" class="doc doc-heading">
<code class="highlight language-python"><span class="n">glob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return all paths that match the given glob pattern.</p>
<p>The glob pattern may include:
- '<em>' to match any number of characters
- '?' to match a single character
- '[...]' to match one of the characters inside the brackets
- '</em><em>' as the full name of a path component to match to search
  in subdirectories of any depth (e.g. '/some_dir/</em>*/some_file)</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pattern</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The glob pattern to match, see details above.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Union[bytes, str]]</code></td>
      <td><p>A list of paths that match the given glob pattern.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">glob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return all paths that match the given glob pattern.</span>

<span class="sd">    The glob pattern may include:</span>
<span class="sd">    - &#39;*&#39; to match any number of characters</span>
<span class="sd">    - &#39;?&#39; to match a single character</span>
<span class="sd">    - &#39;[...]&#39; to match one of the characters inside the brackets</span>
<span class="sd">    - &#39;**&#39; as the full name of a path component to match to search</span>
<span class="sd">      in subdirectories of any depth (e.g. &#39;/some_dir/**/some_file)</span>

<span class="sd">    Args:</span>
<span class="sd">        pattern: The glob pattern to match, see details above.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of paths that match the given glob pattern.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">GCP_PATH_PREFIX</span><span class="si">}{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">pattern</span><span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.isdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Check whether a path is a directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the path is a directory, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">isdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check whether a path is a directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the path is a directory, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.listdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return a list of files in a directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path of the directory to list.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Union[bytes, str]]</code></td>
      <td><p>A list of paths of files in the directory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">listdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return a list of files in a directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path of the directory to list.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of paths of files in the directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">path_without_prefix</span> <span class="o">=</span> <span class="n">convert_to_str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">path_without_prefix</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">GCP_PATH_PREFIX</span><span class="p">):</span>
        <span class="n">path_without_prefix</span> <span class="o">=</span> <span class="n">path_without_prefix</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">GCP_PATH_PREFIX</span><span class="p">)</span> <span class="p">:]</span>

    <span class="k">def</span> <span class="nf">_extract_basename</span><span class="p">(</span><span class="n">file_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Extracts the basename from a file info dict returned by GCP.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_dict: A file info dict returned by the GCP filesystem.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The basename of the file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">file_dict</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
        <span class="n">base_name</span> <span class="o">=</span> <span class="n">file_path</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">path_without_prefix</span><span class="p">)</span> <span class="p">:]</span>
        <span class="k">return</span> <span class="n">base_name</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span>
        <span class="n">_extract_basename</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dict_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.makedirs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Create a directory at the given path.</p>
<p>If needed also create missing parent directories.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path of the directory to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">    If needed also create missing parent directories.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path of the directory to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.mkdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Create a directory at the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path of the directory to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path of the directory to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.open" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Open a file at the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>Path of the file to open.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>mode</code></td>
        <td><code>str</code></td>
        <td><p>Mode in which to open the file. Currently, only
'rb' and 'wb' to read and write binary files are supported.</p></td>
        <td><code>&#39;r&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>A file-like object that can be used to read or write to the file.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Open a file at the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Path of the file to open.</span>
<span class="sd">        mode: Mode in which to open the file. Currently, only</span>
<span class="sd">            &#39;rb&#39; and &#39;wb&#39; to read and write binary files are supported.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A file-like object that can be used to read or write to the file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.remove" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Remove the file at the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path of the file to remove.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Remove the file at the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path of the file to remove.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rm_file</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.rename" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Rename source file to destination file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>src</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path of the file to rename.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dst</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to rename the source file to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>overwrite</code></td>
        <td><code>bool</code></td>
        <td><p>If a file already exists at the destination, this
method will overwrite it if overwrite=<code>True</code> and
raise a FileExistsError otherwise.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileExistsError</code></td>
        <td><p>If a file already exists at the destination
and overwrite is not set to <code>True</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rename</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Rename source file to destination file.</span>

<span class="sd">    Args:</span>
<span class="sd">        src: The path of the file to rename.</span>
<span class="sd">        dst: The path to rename the source file to.</span>
<span class="sd">        overwrite: If a file already exists at the destination, this</span>
<span class="sd">            method will overwrite it if overwrite=`True` and</span>
<span class="sd">            raise a FileExistsError otherwise.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileExistsError: If a file already exists at the destination</span>
<span class="sd">            and overwrite is not set to `True`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to rename file to &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to rename anyway.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># TODO [ENG-152]: Check if it works with overwrite=True or if we need</span>
    <span class="c1">#  to manually remove it first</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.rmtree" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Remove the given directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path of the directory to remove.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Remove the given directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path of the directory to remove.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.stat" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return stat info for the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>the path to get stat info for.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>A dictionary with the stat info.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return stat info for the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: the path to get stat info for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary with the stat info.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.artifact_stores.gcp_artifact_store.GCPArtifactStore.walk" class="doc doc-heading">
<code class="highlight language-python"><span class="n">walk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">topdown</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">onerror</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return an iterator that walks the contents of the given directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>top</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>Path of directory to walk.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>topdown</code></td>
        <td><code>bool</code></td>
        <td><p>Unused argument to conform to interface.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>onerror</code></td>
        <td><code>Optional[Callable[..., NoneType]]</code></td>
        <td><p>Unused argument to conform to interface.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Yields:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterable[Tuple[Union[bytes, str], List[Union[bytes, str]], List[Union[bytes, str]]]]</code></td>
      <td><p>An Iterable of Tuples, each of which contain the path of the current
directory path, a list of directories inside the current directory
and a list of files inside the current directory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/artifact_stores/gcp_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">walk</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">top</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span>
    <span class="n">topdown</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">onerror</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">PathType</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]]]:</span>
    <span class="sd">&quot;&quot;&quot;Return an iterator that walks the contents of the given directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        top: Path of directory to walk.</span>
<span class="sd">        topdown: Unused argument to conform to interface.</span>
<span class="sd">        onerror: Unused argument to conform to interface.</span>

<span class="sd">    Yields:</span>
<span class="sd">        An Iterable of Tuples, each of which contain the path of the current</span>
<span class="sd">        directory path, a list of directories inside the current directory</span>
<span class="sd">        and a list of files inside the current directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO [ENG-153]: Additional params</span>
    <span class="k">for</span> <span class="p">(</span>
        <span class="n">directory</span><span class="p">,</span>
        <span class="n">subdirectories</span><span class="p">,</span>
        <span class="n">files</span><span class="p">,</span>
    <span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">top</span><span class="p">):</span>
        <span class="k">yield</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">GCP_PATH_PREFIX</span><span class="si">}{</span><span class="n">directory</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">subdirectories</span><span class="p">,</span> <span class="n">files</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.gcp.constants" class="doc doc-heading">
        <code>constants</code>



</h4>

    <div class="doc doc-contents ">

      <p>Constants for the VertexAI integration.</p>



  <div class="doc doc-children">
















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.gcp.google_credentials_mixin" class="doc doc-heading">
        <code>google_credentials_mixin</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the Google credentials mixin.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.gcp.google_credentials_mixin.GoogleCredentialsMixin" class="doc doc-heading">
        <code>
GoogleCredentialsMixin            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Mixin for Google Cloud Platform credentials.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_account_path</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>path to the service account credentials file to be
used for authentication. If not provided, the default credentials
will be used.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/google_credentials_mixin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GoogleCredentialsMixin</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Mixin for Google Cloud Platform credentials.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        service_account_path: path to the service account credentials file to be</span>
<span class="sd">            used for authentication. If not provided, the default credentials</span>
<span class="sd">            will be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">service_account_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_get_authentication</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="s2">&quot;Credentials&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get GCP credentials and the project ID associated with the credentials.</span>

<span class="sd">        If `service_account_path` is provided, then the credentials will be</span>
<span class="sd">        loaded from the file at that path. Otherwise, the default credentials</span>
<span class="sd">        will be used.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple containing the credentials and the project ID associated to</span>
<span class="sd">            the credentials.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_account_path</span><span class="p">:</span>
            <span class="n">credentials</span><span class="p">,</span> <span class="n">project_id</span> <span class="o">=</span> <span class="n">load_credentials_from_file</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">service_account_path</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">credentials</span><span class="p">,</span> <span class="n">project_id</span> <span class="o">=</span> <span class="n">default</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">credentials</span><span class="p">,</span> <span class="n">project_id</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.gcp.orchestrators" class="doc doc-heading">
        <code>orchestrators</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization for the VertexAI orchestrator.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.gcp.orchestrators.vertex_entrypoint_configuration" class="doc doc-heading">
        <code>vertex_entrypoint_configuration</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the VertexAI entrypoint configuration.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.gcp.orchestrators.vertex_entrypoint_configuration.VertexEntrypointConfiguration" class="doc doc-heading">
        <code>
VertexEntrypointConfiguration            (<a class="autorefs autorefs-internal" title="zenml.entrypoints.step_entrypoint_configuration.StepEntrypointConfiguration" href="../entrypoints/#zenml.entrypoints.step_entrypoint_configuration.StepEntrypointConfiguration">StepEntrypointConfiguration</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Entrypoint configuration for running steps on Vertex AI Pipelines.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/orchestrators/vertex_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">VertexEntrypointConfiguration</span><span class="p">(</span><span class="n">StepEntrypointConfiguration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Entrypoint configuration for running steps on Vertex AI Pipelines.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_custom_entrypoint_options</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Vertex AI Pipelines specific entrypoint options.</span>

<span class="sd">        The argument `VERTEX_JOB_ID_OPTION` allows to specify the job id of the</span>
<span class="sd">        Vertex AI Pipeline and get it in the execution of the step, via the `get_run_name`</span>
<span class="sd">        method.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The set of custom entrypoint options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">VERTEX_JOB_ID_OPTION</span><span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_custom_entrypoint_arguments</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Sets the value for the `VERTEX_JOB_ID_OPTION` argument.</span>

<span class="sd">        Args:</span>
<span class="sd">            step: The step to be executed.</span>
<span class="sd">            *args: Additional arguments.</span>
<span class="sd">            **kwargs: Additional keyword arguments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of arguments for the entrypoint.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">VERTEX_JOB_ID_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">VERTEX_JOB_ID_OPTION</span><span class="p">]]</span>

    <span class="k">def</span> <span class="nf">get_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the Vertex AI Pipeline job id.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: The name of the pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Vertex AI Pipeline job id.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">job_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entrypoint_args</span><span class="p">[</span><span class="n">VERTEX_JOB_ID_OPTION</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">job_id</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.orchestrators.vertex_entrypoint_configuration.VertexEntrypointConfiguration.get_custom_entrypoint_arguments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_custom_entrypoint_arguments</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Sets the value for the <code>VERTEX_JOB_ID_OPTION</code> argument.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step</code></td>
        <td><code>BaseStep</code></td>
        <td><p>The step to be executed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional arguments.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of arguments for the entrypoint.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/orchestrators/vertex_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_custom_entrypoint_arguments</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Sets the value for the `VERTEX_JOB_ID_OPTION` argument.</span>

<span class="sd">    Args:</span>
<span class="sd">        step: The step to be executed.</span>
<span class="sd">        *args: Additional arguments.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of arguments for the entrypoint.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">VERTEX_JOB_ID_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">VERTEX_JOB_ID_OPTION</span><span class="p">]]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.orchestrators.vertex_entrypoint_configuration.VertexEntrypointConfiguration.get_custom_entrypoint_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_custom_entrypoint_options</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Vertex AI Pipelines specific entrypoint options.</p>
<p>The argument <code>VERTEX_JOB_ID_OPTION</code> allows to specify the job id of the
Vertex AI Pipeline and get it in the execution of the step, via the <code>get_run_name</code>
method.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Set[str]</code></td>
      <td><p>The set of custom entrypoint options.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/orchestrators/vertex_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_custom_entrypoint_options</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Vertex AI Pipelines specific entrypoint options.</span>

<span class="sd">    The argument `VERTEX_JOB_ID_OPTION` allows to specify the job id of the</span>
<span class="sd">    Vertex AI Pipeline and get it in the execution of the step, via the `get_run_name`</span>
<span class="sd">    method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The set of custom entrypoint options.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">VERTEX_JOB_ID_OPTION</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.orchestrators.vertex_entrypoint_configuration.VertexEntrypointConfiguration.get_run_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the Vertex AI Pipeline job id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The Vertex AI Pipeline job id.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/orchestrators/vertex_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the Vertex AI Pipeline job id.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: The name of the pipeline.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Vertex AI Pipeline job id.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">job_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entrypoint_args</span><span class="p">[</span><span class="n">VERTEX_JOB_ID_OPTION</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">job_id</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.gcp.orchestrators.vertex_orchestrator" class="doc doc-heading">
        <code>vertex_orchestrator</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the VertexAI orchestrator.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator" class="doc doc-heading">
        <code>
VertexOrchestrator            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestrator" href="../orchestrators/#zenml.orchestrators.base_orchestrator.BaseOrchestrator">BaseOrchestrator</a>, <a class="autorefs autorefs-internal" title="zenml.integrations.gcp.google_credentials_mixin.GoogleCredentialsMixin" href="#zenml.integrations.gcp.google_credentials_mixin.GoogleCredentialsMixin">GoogleCredentialsMixin</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Orchestrator responsible for running pipelines on Vertex AI.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>custom_docker_base_image_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of the Docker image that should be
used as the base for the image that will be used to execute each of
the steps. If no custom base image is given, a basic image of the
active ZenML version will be used. <strong>Note</strong>: This image needs to
have ZenML installed, otherwise the pipeline execution will fail.
For that reason, you might want to extend the ZenML Docker images found
here: https://hub.docker.com/r/zenmldocker/zenml/</p></td>
      </tr>
      <tr>
        <td><code>project</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>GCP project name. If <code>None</code>, the project will be inferred from
the environment.</p></td>
      </tr>
      <tr>
        <td><code>location</code></td>
        <td><code>str</code></td>
        <td><p>Name of GCP region where the pipeline job will be executed.
Vertex AI Pipelines is available in the following regions:
https://cloud.google.com/vertex-ai/docs/general/locations#feature
-availability</p></td>
      </tr>
      <tr>
        <td><code>pipeline_root</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>a Cloud Storage URI that will be used by the Vertex AI</p></td>
      </tr>
      <tr>
        <td><code>encryption_spec_key_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The Cloud KMS resource identifier of the</p></td>
      </tr>
      <tr>
        <td><code>customer
managed</code></td>
        <td><code>encryption key used to protect the job. Has the form</code></td>
        <td><p><code>projects/&lt;PRJCT&gt;/locations/&lt;REGION&gt;/keyRings/&lt;KR&gt;/cryptoKeys/&lt;KEY&gt;</code>
. The key needs to be in the same region as where the compute
resource is created.</p></td>
      </tr>
      <tr>
        <td><code>workload_service_account</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the service account for workload run-as
account. Users submitting jobs must have act-as permission on this
run-as account.
If not provided, the default service account will be used.</p></td>
      </tr>
      <tr>
        <td><code>network</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the full name of the Compute Engine Network to which the job</p></td>
      </tr>
      <tr>
        <td><code>synchronous</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, running a pipeline using this orchestrator will
block until all steps finished running on Vertex AI Pipelines
service.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/orchestrators/vertex_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">VertexOrchestrator</span><span class="p">(</span><span class="n">BaseOrchestrator</span><span class="p">,</span> <span class="n">GoogleCredentialsMixin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Orchestrator responsible for running pipelines on Vertex AI.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        custom_docker_base_image_name: Name of the Docker image that should be</span>
<span class="sd">            used as the base for the image that will be used to execute each of</span>
<span class="sd">            the steps. If no custom base image is given, a basic image of the</span>
<span class="sd">            active ZenML version will be used. **Note**: This image needs to</span>
<span class="sd">            have ZenML installed, otherwise the pipeline execution will fail.</span>
<span class="sd">            For that reason, you might want to extend the ZenML Docker images found</span>
<span class="sd">            here: https://hub.docker.com/r/zenmldocker/zenml/</span>
<span class="sd">        project: GCP project name. If `None`, the project will be inferred from</span>
<span class="sd">            the environment.</span>
<span class="sd">        location: Name of GCP region where the pipeline job will be executed.</span>
<span class="sd">            Vertex AI Pipelines is available in the following regions:</span>
<span class="sd">            https://cloud.google.com/vertex-ai/docs/general/locations#feature</span>
<span class="sd">            -availability</span>
<span class="sd">        pipeline_root: a Cloud Storage URI that will be used by the Vertex AI</span>
<span class="sd">        Pipelines.</span>
<span class="sd">            If not provided but the artifact store in the stack used to execute</span>
<span class="sd">            the pipeline is a</span>
<span class="sd">            `zenml.integrations.gcp.artifact_stores.GCPArtifactStore`,</span>
<span class="sd">            then a subdirectory of the artifact store will be used.</span>
<span class="sd">        encryption_spec_key_name: The Cloud KMS resource identifier of the</span>
<span class="sd">        customer</span>
<span class="sd">            managed encryption key used to protect the job. Has the form:</span>
<span class="sd">            `projects/&lt;PRJCT&gt;/locations/&lt;REGION&gt;/keyRings/&lt;KR&gt;/cryptoKeys/&lt;KEY&gt;`</span>
<span class="sd">            . The key needs to be in the same region as where the compute</span>
<span class="sd">            resource is created.</span>
<span class="sd">        workload_service_account: the service account for workload run-as</span>
<span class="sd">            account. Users submitting jobs must have act-as permission on this</span>
<span class="sd">            run-as account.</span>
<span class="sd">            If not provided, the default service account will be used.</span>
<span class="sd">        network: the full name of the Compute Engine Network to which the job</span>
<span class="sd">        should</span>
<span class="sd">            be peered. For example, `projects/12345/global/networks/myVPC`</span>
<span class="sd">            If not provided, the job will not be peered with any network.</span>
<span class="sd">        synchronous: If `True`, running a pipeline using this orchestrator will</span>
<span class="sd">            block until all steps finished running on Vertex AI Pipelines</span>
<span class="sd">            service.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">custom_docker_base_image_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">project</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">location</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">pipeline_root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">labels</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">encryption_spec_key_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">workload_service_account</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">network</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">synchronous</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">_pipeline_root</span><span class="p">:</span> <span class="nb">str</span>

    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">GCP_VERTEX_ORCHESTRATOR_FLAVOR</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StackValidator</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Validates that the stack contains a container registry.</span>

<span class="sd">        Also validates that the artifact store and metadata store used are not</span>
<span class="sd">        local.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A StackValidator instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_validate_stack_requirements</span><span class="p">(</span><span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
            <span class="sd">&quot;&quot;&quot;Validates that all the stack components are not local.</span>

<span class="sd">            Args:</span>
<span class="sd">                stack: The stack to validate.</span>

<span class="sd">            Returns:</span>
<span class="sd">                A tuple of (is_valid, error_message).</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="c1"># Validate that the container registry is not local.</span>
            <span class="n">container_registry</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>
            <span class="k">if</span> <span class="n">container_registry</span> <span class="ow">and</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The Vertex orchestrator does not support local &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;container registries. You should replace the component &#39;&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">TYPE</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> to a remote one.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Validate that the rest of the components are not local.</span>
            <span class="k">for</span> <span class="n">stack_comp</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">local_path</span> <span class="o">=</span> <span class="n">stack_comp</span><span class="o">.</span><span class="n">local_path</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">local_path</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The &#39;</span><span class="si">{</span><span class="n">stack_comp</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">{</span><span class="n">stack_comp</span><span class="o">.</span><span class="n">TYPE</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> is a &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;local stack component. The Vertex AI Pipelines &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;orchestrator requires that all the components in the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;stack used to execute the pipeline have to be not local, &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;because there is no way for Vertex to connect to your &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;local machine. You should use a flavor of &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stack_comp</span><span class="o">.</span><span class="n">TYPE</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> other than &#39;&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stack_comp</span><span class="o">.</span><span class="n">FLAVOR</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># If the `pipeline_root` has not been defined in the orchestrator</span>
            <span class="c1"># configuration, and the artifact store is not a GCP artifact store,</span>
            <span class="c1"># then raise an error.</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_root</span>
                <span class="ow">and</span> <span class="n">stack</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">FLAVOR</span> <span class="o">!=</span> <span class="n">GCP_ARTIFACT_STORE_FLAVOR</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The attribute `pipeline_root` has not been set and it &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;cannot be generated using the path of the artifact store &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;because it is not a &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`zenml.integrations.gcp.artifact_store.GCPArtifactStore`.&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot; To solve this issue, set the `pipeline_root` attribute &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;manually executing the following command: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`zenml orchestrator update </span><span class="si">{</span><span class="n">stack</span><span class="o">.</span><span class="n">orchestrator</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s1">&#39;--pipeline_root=&quot;&lt;Cloud Storage URI&gt;&quot;`.&#39;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>

        <span class="k">return</span> <span class="n">StackValidator</span><span class="p">(</span>
            <span class="n">required_components</span><span class="o">=</span><span class="p">{</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">},</span>
            <span class="n">custom_validation_function</span><span class="o">=</span><span class="n">_validate_stack_requirements</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_docker_image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the full docker image name including registry and tag.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: The name of the pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The full docker image name including registry and tag.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">base_image_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;zenml-vertex:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">container_registry</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>

        <span class="k">if</span> <span class="n">container_registry</span><span class="p">:</span>
            <span class="n">registry_uri</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">registry_uri</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">base_image_name</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">base_image_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">root_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to the root directory for files for this orchestrator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The path to the root directory for all files concerning this</span>
<span class="sd">            orchestrator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">get_global_config_directory</span><span class="p">(),</span> <span class="s2">&quot;vertex&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to directory where kubeflow pipelines files are stored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the pipeline directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">,</span> <span class="s2">&quot;pipelines&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Build a Docker image for the current environment.</span>

<span class="sd">        This uploads it to a container registry if configured.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline: The pipeline to be deployed.</span>
<span class="sd">            stack: The stack that will be used to deploy the pipeline.</span>
<span class="sd">            runtime_configuration: The runtime configuration for the pipeline.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the container registry is missing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">docker_utils</span>

        <span class="n">repo</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span>
        <span class="n">container_registry</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">container_registry</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Missing container registry&quot;</span><span class="p">)</span>

        <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="n">requirements</span> <span class="o">=</span> <span class="p">{</span><span class="o">*</span><span class="n">stack</span><span class="o">.</span><span class="n">requirements</span><span class="p">(),</span> <span class="o">*</span><span class="n">pipeline</span><span class="o">.</span><span class="n">requirements</span><span class="p">}</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Vertex AI Pipelines service docker container requirements </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">requirements</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
            <span class="n">build_context_path</span><span class="o">=</span><span class="n">get_source_root_path</span><span class="p">(),</span>
            <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
            <span class="n">dockerignore_path</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">dockerignore_file</span><span class="p">,</span>
            <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
            <span class="n">base_image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">custom_docker_base_image_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">container_registry</span><span class="o">.</span><span class="n">push_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sorted_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;BaseStep&quot;</span><span class="p">],</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
        <span class="n">pb2_pipeline</span><span class="p">:</span> <span class="s2">&quot;Pb2Pipeline&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a KFP JSON pipeline.</span>

<span class="sd">        # noqa: DAR402</span>

<span class="sd">        This is an intermediary representation of the pipeline which is then</span>
<span class="sd">        deployed to Vertex AI Pipelines service.</span>

<span class="sd">        How it works:</span>
<span class="sd">        -------------</span>
<span class="sd">        Before this method is called the `prepare_pipeline_deployment()` method</span>
<span class="sd">        builds a Docker image that contains the code for the pipeline, all steps</span>
<span class="sd">        the context around these files.</span>

<span class="sd">        Based on this Docker image a callable is created which builds</span>
<span class="sd">        container_ops for each step (`_construct_kfp_pipeline`). The function</span>
<span class="sd">        `kfp.components.load_component_from_text` is used to create the</span>
<span class="sd">        `ContainerOp`, because using the `dsl.ContainerOp` class directly is</span>
<span class="sd">        deprecated when using the Kubeflow SDK v2. The step entrypoint command</span>
<span class="sd">        with the entrypoint arguments is the command that will be executed by</span>
<span class="sd">        the container created using the previously created Docker image.</span>

<span class="sd">        This callable is then compiled into a JSON file that is used as the</span>
<span class="sd">        intermediary representation of the Kubeflow pipeline.</span>

<span class="sd">        This file then is submitted to the Vertex AI Pipelines service for</span>
<span class="sd">        execution.</span>

<span class="sd">        Args:</span>
<span class="sd">            sorted_steps: List of sorted steps.</span>
<span class="sd">            pipeline: Zenml Pipeline instance.</span>
<span class="sd">            pb2_pipeline: Protobuf Pipeline instance.</span>
<span class="sd">            stack: The stack the pipeline was run on.</span>
<span class="sd">            runtime_configuration: The Runtime configuration of the current run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the attribute `pipeline_root` is not set and it</span>
<span class="sd">                can be not generated using the path of the artifact store in the</span>
<span class="sd">                stack because it is not a</span>
<span class="sd">                `zenml.integrations.gcp.artifact_store.GCPArtifactStore`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># If the `pipeline_root` has not been defined in the orchestrator</span>
        <span class="c1"># configuration,</span>
        <span class="c1"># try to create it from the artifact store if it is a</span>
        <span class="c1"># `GCPArtifactStore`.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_root</span><span class="p">:</span>
            <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">artifact_store</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_root</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">/vertex_pipeline_root/</span><span class="si">{</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;The attribute `pipeline_root` has not been set in the &quot;</span>
                <span class="s2">&quot;orchestrator configuration. One has been generated &quot;</span>
                <span class="s2">&quot;automatically based on the path of the `GCPArtifactStore` &quot;</span>
                <span class="s2">&quot;artifact store in the stack used to execute the pipeline. &quot;</span>
                <span class="s2">&quot;The generated `pipeline_root` is `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_root</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_root</span>

        <span class="c1"># Build the Docker image that will be used to run the steps of the</span>
        <span class="c1"># pipeline.</span>
        <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">image_name</span> <span class="o">=</span> <span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>

        <span class="k">def</span> <span class="nf">_construct_kfp_pipeline</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Create a `ContainerOp` for each step.</span>

<span class="sd">            This should contain the name of the Docker image and configures the</span>
<span class="sd">            entrypoint of the Docker image to run the step.</span>

<span class="sd">            Additionally, this gives each `ContainerOp` information about its</span>
<span class="sd">            direct downstream steps.</span>

<span class="sd">            If this callable is passed to the `compile()` method of</span>
<span class="sd">            `KFPV2Compiler` all `dsl.ContainerOp` instances will be</span>
<span class="sd">            automatically added to a singular `dsl.Pipeline` instance.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">step_name_to_container_op</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">dsl</span><span class="o">.</span><span class="n">ContainerOp</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span><span class="p">:</span>
                <span class="c1"># The command will be needed to eventually call the python step</span>
                <span class="c1"># within the docker container</span>
                <span class="n">command</span> <span class="o">=</span> <span class="n">VertexEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>

                <span class="c1"># The arguments are passed to configure the entrypoint of the</span>
                <span class="c1"># docker container when the step is called.</span>
                <span class="n">arguments</span> <span class="o">=</span> <span class="n">VertexEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
                    <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
                    <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="p">,</span>
                    <span class="o">**</span><span class="p">{</span><span class="n">VERTEX_JOB_ID_OPTION</span><span class="p">:</span> <span class="n">dslv2</span><span class="o">.</span><span class="n">PIPELINE_JOB_ID_PLACEHOLDER</span><span class="p">},</span>
                <span class="p">)</span>

                <span class="c1"># Create the `ContainerOp` for the step. Using the</span>
                <span class="c1"># `dsl.ContainerOp`</span>
                <span class="c1"># class directly is deprecated when using the Kubeflow SDK v2.</span>
                <span class="n">container_op</span> <span class="o">=</span> <span class="n">kfp</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">load_component_from_text</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                    name: </span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                    implementation:</span>
<span class="s2">                        container:</span>
<span class="s2">                            image: </span><span class="si">{</span><span class="n">image_name</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                            command: </span><span class="si">{</span><span class="n">command</span> <span class="o">+</span> <span class="n">arguments</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
                <span class="p">)()</span>

                <span class="c1"># Set upstream tasks as a dependency of the current step</span>
                <span class="n">upstream_step_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_upstream_step_names</span><span class="p">(</span>
                    <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">upstream_step_name</span> <span class="ow">in</span> <span class="n">upstream_step_names</span><span class="p">:</span>
                    <span class="n">upstream_container_op</span> <span class="o">=</span> <span class="n">step_name_to_container_op</span><span class="p">[</span>
                        <span class="n">upstream_step_name</span>
                    <span class="p">]</span>
                    <span class="n">container_op</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="n">upstream_container_op</span><span class="p">)</span>

                <span class="n">step_name_to_container_op</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">container_op</span>

        <span class="c1"># Save the generated pipeline to a file.</span>
        <span class="k">assert</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_directory</span><span class="p">)</span>
        <span class="n">pipeline_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_directory</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="si">}</span><span class="s2">.json&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Compile the pipeline using the Kubeflow SDK V2 compiler that allows</span>
        <span class="c1"># to generate a JSON representation of the pipeline that can be later</span>
        <span class="c1"># upload to Vertex AI Pipelines service.</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Compiling pipeline using Kubeflow SDK V2 compiler and saving it &quot;</span>
            <span class="s2">&quot;to `</span><span class="si">%s</span><span class="s2">`&quot;</span><span class="p">,</span>
            <span class="n">pipeline_file_path</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">KFPV2Compiler</span><span class="p">()</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
            <span class="n">pipeline_func</span><span class="o">=</span><span class="n">_construct_kfp_pipeline</span><span class="p">,</span>
            <span class="n">package_path</span><span class="o">=</span><span class="n">pipeline_file_path</span><span class="p">,</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">_clean_pipeline_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="c1"># Using the Google Cloud AIPlatform client, upload and execute the</span>
        <span class="c1"># pipeline</span>
        <span class="c1"># on the Vertex AI Pipelines service.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_upload_and_run_pipeline</span><span class="p">(</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">pipeline_file_path</span><span class="o">=</span><span class="n">pipeline_file_path</span><span class="p">,</span>
            <span class="n">runtime_configuration</span><span class="o">=</span><span class="n">runtime_configuration</span><span class="p">,</span>
            <span class="n">enable_cache</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_upload_and_run_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">pipeline_file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
        <span class="n">enable_cache</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Uploads and run the pipeline on the Vertex AI Pipelines service.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: Name of the pipeline.</span>
<span class="sd">            pipeline_file_path: Path of the JSON file containing the compiled</span>
<span class="sd">                Kubeflow pipeline (compiled with Kubeflow SDK v2).</span>
<span class="sd">            runtime_configuration: Runtime configuration of the pipeline run.</span>
<span class="sd">            enable_cache: Whether caching is enabled for this pipeline run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># We have to replace the hyphens in the pipeline name with underscores</span>
        <span class="c1"># and lower case the string, because the Vertex AI Pipelines service</span>
        <span class="c1"># requires this format.</span>
        <span class="k">assert</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="n">_clean_pipeline_name</span><span class="p">(</span><span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="p">)</span>

        <span class="c1"># Warn the user that the scheduling is not available using the Vertex</span>
        <span class="c1"># Orchestrator</span>
        <span class="k">if</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Pipeline scheduling configuration was provided, but Vertex &quot;</span>
                <span class="s2">&quot;AI Pipelines &quot;</span>
                <span class="s2">&quot;do not have capabilities for scheduling yet.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Get the credentials that would be used to create the Vertex AI</span>
        <span class="c1"># Pipelines</span>
        <span class="c1"># job.</span>
        <span class="n">credentials</span><span class="p">,</span> <span class="n">project_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_authentication</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">project</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">project</span> <span class="o">!=</span> <span class="n">project_id</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Authenticated with project `</span><span class="si">%s</span><span class="s2">`, but this orchestrator is &quot;</span>
                <span class="s2">&quot;configured to use the project `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span>
                <span class="n">project_id</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># If the project was set in the configuration, use it. Otherwise, use</span>
        <span class="c1"># the project that was used to authenticate.</span>
        <span class="n">project_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">project</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">project</span> <span class="k">else</span> <span class="n">project_id</span>

        <span class="c1"># Instantiate the Vertex AI Pipelines job</span>
        <span class="n">run</span> <span class="o">=</span> <span class="n">aiplatform</span><span class="o">.</span><span class="n">PipelineJob</span><span class="p">(</span>
            <span class="n">display_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
            <span class="n">template_path</span><span class="o">=</span><span class="n">pipeline_file_path</span><span class="p">,</span>
            <span class="n">job_id</span><span class="o">=</span><span class="n">job_id</span><span class="p">,</span>
            <span class="n">pipeline_root</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_root</span><span class="p">,</span>
            <span class="n">parameter_values</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">enable_caching</span><span class="o">=</span><span class="n">enable_cache</span><span class="p">,</span>
            <span class="n">encryption_spec_key_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">encryption_spec_key_name</span><span class="p">,</span>
            <span class="n">labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">labels</span><span class="p">,</span>
            <span class="n">credentials</span><span class="o">=</span><span class="n">credentials</span><span class="p">,</span>
            <span class="n">project</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="p">,</span>
            <span class="n">location</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Submitting pipeline job with job_id `</span><span class="si">%s</span><span class="s2">` to Vertex AI Pipelines &quot;</span>
            <span class="s2">&quot;service.&quot;</span><span class="p">,</span>
            <span class="n">job_id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Submit the job to Vertex AI Pipelines service.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">workload_service_account</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;The Vertex AI Pipelines job workload will be executed &quot;</span>
                    <span class="s2">&quot;using `</span><span class="si">%s</span><span class="s2">` &quot;</span>
                    <span class="s2">&quot;service account.&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">workload_service_account</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;The Vertex AI Pipelines job will be peered with `</span><span class="si">%s</span><span class="s2">` &quot;</span>
                    <span class="s2">&quot;network.&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="n">run</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span>
                <span class="n">service_account</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workload_service_account</span><span class="p">,</span>
                <span class="n">network</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;View the Vertex AI Pipelines job at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">run</span><span class="o">.</span><span class="n">_dashboard_uri</span><span class="p">()</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">synchronous</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;Waiting for the Vertex AI Pipelines job to finish...&quot;</span>
                <span class="p">)</span>
                <span class="n">run</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

        <span class="k">except</span> <span class="n">google_exceptions</span><span class="o">.</span><span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Failed to create the Vertex AI Pipelines job: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span>
            <span class="p">)</span>

        <span class="k">except</span> <span class="ne">RuntimeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;The Vertex AI Pipelines job execution has failed: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator.pipeline_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_directory</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns path to directory where kubeflow pipelines files are stored.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Path to the pipeline directory.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>





  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator.root_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">root_directory</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns path to the root directory for files for this orchestrator.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The path to the root directory for all files concerning this
orchestrator.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator.validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">stack_validator</span><span class="o">.</span><span class="n">StackValidator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Validates that the stack contains a container registry.</p>
<p>Also validates that the artifact store and metadata store used are not
local.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.stack.stack_validator.StackValidator]</code></td>
      <td><p>A StackValidator instance.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator.get_docker_image_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_docker_image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the full docker image name including registry and tag.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The full docker image name including registry and tag.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/orchestrators/vertex_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_docker_image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the full docker image name including registry and tag.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: The name of the pipeline.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The full docker image name including registry and tag.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">base_image_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;zenml-vertex:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">container_registry</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>

    <span class="k">if</span> <span class="n">container_registry</span><span class="p">:</span>
        <span class="n">registry_uri</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">registry_uri</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">base_image_name</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">return</span> <span class="n">base_image_name</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator.prepare_or_run_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_or_run_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sorted_steps</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Creates a KFP JSON pipeline.</p>
<h6 id="zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator.prepare_or_run_pipeline--noqa-dar402">noqa: DAR402</h6>
<p>This is an intermediary representation of the pipeline which is then
deployed to Vertex AI Pipelines service.</p>
<h6 id="zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator.prepare_or_run_pipeline--how-it-works">How it works:</h6>
<p>Before this method is called the <code>prepare_pipeline_deployment()</code> method
builds a Docker image that contains the code for the pipeline, all steps
the context around these files.</p>
<p>Based on this Docker image a callable is created which builds
container_ops for each step (<code>_construct_kfp_pipeline</code>). The function
<code>kfp.components.load_component_from_text</code> is used to create the
<code>ContainerOp</code>, because using the <code>dsl.ContainerOp</code> class directly is
deprecated when using the Kubeflow SDK v2. The step entrypoint command
with the entrypoint arguments is the command that will be executed by
the container created using the previously created Docker image.</p>
<p>This callable is then compiled into a JSON file that is used as the
intermediary representation of the Kubeflow pipeline.</p>
<p>This file then is submitted to the Vertex AI Pipelines service for
execution.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sorted_steps</code></td>
        <td><code>List[BaseStep]</code></td>
        <td><p>List of sorted steps.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>BasePipeline</code></td>
        <td><p>Zenml Pipeline instance.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pb2_pipeline</code></td>
        <td><code>Pb2Pipeline</code></td>
        <td><p>Protobuf Pipeline instance.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack the pipeline was run on.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>runtime_configuration</code></td>
        <td><code>RuntimeConfiguration</code></td>
        <td><p>The Runtime configuration of the current run.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the attribute <code>pipeline_root</code> is not set and it
can be not generated using the path of the artifact store in the
stack because it is not a
<code>zenml.integrations.gcp.artifact_store.GCPArtifactStore</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/orchestrators/vertex_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sorted_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;BaseStep&quot;</span><span class="p">],</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
    <span class="n">pb2_pipeline</span><span class="p">:</span> <span class="s2">&quot;Pb2Pipeline&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a KFP JSON pipeline.</span>

<span class="sd">    # noqa: DAR402</span>

<span class="sd">    This is an intermediary representation of the pipeline which is then</span>
<span class="sd">    deployed to Vertex AI Pipelines service.</span>

<span class="sd">    How it works:</span>
<span class="sd">    -------------</span>
<span class="sd">    Before this method is called the `prepare_pipeline_deployment()` method</span>
<span class="sd">    builds a Docker image that contains the code for the pipeline, all steps</span>
<span class="sd">    the context around these files.</span>

<span class="sd">    Based on this Docker image a callable is created which builds</span>
<span class="sd">    container_ops for each step (`_construct_kfp_pipeline`). The function</span>
<span class="sd">    `kfp.components.load_component_from_text` is used to create the</span>
<span class="sd">    `ContainerOp`, because using the `dsl.ContainerOp` class directly is</span>
<span class="sd">    deprecated when using the Kubeflow SDK v2. The step entrypoint command</span>
<span class="sd">    with the entrypoint arguments is the command that will be executed by</span>
<span class="sd">    the container created using the previously created Docker image.</span>

<span class="sd">    This callable is then compiled into a JSON file that is used as the</span>
<span class="sd">    intermediary representation of the Kubeflow pipeline.</span>

<span class="sd">    This file then is submitted to the Vertex AI Pipelines service for</span>
<span class="sd">    execution.</span>

<span class="sd">    Args:</span>
<span class="sd">        sorted_steps: List of sorted steps.</span>
<span class="sd">        pipeline: Zenml Pipeline instance.</span>
<span class="sd">        pb2_pipeline: Protobuf Pipeline instance.</span>
<span class="sd">        stack: The stack the pipeline was run on.</span>
<span class="sd">        runtime_configuration: The Runtime configuration of the current run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the attribute `pipeline_root` is not set and it</span>
<span class="sd">            can be not generated using the path of the artifact store in the</span>
<span class="sd">            stack because it is not a</span>
<span class="sd">            `zenml.integrations.gcp.artifact_store.GCPArtifactStore`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># If the `pipeline_root` has not been defined in the orchestrator</span>
    <span class="c1"># configuration,</span>
    <span class="c1"># try to create it from the artifact store if it is a</span>
    <span class="c1"># `GCPArtifactStore`.</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_root</span><span class="p">:</span>
        <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">artifact_store</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_root</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">/vertex_pipeline_root/</span><span class="si">{</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;The attribute `pipeline_root` has not been set in the &quot;</span>
            <span class="s2">&quot;orchestrator configuration. One has been generated &quot;</span>
            <span class="s2">&quot;automatically based on the path of the `GCPArtifactStore` &quot;</span>
            <span class="s2">&quot;artifact store in the stack used to execute the pipeline. &quot;</span>
            <span class="s2">&quot;The generated `pipeline_root` is `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_root</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline_root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_root</span>

    <span class="c1"># Build the Docker image that will be used to run the steps of the</span>
    <span class="c1"># pipeline.</span>
    <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">image_name</span> <span class="o">=</span> <span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>

    <span class="k">def</span> <span class="nf">_construct_kfp_pipeline</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a `ContainerOp` for each step.</span>

<span class="sd">        This should contain the name of the Docker image and configures the</span>
<span class="sd">        entrypoint of the Docker image to run the step.</span>

<span class="sd">        Additionally, this gives each `ContainerOp` information about its</span>
<span class="sd">        direct downstream steps.</span>

<span class="sd">        If this callable is passed to the `compile()` method of</span>
<span class="sd">        `KFPV2Compiler` all `dsl.ContainerOp` instances will be</span>
<span class="sd">        automatically added to a singular `dsl.Pipeline` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">step_name_to_container_op</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">dsl</span><span class="o">.</span><span class="n">ContainerOp</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span><span class="p">:</span>
            <span class="c1"># The command will be needed to eventually call the python step</span>
            <span class="c1"># within the docker container</span>
            <span class="n">command</span> <span class="o">=</span> <span class="n">VertexEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>

            <span class="c1"># The arguments are passed to configure the entrypoint of the</span>
            <span class="c1"># docker container when the step is called.</span>
            <span class="n">arguments</span> <span class="o">=</span> <span class="n">VertexEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
                <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
                <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="p">,</span>
                <span class="o">**</span><span class="p">{</span><span class="n">VERTEX_JOB_ID_OPTION</span><span class="p">:</span> <span class="n">dslv2</span><span class="o">.</span><span class="n">PIPELINE_JOB_ID_PLACEHOLDER</span><span class="p">},</span>
            <span class="p">)</span>

            <span class="c1"># Create the `ContainerOp` for the step. Using the</span>
            <span class="c1"># `dsl.ContainerOp`</span>
            <span class="c1"># class directly is deprecated when using the Kubeflow SDK v2.</span>
            <span class="n">container_op</span> <span class="o">=</span> <span class="n">kfp</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">load_component_from_text</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                name: </span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                implementation:</span>
<span class="s2">                    container:</span>
<span class="s2">                        image: </span><span class="si">{</span><span class="n">image_name</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                        command: </span><span class="si">{</span><span class="n">command</span> <span class="o">+</span> <span class="n">arguments</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
            <span class="p">)()</span>

            <span class="c1"># Set upstream tasks as a dependency of the current step</span>
            <span class="n">upstream_step_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_upstream_step_names</span><span class="p">(</span>
                <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">upstream_step_name</span> <span class="ow">in</span> <span class="n">upstream_step_names</span><span class="p">:</span>
                <span class="n">upstream_container_op</span> <span class="o">=</span> <span class="n">step_name_to_container_op</span><span class="p">[</span>
                    <span class="n">upstream_step_name</span>
                <span class="p">]</span>
                <span class="n">container_op</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="n">upstream_container_op</span><span class="p">)</span>

            <span class="n">step_name_to_container_op</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">container_op</span>

    <span class="c1"># Save the generated pipeline to a file.</span>
    <span class="k">assert</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_directory</span><span class="p">)</span>
    <span class="n">pipeline_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_directory</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="si">}</span><span class="s2">.json&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Compile the pipeline using the Kubeflow SDK V2 compiler that allows</span>
    <span class="c1"># to generate a JSON representation of the pipeline that can be later</span>
    <span class="c1"># upload to Vertex AI Pipelines service.</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Compiling pipeline using Kubeflow SDK V2 compiler and saving it &quot;</span>
        <span class="s2">&quot;to `</span><span class="si">%s</span><span class="s2">`&quot;</span><span class="p">,</span>
        <span class="n">pipeline_file_path</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">KFPV2Compiler</span><span class="p">()</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
        <span class="n">pipeline_func</span><span class="o">=</span><span class="n">_construct_kfp_pipeline</span><span class="p">,</span>
        <span class="n">package_path</span><span class="o">=</span><span class="n">pipeline_file_path</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">_clean_pipeline_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="c1"># Using the Google Cloud AIPlatform client, upload and execute the</span>
    <span class="c1"># pipeline</span>
    <span class="c1"># on the Vertex AI Pipelines service.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_upload_and_run_pipeline</span><span class="p">(</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">pipeline_file_path</span><span class="o">=</span><span class="n">pipeline_file_path</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="o">=</span><span class="n">runtime_configuration</span><span class="p">,</span>
        <span class="n">enable_cache</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.orchestrators.vertex_orchestrator.VertexOrchestrator.prepare_pipeline_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_pipeline_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Build a Docker image for the current environment.</p>
<p>This uploads it to a container registry if configured.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>BasePipeline</code></td>
        <td><p>The pipeline to be deployed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack that will be used to deploy the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>runtime_configuration</code></td>
        <td><code>RuntimeConfiguration</code></td>
        <td><p>The runtime configuration for the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the container registry is missing.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/orchestrators/vertex_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Build a Docker image for the current environment.</span>

<span class="sd">    This uploads it to a container registry if configured.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline: The pipeline to be deployed.</span>
<span class="sd">        stack: The stack that will be used to deploy the pipeline.</span>
<span class="sd">        runtime_configuration: The runtime configuration for the pipeline.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the container registry is missing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">docker_utils</span>

    <span class="n">repo</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span>
    <span class="n">container_registry</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">container_registry</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Missing container registry&quot;</span><span class="p">)</span>

    <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="n">requirements</span> <span class="o">=</span> <span class="p">{</span><span class="o">*</span><span class="n">stack</span><span class="o">.</span><span class="n">requirements</span><span class="p">(),</span> <span class="o">*</span><span class="n">pipeline</span><span class="o">.</span><span class="n">requirements</span><span class="p">}</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Vertex AI Pipelines service docker container requirements </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">requirements</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
        <span class="n">build_context_path</span><span class="o">=</span><span class="n">get_source_root_path</span><span class="p">(),</span>
        <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
        <span class="n">dockerignore_path</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">dockerignore_file</span><span class="p">,</span>
        <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
        <span class="n">base_image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">custom_docker_base_image_name</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">container_registry</span><span class="o">.</span><span class="n">push_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.gcp.secrets_manager" class="doc doc-heading">
        <code>secrets_manager</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>ZenML integration for GCP Secrets Manager.</p>
<p>The GCP Secrets Manager allows your pipeline to directly access the GCP
secrets manager and use the secrets within during runtime.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.gcp.secrets_manager.gcp_secrets_manager" class="doc doc-heading">
        <code>gcp_secrets_manager</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the GCP Secrets Manager.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.GCPSecretsManager" class="doc doc-heading">
        <code>
GCPSecretsManager            (<a class="autorefs autorefs-internal" title="zenml.secrets_managers.base_secrets_manager.BaseSecretsManager" href="../secrets_managers/#zenml.secrets_managers.base_secrets_manager.BaseSecretsManager">BaseSecretsManager</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Class to interact with the GCP secrets manager.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>project_id</code></td>
        <td><code>str</code></td>
        <td><p>This is necessary to access the correct GCP project.
         The project_id of your GCP project space that contains
         the Secret Manager.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/secrets_manager/gcp_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GCPSecretsManager</span><span class="p">(</span><span class="n">BaseSecretsManager</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class to interact with the GCP secrets manager.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        project_id:  This is necessary to access the correct GCP project.</span>
<span class="sd">                     The project_id of your GCP project space that contains</span>
<span class="sd">                     the Secret Manager.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">project_id</span><span class="p">:</span> <span class="nb">str</span>

    <span class="c1"># Class configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">GCP_SECRETS_MANAGER_FLAVOR</span>
    <span class="n">CLIENT</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_ensure_client_connected</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CLIENT</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">CLIENT</span> <span class="o">=</span> <span class="n">secretmanager</span><span class="o">.</span><span class="n">SecretManagerServiceClient</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parent_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Construct the GCP parent path to the secret manager.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The parent path to the secret manager</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;projects/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">project_id</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Registers a new secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: the secret to register</span>

<span class="sd">        Raises:</span>
<span class="sd">            SecretExistsError: if the secret already exists</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">SecretExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;A Secret with the name </span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> already exists.&quot;</span>
            <span class="p">)</span>

        <span class="n">adjusted_content</span> <span class="o">=</span> <span class="n">prepend_group_name_to_keys</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">adjusted_content</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Create the secret, this only creates an empty secret with the</span>
            <span class="c1">#  supplied name.</span>
            <span class="n">gcp_secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">create_secret</span><span class="p">(</span>
                <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">,</span>
                    <span class="s2">&quot;secret_id&quot;</span><span class="p">:</span> <span class="n">k</span><span class="p">,</span>
                    <span class="s2">&quot;secret&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;replication&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;automatic&quot;</span><span class="p">:</span> <span class="p">{}},</span>
                        <span class="s2">&quot;labels&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">(</span><span class="n">ZENML_GROUP_KEY</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
                            <span class="p">(</span><span class="n">ZENML_SCHEMA_NAME</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">TYPE</span><span class="p">),</span>
                        <span class="p">],</span>
                    <span class="p">},</span>
                <span class="p">}</span>
            <span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created empty secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">gcp_secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">add_secret_version</span><span class="p">(</span>
                <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="n">gcp_secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="s2">&quot;payload&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()},</span>
                <span class="p">}</span>
            <span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Added value to secret.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseSecretSchema</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get a secret by its name.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_name: the name of the secret to get</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the secret does not exist</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">()</span>

        <span class="n">secret_contents</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">zenml_schema_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># List all secrets.</span>
        <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
            <span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">}</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">ZENML_GROUP_KEY</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span>
                <span class="ow">and</span> <span class="n">secret_name</span> <span class="o">==</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">ZENML_GROUP_KEY</span><span class="p">]</span>
            <span class="p">):</span>

                <span class="n">secret_version_name</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;/versions/latest&quot;</span>

                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">access_secret_version</span><span class="p">(</span>
                    <span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">secret_version_name</span><span class="p">}</span>
                <span class="p">)</span>

                <span class="n">secret_value</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">)</span>

                <span class="n">secret_key</span> <span class="o">=</span> <span class="n">remove_group_name_from_key</span><span class="p">(</span>
                    <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">secret_name</span>
                <span class="p">)</span>

                <span class="n">secret_contents</span><span class="p">[</span><span class="n">secret_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret_value</span>

                <span class="n">zenml_schema_name</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">ZENML_SCHEMA_NAME</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">secret_contents</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No secrets found within the </span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">secret_contents</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret_name</span>

        <span class="n">secret_schema</span> <span class="o">=</span> <span class="n">SecretSchemaClassRegistry</span><span class="o">.</span><span class="n">get_class</span><span class="p">(</span>
            <span class="n">secret_schema</span><span class="o">=</span><span class="n">zenml_schema_name</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">secret_schema</span><span class="p">(</span><span class="o">**</span><span class="n">secret_contents</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get all secret keys.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all secret keys</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">()</span>

        <span class="n">set_of_secrets</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="c1"># List all secrets.</span>
        <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
            <span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">}</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="n">ZENML_GROUP_KEY</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">:</span>
                <span class="n">group_key</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">ZENML_GROUP_KEY</span><span class="p">]</span>
                <span class="n">set_of_secrets</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">group_key</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">set_of_secrets</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Update an existing secret by creating new versions of the existing secrets.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: the secret to update</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">()</span>

        <span class="n">adjusted_content</span> <span class="o">=</span> <span class="n">prepend_group_name_to_keys</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">adjusted_content</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Create the secret, this only creates an empty secret with the</span>
            <span class="c1">#  supplied name.</span>
            <span class="n">version_parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">secret_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
            <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()}</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">add_secret_version</span><span class="p">(</span>
                <span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="n">version_parent</span><span class="p">,</span> <span class="s2">&quot;payload&quot;</span><span class="p">:</span> <span class="n">payload</span><span class="p">}</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete an existing secret by name.</span>

<span class="sd">        In GCP a secret is a single k-v</span>
<span class="sd">        pair. Within ZenML a secret is a collection of k-v pairs. As such,</span>
<span class="sd">        deleting a secret will iterate through all secrets and delete the ones</span>
<span class="sd">        with the secret_name as label.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_name: the name of the secret to delete</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">()</span>

        <span class="c1"># Go through all gcp secrets and delete the ones with the secret_name</span>
        <span class="c1">#  as label.</span>
        <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
            <span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">}</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">ZENML_GROUP_KEY</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span>
                <span class="ow">and</span> <span class="n">secret_name</span> <span class="o">==</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">ZENML_GROUP_KEY</span><span class="p">]</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete all existing secrets.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">()</span>

        <span class="c1"># List all secrets.</span>
        <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
            <span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">}</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">ZENML_GROUP_KEY</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span>
                <span class="ow">or</span> <span class="n">ZENML_SCHEMA_NAME</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span>
            <span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;Deleted key-value pair {`</span><span class="si">%s</span><span class="s2">`, `***`} from secret &quot;</span> <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">`&quot;</span><span class="p">,</span>
                    <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
                    <span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">ZENML_GROUP_KEY</span><span class="p">],</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">})</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.GCPSecretsManager.parent_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parent_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Construct the GCP parent path to the secret manager.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The parent path to the secret manager</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.GCPSecretsManager.delete_all_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Delete all existing secrets.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/secrets_manager/gcp_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete all existing secrets.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">()</span>

    <span class="c1"># List all secrets.</span>
    <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
        <span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">}</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">ZENML_GROUP_KEY</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span>
            <span class="ow">or</span> <span class="n">ZENML_SCHEMA_NAME</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span>
        <span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Deleted key-value pair {`</span><span class="si">%s</span><span class="s2">`, `***`} from secret &quot;</span> <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">`&quot;</span><span class="p">,</span>
                <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">ZENML_GROUP_KEY</span><span class="p">],</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">})</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.GCPSecretsManager.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Delete an existing secret by name.</p>
<p>In GCP a secret is a single k-v
pair. Within ZenML a secret is a collection of k-v pairs. As such,
deleting a secret will iterate through all secrets and delete the ones
with the secret_name as label.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the secret to delete</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/secrets_manager/gcp_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete an existing secret by name.</span>

<span class="sd">    In GCP a secret is a single k-v</span>
<span class="sd">    pair. Within ZenML a secret is a collection of k-v pairs. As such,</span>
<span class="sd">    deleting a secret will iterate through all secrets and delete the ones</span>
<span class="sd">    with the secret_name as label.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: the name of the secret to delete</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">()</span>

    <span class="c1"># Go through all gcp secrets and delete the ones with the secret_name</span>
    <span class="c1">#  as label.</span>
    <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
        <span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">}</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">ZENML_GROUP_KEY</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span>
            <span class="ow">and</span> <span class="n">secret_name</span> <span class="o">==</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">ZENML_GROUP_KEY</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">})</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.GCPSecretsManager.get_all_secret_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Get all secret keys.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of all secret keys</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/secrets_manager/gcp_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get all secret keys.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all secret keys</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">()</span>

    <span class="n">set_of_secrets</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="c1"># List all secrets.</span>
    <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
        <span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">}</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">ZENML_GROUP_KEY</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">:</span>
            <span class="n">group_key</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">ZENML_GROUP_KEY</span><span class="p">]</span>
            <span class="n">set_of_secrets</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">group_key</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">set_of_secrets</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.GCPSecretsManager.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Get a secret by its name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the secret to get</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseSecretSchema</code></td>
      <td><p>The secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the secret does not exist</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/secrets_manager/gcp_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseSecretSchema</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get a secret by its name.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: the name of the secret to get</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the secret does not exist</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">()</span>

    <span class="n">secret_contents</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">zenml_schema_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># List all secrets.</span>
    <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
        <span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">}</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">ZENML_GROUP_KEY</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span>
            <span class="ow">and</span> <span class="n">secret_name</span> <span class="o">==</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">ZENML_GROUP_KEY</span><span class="p">]</span>
        <span class="p">):</span>

            <span class="n">secret_version_name</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;/versions/latest&quot;</span>

            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">access_secret_version</span><span class="p">(</span>
                <span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">secret_version_name</span><span class="p">}</span>
            <span class="p">)</span>

            <span class="n">secret_value</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">)</span>

            <span class="n">secret_key</span> <span class="o">=</span> <span class="n">remove_group_name_from_key</span><span class="p">(</span>
                <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">secret_name</span>
            <span class="p">)</span>

            <span class="n">secret_contents</span><span class="p">[</span><span class="n">secret_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret_value</span>

            <span class="n">zenml_schema_name</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">ZENML_SCHEMA_NAME</span><span class="p">]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">secret_contents</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No secrets found within the </span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">secret_contents</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret_name</span>

    <span class="n">secret_schema</span> <span class="o">=</span> <span class="n">SecretSchemaClassRegistry</span><span class="o">.</span><span class="n">get_class</span><span class="p">(</span>
        <span class="n">secret_schema</span><span class="o">=</span><span class="n">zenml_schema_name</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">secret_schema</span><span class="p">(</span><span class="o">**</span><span class="n">secret_contents</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.GCPSecretsManager.register_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Registers a new secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>the secret to register</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SecretExistsError</code></td>
        <td><p>if the secret already exists</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/secrets_manager/gcp_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Registers a new secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: the secret to register</span>

<span class="sd">    Raises:</span>
<span class="sd">        SecretExistsError: if the secret already exists</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">SecretExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;A Secret with the name </span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> already exists.&quot;</span>
        <span class="p">)</span>

    <span class="n">adjusted_content</span> <span class="o">=</span> <span class="n">prepend_group_name_to_keys</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">adjusted_content</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># Create the secret, this only creates an empty secret with the</span>
        <span class="c1">#  supplied name.</span>
        <span class="n">gcp_secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">create_secret</span><span class="p">(</span>
            <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">,</span>
                <span class="s2">&quot;secret_id&quot;</span><span class="p">:</span> <span class="n">k</span><span class="p">,</span>
                <span class="s2">&quot;secret&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;replication&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;automatic&quot;</span><span class="p">:</span> <span class="p">{}},</span>
                    <span class="s2">&quot;labels&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">(</span><span class="n">ZENML_GROUP_KEY</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
                        <span class="p">(</span><span class="n">ZENML_SCHEMA_NAME</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">TYPE</span><span class="p">),</span>
                    <span class="p">],</span>
                <span class="p">},</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created empty secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">gcp_secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">add_secret_version</span><span class="p">(</span>
            <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="n">gcp_secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="s2">&quot;payload&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()},</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Added value to secret.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.GCPSecretsManager.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Update an existing secret by creating new versions of the existing secrets.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>the secret to update</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/secrets_manager/gcp_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update an existing secret by creating new versions of the existing secrets.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: the secret to update</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">()</span>

    <span class="n">adjusted_content</span> <span class="o">=</span> <span class="n">prepend_group_name_to_keys</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">adjusted_content</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># Create the secret, this only creates an empty secret with the</span>
        <span class="c1">#  supplied name.</span>
        <span class="n">version_parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">secret_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
        <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">add_secret_version</span><span class="p">(</span>
            <span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="n">version_parent</span><span class="p">,</span> <span class="s2">&quot;payload&quot;</span><span class="p">:</span> <span class="n">payload</span><span class="p">}</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.prepend_group_name_to_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepend_group_name_to_keys</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Adds the secret group name to the keys of each secret key-value pair.</p>
<p>This allows using the same key across multiple secrets.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>The ZenML Secret schema</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, str]</code></td>
      <td><p>A dictionary with the keys prepended with the group name</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/secrets_manager/gcp_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepend_group_name_to_keys</span><span class="p">(</span><span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Adds the secret group name to the keys of each secret key-value pair.</span>

<span class="sd">    This allows using the same key across multiple secrets.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The ZenML Secret schema</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary with the keys prepended with the group name</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.gcp.secrets_manager.gcp_secrets_manager.remove_group_name_from_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_group_name_from_key</span><span class="p">(</span><span class="n">combined_key_name</span><span class="p">,</span> <span class="n">group_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Removes the secret group name from the secret key.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>combined_key_name</code></td>
        <td><code>str</code></td>
        <td><p>Full name as it is within the gcp secrets manager</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>group_name</code></td>
        <td><code>str</code></td>
        <td><p>Group name (the ZenML Secret name)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The cleaned key</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the group name is not found in the key</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/secrets_manager/gcp_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove_group_name_from_key</span><span class="p">(</span><span class="n">combined_key_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">group_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Removes the secret group name from the secret key.</span>

<span class="sd">    Args:</span>
<span class="sd">        combined_key_name: Full name as it is within the gcp secrets manager</span>
<span class="sd">        group_name: Group name (the ZenML Secret name)</span>

<span class="sd">    Returns:</span>
<span class="sd">        The cleaned key</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the group name is not found in the key</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">combined_key_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">group_name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">combined_key_name</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">group_name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span> <span class="p">:]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Key-name `</span><span class="si">{</span><span class="n">combined_key_name</span><span class="si">}</span><span class="s2">` does not have the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;prefix `</span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2">`. Key could not be &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;extracted.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.gcp.step_operators" class="doc doc-heading">
        <code>step_operators</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization for the VertexAI Step Operator.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.gcp.step_operators.vertex_step_operator" class="doc doc-heading">
        <code>vertex_step_operator</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of a VertexAI step operator.</p>
<p>Code heavily inspired by TFX Implementation:
https://github.com/tensorflow/tfx/blob/master/tfx/extensions/
google_cloud_ai_platform/training_clients.py</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.gcp.step_operators.vertex_step_operator.VertexStepOperator" class="doc doc-heading">
        <code>
VertexStepOperator            (<a class="autorefs autorefs-internal" title="zenml.step_operators.base_step_operator.BaseStepOperator" href="../step_operators/#zenml.step_operators.base_step_operator.BaseStepOperator">BaseStepOperator</a>, <a class="autorefs autorefs-internal" title="zenml.integrations.gcp.google_credentials_mixin.GoogleCredentialsMixin" href="#zenml.integrations.gcp.google_credentials_mixin.GoogleCredentialsMixin">GoogleCredentialsMixin</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Step operator to run a step on Vertex AI.</p>
<p>This class defines code that can set up a Vertex AI environment and run the
ZenML entrypoint command in it.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>region</code></td>
        <td><code>str</code></td>
        <td><p>Region name, e.g., <code>europe-west1</code>.</p></td>
      </tr>
      <tr>
        <td><code>project</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>[Optional] GCP project name. If left None, inferred from the
environment.</p></td>
      </tr>
      <tr>
        <td><code>accelerator_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>[Optional] Accelerator type from list: https://cloud.google.com/vertex-ai/docs/reference/rest/v1/MachineSpec#AcceleratorType</p></td>
      </tr>
      <tr>
        <td><code>accelerator_count</code></td>
        <td><code>int</code></td>
        <td><p>[Optional] Defines number of accelerators to be
used for the job.</p></td>
      </tr>
      <tr>
        <td><code>machine_type</code></td>
        <td><code>str</code></td>
        <td><p>[Optional] Machine type specified here: https://cloud.google.com/vertex-ai/docs/training/configure-compute#machine-types</p></td>
      </tr>
      <tr>
        <td><code>base_image</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>[Optional] Base image for building the custom job container.</p></td>
      </tr>
      <tr>
        <td><code>encryption_spec_key_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>[Optional]: Encryption spec key name.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/step_operators/vertex_step_operator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">VertexStepOperator</span><span class="p">(</span><span class="n">BaseStepOperator</span><span class="p">,</span> <span class="n">GoogleCredentialsMixin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Step operator to run a step on Vertex AI.</span>

<span class="sd">    This class defines code that can set up a Vertex AI environment and run the</span>
<span class="sd">    ZenML entrypoint command in it.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        region: Region name, e.g., `europe-west1`.</span>
<span class="sd">        project: [Optional] GCP project name. If left None, inferred from the</span>
<span class="sd">            environment.</span>
<span class="sd">        accelerator_type: [Optional] Accelerator type from list: https://cloud.google.com/vertex-ai/docs/reference/rest/v1/MachineSpec#AcceleratorType</span>
<span class="sd">        accelerator_count: [Optional] Defines number of accelerators to be</span>
<span class="sd">            used for the job.</span>
<span class="sd">        machine_type: [Optional] Machine type specified here: https://cloud.google.com/vertex-ai/docs/training/configure-compute#machine-types</span>
<span class="sd">        base_image: [Optional] Base image for building the custom job container.</span>
<span class="sd">        encryption_spec_key_name: [Optional]: Encryption spec key name.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">region</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">project</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">accelerator_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">accelerator_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">machine_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;n1-standard-4&quot;</span>
    <span class="n">base_image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># customer managed encryption key resource name</span>
    <span class="c1"># will be applied to all Vertex AI resources if set</span>
    <span class="n">encryption_spec_key_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Class configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">GCP_VERTEX_STEP_OPERATOR_FLAVOR</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StackValidator</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Validates that the stack contains a container registry.</span>

<span class="sd">        Returns:</span>
<span class="sd">            StackValidator: Validator for the stack.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_ensure_local_orchestrator</span><span class="p">(</span><span class="n">stack</span><span class="p">:</span> <span class="n">Stack</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
            <span class="c1"># For now this only works on local orchestrator and GCP artifact</span>
            <span class="c1">#  store</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="p">(</span>
                    <span class="n">stack</span><span class="o">.</span><span class="n">orchestrator</span><span class="o">.</span><span class="n">FLAVOR</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span>
                    <span class="ow">and</span> <span class="n">stack</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">FLAVOR</span> <span class="o">==</span> <span class="s2">&quot;gcp&quot;</span>
                <span class="p">),</span>
                <span class="s2">&quot;Only local orchestrator and GCP artifact store are currently &quot;</span>
                <span class="s2">&quot;supported&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">StackValidator</span><span class="p">(</span>
            <span class="n">required_components</span><span class="o">=</span><span class="p">{</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">},</span>
            <span class="n">custom_validation_function</span><span class="o">=</span><span class="n">_ensure_local_orchestrator</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property_validator</span><span class="p">(</span><span class="s2">&quot;accelerator_type&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_accelerator_enum</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">accelerator_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Validates that the accelerator type is valid.</span>

<span class="sd">        Args:</span>
<span class="sd">            accelerator_type: Accelerator type</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the accelerator type is not valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">accepted_vals</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
            <span class="n">aiplatform</span><span class="o">.</span><span class="n">gapic</span><span class="o">.</span><span class="n">AcceleratorType</span><span class="o">.</span><span class="n">__members__</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">accelerator_type</span> <span class="ow">and</span> <span class="n">accelerator_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">accepted_vals</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Accelerator must be one of the following: </span><span class="si">{</span><span class="n">accepted_vals</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_build_and_push_docker_image</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">requirements</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">entrypoint_command</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Builds and pushes a docker image.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: Pipeline name</span>
<span class="sd">            requirements: Requirements</span>
<span class="sd">            entrypoint_command: Entrypoint command</span>

<span class="sd">        Returns:</span>
<span class="sd">            Docker image name</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If no container registry is found in the stack.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">repo</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span>
        <span class="n">container_registry</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">container_registry</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Missing container registry&quot;</span><span class="p">)</span>

        <span class="n">registry_uri</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="n">image_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">registry_uri</span><span class="si">}</span><span class="s2">/zenml-vertex:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
            <span class="n">build_context_path</span><span class="o">=</span><span class="n">get_source_root_path</span><span class="p">(),</span>
            <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entrypoint_command</span><span class="p">),</span>
            <span class="n">requirements</span><span class="o">=</span><span class="nb">set</span><span class="p">(</span><span class="n">requirements</span><span class="p">),</span>
            <span class="n">base_image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">base_image</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">container_registry</span><span class="o">.</span><span class="n">push_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>

    <span class="k">def</span> <span class="nf">launch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">requirements</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">entrypoint_command</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Launches a step on Vertex AI.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: Name of the pipeline which the step to be executed</span>
<span class="sd">                is part of.</span>
<span class="sd">            run_name: Name of the pipeline run which the step to be executed</span>
<span class="sd">                is part of.</span>
<span class="sd">            entrypoint_command: Command that executes the step.</span>
<span class="sd">            requirements: List of pip requirements that must be installed</span>
<span class="sd">                inside the step operator environment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the run fails.</span>
<span class="sd">            ConnectionError: If the run fails due to a connection error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">job_labels</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;zenml-</span><span class="si">{</span><span class="n">__version__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>

        <span class="c1"># Step 1: Authenticate with Google</span>
        <span class="n">credentials</span><span class="p">,</span> <span class="n">project_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_authentication</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">project</span> <span class="o">!=</span> <span class="n">project_id</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;Authenticated with project `</span><span class="si">%s</span><span class="s2">`, but this orchestrator is &quot;</span>
                    <span class="s2">&quot;configured to use the project `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span>
                    <span class="n">project_id</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project</span> <span class="o">=</span> <span class="n">project_id</span>

        <span class="c1"># Step 2: Build and push image</span>
        <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_and_push_docker_image</span><span class="p">(</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
            <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
            <span class="n">entrypoint_command</span><span class="o">=</span><span class="n">entrypoint_command</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Step 3: Launch the job</span>
        <span class="c1"># The AI Platform services require regional API endpoints.</span>
        <span class="n">client_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;api_endpoint&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">region</span> <span class="o">+</span> <span class="n">VERTEX_ENDPOINT_SUFFIX</span><span class="p">}</span>
        <span class="c1"># Initialize client that will be used to create and send requests.</span>
        <span class="c1"># This client only needs to be created once, and can be reused for multiple requests.</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">aiplatform</span><span class="o">.</span><span class="n">gapic</span><span class="o">.</span><span class="n">JobServiceClient</span><span class="p">(</span>
            <span class="n">credentials</span><span class="o">=</span><span class="n">credentials</span><span class="p">,</span> <span class="n">client_options</span><span class="o">=</span><span class="n">client_options</span>
        <span class="p">)</span>
        <span class="n">custom_job</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="n">run_name</span><span class="p">,</span>
            <span class="s2">&quot;job_spec&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;worker_pool_specs&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;machine_spec&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;machine_type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">machine_type</span><span class="p">,</span>
                            <span class="s2">&quot;accelerator_type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">accelerator_type</span><span class="p">,</span>
                            <span class="s2">&quot;accelerator_count&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">accelerator_count</span>
                            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">accelerator_type</span>
                            <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="p">},</span>
                        <span class="s2">&quot;replica_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="s2">&quot;container_spec&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;image_uri&quot;</span><span class="p">:</span> <span class="n">image_name</span><span class="p">,</span>
                            <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[],</span>
                            <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">[],</span>
                        <span class="p">},</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">},</span>
            <span class="s2">&quot;labels&quot;</span><span class="p">:</span> <span class="n">job_labels</span><span class="p">,</span>
            <span class="s2">&quot;encryption_spec&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;kmsKeyName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">encryption_spec_key_name</span><span class="p">}</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encryption_spec_key_name</span>
            <span class="k">else</span> <span class="p">{},</span>
        <span class="p">}</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Vertex AI Job=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">custom_job</span><span class="p">)</span>

        <span class="n">parent</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;projects/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="si">}</span><span class="s2">/locations/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">region</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Submitting custom job=&#39;</span><span class="si">%s</span><span class="s2">&#39;, path=&#39;</span><span class="si">%s</span><span class="s2">&#39; to Vertex AI Training.&quot;</span><span class="p">,</span>
            <span class="n">custom_job</span><span class="p">[</span><span class="s2">&quot;display_name&quot;</span><span class="p">],</span>
            <span class="n">parent</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_custom_job</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">custom_job</span><span class="o">=</span><span class="n">custom_job</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Vertex AI response:&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>

        <span class="c1"># Step 4: Monitor the job</span>

        <span class="c1"># Monitors the long-running operation by polling the job state</span>
        <span class="c1"># periodically, and retries the polling when a transient connectivity</span>
        <span class="c1"># issue is encountered.</span>
        <span class="c1">#</span>
        <span class="c1"># Long-running operation monitoring:</span>
        <span class="c1">#   The possible states of &quot;get job&quot; response can be found at</span>
        <span class="c1">#   https://cloud.google.com/ai-platform/training/docs/reference/rest/v1/projects.jobs#State</span>
        <span class="c1">#   where SUCCEEDED/FAILED/CANCELED are considered to be final states.</span>
        <span class="c1">#   The following logic will keep polling the state of the job until</span>
        <span class="c1">#   the job enters a final state.</span>
        <span class="c1">#</span>
        <span class="c1"># During the polling, if a connection error was encountered, the GET</span>
        <span class="c1"># request will be retried by recreating the Python API client to</span>
        <span class="c1"># refresh the lifecycle of the connection being used. See</span>
        <span class="c1"># https://github.com/googleapis/google-api-python-client/issues/218</span>
        <span class="c1"># for a detailed description of the problem. If the error persists for</span>
        <span class="c1"># _CONNECTION_ERROR_RETRY_LIMIT consecutive attempts, the function</span>
        <span class="c1"># will raise ConnectionError.</span>
        <span class="n">retry_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">job_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">name</span>

        <span class="k">while</span> <span class="n">response</span><span class="o">.</span><span class="n">state</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">VERTEX_JOB_STATES_COMPLETED</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">POLLING_INTERVAL_IN_SECONDS</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_custom_job</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
                <span class="n">retry_count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="c1"># Handle transient connection error.</span>
            <span class="k">except</span> <span class="ne">ConnectionError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">retry_count</span> <span class="o">&lt;</span> <span class="n">CONNECTION_ERROR_RETRY_LIMIT</span><span class="p">:</span>
                    <span class="n">retry_count</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="s2">&quot;ConnectionError (</span><span class="si">%s</span><span class="s2">) encountered when polling job: &quot;</span>
                        <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">. Trying to recreate the API client.&quot;</span><span class="p">,</span>
                        <span class="n">err</span><span class="p">,</span>
                        <span class="n">job_id</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="c1"># Recreate the Python API client.</span>
                    <span class="n">client</span> <span class="o">=</span> <span class="n">aiplatform</span><span class="o">.</span><span class="n">gapic</span><span class="o">.</span><span class="n">JobServiceClient</span><span class="p">(</span>
                        <span class="n">client_options</span><span class="o">=</span><span class="n">client_options</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="s2">&quot;Request failed after </span><span class="si">%s</span><span class="s2"> retries.&quot;</span><span class="p">,</span>
                        <span class="n">CONNECTION_ERROR_RETRY_LIMIT</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">raise</span>

            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">state</span> <span class="ow">in</span> <span class="n">VERTEX_JOB_STATES_FAILED</span><span class="p">:</span>
                <span class="n">err_msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;Job &#39;</span><span class="si">{}</span><span class="s2">&#39; did not succeed.  Detailed response </span><span class="si">{}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">job_id</span><span class="p">,</span> <span class="n">response</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err_msg</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">err_msg</span><span class="p">)</span>

        <span class="c1"># Cloud training complete</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Job &#39;</span><span class="si">%s</span><span class="s2">&#39; successful.&quot;</span><span class="p">,</span> <span class="n">job_id</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">















  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.gcp.step_operators.vertex_step_operator.VertexStepOperator.validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">stack_validator</span><span class="o">.</span><span class="n">StackValidator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Validates that the stack contains a container registry.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackValidator</code></td>
      <td><p>Validator for the stack.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.step_operators.vertex_step_operator.VertexStepOperator.launch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">launch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">,</span> <span class="n">run_name</span><span class="p">,</span> <span class="n">requirements</span><span class="p">,</span> <span class="n">entrypoint_command</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Launches a step on Vertex AI.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the pipeline which the step to be executed
is part of.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>run_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the pipeline run which the step to be executed
is part of.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>entrypoint_command</code></td>
        <td><code>List[str]</code></td>
        <td><p>Command that executes the step.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>requirements</code></td>
        <td><code>List[str]</code></td>
        <td><p>List of pip requirements that must be installed
inside the step operator environment.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the run fails.</p></td>
      </tr>
      <tr>
        <td><code>ConnectionError</code></td>
        <td><p>If the run fails due to a connection error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/step_operators/vertex_step_operator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">launch</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">requirements</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">entrypoint_command</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Launches a step on Vertex AI.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: Name of the pipeline which the step to be executed</span>
<span class="sd">            is part of.</span>
<span class="sd">        run_name: Name of the pipeline run which the step to be executed</span>
<span class="sd">            is part of.</span>
<span class="sd">        entrypoint_command: Command that executes the step.</span>
<span class="sd">        requirements: List of pip requirements that must be installed</span>
<span class="sd">            inside the step operator environment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the run fails.</span>
<span class="sd">        ConnectionError: If the run fails due to a connection error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">job_labels</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;zenml-</span><span class="si">{</span><span class="n">__version__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>

    <span class="c1"># Step 1: Authenticate with Google</span>
    <span class="n">credentials</span><span class="p">,</span> <span class="n">project_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_authentication</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">project</span> <span class="o">!=</span> <span class="n">project_id</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Authenticated with project `</span><span class="si">%s</span><span class="s2">`, but this orchestrator is &quot;</span>
                <span class="s2">&quot;configured to use the project `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span>
                <span class="n">project_id</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="p">,</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project</span> <span class="o">=</span> <span class="n">project_id</span>

    <span class="c1"># Step 2: Build and push image</span>
    <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_and_push_docker_image</span><span class="p">(</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
        <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
        <span class="n">entrypoint_command</span><span class="o">=</span><span class="n">entrypoint_command</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Step 3: Launch the job</span>
    <span class="c1"># The AI Platform services require regional API endpoints.</span>
    <span class="n">client_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;api_endpoint&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">region</span> <span class="o">+</span> <span class="n">VERTEX_ENDPOINT_SUFFIX</span><span class="p">}</span>
    <span class="c1"># Initialize client that will be used to create and send requests.</span>
    <span class="c1"># This client only needs to be created once, and can be reused for multiple requests.</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">aiplatform</span><span class="o">.</span><span class="n">gapic</span><span class="o">.</span><span class="n">JobServiceClient</span><span class="p">(</span>
        <span class="n">credentials</span><span class="o">=</span><span class="n">credentials</span><span class="p">,</span> <span class="n">client_options</span><span class="o">=</span><span class="n">client_options</span>
    <span class="p">)</span>
    <span class="n">custom_job</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;display_name&quot;</span><span class="p">:</span> <span class="n">run_name</span><span class="p">,</span>
        <span class="s2">&quot;job_spec&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;worker_pool_specs&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;machine_spec&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;machine_type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">machine_type</span><span class="p">,</span>
                        <span class="s2">&quot;accelerator_type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">accelerator_type</span><span class="p">,</span>
                        <span class="s2">&quot;accelerator_count&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">accelerator_count</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">accelerator_type</span>
                        <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;replica_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s2">&quot;container_spec&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;image_uri&quot;</span><span class="p">:</span> <span class="n">image_name</span><span class="p">,</span>
                        <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[],</span>
                        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">[],</span>
                    <span class="p">},</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="s2">&quot;labels&quot;</span><span class="p">:</span> <span class="n">job_labels</span><span class="p">,</span>
        <span class="s2">&quot;encryption_spec&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;kmsKeyName&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">encryption_spec_key_name</span><span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encryption_spec_key_name</span>
        <span class="k">else</span> <span class="p">{},</span>
    <span class="p">}</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Vertex AI Job=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">custom_job</span><span class="p">)</span>

    <span class="n">parent</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;projects/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="si">}</span><span class="s2">/locations/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">region</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Submitting custom job=&#39;</span><span class="si">%s</span><span class="s2">&#39;, path=&#39;</span><span class="si">%s</span><span class="s2">&#39; to Vertex AI Training.&quot;</span><span class="p">,</span>
        <span class="n">custom_job</span><span class="p">[</span><span class="s2">&quot;display_name&quot;</span><span class="p">],</span>
        <span class="n">parent</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_custom_job</span><span class="p">(</span>
        <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">custom_job</span><span class="o">=</span><span class="n">custom_job</span>
    <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Vertex AI response:&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>

    <span class="c1"># Step 4: Monitor the job</span>

    <span class="c1"># Monitors the long-running operation by polling the job state</span>
    <span class="c1"># periodically, and retries the polling when a transient connectivity</span>
    <span class="c1"># issue is encountered.</span>
    <span class="c1">#</span>
    <span class="c1"># Long-running operation monitoring:</span>
    <span class="c1">#   The possible states of &quot;get job&quot; response can be found at</span>
    <span class="c1">#   https://cloud.google.com/ai-platform/training/docs/reference/rest/v1/projects.jobs#State</span>
    <span class="c1">#   where SUCCEEDED/FAILED/CANCELED are considered to be final states.</span>
    <span class="c1">#   The following logic will keep polling the state of the job until</span>
    <span class="c1">#   the job enters a final state.</span>
    <span class="c1">#</span>
    <span class="c1"># During the polling, if a connection error was encountered, the GET</span>
    <span class="c1"># request will be retried by recreating the Python API client to</span>
    <span class="c1"># refresh the lifecycle of the connection being used. See</span>
    <span class="c1"># https://github.com/googleapis/google-api-python-client/issues/218</span>
    <span class="c1"># for a detailed description of the problem. If the error persists for</span>
    <span class="c1"># _CONNECTION_ERROR_RETRY_LIMIT consecutive attempts, the function</span>
    <span class="c1"># will raise ConnectionError.</span>
    <span class="n">retry_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">job_id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">name</span>

    <span class="k">while</span> <span class="n">response</span><span class="o">.</span><span class="n">state</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">VERTEX_JOB_STATES_COMPLETED</span><span class="p">:</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">POLLING_INTERVAL_IN_SECONDS</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_custom_job</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">job_id</span><span class="p">)</span>
            <span class="n">retry_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="c1"># Handle transient connection error.</span>
        <span class="k">except</span> <span class="ne">ConnectionError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">retry_count</span> <span class="o">&lt;</span> <span class="n">CONNECTION_ERROR_RETRY_LIMIT</span><span class="p">:</span>
                <span class="n">retry_count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;ConnectionError (</span><span class="si">%s</span><span class="s2">) encountered when polling job: &quot;</span>
                    <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">. Trying to recreate the API client.&quot;</span><span class="p">,</span>
                    <span class="n">err</span><span class="p">,</span>
                    <span class="n">job_id</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="c1"># Recreate the Python API client.</span>
                <span class="n">client</span> <span class="o">=</span> <span class="n">aiplatform</span><span class="o">.</span><span class="n">gapic</span><span class="o">.</span><span class="n">JobServiceClient</span><span class="p">(</span>
                    <span class="n">client_options</span><span class="o">=</span><span class="n">client_options</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Request failed after </span><span class="si">%s</span><span class="s2"> retries.&quot;</span><span class="p">,</span>
                    <span class="n">CONNECTION_ERROR_RETRY_LIMIT</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">raise</span>

        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">state</span> <span class="ow">in</span> <span class="n">VERTEX_JOB_STATES_FAILED</span><span class="p">:</span>
            <span class="n">err_msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;Job &#39;</span><span class="si">{}</span><span class="s2">&#39; did not succeed.  Detailed response </span><span class="si">{}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">job_id</span><span class="p">,</span> <span class="n">response</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err_msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">err_msg</span><span class="p">)</span>

    <span class="c1"># Cloud training complete</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Job &#39;</span><span class="si">%s</span><span class="s2">&#39; successful.&quot;</span><span class="p">,</span> <span class="n">job_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.gcp.step_operators.vertex_step_operator.VertexStepOperator.validate_accelerator_enum" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_accelerator_enum</span><span class="p">(</span><span class="n">accelerator_type</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Validates that the accelerator type is valid.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>accelerator_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Accelerator type</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the accelerator type is not valid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/gcp/step_operators/vertex_step_operator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@property_validator</span><span class="p">(</span><span class="s2">&quot;accelerator_type&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_accelerator_enum</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">accelerator_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Validates that the accelerator type is valid.</span>

<span class="sd">    Args:</span>
<span class="sd">        accelerator_type: Accelerator type</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the accelerator type is not valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">accepted_vals</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
        <span class="n">aiplatform</span><span class="o">.</span><span class="n">gapic</span><span class="o">.</span><span class="n">AcceleratorType</span><span class="o">.</span><span class="n">__members__</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">accelerator_type</span> <span class="ow">and</span> <span class="n">accelerator_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">accepted_vals</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Accelerator must be one of the following: </span><span class="si">{</span><span class="n">accepted_vals</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.github" class="doc doc-heading">
        <code>github</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the GitHub ZenML integration.</p>
<p>The GitHub integration provides a way to orchestrate pipelines using GitHub 
Actions.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.github.GitHubIntegration" class="doc doc-heading">
        <code>
GitHubIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of GitHub integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GitHubIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of GitHub integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">GITHUB</span>
    <span class="n">REQUIREMENTS</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;PyNaCl~=1.5.0&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the GitHub integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">GITHUB_ORCHESTRATOR_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.github.orchestrators.GitHubActionsOrchestrator&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">GITHUB_SECRET_MANAGER_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.github.secrets_managers.GitHubSecretsManager&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">SECRETS_MANAGER</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.github.GitHubIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the GitHub integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the GitHub integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">GITHUB_ORCHESTRATOR_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.github.orchestrators.GitHubActionsOrchestrator&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">GITHUB_SECRET_MANAGER_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.github.secrets_managers.GitHubSecretsManager&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">SECRETS_MANAGER</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.github.orchestrators" class="doc doc-heading">
        <code>orchestrators</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the GitHub Actions Orchestrator.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.github.orchestrators.github_actions_entrypoint_configuration" class="doc doc-heading">
        <code>github_actions_entrypoint_configuration</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the GitHub Actions Orchestrator entrypoint.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.github.orchestrators.github_actions_entrypoint_configuration.GitHubActionsEntrypointConfiguration" class="doc doc-heading">
        <code>
GitHubActionsEntrypointConfiguration            (<a class="autorefs autorefs-internal" title="zenml.entrypoints.step_entrypoint_configuration.StepEntrypointConfiguration" href="../entrypoints/#zenml.entrypoints.step_entrypoint_configuration.StepEntrypointConfiguration">StepEntrypointConfiguration</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Entrypoint configuration for running steps on GitHub Actions runners.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/orchestrators/github_actions_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GitHubActionsEntrypointConfiguration</span><span class="p">(</span><span class="n">StepEntrypointConfiguration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Entrypoint configuration for running steps on GitHub Actions runners.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_custom_entrypoint_options</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;GitHub Actions specific entrypoint options.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Set with the custom run id option.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">RUN_ID_OPTION</span><span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_custom_entrypoint_arguments</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Adds a run id argument for the entrypoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            step: Step for which the arguments are passed.</span>
<span class="sd">            **kwargs: Additional keyword arguments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            GitHub Actions placeholder for the run id option.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># These placeholders in the workflow file will be replaced with</span>
        <span class="c1"># concrete values by the GitHub Actions runner</span>
        <span class="n">run_id</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;${{ github.run_id }}_${{ github.run_number }}_&quot;</span>
            <span class="s2">&quot;${{ github.run_attempt }}&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">RUN_ID_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">run_id</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the pipeline run name.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: Name of the pipeline which will run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The run name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">run_id</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">entrypoint_args</span><span class="p">[</span><span class="n">RUN_ID_OPTION</span><span class="p">])</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.github.orchestrators.github_actions_entrypoint_configuration.GitHubActionsEntrypointConfiguration.get_custom_entrypoint_arguments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_custom_entrypoint_arguments</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Adds a run id argument for the entrypoint.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step</code></td>
        <td><code>BaseStep</code></td>
        <td><p>Step for which the arguments are passed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>GitHub Actions placeholder for the run id option.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/orchestrators/github_actions_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_custom_entrypoint_arguments</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Adds a run id argument for the entrypoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        step: Step for which the arguments are passed.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        GitHub Actions placeholder for the run id option.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># These placeholders in the workflow file will be replaced with</span>
    <span class="c1"># concrete values by the GitHub Actions runner</span>
    <span class="n">run_id</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;${{ github.run_id }}_${{ github.run_number }}_&quot;</span>
        <span class="s2">&quot;${{ github.run_attempt }}&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">RUN_ID_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">run_id</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.github.orchestrators.github_actions_entrypoint_configuration.GitHubActionsEntrypointConfiguration.get_custom_entrypoint_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_custom_entrypoint_options</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>GitHub Actions specific entrypoint options.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Set[str]</code></td>
      <td><p>Set with the custom run id option.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/orchestrators/github_actions_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_custom_entrypoint_options</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;GitHub Actions specific entrypoint options.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Set with the custom run id option.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">RUN_ID_OPTION</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.github.orchestrators.github_actions_entrypoint_configuration.GitHubActionsEntrypointConfiguration.get_run_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the pipeline run name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the pipeline which will run.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The run name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/orchestrators/github_actions_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the pipeline run name.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: Name of the pipeline which will run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The run name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">run_id</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">entrypoint_args</span><span class="p">[</span><span class="n">RUN_ID_OPTION</span><span class="p">])</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.github.orchestrators.github_actions_orchestrator" class="doc doc-heading">
        <code>github_actions_orchestrator</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the GitHub Actions Orchestrator.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.github.orchestrators.github_actions_orchestrator.GitHubActionsOrchestrator" class="doc doc-heading">
        <code>
GitHubActionsOrchestrator            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestrator" href="../orchestrators/#zenml.orchestrators.base_orchestrator.BaseOrchestrator">BaseOrchestrator</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Orchestrator responsible for running pipelines using GitHub Actions.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>custom_docker_base_image_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of a docker image that should be
used as the base for the image that will be run on GitHub Action
runners. If no custom image is given, a basic image of the active
ZenML version will be used. <strong>Note</strong>: This image needs to have
ZenML installed, otherwise the pipeline execution will fail. For
that reason, you might want to extend the ZenML docker images
found here: https://hub.docker.com/r/zenmldocker/zenml/</p></td>
      </tr>
      <tr>
        <td><code>skip_dirty_repository_check</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, this orchestrator will not
raise an exception when trying to run a pipeline while there are
still untracked/uncommitted files in the git repository.</p></td>
      </tr>
      <tr>
        <td><code>skip_github_repository_check</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, the orchestrator will not check
if your git repository is pointing to a GitHub remote.</p></td>
      </tr>
      <tr>
        <td><code>push</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, this orchestrator will automatically commit and push
the GitHub workflow file when running a pipeline. If <code>False</code>, the
workflow file will be written to the correct location but needs to
be committed and pushed manually.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/orchestrators/github_actions_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GitHubActionsOrchestrator</span><span class="p">(</span><span class="n">BaseOrchestrator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Orchestrator responsible for running pipelines using GitHub Actions.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        custom_docker_base_image_name: Name of a docker image that should be</span>
<span class="sd">            used as the base for the image that will be run on GitHub Action</span>
<span class="sd">            runners. If no custom image is given, a basic image of the active</span>
<span class="sd">            ZenML version will be used. **Note**: This image needs to have</span>
<span class="sd">            ZenML installed, otherwise the pipeline execution will fail. For</span>
<span class="sd">            that reason, you might want to extend the ZenML docker images</span>
<span class="sd">            found here: https://hub.docker.com/r/zenmldocker/zenml/</span>
<span class="sd">        skip_dirty_repository_check: If `True`, this orchestrator will not</span>
<span class="sd">            raise an exception when trying to run a pipeline while there are</span>
<span class="sd">            still untracked/uncommitted files in the git repository.</span>
<span class="sd">        skip_github_repository_check: If `True`, the orchestrator will not check</span>
<span class="sd">            if your git repository is pointing to a GitHub remote.</span>
<span class="sd">        push: If `True`, this orchestrator will automatically commit and push</span>
<span class="sd">            the GitHub workflow file when running a pipeline. If `False`, the</span>
<span class="sd">            workflow file will be written to the correct location but needs to</span>
<span class="sd">            be committed and pushed manually.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">custom_docker_base_image_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">skip_dirty_repository_check</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">skip_github_repository_check</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">push</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">_git_repo</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Repo</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Class configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">GITHUB_ORCHESTRATOR_FLAVOR</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">git_repo</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Repo</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the git repository for the current working directory.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Git repository for the current working directory.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If there is no git repository for the current working</span>
<span class="sd">                directory or the repository remote is not pointing to GitHub.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_git_repo</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_git_repo</span> <span class="o">=</span> <span class="n">Repo</span><span class="p">(</span><span class="n">search_parent_directories</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">InvalidGitRepositoryError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;Unable to find git repository in current working &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;directory </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span><span class="si">}</span><span class="s2"> or its parent directories.&quot;</span>
                <span class="p">)</span>

            <span class="n">remote_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="o">.</span><span class="n">remote</span><span class="p">()</span><span class="o">.</span><span class="n">url</span>
            <span class="n">is_github_repo</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span>
                <span class="n">remote_url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="n">GITHUB_REMOTE_URL_PREFIXES</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">is_github_repo</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_github_repository_check</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The remote URL &#39;</span><span class="si">{</span><span class="n">remote_url</span><span class="si">}</span><span class="s2">&#39; of your git repo &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_git_repo</span><span class="o">.</span><span class="n">git_dir</span><span class="si">}</span><span class="s2">) is not pointing to a GitHub &quot;</span>
                    <span class="s2">&quot;repository. The GitHub Actions orchestrator runs &quot;</span>
                    <span class="s2">&quot;pipelines using GitHub Actions and therefore only works &quot;</span>
                    <span class="s2">&quot;with GitHub repositories. If you want to skip this check &quot;</span>
                    <span class="s2">&quot;and run this orchestrator anyway, run: </span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`zenml orchestrator update </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="s2">&quot;--skip_github_repository_check=true`&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_git_repo</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">workflow_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to the GitHub workflows directory.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The GitHub workflows directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="o">.</span><span class="n">working_dir</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="o">.</span><span class="n">working_dir</span><span class="p">,</span> <span class="s2">&quot;.github&quot;</span><span class="p">,</span> <span class="s2">&quot;workflows&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StackValidator</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Validator that ensures that the stack is compatible.</span>

<span class="sd">        Makes sure that the stack contains a container registry and only</span>
<span class="sd">        remote components.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The stack validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_validate_local_requirements</span><span class="p">(</span><span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
            <span class="n">container_registry</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>
            <span class="k">assert</span> <span class="n">container_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

            <span class="k">if</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                    <span class="s2">&quot;The GitHub Actions orchestrator requires a remote &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;container registry, but the &#39;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="s2">&quot;container registry of your active stack points to a local &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;URI &#39;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="si">}</span><span class="s2">&#39;. Please make sure stacks &quot;</span>
                    <span class="s2">&quot;with a GitHub Actions orchestrator always contain remote &quot;</span>
                    <span class="s2">&quot;container registries.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">requires_authentication</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                    <span class="s2">&quot;The GitHub Actions orchestrator currently only works with &quot;</span>
                    <span class="s2">&quot;GitHub container registries or public container &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;registries, but your </span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">FLAVOR</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;container registry &#39;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; requires &quot;</span>
                    <span class="s2">&quot;authentication.&quot;</span>
                <span class="p">)</span>

            <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">local_path</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                        <span class="s2">&quot;The GitHub Actions orchestrator runs pipelines on &quot;</span>
                        <span class="s2">&quot;remote GitHub Actions runners, but the &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">TYPE</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> of your &quot;</span>
                        <span class="s2">&quot;active stack is a local component. Please make sure &quot;</span>
                        <span class="s2">&quot;to only use remote stack components in combination &quot;</span>
                        <span class="s2">&quot;with the GitHub Actions orchestrator. &quot;</span>
                    <span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>

        <span class="k">return</span> <span class="n">StackValidator</span><span class="p">(</span>
            <span class="n">required_components</span><span class="o">=</span><span class="p">{</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">},</span>
            <span class="n">custom_validation_function</span><span class="o">=</span><span class="n">_validate_local_requirements</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_docker_image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the full docker image name including registry and tag.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: Name of the pipeline for which to generate a docker</span>
<span class="sd">                image name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The docker image name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">container_registry</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>
        <span class="k">assert</span> <span class="n">container_registry</span>  <span class="c1"># should never happen due to validation</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="si">}</span><span class="s2">/zenml-github-actions:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">_docker_login_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">container_registry</span><span class="p">:</span> <span class="n">BaseContainerRegistry</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;GitHub Actions step for authenticating with the container registry.</span>

<span class="sd">        Args:</span>
<span class="sd">            container_registry: The container registry which (potentially)</span>
<span class="sd">                requires a step to authenticate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary specifying the GitHub Actions step for authenticating</span>
<span class="sd">            with the container registry if that is required, `None` otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">container_registry</span><span class="p">,</span> <span class="n">GitHubContainerRegistry</span><span class="p">)</span>
            <span class="ow">and</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">automatic_token_authentication</span>
        <span class="p">):</span>
            <span class="c1"># Use GitHub Actions specific placeholder if the container registry</span>
            <span class="c1"># specifies automatic token authentication</span>
            <span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;${{ github.actor }}&quot;</span>
            <span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;${{ secrets.GITHUB_TOKEN }}&quot;</span>
        <span class="c1"># TODO: Uncomment these lines once we support different private</span>
        <span class="c1">#  container registries in GitHub Actions</span>
        <span class="c1"># elif container_registry.requires_authentication:</span>
        <span class="c1">#     username = cast(str, container_registry.username)</span>
        <span class="c1">#     password = cast(str, container_registry.password)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Authenticate with the container registry&quot;</span><span class="p">,</span>
            <span class="s2">&quot;uses&quot;</span><span class="p">:</span> <span class="n">DOCKER_LOGIN_ACTION</span><span class="p">,</span>
            <span class="s2">&quot;with&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;registry&quot;</span><span class="p">:</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="n">username</span><span class="p">,</span>
                <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_write_environment_file_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">secrets_manager</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseSecretsManager</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;GitHub Actions step for writing secrets to an environment file.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_name: Name of the environment file that should be written.</span>
<span class="sd">            secrets_manager: Secrets manager that will be used to read secrets</span>
<span class="sd">                during pipeline execution.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary specifying the GitHub Actions step for writing the</span>
<span class="sd">            environment file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">secrets_manager</span><span class="p">,</span> <span class="n">GitHubSecretsManager</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="c1"># Always include the environment variable that specifies whether</span>
        <span class="c1"># we&#39;re running in a GitHub Action workflow so the secret manager knows</span>
        <span class="c1"># how to query secret values</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;echo </span><span class="si">{</span><span class="n">ENV_IN_GITHUB_ACTIONS</span><span class="si">}</span><span class="s1">=&quot;$</span><span class="si">{</span><span class="n">ENV_IN_GITHUB_ACTIONS</span><span class="si">}</span><span class="s1">&quot; &#39;</span>
            <span class="sa">f</span><span class="s2">&quot;&gt; </span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s2">; &quot;</span>
        <span class="p">)</span>

        <span class="c1"># Write all ZenML secrets into the environment file. Explicitly writing</span>
        <span class="c1"># these `${{ secrets.&lt;SECRET_NAME&gt; }}` placeholders into the workflow</span>
        <span class="c1"># yaml is the only way for us to access the GitHub secrets in a GitHub</span>
        <span class="c1"># Actions workflow.</span>
        <span class="n">append_secret_placeholder</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;echo </span><span class="si">{secret_name}</span><span class="s2">=${{{{ secrets.</span><span class="si">{secret_name}</span><span class="s2"> }}}} &gt;&gt; </span><span class="si">{file}</span><span class="s2">; &quot;</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">secret_name</span> <span class="ow">in</span> <span class="n">secrets_manager</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">(</span>
            <span class="n">include_prefix</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">):</span>
            <span class="n">command</span> <span class="o">+=</span> <span class="n">append_secret_placeholder</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">secret_name</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">file_name</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Write environment file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;run&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Builds and uploads a docker image.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline: The pipeline for which the image is built.</span>
<span class="sd">            stack: The stack on which the pipeline will be executed.</span>
<span class="sd">            runtime_configuration: Runtime configuration for the pipeline run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the orchestrator should only run in a clean git</span>
<span class="sd">                repository and the repository is dirty.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_dirty_repository_check</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="o">.</span><span class="n">is_dirty</span><span class="p">(</span>
            <span class="n">untracked_files</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Trying to run a pipeline from within a dirty (=containing &quot;</span>
                <span class="s2">&quot;untracked/uncommitted files) git repository.&quot;</span>
                <span class="s2">&quot;If you want this orchestrator to skip the dirty repo check in &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;the future, run</span><span class="se">\n</span><span class="s2"> `zenml orchestrator update </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="s2">&quot;--skip_dirty_repository_check=true`&quot;</span>
            <span class="p">)</span>

        <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">requirements</span> <span class="o">=</span> <span class="p">{</span><span class="o">*</span><span class="n">stack</span><span class="o">.</span><span class="n">requirements</span><span class="p">(),</span> <span class="o">*</span><span class="n">pipeline</span><span class="o">.</span><span class="n">requirements</span><span class="p">}</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Github actions docker image requirements: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">requirements</span>
        <span class="p">)</span>

        <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
            <span class="n">build_context_path</span><span class="o">=</span><span class="n">source_utils</span><span class="o">.</span><span class="n">get_source_root_path</span><span class="p">(),</span>
            <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
            <span class="n">dockerignore_path</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">dockerignore_file</span><span class="p">,</span>
            <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
            <span class="n">base_image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">custom_docker_base_image_name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">assert</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>  <span class="c1"># should never happen due to validation</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span><span class="o">.</span><span class="n">push_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>

        <span class="c1"># Store the docker image digest in the runtime configuration so it gets</span>
        <span class="c1"># tracked in the ZenStore</span>
        <span class="n">image_digest</span> <span class="o">=</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>
        <span class="n">runtime_configuration</span><span class="p">[</span><span class="s2">&quot;docker_image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">image_digest</span>

    <span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sorted_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">],</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
        <span class="n">pb2_pipeline</span><span class="p">:</span> <span class="n">Pb2Pipeline</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a GitHub Action workflow yaml and optionally pushes it.</span>

<span class="sd">        Args:</span>
<span class="sd">             sorted_steps: List of sorted steps</span>
<span class="sd">             pipeline: Zenml Pipeline instance</span>
<span class="sd">             pb2_pipeline: Protobuf Pipeline instance</span>
<span class="sd">             stack: The stack the pipeline was run on</span>
<span class="sd">             runtime_configuration: The Runtime configuration of the current run</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If a schedule without a cron expression or with an</span>
<span class="sd">                invalid cron expression is passed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">schedule</span> <span class="o">=</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">schedule</span>

        <span class="n">workflow_name</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">schedule</span><span class="p">:</span>
            <span class="c1"># Add a suffix to the workflow filename so we don&#39;t overwrite</span>
            <span class="c1"># scheduled pipeline by future schedules or single pipeline runs.</span>
            <span class="n">datetime_string</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%y_%m_</span><span class="si">%d</span><span class="s2">_%H_%M_%S&quot;</span><span class="p">)</span>
            <span class="n">workflow_name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;-scheduled-</span><span class="si">{</span><span class="n">datetime_string</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">workflow_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">workflow_directory</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">workflow_name</span><span class="si">}</span><span class="s2">.yaml&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Store the encoded pb2 pipeline once as an environment variable.</span>
        <span class="c1"># We will replace the entrypoint argument later to reduce the size</span>
        <span class="c1"># of the workflow file.</span>
        <span class="n">encoded_pb2_pipeline</span> <span class="o">=</span> <span class="n">string_utils</span><span class="o">.</span><span class="n">b64_encode</span><span class="p">(</span>
            <span class="n">json_format</span><span class="o">.</span><span class="n">MessageToJson</span><span class="p">(</span><span class="n">pb2_pipeline</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">workflow_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">workflow_name</span><span class="p">,</span>
            <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">ENV_ENCODED_ZENML_PIPELINE</span><span class="p">:</span> <span class="n">encoded_pb2_pipeline</span><span class="p">},</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">schedule</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;GitHub Action workflows can only be scheduled using cron &quot;</span>
                    <span class="s2">&quot;expressions and not using a periodic schedule. If you &quot;</span>
                    <span class="s2">&quot;want to schedule pipelines using this GitHub Action &quot;</span>
                    <span class="s2">&quot;orchestrator, please include a cron expression in your &quot;</span>
                    <span class="s2">&quot;schedule object. For more information on GitHub workflow &quot;</span>
                    <span class="s2">&quot;schedules check out https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># GitHub workflows requires a schedule interval of at least 5</span>
            <span class="c1"># minutes. Invalid cron expressions would be something like</span>
            <span class="c1"># `*/3 * * * *` (all stars except the first part of the expression,</span>
            <span class="c1"># which will have the format `*/minute_interval`)</span>
            <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\*/[1-4]( \*){4,}&quot;</span><span class="p">,</span> <span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;GitHub workflows requires a schedule interval of at &quot;</span>
                    <span class="s2">&quot;least 5 minutes which is incompatible with your cron &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;expression &#39;</span><span class="si">{</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="si">}</span><span class="s2">&#39;. An example of a &quot;</span>
                    <span class="s2">&quot;valid cron expression would be &#39;* 1 * * *&#39; to run &quot;</span>
                    <span class="s2">&quot;every hour. For more information on GitHub workflow &quot;</span>
                    <span class="s2">&quot;schedules check out https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule.&quot;</span>
                <span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;GitHub only runs scheduled workflows once the &quot;</span>
                <span class="s2">&quot;workflow file is merged to the default branch of the &quot;</span>
                <span class="s2">&quot;repository (https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-branches#about-the-default-branch). &quot;</span>
                <span class="s2">&quot;Please make sure to merge your current branch into the &quot;</span>
                <span class="s2">&quot;default branch for this scheduled pipeline to run.&quot;</span>
            <span class="p">)</span>
            <span class="n">workflow_dict</span><span class="p">[</span><span class="s2">&quot;on&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;schedule&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;cron&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">}]</span>
            <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># The pipeline should only run once. The only fool-proof way to</span>
            <span class="c1"># only execute a workflow once seems to be running on specific tags.</span>
            <span class="c1"># We don&#39;t want to create tags for each pipeline run though, so</span>
            <span class="c1"># instead we only run this workflow if the workflow file is</span>
            <span class="c1"># modified. As long as users don&#39;t manually modify these files this</span>
            <span class="c1"># should be sufficient.</span>
            <span class="n">workflow_path_in_repo</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span>
                <span class="n">workflow_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="o">.</span><span class="n">working_dir</span>
            <span class="p">)</span>
            <span class="n">workflow_dict</span><span class="p">[</span><span class="s2">&quot;on&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;push&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;paths&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">workflow_path_in_repo</span><span class="p">]}}</span>

        <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">image_name</span> <span class="o">=</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>

        <span class="c1"># Prepare the step that writes an environment file which will get</span>
        <span class="c1"># passed to the docker image</span>
        <span class="n">env_file_name</span> <span class="o">=</span> <span class="s2">&quot;.zenml_docker_env&quot;</span>
        <span class="n">write_env_file_step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_write_environment_file_step</span><span class="p">(</span>
            <span class="n">file_name</span><span class="o">=</span><span class="n">env_file_name</span><span class="p">,</span> <span class="n">secrets_manager</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">secrets_manager</span>
        <span class="p">)</span>
        <span class="n">docker_run_args</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">[</span><span class="s2">&quot;--env-file&quot;</span><span class="p">,</span> <span class="n">env_file_name</span><span class="p">]</span> <span class="k">if</span> <span class="n">write_env_file_step</span> <span class="k">else</span> <span class="p">[]</span>
        <span class="p">)</span>

        <span class="c1"># Prepare the docker login step if necessary</span>
        <span class="n">container_registry</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>
        <span class="k">assert</span> <span class="n">container_registry</span>
        <span class="n">docker_login_step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_docker_login_step</span><span class="p">(</span><span class="n">container_registry</span><span class="p">)</span>

        <span class="c1"># The base command that each job will execute with specific arguments</span>
        <span class="n">base_command</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;docker&quot;</span><span class="p">,</span>
            <span class="s2">&quot;run&quot;</span><span class="p">,</span>
            <span class="o">*</span><span class="n">docker_run_args</span><span class="p">,</span>
            <span class="n">image_name</span><span class="p">,</span>
        <span class="p">]</span> <span class="o">+</span> <span class="n">GitHubActionsEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>

        <span class="n">jobs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span><span class="p">:</span>
            <span class="n">job_steps</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="c1"># Copy the shared dicts here to avoid creating yaml anchors (which</span>
            <span class="c1"># are currently not supported in GitHub workflow yaml files)</span>
            <span class="k">if</span> <span class="n">write_env_file_step</span><span class="p">:</span>
                <span class="n">job_steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">write_env_file_step</span><span class="p">))</span>

            <span class="k">if</span> <span class="n">docker_login_step</span><span class="p">:</span>
                <span class="n">job_steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">docker_login_step</span><span class="p">))</span>

            <span class="n">entrypoint_args</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">GitHubActionsEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
                    <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
                    <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

            <span class="c1"># Replace the encoded string by a global environment variable to</span>
            <span class="c1"># keep the workflow file small</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">entrypoint_args</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">PIPELINE_JSON_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">entrypoint_args</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">ENV_ENCODED_ZENML_PIPELINE</span><span class="si">}</span><span class="s2">&quot;</span>

            <span class="n">command</span> <span class="o">=</span> <span class="n">base_command</span> <span class="o">+</span> <span class="n">entrypoint_args</span>
            <span class="n">docker_run_step</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Run the docker image&quot;</span><span class="p">,</span>
                <span class="s2">&quot;run&quot;</span><span class="p">:</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">command</span><span class="p">),</span>
            <span class="p">}</span>

            <span class="n">job_steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">docker_run_step</span><span class="p">)</span>
            <span class="n">job_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;runs-on&quot;</span><span class="p">:</span> <span class="s2">&quot;ubuntu-latest&quot;</span><span class="p">,</span>
                <span class="s2">&quot;needs&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_upstream_step_names</span><span class="p">(</span>
                    <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span>
                <span class="p">),</span>
                <span class="s2">&quot;steps&quot;</span><span class="p">:</span> <span class="n">job_steps</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">jobs</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_dict</span>

        <span class="n">workflow_dict</span><span class="p">[</span><span class="s2">&quot;jobs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">jobs</span>

        <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_directory</span><span class="p">)</span>
        <span class="n">yaml_utils</span><span class="o">.</span><span class="n">write_yaml</span><span class="p">(</span><span class="n">workflow_path</span><span class="p">,</span> <span class="n">workflow_dict</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Wrote GitHub workflow file to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">workflow_path</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">:</span>
            <span class="c1"># Add, commit and push the pipeline workflow yaml</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">workflow_path</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span>
                <span class="s2">&quot;[ZenML GitHub Actions Orchestrator] Add github workflow for &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;pipeline </span><span class="si">{</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="o">.</span><span class="n">remote</span><span class="p">()</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Pushed workflow file &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">,</span> <span class="n">workflow_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Automatically committing and pushing is disabled for this &quot;</span>
                <span class="s2">&quot;orchestrator. To run the pipeline, you&#39;ll have to commit and &quot;</span>
                <span class="s2">&quot;push the workflow file &#39;</span><span class="si">%s</span><span class="s2">&#39; manually.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;If you want to update this orchestrator to automatically &quot;</span>
                <span class="s2">&quot;commit and push in the future, run &quot;</span>
                <span class="s2">&quot;`zenml orchestrator update </span><span class="si">%s</span><span class="s2"> --push=true`&quot;</span><span class="p">,</span>
                <span class="n">workflow_path</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.github.orchestrators.github_actions_orchestrator.GitHubActionsOrchestrator.git_repo" class="doc doc-heading">
<code class="highlight language-python"><span class="n">git_repo</span><span class="p">:</span> <span class="n">Repo</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns the git repository for the current working directory.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Repo</code></td>
      <td><p>Git repository for the current working directory.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If there is no git repository for the current working
directory or the repository remote is not pointing to GitHub.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.github.orchestrators.github_actions_orchestrator.GitHubActionsOrchestrator.validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">stack_validator</span><span class="o">.</span><span class="n">StackValidator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Validator that ensures that the stack is compatible.</p>
<p>Makes sure that the stack contains a container registry and only
remote components.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.stack.stack_validator.StackValidator]</code></td>
      <td><p>The stack validator.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.github.orchestrators.github_actions_orchestrator.GitHubActionsOrchestrator.workflow_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">workflow_directory</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns path to the GitHub workflows directory.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The GitHub workflows directory.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.github.orchestrators.github_actions_orchestrator.GitHubActionsOrchestrator.get_docker_image_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_docker_image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the full docker image name including registry and tag.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the pipeline for which to generate a docker
image name.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The docker image name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/orchestrators/github_actions_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_docker_image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the full docker image name including registry and tag.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: Name of the pipeline for which to generate a docker</span>
<span class="sd">            image name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The docker image name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">container_registry</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>
    <span class="k">assert</span> <span class="n">container_registry</span>  <span class="c1"># should never happen due to validation</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="si">}</span><span class="s2">/zenml-github-actions:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.github.orchestrators.github_actions_orchestrator.GitHubActionsOrchestrator.prepare_or_run_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_or_run_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sorted_steps</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a GitHub Action workflow yaml and optionally pushes it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sorted_steps</code></td>
        <td><code>List[zenml.steps.base_step.BaseStep]</code></td>
        <td><p>List of sorted steps</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>BasePipeline</code></td>
        <td><p>Zenml Pipeline instance</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pb2_pipeline</code></td>
        <td><code>Pipeline</code></td>
        <td><p>Protobuf Pipeline instance</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack the pipeline was run on</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>runtime_configuration</code></td>
        <td><code>RuntimeConfiguration</code></td>
        <td><p>The Runtime configuration of the current run</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If a schedule without a cron expression or with an
invalid cron expression is passed.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/orchestrators/github_actions_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sorted_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">],</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
    <span class="n">pb2_pipeline</span><span class="p">:</span> <span class="n">Pb2Pipeline</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a GitHub Action workflow yaml and optionally pushes it.</span>

<span class="sd">    Args:</span>
<span class="sd">         sorted_steps: List of sorted steps</span>
<span class="sd">         pipeline: Zenml Pipeline instance</span>
<span class="sd">         pb2_pipeline: Protobuf Pipeline instance</span>
<span class="sd">         stack: The stack the pipeline was run on</span>
<span class="sd">         runtime_configuration: The Runtime configuration of the current run</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If a schedule without a cron expression or with an</span>
<span class="sd">            invalid cron expression is passed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">schedule</span> <span class="o">=</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">schedule</span>

    <span class="n">workflow_name</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">name</span>
    <span class="k">if</span> <span class="n">schedule</span><span class="p">:</span>
        <span class="c1"># Add a suffix to the workflow filename so we don&#39;t overwrite</span>
        <span class="c1"># scheduled pipeline by future schedules or single pipeline runs.</span>
        <span class="n">datetime_string</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%y_%m_</span><span class="si">%d</span><span class="s2">_%H_%M_%S&quot;</span><span class="p">)</span>
        <span class="n">workflow_name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;-scheduled-</span><span class="si">{</span><span class="n">datetime_string</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">workflow_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">workflow_directory</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">workflow_name</span><span class="si">}</span><span class="s2">.yaml&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Store the encoded pb2 pipeline once as an environment variable.</span>
    <span class="c1"># We will replace the entrypoint argument later to reduce the size</span>
    <span class="c1"># of the workflow file.</span>
    <span class="n">encoded_pb2_pipeline</span> <span class="o">=</span> <span class="n">string_utils</span><span class="o">.</span><span class="n">b64_encode</span><span class="p">(</span>
        <span class="n">json_format</span><span class="o">.</span><span class="n">MessageToJson</span><span class="p">(</span><span class="n">pb2_pipeline</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">workflow_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">workflow_name</span><span class="p">,</span>
        <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">ENV_ENCODED_ZENML_PIPELINE</span><span class="p">:</span> <span class="n">encoded_pb2_pipeline</span><span class="p">},</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">schedule</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;GitHub Action workflows can only be scheduled using cron &quot;</span>
                <span class="s2">&quot;expressions and not using a periodic schedule. If you &quot;</span>
                <span class="s2">&quot;want to schedule pipelines using this GitHub Action &quot;</span>
                <span class="s2">&quot;orchestrator, please include a cron expression in your &quot;</span>
                <span class="s2">&quot;schedule object. For more information on GitHub workflow &quot;</span>
                <span class="s2">&quot;schedules check out https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># GitHub workflows requires a schedule interval of at least 5</span>
        <span class="c1"># minutes. Invalid cron expressions would be something like</span>
        <span class="c1"># `*/3 * * * *` (all stars except the first part of the expression,</span>
        <span class="c1"># which will have the format `*/minute_interval`)</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\*/[1-4]( \*){4,}&quot;</span><span class="p">,</span> <span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;GitHub workflows requires a schedule interval of at &quot;</span>
                <span class="s2">&quot;least 5 minutes which is incompatible with your cron &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;expression &#39;</span><span class="si">{</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="si">}</span><span class="s2">&#39;. An example of a &quot;</span>
                <span class="s2">&quot;valid cron expression would be &#39;* 1 * * *&#39; to run &quot;</span>
                <span class="s2">&quot;every hour. For more information on GitHub workflow &quot;</span>
                <span class="s2">&quot;schedules check out https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule.&quot;</span>
            <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;GitHub only runs scheduled workflows once the &quot;</span>
            <span class="s2">&quot;workflow file is merged to the default branch of the &quot;</span>
            <span class="s2">&quot;repository (https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-branches#about-the-default-branch). &quot;</span>
            <span class="s2">&quot;Please make sure to merge your current branch into the &quot;</span>
            <span class="s2">&quot;default branch for this scheduled pipeline to run.&quot;</span>
        <span class="p">)</span>
        <span class="n">workflow_dict</span><span class="p">[</span><span class="s2">&quot;on&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;schedule&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;cron&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">}]</span>
        <span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># The pipeline should only run once. The only fool-proof way to</span>
        <span class="c1"># only execute a workflow once seems to be running on specific tags.</span>
        <span class="c1"># We don&#39;t want to create tags for each pipeline run though, so</span>
        <span class="c1"># instead we only run this workflow if the workflow file is</span>
        <span class="c1"># modified. As long as users don&#39;t manually modify these files this</span>
        <span class="c1"># should be sufficient.</span>
        <span class="n">workflow_path_in_repo</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span>
            <span class="n">workflow_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="o">.</span><span class="n">working_dir</span>
        <span class="p">)</span>
        <span class="n">workflow_dict</span><span class="p">[</span><span class="s2">&quot;on&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;push&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;paths&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">workflow_path_in_repo</span><span class="p">]}}</span>

    <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">image_name</span> <span class="o">=</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>

    <span class="c1"># Prepare the step that writes an environment file which will get</span>
    <span class="c1"># passed to the docker image</span>
    <span class="n">env_file_name</span> <span class="o">=</span> <span class="s2">&quot;.zenml_docker_env&quot;</span>
    <span class="n">write_env_file_step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_write_environment_file_step</span><span class="p">(</span>
        <span class="n">file_name</span><span class="o">=</span><span class="n">env_file_name</span><span class="p">,</span> <span class="n">secrets_manager</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">secrets_manager</span>
    <span class="p">)</span>
    <span class="n">docker_run_args</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">[</span><span class="s2">&quot;--env-file&quot;</span><span class="p">,</span> <span class="n">env_file_name</span><span class="p">]</span> <span class="k">if</span> <span class="n">write_env_file_step</span> <span class="k">else</span> <span class="p">[]</span>
    <span class="p">)</span>

    <span class="c1"># Prepare the docker login step if necessary</span>
    <span class="n">container_registry</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>
    <span class="k">assert</span> <span class="n">container_registry</span>
    <span class="n">docker_login_step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_docker_login_step</span><span class="p">(</span><span class="n">container_registry</span><span class="p">)</span>

    <span class="c1"># The base command that each job will execute with specific arguments</span>
    <span class="n">base_command</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;docker&quot;</span><span class="p">,</span>
        <span class="s2">&quot;run&quot;</span><span class="p">,</span>
        <span class="o">*</span><span class="n">docker_run_args</span><span class="p">,</span>
        <span class="n">image_name</span><span class="p">,</span>
    <span class="p">]</span> <span class="o">+</span> <span class="n">GitHubActionsEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>

    <span class="n">jobs</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span><span class="p">:</span>
        <span class="n">job_steps</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Copy the shared dicts here to avoid creating yaml anchors (which</span>
        <span class="c1"># are currently not supported in GitHub workflow yaml files)</span>
        <span class="k">if</span> <span class="n">write_env_file_step</span><span class="p">:</span>
            <span class="n">job_steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">write_env_file_step</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">docker_login_step</span><span class="p">:</span>
            <span class="n">job_steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">docker_login_step</span><span class="p">))</span>

        <span class="n">entrypoint_args</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">GitHubActionsEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
                <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
                <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Replace the encoded string by a global environment variable to</span>
        <span class="c1"># keep the workflow file small</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">entrypoint_args</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">PIPELINE_JSON_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">entrypoint_args</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">ENV_ENCODED_ZENML_PIPELINE</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">command</span> <span class="o">=</span> <span class="n">base_command</span> <span class="o">+</span> <span class="n">entrypoint_args</span>
        <span class="n">docker_run_step</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Run the docker image&quot;</span><span class="p">,</span>
            <span class="s2">&quot;run&quot;</span><span class="p">:</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">command</span><span class="p">),</span>
        <span class="p">}</span>

        <span class="n">job_steps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">docker_run_step</span><span class="p">)</span>
        <span class="n">job_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;runs-on&quot;</span><span class="p">:</span> <span class="s2">&quot;ubuntu-latest&quot;</span><span class="p">,</span>
            <span class="s2">&quot;needs&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_upstream_step_names</span><span class="p">(</span>
                <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span>
            <span class="p">),</span>
            <span class="s2">&quot;steps&quot;</span><span class="p">:</span> <span class="n">job_steps</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">jobs</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">job_dict</span>

    <span class="n">workflow_dict</span><span class="p">[</span><span class="s2">&quot;jobs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">jobs</span>

    <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workflow_directory</span><span class="p">)</span>
    <span class="n">yaml_utils</span><span class="o">.</span><span class="n">write_yaml</span><span class="p">(</span><span class="n">workflow_path</span><span class="p">,</span> <span class="n">workflow_dict</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Wrote GitHub workflow file to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">workflow_path</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">push</span><span class="p">:</span>
        <span class="c1"># Add, commit and push the pipeline workflow yaml</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">workflow_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span>
            <span class="s2">&quot;[ZenML GitHub Actions Orchestrator] Add github workflow for &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;pipeline </span><span class="si">{</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="o">.</span><span class="n">remote</span><span class="p">()</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Pushed workflow file &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">,</span> <span class="n">workflow_path</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Automatically committing and pushing is disabled for this &quot;</span>
            <span class="s2">&quot;orchestrator. To run the pipeline, you&#39;ll have to commit and &quot;</span>
            <span class="s2">&quot;push the workflow file &#39;</span><span class="si">%s</span><span class="s2">&#39; manually.</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="s2">&quot;If you want to update this orchestrator to automatically &quot;</span>
            <span class="s2">&quot;commit and push in the future, run &quot;</span>
            <span class="s2">&quot;`zenml orchestrator update </span><span class="si">%s</span><span class="s2"> --push=true`&quot;</span><span class="p">,</span>
            <span class="n">workflow_path</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.github.orchestrators.github_actions_orchestrator.GitHubActionsOrchestrator.prepare_pipeline_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_pipeline_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Builds and uploads a docker image.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>BasePipeline</code></td>
        <td><p>The pipeline for which the image is built.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack on which the pipeline will be executed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>runtime_configuration</code></td>
        <td><code>RuntimeConfiguration</code></td>
        <td><p>Runtime configuration for the pipeline run.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the orchestrator should only run in a clean git
repository and the repository is dirty.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/orchestrators/github_actions_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Builds and uploads a docker image.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline: The pipeline for which the image is built.</span>
<span class="sd">        stack: The stack on which the pipeline will be executed.</span>
<span class="sd">        runtime_configuration: Runtime configuration for the pipeline run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the orchestrator should only run in a clean git</span>
<span class="sd">            repository and the repository is dirty.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_dirty_repository_check</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="o">.</span><span class="n">is_dirty</span><span class="p">(</span>
        <span class="n">untracked_files</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Trying to run a pipeline from within a dirty (=containing &quot;</span>
            <span class="s2">&quot;untracked/uncommitted files) git repository.&quot;</span>
            <span class="s2">&quot;If you want this orchestrator to skip the dirty repo check in &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;the future, run</span><span class="se">\n</span><span class="s2"> `zenml orchestrator update </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="s2">&quot;--skip_dirty_repository_check=true`&quot;</span>
        <span class="p">)</span>

    <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">requirements</span> <span class="o">=</span> <span class="p">{</span><span class="o">*</span><span class="n">stack</span><span class="o">.</span><span class="n">requirements</span><span class="p">(),</span> <span class="o">*</span><span class="n">pipeline</span><span class="o">.</span><span class="n">requirements</span><span class="p">}</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Github actions docker image requirements: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">requirements</span>
    <span class="p">)</span>

    <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
        <span class="n">build_context_path</span><span class="o">=</span><span class="n">source_utils</span><span class="o">.</span><span class="n">get_source_root_path</span><span class="p">(),</span>
        <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
        <span class="n">dockerignore_path</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">dockerignore_file</span><span class="p">,</span>
        <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
        <span class="n">base_image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">custom_docker_base_image_name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>  <span class="c1"># should never happen due to validation</span>
    <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span><span class="o">.</span><span class="n">push_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>

    <span class="c1"># Store the docker image digest in the runtime configuration so it gets</span>
    <span class="c1"># tracked in the ZenStore</span>
    <span class="n">image_digest</span> <span class="o">=</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>
    <span class="n">runtime_configuration</span><span class="p">[</span><span class="s2">&quot;docker_image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">image_digest</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.github.secrets_managers" class="doc doc-heading">
        <code>secrets_managers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the GitHub Secrets Manager.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.github.secrets_managers.github_secrets_manager" class="doc doc-heading">
        <code>github_secrets_manager</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the GitHub Secrets Manager.</p>



  <div class="doc doc-children">















  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.github.secrets_managers.github_secrets_manager.GitHubSecretsManager" class="doc doc-heading">
        <code>
GitHubSecretsManager            (<a class="autorefs autorefs-internal" title="zenml.secrets_managers.base_secrets_manager.BaseSecretsManager" href="../secrets_managers/#zenml.secrets_managers.base_secrets_manager.BaseSecretsManager">BaseSecretsManager</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Class to interact with the GitHub secrets manager.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>owner</code></td>
        <td><code>str</code></td>
        <td><p>The owner (either individual or organization) of the repository.</p></td>
      </tr>
      <tr>
        <td><code>repository</code></td>
        <td><code>str</code></td>
        <td><p>Name of the GitHub repository.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/secrets_managers/github_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GitHubSecretsManager</span><span class="p">(</span><span class="n">BaseSecretsManager</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class to interact with the GitHub secrets manager.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        owner: The owner (either individual or organization) of the repository.</span>
<span class="sd">        repository: Name of the GitHub repository.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">owner</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">repository</span><span class="p">:</span> <span class="nb">str</span>

    <span class="n">_session</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Class configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">GITHUB_SECRET_MANAGER_FLAVOR</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">post_registration_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Info message regarding GitHub API authentication env variables.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The info message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AUTHENTICATION_CREDENTIALS_MESSAGE</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">session</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Session to send requests to the GitHub API.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Session to use for GitHub API calls.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If authentication credentials for the GitHub API are</span>
<span class="sd">                not set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">:</span>
            <span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
            <span class="n">github_username</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">ENV_GITHUB_USERNAME</span><span class="p">)</span>
            <span class="n">authentication_token</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">ENV_GITHUB_AUTHENTICATION_TOKEN</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">github_username</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">authentication_token</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;Missing authentication credentials for GitHub secrets &quot;</span>
                    <span class="s2">&quot;manager. &quot;</span> <span class="o">+</span> <span class="n">AUTHENTICATION_CREDENTIALS_MESSAGE</span>
                <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">auth</span> <span class="o">=</span> <span class="n">HTTPBasicAuth</span><span class="p">(</span><span class="n">github_username</span><span class="p">,</span> <span class="n">authentication_token</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Accept&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;application/vnd.github.v3+json&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="n">session</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span>

    <span class="k">def</span> <span class="nf">_send_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">resource</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Sends an HTTP request to the GitHub API.</span>

<span class="sd">        Args:</span>
<span class="sd">            method: Method of the HTTP request that should be sent.</span>
<span class="sd">            resource: Optional resource to which the request should be sent. If</span>
<span class="sd">                none is given, the default GitHub API secrets endpoint will be</span>
<span class="sd">                used.</span>
<span class="sd">            **kwargs: Will be passed to the `requests` library.</span>

<span class="sd">        Returns:</span>
<span class="sd">            HTTP response.</span>

<span class="sd">        # noqa: DAR402</span>

<span class="sd">        Raises:</span>
<span class="sd">            HTTPError: If the request failed due to a client or server error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://api.github.com/repos/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">repository</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;/actions/secrets&quot;</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">resource</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">+=</span> <span class="n">resource</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># Raise an exception in case of a client or server error</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">response</span>

    <span class="k">def</span> <span class="nf">_encrypt_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Encrypts a secret value.</span>

<span class="sd">        This method first fetches a public key from the GitHub API and then uses</span>
<span class="sd">        this key to encrypt the secret value. This is needed in order to</span>
<span class="sd">        register GitHub secrets using the API.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_value: Secret value to encrypt.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The encrypted secret value and the key id of the GitHub public key.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">nacl.encoding</span> <span class="kn">import</span> <span class="n">Base64Encoder</span>
        <span class="kn">from</span> <span class="nn">nacl.public</span> <span class="kn">import</span> <span class="n">PublicKey</span><span class="p">,</span> <span class="n">SealedBox</span>

        <span class="n">response_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">resource</span><span class="o">=</span><span class="s2">&quot;/public-key&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">public_key</span> <span class="o">=</span> <span class="n">PublicKey</span><span class="p">(</span>
            <span class="n">response_json</span><span class="p">[</span><span class="s2">&quot;key&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span> <span class="n">Base64Encoder</span>
        <span class="p">)</span>
        <span class="n">sealed_box</span> <span class="o">=</span> <span class="n">SealedBox</span><span class="p">(</span><span class="n">public_key</span><span class="p">)</span>
        <span class="n">encrypted_bytes</span> <span class="o">=</span> <span class="n">sealed_box</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span><span class="n">secret_value</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
        <span class="n">encrypted_string</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">encrypted_bytes</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">encrypted_string</span><span class="p">,</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">response_json</span><span class="p">[</span><span class="s2">&quot;key_id&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_has_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks whether a secret exists for the given name.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_name: Name of the secret which should be checked.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if a secret with the given name exists, `False` otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">secret_name</span> <span class="o">=</span> <span class="n">_convert_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">remove_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">secret_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">(</span><span class="n">include_prefix</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseSecretSchema</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the value of a secret.</span>

<span class="sd">        This method only works when called from within a GitHub Actions</span>
<span class="sd">        environment.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_name: The name of the secret to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If a secret with this name doesn&#39;t exist.</span>
<span class="sd">            RuntimeError: If not inside a GitHub Actions environments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">full_secret_name</span> <span class="o">=</span> <span class="n">_convert_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">add_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="c1"># Raise a KeyError if the secret doesn&#39;t exist. We can do that even</span>
        <span class="c1"># if we&#39;re not inside a GitHub Actions environment</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_secret</span><span class="p">(</span><span class="n">secret_name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to find secret &#39;</span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&#39;. Please check the &quot;</span>
                <span class="s2">&quot;GitHub UI to see if a **Repository** secret called &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">full_secret_name</span><span class="si">}</span><span class="s2">&#39; exists. (ZenML uses the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">GITHUB_SECRET_PREFIX</span><span class="si">}</span><span class="s2">&#39; to differentiate ZenML &quot;</span>
                <span class="s2">&quot;secrets from other GitHub secrets)&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">inside_github_action_environment</span><span class="p">():</span>
            <span class="n">stack_name</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack_name</span>
            <span class="n">commands</span> <span class="o">=</span> <span class="p">[</span>
                <span class="sa">f</span><span class="s2">&quot;zenml stack copy </span><span class="si">{</span><span class="n">stack_name</span><span class="si">}</span><span class="s2"> &lt;NEW_STACK_NAME&gt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;zenml secrets_manager register &lt;NEW_SECRETS_MANAGER_NAME&gt; &quot;</span>
                <span class="s2">&quot;--flavor=local&quot;</span><span class="p">,</span>
                <span class="s2">&quot;zenml stack update &lt;NEW_STACK_NAME&gt; &quot;</span>
                <span class="s2">&quot;--secrets_manager=&lt;NEW_SECRETS_MANAGER_NAME&gt;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;zenml stack set &lt;NEW_STACK_NAME&gt;&quot;</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;zenml secret register </span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2"> ...&quot;</span><span class="p">,</span>
            <span class="p">]</span>

            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Getting GitHub secrets is only possible within a GitHub &quot;</span>
                <span class="s2">&quot;Actions workflow. If you need this secret to access &quot;</span>
                <span class="s2">&quot;stack components (e.g. your metadata store to fetch pipelines &quot;</span>
                <span class="s2">&quot;during the post-execution workflow) locally, you need to &quot;</span>
                <span class="s2">&quot;register this secret in a different secrets manager. &quot;</span>
                <span class="s2">&quot;You can do this by running the following commands: </span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">commands</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="c1"># If we&#39;re running inside an GitHub Actions environment using the a</span>
        <span class="c1"># workflow generated by the GitHub Actions orchestrator, all ZenML</span>
        <span class="c1"># secrets stored in the GitHub secrets manager will be accessible as</span>
        <span class="c1"># environment variables</span>
        <span class="n">secret_value</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">full_secret_name</span><span class="p">))</span>

        <span class="n">secret_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">string_utils</span><span class="o">.</span><span class="n">b64_decode</span><span class="p">(</span><span class="n">secret_value</span><span class="p">))</span>
        <span class="n">schema_class</span> <span class="o">=</span> <span class="n">SecretSchemaClassRegistry</span><span class="o">.</span><span class="n">get_class</span><span class="p">(</span>
            <span class="n">secret_schema</span><span class="o">=</span><span class="n">secret_dict</span><span class="p">[</span><span class="n">SECRET_SCHEMA_DICT_KEY</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">secret_content</span> <span class="o">=</span> <span class="n">secret_dict</span><span class="p">[</span><span class="n">SECRET_CONTENT_DICT_KEY</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">schema_class</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span> <span class="o">**</span><span class="n">secret_content</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_prefix</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get all secret keys.</span>

<span class="sd">        If we&#39;re running inside a GitHub Actions environment, this will return</span>
<span class="sd">        the names of all environment variables starting with a ZenML internal</span>
<span class="sd">        prefix. Otherwise, this will return all GitHub **Repository** secrets</span>
<span class="sd">        created by ZenML.</span>

<span class="sd">        Args:</span>
<span class="sd">            include_prefix: Whether or not the internal prefix that is used to</span>
<span class="sd">                differentiate ZenML secrets from other GitHub secrets should be</span>
<span class="sd">                included in the returned names.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of all secret keys.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">inside_github_action_environment</span><span class="p">():</span>
            <span class="n">potential_secret_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Fetching list of secrets for repository </span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">repository</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;per_page&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">})</span>
            <span class="n">potential_secret_keys</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">secret_dict</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">secret_dict</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;secrets&quot;</span><span class="p">]</span>
            <span class="p">]</span>

        <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">_convert_secret_name</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">remove_prefix</span><span class="o">=</span><span class="ow">not</span> <span class="n">include_prefix</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">potential_secret_keys</span>
            <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">GITHUB_SECRET_PREFIX</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="k">return</span> <span class="n">keys</span>

    <span class="k">def</span> <span class="nf">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Registers a new secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: The secret to register.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SecretExistsError: If a secret with this name already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_secret</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SecretExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;A secret with name &#39;</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; already exists for this &quot;</span>
                <span class="s2">&quot;GitHub repository. If you want to register a new value for &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;this secret, please run `zenml secret delete </span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;followed by `zenml secret register </span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> ...`.&quot;</span>
            <span class="p">)</span>

        <span class="n">secret_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">SECRET_SCHEMA_DICT_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">TYPE</span><span class="p">,</span>
            <span class="n">SECRET_CONTENT_DICT_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">content</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">secret_value</span> <span class="o">=</span> <span class="n">string_utils</span><span class="o">.</span><span class="n">b64_encode</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret_dict</span><span class="p">))</span>
        <span class="n">encrypted_secret</span><span class="p">,</span> <span class="n">public_key_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_encrypt_secret</span><span class="p">(</span>
            <span class="n">secret_value</span><span class="o">=</span><span class="n">secret_value</span>
        <span class="p">)</span>
        <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;encrypted_value&quot;</span><span class="p">:</span> <span class="n">encrypted_secret</span><span class="p">,</span>
            <span class="s2">&quot;key_id&quot;</span><span class="p">:</span> <span class="n">public_key_id</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">full_secret_name</span> <span class="o">=</span> <span class="n">_convert_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">add_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="n">resource</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/</span><span class="si">{</span><span class="n">full_secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">body</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NoReturn</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Update an existing secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: The secret to update.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Always, as this functionality is not possible</span>
<span class="sd">                using GitHub secrets which doesn&#39;t allow us to retrieve the</span>
<span class="sd">                secret values outside of a GitHub Actions environment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="s2">&quot;Updating secrets is not possible with the GitHub secrets manager &quot;</span>
            <span class="s2">&quot;as it is not possible to retrieve GitHub secrets values outside &quot;</span>
            <span class="s2">&quot;of a GitHub Actions environment.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete an existing secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_name: The name of the secret to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">full_secret_name</span> <span class="o">=</span> <span class="n">_convert_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">add_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span> <span class="n">resource</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/</span><span class="si">{</span><span class="n">full_secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete all existing secrets.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">secret_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">(</span><span class="n">include_prefix</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">secret_name</span><span class="o">=</span><span class="n">secret_name</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.github.secrets_managers.github_secrets_manager.GitHubSecretsManager.post_registration_message" class="doc doc-heading">
<code class="highlight language-python"><span class="n">post_registration_message</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Info message regarding GitHub API authentication env variables.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The info message.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.github.secrets_managers.github_secrets_manager.GitHubSecretsManager.session" class="doc doc-heading">
<code class="highlight language-python"><span class="n">session</span><span class="p">:</span> <span class="n">Session</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Session to send requests to the GitHub API.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Session</code></td>
      <td><p>Session to use for GitHub API calls.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If authentication credentials for the GitHub API are
not set.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.github.secrets_managers.github_secrets_manager.GitHubSecretsManager.delete_all_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Delete all existing secrets.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/secrets_managers/github_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete all existing secrets.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">secret_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">(</span><span class="n">include_prefix</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">secret_name</span><span class="o">=</span><span class="n">secret_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.github.secrets_managers.github_secrets_manager.GitHubSecretsManager.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Delete an existing secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the secret to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/secrets_managers/github_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete an existing secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: The name of the secret to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">full_secret_name</span> <span class="o">=</span> <span class="n">_convert_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">add_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span> <span class="n">resource</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/</span><span class="si">{</span><span class="n">full_secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.github.secrets_managers.github_secrets_manager.GitHubSecretsManager.get_all_secret_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_prefix</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Get all secret keys.</p>
<p>If we're running inside a GitHub Actions environment, this will return
the names of all environment variables starting with a ZenML internal
prefix. Otherwise, this will return all GitHub <strong>Repository</strong> secrets
created by ZenML.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>include_prefix</code></td>
        <td><code>bool</code></td>
        <td><p>Whether or not the internal prefix that is used to
differentiate ZenML secrets from other GitHub secrets should be
included in the returned names.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>List of all secret keys.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/secrets_managers/github_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_prefix</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get all secret keys.</span>

<span class="sd">    If we&#39;re running inside a GitHub Actions environment, this will return</span>
<span class="sd">    the names of all environment variables starting with a ZenML internal</span>
<span class="sd">    prefix. Otherwise, this will return all GitHub **Repository** secrets</span>
<span class="sd">    created by ZenML.</span>

<span class="sd">    Args:</span>
<span class="sd">        include_prefix: Whether or not the internal prefix that is used to</span>
<span class="sd">            differentiate ZenML secrets from other GitHub secrets should be</span>
<span class="sd">            included in the returned names.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of all secret keys.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">inside_github_action_environment</span><span class="p">():</span>
        <span class="n">potential_secret_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Fetching list of secrets for repository </span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">repository</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;per_page&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">})</span>
        <span class="n">potential_secret_keys</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">secret_dict</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">secret_dict</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;secrets&quot;</span><span class="p">]</span>
        <span class="p">]</span>

    <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">_convert_secret_name</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">remove_prefix</span><span class="o">=</span><span class="ow">not</span> <span class="n">include_prefix</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">potential_secret_keys</span>
        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">GITHUB_SECRET_PREFIX</span><span class="p">)</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="n">keys</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.github.secrets_managers.github_secrets_manager.GitHubSecretsManager.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Gets the value of a secret.</p>
<p>This method only works when called from within a GitHub Actions
environment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the secret to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseSecretSchema</code></td>
      <td><p>The secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If a secret with this name doesn't exist.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If not inside a GitHub Actions environments.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/secrets_managers/github_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseSecretSchema</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets the value of a secret.</span>

<span class="sd">    This method only works when called from within a GitHub Actions</span>
<span class="sd">    environment.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: The name of the secret to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If a secret with this name doesn&#39;t exist.</span>
<span class="sd">        RuntimeError: If not inside a GitHub Actions environments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">full_secret_name</span> <span class="o">=</span> <span class="n">_convert_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">add_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1"># Raise a KeyError if the secret doesn&#39;t exist. We can do that even</span>
    <span class="c1"># if we&#39;re not inside a GitHub Actions environment</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_secret</span><span class="p">(</span><span class="n">secret_name</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to find secret &#39;</span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&#39;. Please check the &quot;</span>
            <span class="s2">&quot;GitHub UI to see if a **Repository** secret called &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">full_secret_name</span><span class="si">}</span><span class="s2">&#39; exists. (ZenML uses the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">GITHUB_SECRET_PREFIX</span><span class="si">}</span><span class="s2">&#39; to differentiate ZenML &quot;</span>
            <span class="s2">&quot;secrets from other GitHub secrets)&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">inside_github_action_environment</span><span class="p">():</span>
        <span class="n">stack_name</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack_name</span>
        <span class="n">commands</span> <span class="o">=</span> <span class="p">[</span>
            <span class="sa">f</span><span class="s2">&quot;zenml stack copy </span><span class="si">{</span><span class="n">stack_name</span><span class="si">}</span><span class="s2"> &lt;NEW_STACK_NAME&gt;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;zenml secrets_manager register &lt;NEW_SECRETS_MANAGER_NAME&gt; &quot;</span>
            <span class="s2">&quot;--flavor=local&quot;</span><span class="p">,</span>
            <span class="s2">&quot;zenml stack update &lt;NEW_STACK_NAME&gt; &quot;</span>
            <span class="s2">&quot;--secrets_manager=&lt;NEW_SECRETS_MANAGER_NAME&gt;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;zenml stack set &lt;NEW_STACK_NAME&gt;&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;zenml secret register </span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2"> ...&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Getting GitHub secrets is only possible within a GitHub &quot;</span>
            <span class="s2">&quot;Actions workflow. If you need this secret to access &quot;</span>
            <span class="s2">&quot;stack components (e.g. your metadata store to fetch pipelines &quot;</span>
            <span class="s2">&quot;during the post-execution workflow) locally, you need to &quot;</span>
            <span class="s2">&quot;register this secret in a different secrets manager. &quot;</span>
            <span class="s2">&quot;You can do this by running the following commands: </span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">commands</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># If we&#39;re running inside an GitHub Actions environment using the a</span>
    <span class="c1"># workflow generated by the GitHub Actions orchestrator, all ZenML</span>
    <span class="c1"># secrets stored in the GitHub secrets manager will be accessible as</span>
    <span class="c1"># environment variables</span>
    <span class="n">secret_value</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">full_secret_name</span><span class="p">))</span>

    <span class="n">secret_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">string_utils</span><span class="o">.</span><span class="n">b64_decode</span><span class="p">(</span><span class="n">secret_value</span><span class="p">))</span>
    <span class="n">schema_class</span> <span class="o">=</span> <span class="n">SecretSchemaClassRegistry</span><span class="o">.</span><span class="n">get_class</span><span class="p">(</span>
        <span class="n">secret_schema</span><span class="o">=</span><span class="n">secret_dict</span><span class="p">[</span><span class="n">SECRET_SCHEMA_DICT_KEY</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">secret_content</span> <span class="o">=</span> <span class="n">secret_dict</span><span class="p">[</span><span class="n">SECRET_CONTENT_DICT_KEY</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">schema_class</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span> <span class="o">**</span><span class="n">secret_content</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.github.secrets_managers.github_secrets_manager.GitHubSecretsManager.register_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Registers a new secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>The secret to register.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SecretExistsError</code></td>
        <td><p>If a secret with this name already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/secrets_managers/github_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Registers a new secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The secret to register.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SecretExistsError: If a secret with this name already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_secret</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">SecretExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;A secret with name &#39;</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; already exists for this &quot;</span>
            <span class="s2">&quot;GitHub repository. If you want to register a new value for &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;this secret, please run `zenml secret delete </span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;followed by `zenml secret register </span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> ...`.&quot;</span>
        <span class="p">)</span>

    <span class="n">secret_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">SECRET_SCHEMA_DICT_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">TYPE</span><span class="p">,</span>
        <span class="n">SECRET_CONTENT_DICT_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">content</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">secret_value</span> <span class="o">=</span> <span class="n">string_utils</span><span class="o">.</span><span class="n">b64_encode</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret_dict</span><span class="p">))</span>
    <span class="n">encrypted_secret</span><span class="p">,</span> <span class="n">public_key_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_encrypt_secret</span><span class="p">(</span>
        <span class="n">secret_value</span><span class="o">=</span><span class="n">secret_value</span>
    <span class="p">)</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;encrypted_value&quot;</span><span class="p">:</span> <span class="n">encrypted_secret</span><span class="p">,</span>
        <span class="s2">&quot;key_id&quot;</span><span class="p">:</span> <span class="n">public_key_id</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">full_secret_name</span> <span class="o">=</span> <span class="n">_convert_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">add_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_request</span><span class="p">(</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="n">resource</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/</span><span class="si">{</span><span class="n">full_secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">body</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.github.secrets_managers.github_secrets_manager.GitHubSecretsManager.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Update an existing secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>The secret to update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>NotImplementedError</code></td>
        <td><p>Always, as this functionality is not possible
using GitHub secrets which doesn't allow us to retrieve the
secret values outside of a GitHub Actions environment.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/secrets_managers/github_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NoReturn</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update an existing secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The secret to update.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: Always, as this functionality is not possible</span>
<span class="sd">            using GitHub secrets which doesn&#39;t allow us to retrieve the</span>
<span class="sd">            secret values outside of a GitHub Actions environment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
        <span class="s2">&quot;Updating secrets is not possible with the GitHub secrets manager &quot;</span>
        <span class="s2">&quot;as it is not possible to retrieve GitHub secrets values outside &quot;</span>
        <span class="s2">&quot;of a GitHub Actions environment.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.github.secrets_managers.github_secrets_manager.inside_github_action_environment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inside_github_action_environment</span><span class="p">()</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Returns if the current code is executing in a GitHub Actions environment.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if running in a GitHub Actions environment, <code>False</code> otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/github/secrets_managers/github_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">inside_github_action_environment</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns if the current code is executing in a GitHub Actions environment.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if running in a GitHub Actions environment, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">ENV_IN_GITHUB_ACTIONS</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;true&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.graphviz" class="doc doc-heading">
        <code>graphviz</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the Graphviz integration.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.graphviz.GraphvizIntegration" class="doc doc-heading">
        <code>
GraphvizIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Graphviz integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/graphviz/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GraphvizIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Graphviz integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">GRAPHVIZ</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;graphviz&gt;=0.17&quot;</span><span class="p">]</span>
    <span class="n">SYSTEM_REQUIREMENTS</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;graphviz&quot;</span><span class="p">:</span> <span class="s2">&quot;dot&quot;</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.graphviz.visualizers" class="doc doc-heading">
        <code>visualizers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of Graphviz visualizers.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.graphviz.visualizers.pipeline_run_dag_visualizer" class="doc doc-heading">
        <code>pipeline_run_dag_visualizer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Graphviz pipeline run DAG visualizer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.graphviz.visualizers.pipeline_run_dag_visualizer.PipelineRunDagVisualizer" class="doc doc-heading">
        <code>
PipelineRunDagVisualizer            (<a class="autorefs autorefs-internal" title="zenml.visualizers.base_pipeline_run_visualizer.BasePipelineRunVisualizer" href="../visualizers/#zenml.visualizers.base_pipeline_run_visualizer.BasePipelineRunVisualizer">BasePipelineRunVisualizer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Visualize the lineage of runs in a pipeline.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/graphviz/visualizers/pipeline_run_dag_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineRunDagVisualizer</span><span class="p">(</span><span class="n">BasePipelineRunVisualizer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Visualize the lineage of runs in a pipeline.&quot;&quot;&quot;</span>

    <span class="n">ARTIFACT_DEFAULT_COLOR</span> <span class="o">=</span> <span class="s2">&quot;blue&quot;</span>
    <span class="n">ARTIFACT_CACHED_COLOR</span> <span class="o">=</span> <span class="s2">&quot;green&quot;</span>
    <span class="n">ARTIFACT_SHAPE</span> <span class="o">=</span> <span class="s2">&quot;box&quot;</span>
    <span class="n">ARTIFACT_PREFIX</span> <span class="o">=</span> <span class="s2">&quot;artifact_&quot;</span>
    <span class="n">STEP_COLOR</span> <span class="o">=</span> <span class="s2">&quot;#431D93&quot;</span>
    <span class="n">STEP_SHAPE</span> <span class="o">=</span> <span class="s2">&quot;ellipse&quot;</span>
    <span class="n">STEP_PREFIX</span> <span class="o">=</span> <span class="s2">&quot;step_&quot;</span>
    <span class="n">FONT</span> <span class="o">=</span> <span class="s2">&quot;Roboto&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">:</span> <span class="n">PipelineRunView</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a pipeline lineage diagram using graphviz.</span>

<span class="sd">        Args:</span>
<span class="sd">            object: The pipeline run view to visualize.</span>
<span class="sd">            *args: Additional arguments to pass to the visualization.</span>
<span class="sd">            **kwargs: Additional keyword arguments to pass to the visualization.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A graphviz digraph object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;This integration is not completed yet. Results might be unexpected.&quot;</span>
        <span class="p">)</span>

        <span class="n">dot</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="nb">object</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="c1"># link the steps together</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
            <span class="c1"># add each step as a node</span>
            <span class="n">dot</span><span class="o">.</span><span class="n">node</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">STEP_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                <span class="n">step</span><span class="o">.</span><span class="n">entrypoint_name</span><span class="p">,</span>
                <span class="n">shape</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">STEP_SHAPE</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># for each parent of a step, add an edge</span>

            <span class="k">for</span> <span class="n">artifact_name</span><span class="p">,</span> <span class="n">artifact</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">dot</span><span class="o">.</span><span class="n">node</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artifact_name</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">&quot;</span> <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">artifact</span><span class="o">.</span><span class="n">_data_type</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
                    <span class="n">shape</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_SHAPE</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">dot</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">STEP_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                <span class="p">)</span>

            <span class="k">for</span> <span class="n">artifact_name</span><span class="p">,</span> <span class="n">artifact</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">dot</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">STEP_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                <span class="p">)</span>

        <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.html&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">dot</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;png&quot;</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cleanup</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dot</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

















  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.graphviz.visualizers.pipeline_run_dag_visualizer.PipelineRunDagVisualizer.visualize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Creates a pipeline lineage diagram using graphviz.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>object</code></td>
        <td><code>PipelineRunView</code></td>
        <td><p>The pipeline run view to visualize.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional arguments to pass to the visualization.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the visualization.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Digraph</code></td>
      <td><p>A graphviz digraph object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/graphviz/visualizers/pipeline_run_dag_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">:</span> <span class="n">PipelineRunView</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a pipeline lineage diagram using graphviz.</span>

<span class="sd">    Args:</span>
<span class="sd">        object: The pipeline run view to visualize.</span>
<span class="sd">        *args: Additional arguments to pass to the visualization.</span>
<span class="sd">        **kwargs: Additional keyword arguments to pass to the visualization.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A graphviz digraph object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
        <span class="s2">&quot;This integration is not completed yet. Results might be unexpected.&quot;</span>
    <span class="p">)</span>

    <span class="n">dot</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Digraph</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="nb">object</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="c1"># link the steps together</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
        <span class="c1"># add each step as a node</span>
        <span class="n">dot</span><span class="o">.</span><span class="n">node</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">STEP_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
            <span class="n">step</span><span class="o">.</span><span class="n">entrypoint_name</span><span class="p">,</span>
            <span class="n">shape</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">STEP_SHAPE</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># for each parent of a step, add an edge</span>

        <span class="k">for</span> <span class="n">artifact_name</span><span class="p">,</span> <span class="n">artifact</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">dot</span><span class="o">.</span><span class="n">node</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artifact_name</span><span class="si">}</span><span class="s2"> </span><span class="se">\n</span><span class="s2">&quot;</span> <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">artifact</span><span class="o">.</span><span class="n">_data_type</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
                <span class="n">shape</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_SHAPE</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">dot</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">STEP_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
            <span class="p">)</span>

        <span class="k">for</span> <span class="n">artifact_name</span><span class="p">,</span> <span class="n">artifact</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">dot</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ARTIFACT_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">STEP_PREFIX</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
            <span class="p">)</span>

    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.html&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">dot</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;png&quot;</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cleanup</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dot</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.great_expectations" class="doc doc-heading">
        <code>great_expectations</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Great Expectation integration for ZenML.</p>
<p>The Great Expectations integration enables you to use Great Expectations as a
way of profiling and validating your data.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.great_expectations.GreatExpectationsIntegration" class="doc doc-heading">
        <code>
GreatExpectationsIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Great Expectations integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GreatExpectationsIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Great Expectations integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">GREAT_EXPECTATIONS</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;great-expectations~=0.15.11&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Activate the Great Expectations integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.great_expectations</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Great Expectations integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">GREAT_EXPECTATIONS_DATA_VALIDATOR_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.great_expectations.data_validators.GreatExpectationsDataValidator&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">DATA_VALIDATOR</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.great_expectations.GreatExpectationsIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Activate the Great Expectations integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Activate the Great Expectations integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.great_expectations</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.great_expectations.GreatExpectationsIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the Great Expectations integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Great Expectations integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">GREAT_EXPECTATIONS_DATA_VALIDATOR_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.great_expectations.data_validators.GreatExpectationsDataValidator&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">DATA_VALIDATOR</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.great_expectations.data_validators" class="doc doc-heading">
        <code>data_validators</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Great Expectations data validator for ZenML.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.great_expectations.data_validators.ge_data_validator" class="doc doc-heading">
        <code>ge_data_validator</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Great Expectations data validator.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.great_expectations.data_validators.ge_data_validator.GreatExpectationsDataValidator" class="doc doc-heading">
        <code>
GreatExpectationsDataValidator            (<a class="autorefs autorefs-internal" title="zenml.data_validators.base_data_validator.BaseDataValidator" href="../data_validators/#zenml.data_validators.base_data_validator.BaseDataValidator">BaseDataValidator</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Great Expectations data validator stack component.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>context_root_dir</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>location of an already initialized Great Expectations
data context. If configured, the data validator will only be usable
with local orchestrators.</p></td>
      </tr>
      <tr>
        <td><code>context_config</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>in-line Great Expectations data context configuration.</p></td>
      </tr>
      <tr>
        <td><code>configure_zenml_stores</code></td>
        <td><code>bool</code></td>
        <td><p>if set, ZenML will automatically configure
stores that use the Artifact Store as a backend. If neither
<code>context_root_dir</code> nor <code>context_config</code> are set, this is the default
behavior.</p></td>
      </tr>
      <tr>
        <td><code>configure_local_docs</code></td>
        <td><code>bool</code></td>
        <td><p>configure a local data docs site where Great
Expectations docs are generated and can be visualized locally.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/data_validators/ge_data_validator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GreatExpectationsDataValidator</span><span class="p">(</span><span class="n">BaseDataValidator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Great Expectations data validator stack component.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        context_root_dir: location of an already initialized Great Expectations</span>
<span class="sd">            data context. If configured, the data validator will only be usable</span>
<span class="sd">            with local orchestrators.</span>
<span class="sd">        context_config: in-line Great Expectations data context configuration.</span>
<span class="sd">        configure_zenml_stores: if set, ZenML will automatically configure</span>
<span class="sd">            stores that use the Artifact Store as a backend. If neither</span>
<span class="sd">            `context_root_dir` nor `context_config` are set, this is the default</span>
<span class="sd">            behavior.</span>
<span class="sd">        configure_local_docs: configure a local data docs site where Great</span>
<span class="sd">            Expectations docs are generated and can be visualized locally.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">context_root_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">context_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">configure_zenml_stores</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">configure_local_docs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">_context</span><span class="p">:</span> <span class="n">BaseDataContext</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">GREAT_EXPECTATIONS_DATA_VALIDATOR_FLAVOR</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;context_root_dir&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_ensure_valid_context_root_dir</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">context_root_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Ensures that the root directory is an absolute path and points to an existing path.</span>

<span class="sd">        Args:</span>
<span class="sd">            context_root_dir: The context_root_dir value to validate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The context_root_dir if it is valid.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the context_root_dir is not valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">context_root_dir</span><span class="p">:</span>
            <span class="n">context_root_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">context_root_dir</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">context_root_dir</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The Great Expectations context_root_dir value doesn&#39;t &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;point to an existing data context path: </span><span class="si">{</span><span class="n">context_root_dir</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="n">context_root_dir</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_convert_context_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Converts context_config from JSON/YAML string format to a dict.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: Values passed to the object constructor</span>

<span class="sd">        Returns:</span>
<span class="sd">            Values passed to the object constructor</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the context_config value is not a valid JSON/YAML or</span>
<span class="sd">                if the GE configuration extracted from it fails GE validation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">context_config</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;context_config&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">context_config</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">context_config</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">context_config_dict</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">context_config</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">yaml</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">ParserError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Malformed `context_config` value. Only JSON and YAML formats &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;are supported: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">context_config</span> <span class="o">=</span> <span class="n">DataContextConfig</span><span class="p">(</span><span class="o">**</span><span class="n">context_config_dict</span><span class="p">)</span>
                <span class="n">BaseDataContext</span><span class="p">(</span><span class="n">project_config</span><span class="o">=</span><span class="n">context_config</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid `context_config` value: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">values</span><span class="p">[</span><span class="s2">&quot;context_config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">context_config_dict</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_data_context</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseDataContext</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the Great Expectations data context managed by ZenML.</span>

<span class="sd">        Call this method to retrieve the data context managed by ZenML</span>
<span class="sd">        through the active Great Expectations data validator stack component.</span>
<span class="sd">        The default context as returned by the GE `get_context()` call will be</span>
<span class="sd">        returned if a Great Expectations data validator component is not present</span>
<span class="sd">        in the active stack.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A Great Expectations data context managed by ZenML as configured</span>
<span class="sd">            through the active data validator stack component, or the default</span>
<span class="sd">            data context if a Great Expectations data validator stack component</span>
<span class="sd">            is not present in the active stack.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">repo</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span><span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[call-arg]</span>
        <span class="n">data_validator</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">data_validator</span>
        <span class="k">if</span> <span class="n">data_validator</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data_validator</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">data_validator</span><span class="o">.</span><span class="n">data_context</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The active stack does not include a Great Expectations data &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;validator component. It is highly recommended to register one to &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;be able to configure Great Expectations and use it together &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;with ZenML in a consistent manner that uses the same &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;configuration across different stack configurations and runtime &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;environments. You can create a new stack with a Great &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Expectations data validator component or update your existing &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;stack to add this component, e.g.:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  `zenml data-validator register great_expectations &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;--flavor=</span><span class="si">{</span><span class="n">GREAT_EXPECTATIONS_DATA_VALIDATOR_FLAVOR</span><span class="si">}</span><span class="s2"> ...`</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  `zenml stack register stack-name -dv great_expectations ...`</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  or:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  `zenml stack update stack-name -dv great_expectations`</span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Defaulting to the local Great Expectations data context...&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">ge</span><span class="o">.</span><span class="n">get_context</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">local_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return a local path where this component stores information.</span>

<span class="sd">        If an existing local GE data context is used, it is</span>
<span class="sd">        interpreted as a local path that needs to be accessible in</span>
<span class="sd">        all runtime environments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The local path where this component stores information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">context_root_dir</span>

    <span class="k">def</span> <span class="nf">get_store_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Generate a Great Expectations store configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            class_name: The store class name</span>
<span class="sd">            prefix: The path prefix for the ZenML store configuration</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary with the GE store configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="n">class_name</span><span class="p">,</span>
            <span class="s2">&quot;store_backend&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;module_name&quot;</span><span class="p">:</span> <span class="n">ZenMLArtifactStoreBackend</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span>
                <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="n">ZenMLArtifactStoreBackend</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">prefix</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_data_docs_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">local</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Generate Great Expectations data docs configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            prefix: The path prefix for the ZenML data docs configuration</span>
<span class="sd">            local: Whether the data docs site is local or remote.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary with the GE data docs site configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">local</span><span class="p">:</span>
            <span class="n">store_backend</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;TupleFilesystemStoreBackend&quot;</span><span class="p">,</span>
                <span class="s2">&quot;base_directory&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">prefix</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">store_backend</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;module_name&quot;</span><span class="p">:</span> <span class="n">ZenMLArtifactStoreBackend</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span>
                <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="n">ZenMLArtifactStoreBackend</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">prefix</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">}</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;SiteBuilder&quot;</span><span class="p">,</span>
            <span class="s2">&quot;store_backend&quot;</span><span class="p">:</span> <span class="n">store_backend</span><span class="p">,</span>
            <span class="s2">&quot;site_index_builder&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;DefaultSiteIndexBuilder&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data_context</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseDataContext</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the Great Expectations data context configured for this component.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Great Expectations data context configured for this component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">:</span>
            <span class="n">expectations_store_name</span> <span class="o">=</span> <span class="s2">&quot;zenml_expectations_store&quot;</span>
            <span class="n">validations_store_name</span> <span class="o">=</span> <span class="s2">&quot;zenml_validations_store&quot;</span>
            <span class="n">checkpoint_store_name</span> <span class="o">=</span> <span class="s2">&quot;zenml_checkpoint_store&quot;</span>
            <span class="n">profiler_store_name</span> <span class="o">=</span> <span class="s2">&quot;zenml_profiler_store&quot;</span>
            <span class="n">evaluation_parameter_store_name</span> <span class="o">=</span> <span class="s2">&quot;evaluation_parameter_store&quot;</span>

            <span class="n">zenml_context_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">stores</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">expectations_store_name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_store_config</span><span class="p">(</span>
                        <span class="s2">&quot;ExpectationsStore&quot;</span><span class="p">,</span> <span class="s2">&quot;expectations&quot;</span>
                    <span class="p">),</span>
                    <span class="n">validations_store_name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_store_config</span><span class="p">(</span>
                        <span class="s2">&quot;ValidationsStore&quot;</span><span class="p">,</span> <span class="s2">&quot;validations&quot;</span>
                    <span class="p">),</span>
                    <span class="n">checkpoint_store_name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_store_config</span><span class="p">(</span>
                        <span class="s2">&quot;CheckpointStore&quot;</span><span class="p">,</span> <span class="s2">&quot;checkpoints&quot;</span>
                    <span class="p">),</span>
                    <span class="n">profiler_store_name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_store_config</span><span class="p">(</span>
                        <span class="s2">&quot;ProfilerStore&quot;</span><span class="p">,</span> <span class="s2">&quot;profilers&quot;</span>
                    <span class="p">),</span>
                    <span class="n">evaluation_parameter_store_name</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;EvaluationParameterStore&quot;</span>
                    <span class="p">},</span>
                <span class="p">},</span>
                <span class="n">expectations_store_name</span><span class="o">=</span><span class="n">expectations_store_name</span><span class="p">,</span>
                <span class="n">validations_store_name</span><span class="o">=</span><span class="n">validations_store_name</span><span class="p">,</span>
                <span class="n">checkpoint_store_name</span><span class="o">=</span><span class="n">checkpoint_store_name</span><span class="p">,</span>
                <span class="n">profiler_store_name</span><span class="o">=</span><span class="n">profiler_store_name</span><span class="p">,</span>
                <span class="n">evaluation_parameter_store_name</span><span class="o">=</span><span class="n">evaluation_parameter_store_name</span><span class="p">,</span>
                <span class="n">data_docs_sites</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;zenml_artifact_store&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_data_docs_config</span><span class="p">(</span>
                        <span class="s2">&quot;data_docs&quot;</span>
                    <span class="p">)</span>
                <span class="p">},</span>
            <span class="p">)</span>

            <span class="n">configure_zenml_stores</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">configure_zenml_stores</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">context_root_dir</span><span class="p">:</span>
                <span class="c1"># initialize the local data context, if a local path was</span>
                <span class="c1"># configured</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="n">DataContext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context_root_dir</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># create an in-memory data context configuration that is not</span>
                <span class="c1"># backed by a local YAML file (see https://docs.greatexpectations.io/docs/guides/setup/configuring_data_contexts/how_to_instantiate_a_data_context_without_a_yml_file/).</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">context_config</span><span class="p">:</span>
                    <span class="n">context_config</span> <span class="o">=</span> <span class="n">DataContextConfig</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">context_config</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">context_config</span> <span class="o">=</span> <span class="n">DataContextConfig</span><span class="p">(</span><span class="o">**</span><span class="n">zenml_context_config</span><span class="p">)</span>
                    <span class="c1"># skip adding the stores after initialization, as they are</span>
                    <span class="c1"># already baked in the initial configuration</span>
                    <span class="n">configure_zenml_stores</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="n">BaseDataContext</span><span class="p">(</span><span class="n">project_config</span><span class="o">=</span><span class="n">context_config</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">configure_zenml_stores</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">expectations_store_name</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">expectations_store_name</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">validations_store_name</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">validations_store_name</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">checkpoint_store_name</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">checkpoint_store_name</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">profiler_store_name</span> <span class="o">=</span> <span class="n">profiler_store_name</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">evaluation_parameter_store_name</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">evaluation_parameter_store_name</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">store_name</span><span class="p">,</span> <span class="n">store_config</span> <span class="ow">in</span> <span class="n">zenml_context_config</span><span class="p">[</span>  <span class="c1"># type: ignore[attr-defined]</span>
                    <span class="s2">&quot;stores&quot;</span>
                <span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="o">.</span><span class="n">add_store</span><span class="p">(</span>
                        <span class="n">store_name</span><span class="o">=</span><span class="n">store_name</span><span class="p">,</span>
                        <span class="n">store_config</span><span class="o">=</span><span class="n">store_config</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">for</span> <span class="n">site_name</span><span class="p">,</span> <span class="n">site_config</span> <span class="ow">in</span> <span class="n">zenml_context_config</span><span class="p">[</span>  <span class="c1"># type: ignore[attr-defined]</span>
                    <span class="s2">&quot;data_docs_sites&quot;</span>
                <span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">data_docs_sites</span><span class="p">[</span>
                        <span class="n">site_name</span>
                    <span class="p">]</span> <span class="o">=</span> <span class="n">site_config</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">configure_local_docs</span><span class="p">:</span>

                <span class="n">repo</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span><span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[call-arg]</span>
                <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span>
                <span class="k">if</span> <span class="n">artifact_store</span><span class="o">.</span><span class="n">FLAVOR</span> <span class="o">!=</span> <span class="s2">&quot;local&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">data_docs_sites</span><span class="p">[</span>
                        <span class="s2">&quot;zenml_local&quot;</span>
                    <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_data_docs_config</span><span class="p">(</span><span class="s2">&quot;data_docs&quot;</span><span class="p">,</span> <span class="n">local</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">root_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to the root directory for all local files concerning this data validator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the root directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">io_utils</span><span class="o">.</span><span class="n">get_global_config_directory</span><span class="p">(),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">FLAVOR</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">path</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.great_expectations.data_validators.ge_data_validator.GreatExpectationsDataValidator.data_context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">data_context</span><span class="p">:</span> <span class="n">BaseDataContext</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns the Great Expectations data context configured for this component.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseDataContext</code></td>
      <td><p>The Great Expectations data context configured for this component.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.great_expectations.data_validators.ge_data_validator.GreatExpectationsDataValidator.local_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">local_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Return a local path where this component stores information.</p>
<p>If an existing local GE data context is used, it is
interpreted as a local path that needs to be accessible in
all runtime environments.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The local path where this component stores information.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.great_expectations.data_validators.ge_data_validator.GreatExpectationsDataValidator.root_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">root_directory</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns path to the root directory for all local files concerning this data validator.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Path to the root directory.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.great_expectations.data_validators.ge_data_validator.GreatExpectationsDataValidator.get_data_context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_data_context</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Get the Great Expectations data context managed by ZenML.</p>
<p>Call this method to retrieve the data context managed by ZenML
through the active Great Expectations data validator stack component.
The default context as returned by the GE <code>get_context()</code> call will be
returned if a Great Expectations data validator component is not present
in the active stack.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseDataContext</code></td>
      <td><p>A Great Expectations data context managed by ZenML as configured
through the active data validator stack component, or the default
data context if a Great Expectations data validator stack component
is not present in the active stack.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/data_validators/ge_data_validator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_data_context</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseDataContext</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the Great Expectations data context managed by ZenML.</span>

<span class="sd">    Call this method to retrieve the data context managed by ZenML</span>
<span class="sd">    through the active Great Expectations data validator stack component.</span>
<span class="sd">    The default context as returned by the GE `get_context()` call will be</span>
<span class="sd">    returned if a Great Expectations data validator component is not present</span>
<span class="sd">    in the active stack.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A Great Expectations data context managed by ZenML as configured</span>
<span class="sd">        through the active data validator stack component, or the default</span>
<span class="sd">        data context if a Great Expectations data validator stack component</span>
<span class="sd">        is not present in the active stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">repo</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span><span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[call-arg]</span>
    <span class="n">data_validator</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">data_validator</span>
    <span class="k">if</span> <span class="n">data_validator</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data_validator</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">data_validator</span><span class="o">.</span><span class="n">data_context</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;The active stack does not include a Great Expectations data &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;validator component. It is highly recommended to register one to &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;be able to configure Great Expectations and use it together &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;with ZenML in a consistent manner that uses the same &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;configuration across different stack configurations and runtime &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;environments. You can create a new stack with a Great &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;Expectations data validator component or update your existing &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;stack to add this component, e.g.:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;  `zenml data-validator register great_expectations &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;--flavor=</span><span class="si">{</span><span class="n">GREAT_EXPECTATIONS_DATA_VALIDATOR_FLAVOR</span><span class="si">}</span><span class="s2"> ...`</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;  `zenml stack register stack-name -dv great_expectations ...`</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;  or:</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;  `zenml stack update stack-name -dv great_expectations`</span><span class="se">\n\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;Defaulting to the local Great Expectations data context...&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">ge</span><span class="o">.</span><span class="n">get_context</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.great_expectations.data_validators.ge_data_validator.GreatExpectationsDataValidator.get_data_docs_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_data_docs_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">local</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Generate Great Expectations data docs configuration.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>prefix</code></td>
        <td><code>str</code></td>
        <td><p>The path prefix for the ZenML data docs configuration</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>local</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the data docs site is local or remote.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>A dictionary with the GE data docs site configuration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/data_validators/ge_data_validator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_data_docs_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">local</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Generate Great Expectations data docs configuration.</span>

<span class="sd">    Args:</span>
<span class="sd">        prefix: The path prefix for the ZenML data docs configuration</span>
<span class="sd">        local: Whether the data docs site is local or remote.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary with the GE data docs site configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">local</span><span class="p">:</span>
        <span class="n">store_backend</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;TupleFilesystemStoreBackend&quot;</span><span class="p">,</span>
            <span class="s2">&quot;base_directory&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">prefix</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">store_backend</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;module_name&quot;</span><span class="p">:</span> <span class="n">ZenMLArtifactStoreBackend</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span>
            <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="n">ZenMLArtifactStoreBackend</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">prefix</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;SiteBuilder&quot;</span><span class="p">,</span>
        <span class="s2">&quot;store_backend&quot;</span><span class="p">:</span> <span class="n">store_backend</span><span class="p">,</span>
        <span class="s2">&quot;site_index_builder&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;DefaultSiteIndexBuilder&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.great_expectations.data_validators.ge_data_validator.GreatExpectationsDataValidator.get_store_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_store_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_name</span><span class="p">,</span> <span class="n">prefix</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Generate a Great Expectations store configuration.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>class_name</code></td>
        <td><code>str</code></td>
        <td><p>The store class name</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>prefix</code></td>
        <td><code>str</code></td>
        <td><p>The path prefix for the ZenML store configuration</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>A dictionary with the GE store configuration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/data_validators/ge_data_validator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_store_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">class_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Generate a Great Expectations store configuration.</span>

<span class="sd">    Args:</span>
<span class="sd">        class_name: The store class name</span>
<span class="sd">        prefix: The path prefix for the ZenML store configuration</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary with the GE store configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="n">class_name</span><span class="p">,</span>
        <span class="s2">&quot;store_backend&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;module_name&quot;</span><span class="p">:</span> <span class="n">ZenMLArtifactStoreBackend</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span>
            <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="n">ZenMLArtifactStoreBackend</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">prefix</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.great_expectations.ge_store_backend" class="doc doc-heading">
        <code>ge_store_backend</code>



</h4>

    <div class="doc doc-contents ">

      <p>Great Expectations store plugin for ZenML.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend" class="doc doc-heading">
        <code>
ZenMLArtifactStoreBackend            (<span title="great_expectations.data_context.store.tuple_store_backend.TupleStoreBackend">TupleStoreBackend</span>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Great Expectations store backend that uses the active ZenML Artifact Store as a store.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/ge_store_backend.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ZenMLArtifactStoreBackend</span><span class="p">(</span><span class="n">TupleStoreBackend</span><span class="p">):</span>  <span class="c1"># type: ignore[misc]</span>
    <span class="sd">&quot;&quot;&quot;Great Expectations store backend that uses the active ZenML Artifact Store as a store.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a Great Expectations ZenML store backend instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            prefix: Subpath prefix to use for this store backend.</span>
<span class="sd">            kwargs: Additional keyword arguments passed by the Great Expectations</span>
<span class="sd">                core. These are transparently passed to the `TupleStoreBackend`</span>
<span class="sd">                constructor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">repo</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span><span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[call-arg]</span>
        <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;great_expectations&quot;</span><span class="p">)</span>

        <span class="c1"># extract the protocol used in the artifact store root path</span>
        <span class="n">protocols</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">scheme</span>
            <span class="k">for</span> <span class="n">scheme</span> <span class="ow">in</span> <span class="n">artifact_store</span><span class="o">.</span><span class="n">SUPPORTED_SCHEMES</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">scheme</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">protocols</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">proto</span> <span class="o">=</span> <span class="n">protocols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">proto</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">if</span> <span class="n">prefix</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">platform_specific_separator</span><span class="p">:</span>
                <span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
            <span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span>

        <span class="c1"># Initialize with store_backend_id if not part of an HTMLSiteStore</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_suppress_store_backend_id</span><span class="p">:</span>
            <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store_backend_id</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="n">prefix</span><span class="p">,</span>
            <span class="s2">&quot;module_name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span>
            <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">filter_properties_dict</span><span class="p">(</span>
            <span class="n">properties</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">,</span> <span class="n">clean_falsy</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_build_object_path</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">is_prefix</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Build a filepath corresponding to an object key.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: Great Expectation object key.</span>
<span class="sd">            is_prefix: If True, the key will be interpreted as a prefix instead</span>
<span class="sd">                of a full key identifier.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The file path pointing to where the object is stored.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">to_tuple</span><span class="p">()</span>  <span class="c1"># type: ignore[attr-defined]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_prefix</span><span class="p">:</span>
            <span class="n">object_relative_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_key_to_filepath</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">object_relative_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="o">*</span><span class="n">key</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">object_relative_path</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">:</span>
            <span class="n">object_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="n">object_relative_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">object_key</span> <span class="o">=</span> <span class="n">object_relative_path</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_path</span><span class="p">,</span> <span class="n">object_key</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the value of an object from the store.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: object key identifier.</span>

<span class="sd">        Raises:</span>
<span class="sd">            InvalidKeyError: if the key doesn&#39;t point to an existing object.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: the object&#39;s contents</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filepath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_object_path</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidKeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to retrieve object from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> with &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;the following Key: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">contents</span>

    <span class="k">def</span> <span class="nf">_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set the value of an object in the store.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: object key identifier.</span>
<span class="sd">            value: object value to set.</span>
<span class="sd">            kwargs: additional keyword arguments (ignored).</span>

<span class="sd">        Returns:</span>
<span class="sd">            The file path where the object was stored.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filepath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_object_path</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
            <span class="n">parent_dir</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">parent_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">filepath</span>

    <span class="k">def</span> <span class="nf">_move</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">source_key</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
        <span class="n">dest_key</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Associate an object with a different key in the store.</span>

<span class="sd">        Args:</span>
<span class="sd">            source_key: current object key identifier.</span>
<span class="sd">            dest_key: new object key identifier.</span>
<span class="sd">            kwargs: additional keyword arguments (ignored).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">source_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_object_path</span><span class="p">(</span><span class="n">source_key</span><span class="p">)</span>
        <span class="n">dest_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_object_path</span><span class="p">(</span><span class="n">dest_key</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">source_path</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">dest_path</span><span class="p">):</span>
                <span class="n">parent_dir</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">dest_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">parent_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">source_path</span><span class="p">,</span> <span class="n">dest_path</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">())</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;List the keys of all objects identified by a partial key.</span>

<span class="sd">        Args:</span>
<span class="sd">            prefix: partial object key identifier.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of keys identifying all objects present in the store that</span>
<span class="sd">            match the input partial key.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">key_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">list_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_object_path</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">is_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">root_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_object_path</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(),</span> <span class="n">is_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">fileio</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">list_path</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">file_</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">root</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_</span><span class="p">)),</span> <span class="n">root_path</span>
                <span class="p">)</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filepath_prefix</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">filepath</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">filepath_prefix</span>
                <span class="p">):</span>
                    <span class="k">continue</span>
                <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">filepath_suffix</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">filepath</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">filepath_suffix</span>
                <span class="p">):</span>
                    <span class="k">continue</span>
                <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_filepath_to_key</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_ignored_key</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
                    <span class="n">key_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">key_list</span>

    <span class="k">def</span> <span class="nf">remove_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete an object from the store.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: object key identifier.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the object existed in the store and was removed, otherwise</span>
<span class="sd">            False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filepath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_object_path</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
                <span class="n">parent_dir</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rrmdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_path</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">parent_dir</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_has_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Check if an object is present in the store.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: object key identifier.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the object is present in the store, otherwise False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filepath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_object_path</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_url_for_key</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">protocol</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the URL of an object in the store.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: object key identifier.</span>
<span class="sd">            protocol: optional protocol to use instead of the store protocol.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The URL of the object in the store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_object_path</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">protocol</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
            <span class="n">protocol</span> <span class="o">=</span> <span class="s2">&quot;file:&quot;</span>
        <span class="k">if</span> <span class="n">protocol</span><span class="p">:</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">filepath</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">proto</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">protocol</span><span class="si">}</span><span class="s2">//&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">filepath</span>

    <span class="k">def</span> <span class="nf">get_public_url_for_key</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">protocol</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the public URL of an object in the store.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: object key identifier.</span>
<span class="sd">            protocol: optional protocol to use instead of the store protocol.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The public URL where the object can be accessed.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StoreBackendError: if a `base_public_path` attribute was not</span>
<span class="sd">                configured for the store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_public_path</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StoreBackendError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Error: No base_public_path was configured! A public URL was &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;requested but `base_public_path` was not configured for the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_key_to_filepath</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="n">public_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_public_path</span> <span class="o">+</span> <span class="n">filepath</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">proto</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">public_url</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">rrmdir</span><span class="p">(</span><span class="n">start_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">end_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Recursively removes empty dirs between start_path and end_path inclusive.</span>

<span class="sd">        Args:</span>
<span class="sd">            start_path: Directory to use as a starting point.</span>
<span class="sd">            end_path: Directory to use as a destination point.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">end_path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">start_path</span> <span class="o">!=</span> <span class="n">end_path</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">rmdir</span><span class="p">(</span><span class="n">end_path</span><span class="p">)</span>
            <span class="n">end_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">end_path</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the store configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The store configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the store configuration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>The store configuration.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create a Great Expectations ZenML store backend instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>prefix</code></td>
        <td><code>str</code></td>
        <td><p>Subpath prefix to use for this store backend.</p></td>
        <td><code>&#39;&#39;</code></td>
      </tr>
      <tr>
        <td><code>kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments passed by the Great Expectations
core. These are transparently passed to the <code>TupleStoreBackend</code>
constructor.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/ge_store_backend.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a Great Expectations ZenML store backend instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        prefix: Subpath prefix to use for this store backend.</span>
<span class="sd">        kwargs: Additional keyword arguments passed by the Great Expectations</span>
<span class="sd">            core. These are transparently passed to the `TupleStoreBackend`</span>
<span class="sd">            constructor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">repo</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span><span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[call-arg]</span>
    <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">root_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;great_expectations&quot;</span><span class="p">)</span>

    <span class="c1"># extract the protocol used in the artifact store root path</span>
    <span class="n">protocols</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">scheme</span>
        <span class="k">for</span> <span class="n">scheme</span> <span class="ow">in</span> <span class="n">artifact_store</span><span class="o">.</span><span class="n">SUPPORTED_SCHEMES</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">scheme</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="n">protocols</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proto</span> <span class="o">=</span> <span class="n">protocols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proto</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">if</span> <span class="n">prefix</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">platform_specific_separator</span><span class="p">:</span>
            <span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span>

    <span class="c1"># Initialize with store_backend_id if not part of an HTMLSiteStore</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_suppress_store_backend_id</span><span class="p">:</span>
        <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">store_backend_id</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="n">prefix</span><span class="p">,</span>
        <span class="s2">&quot;module_name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span>
        <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">filter_properties_dict</span><span class="p">(</span>
        <span class="n">properties</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">,</span> <span class="n">clean_falsy</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.get_public_url_for_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_public_url_for_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">protocol</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get the public URL of an object in the store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>key</code></td>
        <td><code>str</code></td>
        <td><p>object key identifier.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>protocol</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>optional protocol to use instead of the store protocol.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The public URL where the object can be accessed.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StoreBackendError</code></td>
        <td><p>if a <code>base_public_path</code> attribute was not
configured for the store.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/ge_store_backend.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_public_url_for_key</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">protocol</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the public URL of an object in the store.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: object key identifier.</span>
<span class="sd">        protocol: optional protocol to use instead of the store protocol.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The public URL where the object can be accessed.</span>

<span class="sd">    Raises:</span>
<span class="sd">        StoreBackendError: if a `base_public_path` attribute was not</span>
<span class="sd">            configured for the store.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_public_path</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">StoreBackendError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error: No base_public_path was configured! A public URL was &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;requested but `base_public_path` was not configured for the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_key_to_filepath</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="n">public_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_public_path</span> <span class="o">+</span> <span class="n">filepath</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">proto</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">public_url</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.get_url_for_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_url_for_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">protocol</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get the URL of an object in the store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>key</code></td>
        <td><code>Tuple[str, ...]</code></td>
        <td><p>object key identifier.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>protocol</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>optional protocol to use instead of the store protocol.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The URL of the object in the store.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/ge_store_backend.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_url_for_key</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">protocol</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the URL of an object in the store.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: object key identifier.</span>
<span class="sd">        protocol: optional protocol to use instead of the store protocol.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The URL of the object in the store.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_object_path</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">protocol</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
        <span class="n">protocol</span> <span class="o">=</span> <span class="s2">&quot;file:&quot;</span>
    <span class="k">if</span> <span class="n">protocol</span><span class="p">:</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">filepath</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">proto</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">protocol</span><span class="si">}</span><span class="s2">//&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">filepath</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.list_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="p">())</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>List the keys of all objects identified by a partial key.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>prefix</code></td>
        <td><code>Tuple[str, ...]</code></td>
        <td><p>partial object key identifier.</p></td>
        <td><code>()</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Tuple[str, ...]]</code></td>
      <td><p>List of keys identifying all objects present in the store that
match the input partial key.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/ge_store_backend.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">())</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;List the keys of all objects identified by a partial key.</span>

<span class="sd">    Args:</span>
<span class="sd">        prefix: partial object key identifier.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of keys identifying all objects present in the store that</span>
<span class="sd">        match the input partial key.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">key_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">list_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_object_path</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">is_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">root_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_object_path</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(),</span> <span class="n">is_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">fileio</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">list_path</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">file_</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">root</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_</span><span class="p">)),</span> <span class="n">root_path</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filepath_prefix</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">filepath</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">filepath_prefix</span>
            <span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">filepath_suffix</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">filepath</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">filepath_suffix</span>
            <span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_filepath_to_key</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_ignored_key</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
                <span class="n">key_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">key_list</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.remove_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Delete an object from the store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>key</code></td>
        <td><code>Tuple[str, ...]</code></td>
        <td><p>object key identifier.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the object existed in the store and was removed, otherwise
False.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/ge_store_backend.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete an object from the store.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: object key identifier.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the object existed in the store and was removed, otherwise</span>
<span class="sd">        False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filepath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_object_path</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
            <span class="n">parent_dir</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rrmdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_path</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">parent_dir</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.great_expectations.ge_store_backend.ZenMLArtifactStoreBackend.rrmdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rrmdir</span><span class="p">(</span><span class="n">start_path</span><span class="p">,</span> <span class="n">end_path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Recursively removes empty dirs between start_path and end_path inclusive.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>start_path</code></td>
        <td><code>str</code></td>
        <td><p>Directory to use as a starting point.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>end_path</code></td>
        <td><code>str</code></td>
        <td><p>Directory to use as a destination point.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/ge_store_backend.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">rrmdir</span><span class="p">(</span><span class="n">start_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">end_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Recursively removes empty dirs between start_path and end_path inclusive.</span>

<span class="sd">    Args:</span>
<span class="sd">        start_path: Directory to use as a starting point.</span>
<span class="sd">        end_path: Directory to use as a destination point.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">end_path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">start_path</span> <span class="o">!=</span> <span class="n">end_path</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">rmdir</span><span class="p">(</span><span class="n">end_path</span><span class="p">)</span>
        <span class="n">end_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">end_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.great_expectations.materializers" class="doc doc-heading">
        <code>materializers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Materializers for Great Expectation serializable objects.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.great_expectations.materializers.ge_materializer" class="doc doc-heading">
        <code>ge_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Great Expectations materializers.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.great_expectations.materializers.ge_materializer.GreatExpectationsMaterializer" class="doc doc-heading">
        <code>
GreatExpectationsMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read/write Great Expectation objects.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/materializers/ge_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GreatExpectationsMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read/write Great Expectation objects.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">ExpectationSuite</span><span class="p">,</span>
        <span class="n">CheckpointResult</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">DataAnalysisArtifact</span><span class="p">,)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">preprocess_checkpoint_result_dict</span><span class="p">(</span>
        <span class="n">artifact_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Pre-processes a GE checkpoint dict before it is used to de-serialize a GE CheckpointResult object.</span>

<span class="sd">        The GE CheckpointResult object is not fully de-serializable</span>
<span class="sd">        due to some missing code in the GE codebase. We need to compensate</span>
<span class="sd">        for this by manually converting some of the attributes to</span>
<span class="sd">        their correct data types.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact_dict: A dict containing the GE checkpoint result.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">preprocess_run_result</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;validation_result&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">ExpectationSuiteValidationResult</span><span class="p">(</span><span class="o">**</span><span class="n">value</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="n">artifact_dict</span><span class="p">[</span><span class="s2">&quot;checkpoint_config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">CheckpointConfig</span><span class="p">(</span>
            <span class="o">**</span><span class="n">artifact_dict</span><span class="p">[</span><span class="s2">&quot;checkpoint_config&quot;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">validation_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">result_ident</span><span class="p">,</span> <span class="n">results</span> <span class="ow">in</span> <span class="n">artifact_dict</span><span class="p">[</span><span class="s2">&quot;run_results&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">validation_ident</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ValidationResultIdentifier</span><span class="o">.</span><span class="n">from_fixed_length_tuple</span><span class="p">(</span>
                    <span class="n">result_ident</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;::&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="n">validation_results</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">result_name</span><span class="p">:</span> <span class="n">preprocess_run_result</span><span class="p">(</span><span class="n">result_name</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">result_name</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>
            <span class="n">validation_dict</span><span class="p">[</span><span class="n">validation_ident</span><span class="p">]</span> <span class="o">=</span> <span class="n">validation_results</span>
        <span class="n">artifact_dict</span><span class="p">[</span><span class="s2">&quot;run_results&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">validation_dict</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">SerializableDictDot</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads and returns a Great Expectations object.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the data to read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A loaded Great Expectations object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">ARTIFACT_FILENAME</span><span class="p">)</span>
        <span class="n">artifact_dict</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="n">data_type</span> <span class="o">=</span> <span class="n">import_class_by_path</span><span class="p">(</span><span class="n">artifact_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;data_type&quot;</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">data_type</span> <span class="ow">is</span> <span class="n">CheckpointResult</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_checkpoint_result_dict</span><span class="p">(</span><span class="n">artifact_dict</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">data_type</span><span class="p">(</span><span class="o">**</span><span class="n">artifact_dict</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">SerializableDictDot</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a Great Expectations object.</span>

<span class="sd">        Args:</span>
<span class="sd">            obj: A Great Expectations object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">ARTIFACT_FILENAME</span><span class="p">)</span>
        <span class="n">artifact_dict</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">()</span>
        <span class="n">artifact_type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="n">artifact_dict</span><span class="p">[</span>
            <span class="s2">&quot;data_type&quot;</span>
        <span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artifact_type</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">artifact_type</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">yaml_utils</span><span class="o">.</span><span class="n">write_json</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">artifact_dict</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.great_expectations.materializers.ge_materializer.GreatExpectationsMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads and returns a Great Expectations object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the data to read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SerializableDictDot</code></td>
      <td><p>A loaded Great Expectations object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/materializers/ge_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">SerializableDictDot</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads and returns a Great Expectations object.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the data to read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A loaded Great Expectations object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">ARTIFACT_FILENAME</span><span class="p">)</span>
    <span class="n">artifact_dict</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
    <span class="n">data_type</span> <span class="o">=</span> <span class="n">import_class_by_path</span><span class="p">(</span><span class="n">artifact_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;data_type&quot;</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">data_type</span> <span class="ow">is</span> <span class="n">CheckpointResult</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_checkpoint_result_dict</span><span class="p">(</span><span class="n">artifact_dict</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">data_type</span><span class="p">(</span><span class="o">**</span><span class="n">artifact_dict</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.great_expectations.materializers.ge_materializer.GreatExpectationsMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a Great Expectations object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>obj</code></td>
        <td><code>SerializableDictDot</code></td>
        <td><p>A Great Expectations object.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/materializers/ge_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">SerializableDictDot</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a Great Expectations object.</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: A Great Expectations object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">ARTIFACT_FILENAME</span><span class="p">)</span>
    <span class="n">artifact_dict</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">to_json_dict</span><span class="p">()</span>
    <span class="n">artifact_type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="n">artifact_dict</span><span class="p">[</span>
        <span class="s2">&quot;data_type&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artifact_type</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">artifact_type</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">yaml_utils</span><span class="o">.</span><span class="n">write_json</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">artifact_dict</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.great_expectations.materializers.ge_materializer.GreatExpectationsMaterializer.preprocess_checkpoint_result_dict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">preprocess_checkpoint_result_dict</span><span class="p">(</span><span class="n">artifact_dict</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Pre-processes a GE checkpoint dict before it is used to de-serialize a GE CheckpointResult object.</p>
<p>The GE CheckpointResult object is not fully de-serializable
due to some missing code in the GE codebase. We need to compensate
for this by manually converting some of the attributes to
their correct data types.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_dict</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>A dict containing the GE checkpoint result.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/materializers/ge_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">preprocess_checkpoint_result_dict</span><span class="p">(</span>
    <span class="n">artifact_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pre-processes a GE checkpoint dict before it is used to de-serialize a GE CheckpointResult object.</span>

<span class="sd">    The GE CheckpointResult object is not fully de-serializable</span>
<span class="sd">    due to some missing code in the GE codebase. We need to compensate</span>
<span class="sd">    for this by manually converting some of the attributes to</span>
<span class="sd">    their correct data types.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_dict: A dict containing the GE checkpoint result.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">preprocess_run_result</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;validation_result&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ExpectationSuiteValidationResult</span><span class="p">(</span><span class="o">**</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="n">artifact_dict</span><span class="p">[</span><span class="s2">&quot;checkpoint_config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">CheckpointConfig</span><span class="p">(</span>
        <span class="o">**</span><span class="n">artifact_dict</span><span class="p">[</span><span class="s2">&quot;checkpoint_config&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">validation_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">result_ident</span><span class="p">,</span> <span class="n">results</span> <span class="ow">in</span> <span class="n">artifact_dict</span><span class="p">[</span><span class="s2">&quot;run_results&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">validation_ident</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">ValidationResultIdentifier</span><span class="o">.</span><span class="n">from_fixed_length_tuple</span><span class="p">(</span>
                <span class="n">result_ident</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;::&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">validation_results</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">result_name</span><span class="p">:</span> <span class="n">preprocess_run_result</span><span class="p">(</span><span class="n">result_name</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">result_name</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="n">validation_dict</span><span class="p">[</span><span class="n">validation_ident</span><span class="p">]</span> <span class="o">=</span> <span class="n">validation_results</span>
    <span class="n">artifact_dict</span><span class="p">[</span><span class="s2">&quot;run_results&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">validation_dict</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.great_expectations.steps" class="doc doc-heading">
        <code>steps</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Great Expectations data profiling and validation standard steps.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.great_expectations.steps.ge_profiler" class="doc doc-heading">
        <code>ge_profiler</code>



</h5>

    <div class="doc doc-contents ">

      <p>Great Expectations data profiling standard step.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.great_expectations.steps.ge_profiler.GreatExpectationsProfilerConfig" class="doc doc-heading">
        <code>
GreatExpectationsProfilerConfig            (<a class="autorefs autorefs-internal" title="zenml.steps.base_step_config.BaseStepConfig" href="../steps/#zenml.steps.base_step_config.BaseStepConfig">BaseStepConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Config class for a Great Expectations profiler step.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>expectation_suite_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the expectation suite to create
or update.</p></td>
      </tr>
      <tr>
        <td><code>data_asset_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the data asset to run the expectation suite on.</p></td>
      </tr>
      <tr>
        <td><code>profiler_kwargs</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>A dictionary of keyword arguments to pass to the profiler.</p></td>
      </tr>
      <tr>
        <td><code>overwrite_existing_suite</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to overwrite an existing expectation suite.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/steps/ge_profiler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GreatExpectationsProfilerConfig</span><span class="p">(</span><span class="n">BaseStepConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for a Great Expectations profiler step.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        expectation_suite_name: The name of the expectation suite to create</span>
<span class="sd">            or update.</span>
<span class="sd">        data_asset_name: The name of the data asset to run the expectation suite on.</span>
<span class="sd">        profiler_kwargs: A dictionary of keyword arguments to pass to the profiler.</span>
<span class="sd">        overwrite_existing_suite: Whether to overwrite an existing expectation suite.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">expectation_suite_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">data_asset_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">profiler_kwargs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">overwrite_existing_suite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.great_expectations.steps.ge_profiler.GreatExpectationsProfilerStep" class="doc doc-heading">
        <code>
GreatExpectationsProfilerStep            (<a class="autorefs autorefs-internal" title="zenml.steps.base_step.BaseStep" href="../steps/#zenml.steps.base_step.BaseStep">BaseStep</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Standard Great Expectations profiling step implementation.</p>
<p>Use this standard Great Expectations profiling step to build an Expectation
Suite automatically by running a UserConfigurableProfiler on an input
dataset <a href="https://docs.greatexpectations.io/docs/guides/expectations/how_to_create_and_edit_expectations_with_a_profiler">as covered in the official GE documentation</a>.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/steps/ge_profiler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GreatExpectationsProfilerStep</span><span class="p">(</span><span class="n">BaseStep</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Standard Great Expectations profiling step implementation.</span>

<span class="sd">    Use this standard Great Expectations profiling step to build an Expectation</span>
<span class="sd">    Suite automatically by running a UserConfigurableProfiler on an input</span>
<span class="sd">    dataset [as covered in the official GE documentation](https://docs.greatexpectations.io/docs/guides/expectations/how_to_create_and_edit_expectations_with_a_profiler).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">GreatExpectationsProfilerConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExpectationSuite</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Standard Great Expectations data profiling step entrypoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            dataset: The dataset from which the expectation suite will be inferred.</span>
<span class="sd">            config: The configuration for the step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The generated Great Expectations suite.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">context</span> <span class="o">=</span> <span class="n">GreatExpectationsDataValidator</span><span class="o">.</span><span class="n">get_data_context</span><span class="p">()</span>

        <span class="n">suite_exists</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">expectations_store</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span>  <span class="c1"># noqa</span>
            <span class="n">ExpectationSuiteIdentifier</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">suite_exists</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">suite</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get_expectation_suite</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">overwrite_existing_suite</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Expectation Suite `</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="si">}</span><span class="s2">` &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;already exists and `overwrite_existing_suite` is not set &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;in the step configuration. Skipping re-running the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;profiler.&quot;</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="n">suite</span>

        <span class="n">batch_request</span> <span class="o">=</span> <span class="n">create_batch_request</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">dataset</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">data_asset_name</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">suite_exists</span><span class="p">:</span>
                <span class="n">validator</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get_validator</span><span class="p">(</span>
                    <span class="n">batch_request</span><span class="o">=</span><span class="n">batch_request</span><span class="p">,</span>
                    <span class="n">expectation_suite_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">validator</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get_validator</span><span class="p">(</span>
                    <span class="n">batch_request</span><span class="o">=</span><span class="n">batch_request</span><span class="p">,</span>
                    <span class="n">create_expectation_suite_with_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="n">profiler</span> <span class="o">=</span> <span class="n">UserConfigurableProfiler</span><span class="p">(</span>
                <span class="n">profile_dataset</span><span class="o">=</span><span class="n">validator</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="o">.</span><span class="n">profiler_kwargs</span>
            <span class="p">)</span>

            <span class="n">suite</span> <span class="o">=</span> <span class="n">profiler</span><span class="o">.</span><span class="n">build_suite</span><span class="p">()</span>
            <span class="n">context</span><span class="o">.</span><span class="n">save_expectation_suite</span><span class="p">(</span>
                <span class="n">expectation_suite</span><span class="o">=</span><span class="n">suite</span><span class="p">,</span>
                <span class="n">expectation_suite_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">context</span><span class="o">.</span><span class="n">build_data_docs</span><span class="p">()</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">context</span><span class="o">.</span><span class="n">delete_datasource</span><span class="p">(</span><span class="n">batch_request</span><span class="o">.</span><span class="n">datasource_name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">suite</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  <div class="doc doc-object doc-class">



<h7 id="zenml.integrations.great_expectations.steps.ge_profiler.GreatExpectationsProfilerStep.CONFIG_CLASS" class="doc doc-heading">
        <code>
CONFIG_CLASS            (<a class="autorefs autorefs-internal" title="zenml.steps.base_step_config.BaseStepConfig" href="../steps/#zenml.steps.base_step_config.BaseStepConfig">BaseStepConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Config class for a Great Expectations profiler step.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>expectation_suite_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the expectation suite to create
or update.</p></td>
      </tr>
      <tr>
        <td><code>data_asset_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the data asset to run the expectation suite on.</p></td>
      </tr>
      <tr>
        <td><code>profiler_kwargs</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>A dictionary of keyword arguments to pass to the profiler.</p></td>
      </tr>
      <tr>
        <td><code>overwrite_existing_suite</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to overwrite an existing expectation suite.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/steps/ge_profiler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GreatExpectationsProfilerConfig</span><span class="p">(</span><span class="n">BaseStepConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for a Great Expectations profiler step.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        expectation_suite_name: The name of the expectation suite to create</span>
<span class="sd">            or update.</span>
<span class="sd">        data_asset_name: The name of the data asset to run the expectation suite on.</span>
<span class="sd">        profiler_kwargs: A dictionary of keyword arguments to pass to the profiler.</span>
<span class="sd">        overwrite_existing_suite: Whether to overwrite an existing expectation suite.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">expectation_suite_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">data_asset_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">profiler_kwargs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">overwrite_existing_suite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

















  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.great_expectations.steps.ge_profiler.GreatExpectationsProfilerStep.entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entrypoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Standard Great Expectations data profiling step entrypoint.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dataset</code></td>
        <td><code>DataFrame</code></td>
        <td><p>The dataset from which the expectation suite will be inferred.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>GreatExpectationsProfilerConfig</code></td>
        <td><p>The configuration for the step.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ExpectationSuite</code></td>
      <td><p>The generated Great Expectations suite.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/steps/ge_profiler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">GreatExpectationsProfilerConfig</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExpectationSuite</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Standard Great Expectations data profiling step entrypoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        dataset: The dataset from which the expectation suite will be inferred.</span>
<span class="sd">        config: The configuration for the step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated Great Expectations suite.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">context</span> <span class="o">=</span> <span class="n">GreatExpectationsDataValidator</span><span class="o">.</span><span class="n">get_data_context</span><span class="p">()</span>

    <span class="n">suite_exists</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">expectations_store</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span>  <span class="c1"># noqa</span>
        <span class="n">ExpectationSuiteIdentifier</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="n">suite_exists</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">suite</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get_expectation_suite</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">overwrite_existing_suite</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Expectation Suite `</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="si">}</span><span class="s2">` &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;already exists and `overwrite_existing_suite` is not set &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;in the step configuration. Skipping re-running the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;profiler.&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">suite</span>

    <span class="n">batch_request</span> <span class="o">=</span> <span class="n">create_batch_request</span><span class="p">(</span>
        <span class="n">context</span><span class="p">,</span> <span class="n">dataset</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">data_asset_name</span>
    <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">suite_exists</span><span class="p">:</span>
            <span class="n">validator</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get_validator</span><span class="p">(</span>
                <span class="n">batch_request</span><span class="o">=</span><span class="n">batch_request</span><span class="p">,</span>
                <span class="n">expectation_suite_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">validator</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get_validator</span><span class="p">(</span>
                <span class="n">batch_request</span><span class="o">=</span><span class="n">batch_request</span><span class="p">,</span>
                <span class="n">create_expectation_suite_with_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">profiler</span> <span class="o">=</span> <span class="n">UserConfigurableProfiler</span><span class="p">(</span>
            <span class="n">profile_dataset</span><span class="o">=</span><span class="n">validator</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="o">.</span><span class="n">profiler_kwargs</span>
        <span class="p">)</span>

        <span class="n">suite</span> <span class="o">=</span> <span class="n">profiler</span><span class="o">.</span><span class="n">build_suite</span><span class="p">()</span>
        <span class="n">context</span><span class="o">.</span><span class="n">save_expectation_suite</span><span class="p">(</span>
            <span class="n">expectation_suite</span><span class="o">=</span><span class="n">suite</span><span class="p">,</span>
            <span class="n">expectation_suite_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">context</span><span class="o">.</span><span class="n">build_data_docs</span><span class="p">()</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">context</span><span class="o">.</span><span class="n">delete_datasource</span><span class="p">(</span><span class="n">batch_request</span><span class="o">.</span><span class="n">datasource_name</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">suite</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.great_expectations.steps.ge_validator" class="doc doc-heading">
        <code>ge_validator</code>



</h5>

    <div class="doc doc-contents ">

      <p>Great Expectations data validation standard step.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.great_expectations.steps.ge_validator.GreatExpectationsValidatorConfig" class="doc doc-heading">
        <code>
GreatExpectationsValidatorConfig            (<a class="autorefs autorefs-internal" title="zenml.steps.base_step_config.BaseStepConfig" href="../steps/#zenml.steps.base_step_config.BaseStepConfig">BaseStepConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Config class for a Great Expectations checkpoint step.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/steps/ge_validator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GreatExpectationsValidatorConfig</span><span class="p">(</span><span class="n">BaseStepConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for a Great Expectations checkpoint step.&quot;&quot;&quot;</span>

    <span class="n">expectation_suite_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">data_asset_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">action_list</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">exit_on_error</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.great_expectations.steps.ge_validator.GreatExpectationsValidatorStep" class="doc doc-heading">
        <code>
GreatExpectationsValidatorStep            (<a class="autorefs autorefs-internal" title="zenml.steps.base_step.BaseStep" href="../steps/#zenml.steps.base_step.BaseStep">BaseStep</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Standard Great Expectations data validation step implementation.</p>
<p>Use this standard Great Expectations data validation step to run an
existing Expectation Suite on an input dataset <a href="https://docs.greatexpectations.io/docs/guides/validation/how_to_validate_data_by_running_a_checkpoint">as covered in the official GE documentation</a>.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/steps/ge_validator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GreatExpectationsValidatorStep</span><span class="p">(</span><span class="n">BaseStep</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Standard Great Expectations data validation step implementation.</span>

<span class="sd">    Use this standard Great Expectations data validation step to run an</span>
<span class="sd">    existing Expectation Suite on an input dataset [as covered in the official GE documentation](https://docs.greatexpectations.io/docs/guides/validation/how_to_validate_data_by_running_a_checkpoint).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">condition</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">GreatExpectationsValidatorConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CheckpointResult</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Standard Great Expectations data validation step entrypoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            dataset: The dataset to run the expectation suite on.</span>
<span class="sd">            condition: This dummy argument can be used as a condition to enforce</span>
<span class="sd">                that this step is only run after another step has completed. This</span>
<span class="sd">                is useful for example if the Expectation Suite used to validate</span>
<span class="sd">                the data is computed in a `GreatExpectationsProfilerStep` that</span>
<span class="sd">                is part of the same pipeline.</span>
<span class="sd">            config: The configuration for the step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Great Expectations validation (checkpoint) result.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># get pipeline name, step name and run id</span>
        <span class="n">step_env</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">StepEnvironment</span><span class="p">,</span> <span class="n">Environment</span><span class="p">()[</span><span class="n">STEP_ENVIRONMENT_NAME</span><span class="p">])</span>
        <span class="n">run_id</span> <span class="o">=</span> <span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_run_id</span>
        <span class="n">step_name</span> <span class="o">=</span> <span class="n">step_env</span><span class="o">.</span><span class="n">step_name</span>

        <span class="n">context</span> <span class="o">=</span> <span class="n">GreatExpectationsDataValidator</span><span class="o">.</span><span class="n">get_data_context</span><span class="p">()</span>

        <span class="n">checkpoint_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">batch_request</span> <span class="o">=</span> <span class="n">create_batch_request</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="n">dataset</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">data_asset_name</span>
        <span class="p">)</span>

        <span class="n">action_list</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">action_list</span> <span class="ow">or</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;store_validation_result&quot;</span><span class="p">,</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;StoreValidationResultAction&quot;</span><span class="p">},</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;store_evaluation_params&quot;</span><span class="p">,</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;StoreEvaluationParametersAction&quot;</span><span class="p">},</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;update_data_docs&quot;</span><span class="p">,</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;UpdateDataDocsAction&quot;</span><span class="p">},</span>
            <span class="p">},</span>
        <span class="p">]</span>

        <span class="n">checkpoint_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">checkpoint_name</span><span class="p">,</span>
            <span class="s2">&quot;run_name_template&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;config_version&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Checkpoint&quot;</span><span class="p">,</span>
            <span class="s2">&quot;expectation_suite_name&quot;</span><span class="p">:</span> <span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="p">,</span>
            <span class="s2">&quot;action_list&quot;</span><span class="p">:</span> <span class="n">action_list</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">context</span><span class="o">.</span><span class="n">add_checkpoint</span><span class="p">(</span><span class="o">**</span><span class="n">checkpoint_config</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">run_checkpoint</span><span class="p">(</span>
                <span class="n">checkpoint_name</span><span class="o">=</span><span class="n">checkpoint_name</span><span class="p">,</span>
                <span class="n">validations</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;batch_request&quot;</span><span class="p">:</span> <span class="n">batch_request</span><span class="p">}],</span>
            <span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">context</span><span class="o">.</span><span class="n">delete_datasource</span><span class="p">(</span><span class="n">batch_request</span><span class="o">.</span><span class="n">datasource_name</span><span class="p">)</span>
            <span class="n">context</span><span class="o">.</span><span class="n">delete_checkpoint</span><span class="p">(</span><span class="n">checkpoint_name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">results</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  <div class="doc doc-object doc-class">



<h7 id="zenml.integrations.great_expectations.steps.ge_validator.GreatExpectationsValidatorStep.CONFIG_CLASS" class="doc doc-heading">
        <code>
CONFIG_CLASS            (<a class="autorefs autorefs-internal" title="zenml.steps.base_step_config.BaseStepConfig" href="../steps/#zenml.steps.base_step_config.BaseStepConfig">BaseStepConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Config class for a Great Expectations checkpoint step.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/steps/ge_validator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GreatExpectationsValidatorConfig</span><span class="p">(</span><span class="n">BaseStepConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for a Great Expectations checkpoint step.&quot;&quot;&quot;</span>

    <span class="n">expectation_suite_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">data_asset_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">action_list</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">exit_on_error</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

















  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.great_expectations.steps.ge_validator.GreatExpectationsValidatorStep.entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entrypoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset</span><span class="p">,</span> <span class="n">condition</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Standard Great Expectations data validation step entrypoint.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dataset</code></td>
        <td><code>DataFrame</code></td>
        <td><p>The dataset to run the expectation suite on.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>condition</code></td>
        <td><code>bool</code></td>
        <td><p>This dummy argument can be used as a condition to enforce
that this step is only run after another step has completed. This
is useful for example if the Expectation Suite used to validate
the data is computed in a <code>GreatExpectationsProfilerStep</code> that
is part of the same pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>GreatExpectationsValidatorConfig</code></td>
        <td><p>The configuration for the step.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CheckpointResult</code></td>
      <td><p>The Great Expectations validation (checkpoint) result.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/steps/ge_validator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">condition</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">GreatExpectationsValidatorConfig</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CheckpointResult</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Standard Great Expectations data validation step entrypoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        dataset: The dataset to run the expectation suite on.</span>
<span class="sd">        condition: This dummy argument can be used as a condition to enforce</span>
<span class="sd">            that this step is only run after another step has completed. This</span>
<span class="sd">            is useful for example if the Expectation Suite used to validate</span>
<span class="sd">            the data is computed in a `GreatExpectationsProfilerStep` that</span>
<span class="sd">            is part of the same pipeline.</span>
<span class="sd">        config: The configuration for the step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Great Expectations validation (checkpoint) result.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># get pipeline name, step name and run id</span>
    <span class="n">step_env</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">StepEnvironment</span><span class="p">,</span> <span class="n">Environment</span><span class="p">()[</span><span class="n">STEP_ENVIRONMENT_NAME</span><span class="p">])</span>
    <span class="n">run_id</span> <span class="o">=</span> <span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_run_id</span>
    <span class="n">step_name</span> <span class="o">=</span> <span class="n">step_env</span><span class="o">.</span><span class="n">step_name</span>

    <span class="n">context</span> <span class="o">=</span> <span class="n">GreatExpectationsDataValidator</span><span class="o">.</span><span class="n">get_data_context</span><span class="p">()</span>

    <span class="n">checkpoint_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">batch_request</span> <span class="o">=</span> <span class="n">create_batch_request</span><span class="p">(</span>
        <span class="n">context</span><span class="p">,</span> <span class="n">dataset</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">data_asset_name</span>
    <span class="p">)</span>

    <span class="n">action_list</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">action_list</span> <span class="ow">or</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;store_validation_result&quot;</span><span class="p">,</span>
            <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;StoreValidationResultAction&quot;</span><span class="p">},</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;store_evaluation_params&quot;</span><span class="p">,</span>
            <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;StoreEvaluationParametersAction&quot;</span><span class="p">},</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;update_data_docs&quot;</span><span class="p">,</span>
            <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;UpdateDataDocsAction&quot;</span><span class="p">},</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="n">checkpoint_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">checkpoint_name</span><span class="p">,</span>
        <span class="s2">&quot;run_name_template&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;config_version&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Checkpoint&quot;</span><span class="p">,</span>
        <span class="s2">&quot;expectation_suite_name&quot;</span><span class="p">:</span> <span class="n">config</span><span class="o">.</span><span class="n">expectation_suite_name</span><span class="p">,</span>
        <span class="s2">&quot;action_list&quot;</span><span class="p">:</span> <span class="n">action_list</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">context</span><span class="o">.</span><span class="n">add_checkpoint</span><span class="p">(</span><span class="o">**</span><span class="n">checkpoint_config</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">run_checkpoint</span><span class="p">(</span>
            <span class="n">checkpoint_name</span><span class="o">=</span><span class="n">checkpoint_name</span><span class="p">,</span>
            <span class="n">validations</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;batch_request&quot;</span><span class="p">:</span> <span class="n">batch_request</span><span class="p">}],</span>
        <span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">context</span><span class="o">.</span><span class="n">delete_datasource</span><span class="p">(</span><span class="n">batch_request</span><span class="o">.</span><span class="n">datasource_name</span><span class="p">)</span>
        <span class="n">context</span><span class="o">.</span><span class="n">delete_checkpoint</span><span class="p">(</span><span class="n">checkpoint_name</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.great_expectations.steps.utils" class="doc doc-heading">
        <code>utils</code>



</h5>

    <div class="doc doc-contents ">

      <p>Great Expectations data profiling standard step.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.great_expectations.steps.utils.create_batch_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_batch_request</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">dataset</span><span class="p">,</span> <span class="n">data_asset_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Create a temporary runtime GE batch request from a dataset step artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>context</code></td>
        <td><code>BaseDataContext</code></td>
        <td><p>Great Expectations data context.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dataset</code></td>
        <td><code>DataFrame</code></td>
        <td><p>Input dataset.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data_asset_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional custom name for the data asset.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RuntimeBatchRequest</code></td>
      <td><p>A Great Expectations runtime batch request.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/steps/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_batch_request</span><span class="p">(</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">BaseDataContext</span><span class="p">,</span>
    <span class="n">dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">data_asset_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RuntimeBatchRequest</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a temporary runtime GE batch request from a dataset step artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        context: Great Expectations data context.</span>
<span class="sd">        dataset: Input dataset.</span>
<span class="sd">        data_asset_name: Optional custom name for the data asset.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A Great Expectations runtime batch request.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># get pipeline name, step name and run id</span>
    <span class="n">step_env</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">StepEnvironment</span><span class="p">,</span> <span class="n">Environment</span><span class="p">()[</span><span class="n">STEP_ENVIRONMENT_NAME</span><span class="p">])</span>
    <span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_name</span>
    <span class="n">run_id</span> <span class="o">=</span> <span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_run_id</span>
    <span class="n">step_name</span> <span class="o">=</span> <span class="n">step_env</span><span class="o">.</span><span class="n">step_name</span>

    <span class="n">datasource_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">data_connector_name</span> <span class="o">=</span> <span class="n">datasource_name</span>
    <span class="n">data_asset_name</span> <span class="o">=</span> <span class="n">data_asset_name</span> <span class="ow">or</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">batch_identifier</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>

    <span class="n">datasource_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">datasource_name</span><span class="p">,</span>
        <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Datasource&quot;</span><span class="p">,</span>
        <span class="s2">&quot;module_name&quot;</span><span class="p">:</span> <span class="s2">&quot;great_expectations.datasource&quot;</span><span class="p">,</span>
        <span class="s2">&quot;execution_engine&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;module_name&quot;</span><span class="p">:</span> <span class="s2">&quot;great_expectations.execution_engine&quot;</span><span class="p">,</span>
            <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;PandasExecutionEngine&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;data_connectors&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">data_connector_name</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="s2">&quot;RuntimeDataConnector&quot;</span><span class="p">,</span>
                <span class="s2">&quot;batch_identifiers&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">batch_identifier</span><span class="p">],</span>
            <span class="p">},</span>
        <span class="p">},</span>
    <span class="p">}</span>

    <span class="n">context</span><span class="o">.</span><span class="n">add_datasource</span><span class="p">(</span><span class="o">**</span><span class="n">datasource_config</span><span class="p">)</span>
    <span class="n">batch_request</span> <span class="o">=</span> <span class="n">RuntimeBatchRequest</span><span class="p">(</span>
        <span class="n">datasource_name</span><span class="o">=</span><span class="n">datasource_name</span><span class="p">,</span>
        <span class="n">data_connector_name</span><span class="o">=</span><span class="n">data_connector_name</span><span class="p">,</span>
        <span class="n">data_asset_name</span><span class="o">=</span><span class="n">data_asset_name</span><span class="p">,</span>
        <span class="n">runtime_parameters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;batch_data&quot;</span><span class="p">:</span> <span class="n">dataset</span><span class="p">},</span>
        <span class="n">batch_identifiers</span><span class="o">=</span><span class="p">{</span><span class="n">batch_identifier</span><span class="p">:</span> <span class="n">batch_identifier</span><span class="p">},</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">batch_request</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.great_expectations.visualizers" class="doc doc-heading">
        <code>visualizers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Great Expectations visualizers for expectation suites and validation results.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.great_expectations.visualizers.ge_visualizer" class="doc doc-heading">
        <code>ge_visualizer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Great Expectations visualizers for expectation suites and validation results.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.great_expectations.visualizers.ge_visualizer.GreatExpectationsVisualizer" class="doc doc-heading">
        <code>
GreatExpectationsVisualizer            (<a class="autorefs autorefs-internal" title="zenml.visualizers.base_step_visualizer.BaseStepVisualizer" href="../visualizers/#zenml.visualizers.base_step_visualizer.BaseStepVisualizer">BaseStepVisualizer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>The implementation of a Great Expectations Visualizer.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/visualizers/ge_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GreatExpectationsVisualizer</span><span class="p">(</span><span class="n">BaseStepVisualizer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The implementation of a Great Expectations Visualizer.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">:</span> <span class="n">StepView</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Method to visualize a Great Expectations resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            object: StepView fetched from run.get_step().</span>
<span class="sd">            *args: Additional arguments.</span>
<span class="sd">            **kwargs: Additional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">artifact_view</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="c1"># filter out anything but Great Expectations data analysis artifacts</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">artifact_view</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">DataAnalysisArtifact</span><span class="o">.</span><span class="vm">__name__</span>
                <span class="ow">and</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">data_type</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;great_expectations.&quot;</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">artifact</span> <span class="o">=</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact</span><span class="p">,</span> <span class="n">CheckpointResult</span><span class="p">):</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">CheckpointResult</span><span class="p">,</span> <span class="n">artifact</span><span class="p">)</span>
                    <span class="n">identifier</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">run_results</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">suite</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">ExpectationSuite</span><span class="p">,</span> <span class="n">artifact</span><span class="p">)</span>
                    <span class="n">identifier</span> <span class="o">=</span> <span class="n">ExpectationSuiteIdentifier</span><span class="p">(</span>
                        <span class="n">suite</span><span class="o">.</span><span class="n">expectation_suite_name</span>
                    <span class="p">)</span>

                <span class="n">context</span> <span class="o">=</span> <span class="n">GreatExpectationsDataValidator</span><span class="o">.</span><span class="n">get_data_context</span><span class="p">()</span>
                <span class="n">context</span><span class="o">.</span><span class="n">open_data_docs</span><span class="p">(</span><span class="n">identifier</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.great_expectations.visualizers.ge_visualizer.GreatExpectationsVisualizer.visualize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Method to visualize a Great Expectations resource.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>object</code></td>
        <td><code>StepView</code></td>
        <td><p>StepView fetched from run.get_step().</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional arguments.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/great_expectations/visualizers/ge_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">:</span> <span class="n">StepView</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method to visualize a Great Expectations resource.</span>

<span class="sd">    Args:</span>
<span class="sd">        object: StepView fetched from run.get_step().</span>
<span class="sd">        *args: Additional arguments.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">artifact_view</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="c1"># filter out anything but Great Expectations data analysis artifacts</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">artifact_view</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">DataAnalysisArtifact</span><span class="o">.</span><span class="vm">__name__</span>
            <span class="ow">and</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">data_type</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;great_expectations.&quot;</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">artifact</span> <span class="o">=</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact</span><span class="p">,</span> <span class="n">CheckpointResult</span><span class="p">):</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">CheckpointResult</span><span class="p">,</span> <span class="n">artifact</span><span class="p">)</span>
                <span class="n">identifier</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">run_results</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">suite</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">ExpectationSuite</span><span class="p">,</span> <span class="n">artifact</span><span class="p">)</span>
                <span class="n">identifier</span> <span class="o">=</span> <span class="n">ExpectationSuiteIdentifier</span><span class="p">(</span>
                    <span class="n">suite</span><span class="o">.</span><span class="n">expectation_suite_name</span>
                <span class="p">)</span>

            <span class="n">context</span> <span class="o">=</span> <span class="n">GreatExpectationsDataValidator</span><span class="o">.</span><span class="n">get_data_context</span><span class="p">()</span>
            <span class="n">context</span><span class="o">.</span><span class="n">open_data_docs</span><span class="p">(</span><span class="n">identifier</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.huggingface" class="doc doc-heading">
        <code>huggingface</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the Huggingface integration.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.huggingface.HuggingfaceIntegration" class="doc doc-heading">
        <code>
HuggingfaceIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Huggingface integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HuggingfaceIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Huggingface integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">HUGGINGFACE</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;transformers&quot;</span><span class="p">,</span> <span class="s2">&quot;datasets&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.huggingface</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.huggingface.HuggingfaceIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Activates the integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.huggingface</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.huggingface.materializers" class="doc doc-heading">
        <code>materializers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of Huggingface materializers.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.huggingface.materializers.huggingface_datasets_materializer" class="doc doc-heading">
        <code>huggingface_datasets_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Huggingface datasets materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer" class="doc doc-heading">
        <code>
HFDatasetMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read data to and from huggingface datasets.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_datasets_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HFDatasetMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read data to and from huggingface datasets.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">DataArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dataset</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads Dataset.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the dataset to read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The dataset read from the specified dir.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">load_from_disk</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_DATASET_DIR</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a Dataset to the specified dir.</span>

<span class="sd">        Args:</span>
<span class="sd">            ds: The Dataset to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
        <span class="n">ds</span><span class="o">.</span><span class="n">save_to_disk</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
            <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_DATASET_DIR</span><span class="p">)</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads Dataset.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the dataset to read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dataset</code></td>
      <td><p>The dataset read from the specified dir.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_datasets_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dataset</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads Dataset.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the dataset to read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The dataset read from the specified dir.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">load_from_disk</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_DATASET_DIR</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a Dataset to the specified dir.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ds</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The Dataset to write.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_datasets_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a Dataset to the specified dir.</span>

<span class="sd">    Args:</span>
<span class="sd">        ds: The Dataset to write.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
    <span class="n">ds</span><span class="o">.</span><span class="n">save_to_disk</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
        <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_DATASET_DIR</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer" class="doc doc-heading">
        <code>huggingface_pt_model_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Huggingface PyTorch model materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer" class="doc doc-heading">
        <code>
HFPTModelMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read torch model to and from huggingface pretrained model.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_pt_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HFPTModelMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read torch model to and from huggingface pretrained model.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">PreTrainedModel</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">ModelArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">PreTrainedModel</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads HFModel.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the model to read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model read from the specified dir.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>

        <span class="n">config</span> <span class="o">=</span> <span class="n">AutoConfig</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_PT_MODEL_DIR</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">architecture</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">architectures</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">model_cls</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
            <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;transformers&quot;</span><span class="p">),</span> <span class="n">architecture</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">model_cls</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_PT_MODEL_DIR</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a Model to the specified dir.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The Torch Model to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
        <span class="n">model</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
            <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_PT_MODEL_DIR</span><span class="p">),</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads HFModel.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the model to read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PreTrainedModel</code></td>
      <td><p>The model read from the specified dir.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_pt_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">PreTrainedModel</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads HFModel.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the model to read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model read from the specified dir.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">AutoConfig</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_PT_MODEL_DIR</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">architecture</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">architectures</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">model_cls</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
        <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;transformers&quot;</span><span class="p">),</span> <span class="n">architecture</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">model_cls</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_PT_MODEL_DIR</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a Model to the specified dir.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The Torch Model to write.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_pt_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a Model to the specified dir.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The Torch Model to write.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
    <span class="n">model</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
        <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_PT_MODEL_DIR</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer" class="doc doc-heading">
        <code>huggingface_tf_model_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Huggingface TF model materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer" class="doc doc-heading">
        <code>
HFTFModelMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read Tensorflow model to and from huggingface pretrained model.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_tf_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HFTFModelMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read Tensorflow model to and from huggingface pretrained model.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">TFPreTrainedModel</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">ModelArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TFPreTrainedModel</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads HFModel.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the model to read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model read from the specified dir.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>

        <span class="n">config</span> <span class="o">=</span> <span class="n">AutoConfig</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TF_MODEL_DIR</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">architecture</span> <span class="o">=</span> <span class="s2">&quot;TF&quot;</span> <span class="o">+</span> <span class="n">config</span><span class="o">.</span><span class="n">architectures</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">model_cls</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
            <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;transformers&quot;</span><span class="p">),</span> <span class="n">architecture</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">model_cls</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TF_MODEL_DIR</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a Model to the specified dir.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The TF Model to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
        <span class="n">model</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
            <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TF_MODEL_DIR</span><span class="p">),</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads HFModel.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the model to read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TFPreTrainedModel</code></td>
      <td><p>The model read from the specified dir.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_tf_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TFPreTrainedModel</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads HFModel.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the model to read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model read from the specified dir.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">AutoConfig</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TF_MODEL_DIR</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">architecture</span> <span class="o">=</span> <span class="s2">&quot;TF&quot;</span> <span class="o">+</span> <span class="n">config</span><span class="o">.</span><span class="n">architectures</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">model_cls</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
        <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;transformers&quot;</span><span class="p">),</span> <span class="n">architecture</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">model_cls</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TF_MODEL_DIR</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a Model to the specified dir.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The TF Model to write.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_tf_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a Model to the specified dir.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The TF Model to write.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
    <span class="n">model</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
        <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TF_MODEL_DIR</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer" class="doc doc-heading">
        <code>huggingface_tokenizer_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Huggingface tokenizer materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer" class="doc doc-heading">
        <code>
HFTokenizerMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read tokenizer to and from huggingface tokenizer.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_tokenizer_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HFTokenizerMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read tokenizer to and from huggingface tokenizer.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">PreTrainedTokenizerBase</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">ModelArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">PreTrainedTokenizerBase</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads Tokenizer.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the tokenizer to read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The tokenizer read from the specified dir.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TOKENIZER_DIR</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tokenizer</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a Tokenizer to the specified dir.</span>

<span class="sd">        Args:</span>
<span class="sd">            tokenizer: The HFTokenizer to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">tokenizer</span><span class="p">)</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
        <span class="n">tokenizer</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
            <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TOKENIZER_DIR</span><span class="p">),</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads Tokenizer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the tokenizer to read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PreTrainedTokenizerBase</code></td>
      <td><p>The tokenizer read from the specified dir.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_tokenizer_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">PreTrainedTokenizerBase</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads Tokenizer.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the tokenizer to read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The tokenizer read from the specified dir.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TOKENIZER_DIR</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tokenizer</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a Tokenizer to the specified dir.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tokenizer</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The HFTokenizer to write.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_tokenizer_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tokenizer</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a Tokenizer to the specified dir.</span>

<span class="sd">    Args:</span>
<span class="sd">        tokenizer: The HFTokenizer to write.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">tokenizer</span><span class="p">)</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
    <span class="n">tokenizer</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
        <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TOKENIZER_DIR</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.integration" class="doc doc-heading">
        <code>integration</code>



</h3>

    <div class="doc doc-contents ">

      <p>Base and meta classes for ZenML integrations.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.integration.Integration" class="doc doc-heading">
        <code>
Integration        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Base class for integration in ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/integration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Integration</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">IntegrationMeta</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for integration in ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="s2">&quot;base_integration&quot;</span>

    <span class="n">REQUIREMENTS</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">SYSTEM_REQUIREMENTS</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">check_installation</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Method to check whether the required packages are installed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if all required packages are installed, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">requirement</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">SYSTEM_REQUIREMENTS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">shutil</span><span class="o">.</span><span class="n">which</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                        <span class="s2">&quot;Unable to find the required packages for </span><span class="si">%s</span><span class="s2"> on your &quot;</span>
                        <span class="s2">&quot;system. Please install the packages on your system &quot;</span>
                        <span class="s2">&quot;and try again.&quot;</span><span class="p">,</span>
                        <span class="n">requirement</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>

            <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">REQUIREMENTS</span><span class="p">:</span>
                <span class="n">pkg_resources</span><span class="o">.</span><span class="n">get_distribution</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Integration </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="si">}</span><span class="s2"> is installed correctly with &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;requirements </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">REQUIREMENTS</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">pkg_resources</span><span class="o">.</span><span class="n">DistributionNotFound</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to find required package &#39;</span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">req</span><span class="si">}</span><span class="s2">&#39; for &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;integration </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">except</span> <span class="n">pkg_resources</span><span class="o">.</span><span class="n">VersionConflict</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;VersionConflict error when loading installation </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="si">}</span><span class="s2">: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Abstract method to activate the integration.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Abstract method to declare new stack component flavors.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.integration.Integration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Abstract method to activate the integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/integration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Abstract method to activate the integration.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.integration.Integration.check_installation" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_installation</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Method to check whether the required packages are installed.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if all required packages are installed, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/integration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">check_installation</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method to check whether the required packages are installed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if all required packages are installed, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">requirement</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">SYSTEM_REQUIREMENTS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">shutil</span><span class="o">.</span><span class="n">which</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;Unable to find the required packages for </span><span class="si">%s</span><span class="s2"> on your &quot;</span>
                    <span class="s2">&quot;system. Please install the packages on your system &quot;</span>
                    <span class="s2">&quot;and try again.&quot;</span><span class="p">,</span>
                    <span class="n">requirement</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">REQUIREMENTS</span><span class="p">:</span>
            <span class="n">pkg_resources</span><span class="o">.</span><span class="n">get_distribution</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Integration </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="si">}</span><span class="s2"> is installed correctly with &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;requirements </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">REQUIREMENTS</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="n">pkg_resources</span><span class="o">.</span><span class="n">DistributionNotFound</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to find required package &#39;</span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">req</span><span class="si">}</span><span class="s2">&#39; for &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;integration </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">except</span> <span class="n">pkg_resources</span><span class="o">.</span><span class="n">VersionConflict</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;VersionConflict error when loading installation </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="si">}</span><span class="s2">: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.integration.Integration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Abstract method to declare new stack component flavors.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/integration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Abstract method to declare new stack component flavors.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.integration.IntegrationMeta" class="doc doc-heading">
        <code>
IntegrationMeta            (<span title="type">type</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Metaclass responsible for registering different Integration subclasses.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/integration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">IntegrationMeta</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Metaclass responsible for registering different Integration subclasses.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
        <span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;IntegrationMeta&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Hook into creation of an Integration class.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the class being created.</span>
<span class="sd">            bases: The base classes of the class being created.</span>
<span class="sd">            dct: The dictionary of attributes of the class being created.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Integration&quot;</span><span class="p">],</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">!=</span> <span class="s2">&quot;Integration&quot;</span><span class="p">:</span>
            <span class="n">integration_registry</span><span class="o">.</span><span class="n">register_integration</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.integration.IntegrationMeta.__new__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Hook into creation of an Integration class.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the class being created.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>bases</code></td>
        <td><code>Tuple[Type[Any], ...]</code></td>
        <td><p>The base classes of the class being created.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dct</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>The dictionary of attributes of the class being created.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>IntegrationMeta</code></td>
      <td><p>The newly created class.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/integration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
    <span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;IntegrationMeta&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Hook into creation of an Integration class.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the class being created.</span>
<span class="sd">        bases: The base classes of the class being created.</span>
<span class="sd">        dct: The dictionary of attributes of the class being created.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Integration&quot;</span><span class="p">],</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">name</span> <span class="o">!=</span> <span class="s2">&quot;Integration&quot;</span><span class="p">:</span>
        <span class="n">integration_registry</span><span class="o">.</span><span class="n">register_integration</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.kubeflow" class="doc doc-heading">
        <code>kubeflow</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the Kubeflow integration for ZenML.</p>
<p>The Kubeflow integration sub-module powers an alternative to the local
orchestrator. You can enable it by registering the Kubeflow orchestrator with
the CLI tool.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.kubeflow.KubeflowIntegration" class="doc doc-heading">
        <code>
KubeflowIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Kubeflow Integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KubeflowIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Kubeflow Integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">KUBEFLOW</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;kfp==1.8.9&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Kubeflow integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">KUBEFLOW_METADATA_STORE_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.kubeflow.metadata_stores.KubeflowMetadataStore&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">METADATA_STORE</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">KUBEFLOW_ORCHESTRATOR_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.kubeflow.orchestrators.KubeflowOrchestrator&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.kubeflow.KubeflowIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the Kubeflow integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Kubeflow integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">KUBEFLOW_METADATA_STORE_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.kubeflow.metadata_stores.KubeflowMetadataStore&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">METADATA_STORE</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">KUBEFLOW_ORCHESTRATOR_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.kubeflow.orchestrators.KubeflowOrchestrator&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.kubeflow.metadata_stores" class="doc doc-heading">
        <code>metadata_stores</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Kubeflow metadata store for ZenML.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store" class="doc doc-heading">
        <code>kubeflow_metadata_store</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Kubeflow metadata store.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore" class="doc doc-heading">
        <code>
KubeflowMetadataStore            (<a class="autorefs autorefs-internal" title="zenml.metadata_stores.base_metadata_store.BaseMetadataStore" href="../metadata_stores/#zenml.metadata_stores.base_metadata_store.BaseMetadataStore">BaseMetadataStore</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Kubeflow GRPC backend for ZenML metadata store.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/metadata_stores/kubeflow_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KubeflowMetadataStore</span><span class="p">(</span><span class="n">BaseMetadataStore</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Kubeflow GRPC backend for ZenML metadata store.&quot;&quot;&quot;</span>

    <span class="n">upgrade_migration_enabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;127.0.0.1&quot;</span>
    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_KFP_METADATA_GRPC_PORT</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">KUBEFLOW_METADATA_STORE_FLAVOR</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StackValidator</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Validates that the stack contains a KFP orchestrator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The stack validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_ensure_kfp_orchestrator</span><span class="p">(</span><span class="n">stack</span><span class="p">:</span> <span class="n">Stack</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">stack</span><span class="o">.</span><span class="n">orchestrator</span><span class="o">.</span><span class="n">FLAVOR</span> <span class="o">==</span> <span class="n">KUBEFLOW</span><span class="p">,</span>
                <span class="s2">&quot;The Kubeflow metadata store can only be used with a Kubeflow &quot;</span>
                <span class="s2">&quot;orchestrator.&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">StackValidator</span><span class="p">(</span>
            <span class="n">custom_validation_function</span><span class="o">=</span><span class="n">_ensure_kfp_orchestrator</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_tfx_metadata_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span>
        <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ConnectionConfig</span><span class="p">,</span>
        <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">MetadataStoreClientConfig</span><span class="p">,</span>
    <span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return tfx metadata config for the kubeflow metadata store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The tfx metadata config for the kubeflow metadata store.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the metadata store is not running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connection_config</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">MetadataStoreClientConfig</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">inside_kfp_pod</span><span class="p">():</span>
            <span class="n">connection_config</span><span class="o">.</span><span class="n">host</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;METADATA_GRPC_SERVICE_HOST&quot;</span><span class="p">]</span>
            <span class="n">connection_config</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;METADATA_GRPC_SERVICE_PORT&quot;</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;The KFP metadata daemon is not running. Please run the &quot;</span>
                    <span class="s2">&quot;following command to start it first:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;    &#39;zenml metadata-store up&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="n">connection_config</span><span class="o">.</span><span class="n">host</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">host</span>
            <span class="n">connection_config</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">port</span>
        <span class="k">return</span> <span class="n">connection_config</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">kfp_orchestrator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KubeflowOrchestrator</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the Kubeflow orchestrator in the active stack.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Kubeflow orchestrator in the active stack.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">repo</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span><span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[call-arg]</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">KubeflowOrchestrator</span><span class="p">,</span> <span class="n">repo</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">orchestrator</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">kubernetes_context</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the kubernetes context.</span>

<span class="sd">        This is returned to the cluster where the Kubeflow Pipelines services</span>
<span class="sd">        are running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The kubernetes context.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kubernetes_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kfp_orchestrator</span><span class="o">.</span><span class="n">kubernetes_context</span>

        <span class="c1"># will never happen, but mypy doesn&#39;t know that</span>
        <span class="k">assert</span> <span class="n">kubernetes_context</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">kubernetes_context</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">root_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to the root directory.</span>

<span class="sd">        This is for all files concerning this KFP metadata store.</span>

<span class="sd">        Note: the root directory for the KFP metadata store is relative to the</span>
<span class="sd">        root directory of the KFP orchestrator, because it is a sub-component</span>
<span class="sd">        of it.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the root directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">kfp_orchestrator</span><span class="o">.</span><span class="n">root_directory</span><span class="p">,</span>
            <span class="s2">&quot;metadata-store&quot;</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_pid_file_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to the daemon PID file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the daemon PID file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">,</span> <span class="s2">&quot;kubeflow_daemon.pid&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_log_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Path of the daemon log file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the daemon log file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">,</span> <span class="s2">&quot;kubeflow_daemon.log&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_provisioned</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;If the component provisioned resources to run locally.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the component provisioned resources to run locally.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;If the component is running locally.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the component is running locally, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">!=</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.utils.daemon</span> <span class="kn">import</span> <span class="n">check_if_daemon_is_running</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">check_if_daemon_is_running</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Daemon functionality is not supported on Windows, so the PID</span>
            <span class="c1"># file won&#39;t exist. This if clause exists just for mypy to not</span>
            <span class="c1"># complain about missing functions</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Provisions resources to run the component locally.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provisioning local Kubeflow Pipelines deployment...&quot;</span><span class="p">)</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Deprovisions all local resources of the component.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_log_file</span><span class="p">):</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_log_file</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Local kubeflow pipelines deployment deprovisioned.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Resumes the local k3d cluster.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Local kubeflow pipelines deployment already running.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">start_kfp_metadata_daemon</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_until_metadata_store_ready</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Suspends the local k3d cluster.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Local kubeflow pipelines deployment not running.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">stop_kfp_metadata_daemon</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">start_kfp_metadata_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Starts a daemon process that forwards ports.</span>

<span class="sd">        This is so the Kubeflow Pipelines Metadata MySQL database is accessible</span>
<span class="sd">        on the localhost.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ProvisioningError: if the daemon fails to start.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;kubectl&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--context&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="p">,</span>
            <span class="s2">&quot;--namespace&quot;</span><span class="p">,</span>
            <span class="s2">&quot;kubeflow&quot;</span><span class="p">,</span>
            <span class="s2">&quot;port-forward&quot;</span><span class="p">,</span>
            <span class="s2">&quot;svc/metadata-grpc-service&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2">:8080&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Daemon functionality not supported on Windows. &quot;</span>
                <span class="s2">&quot;In order to access the Kubeflow Pipelines Metadata locally, &quot;</span>
                <span class="s2">&quot;please run &#39;</span><span class="si">%s</span><span class="s2">&#39; in a separate command line shell.&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
                <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">command</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">networking_utils</span><span class="o">.</span><span class="n">port_available</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">ProvisioningError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to port-forward Kubeflow Pipelines Metadata to local &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;port </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2"> because the port is occupied. In order to &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;access the Kubeflow Pipelines Metadata locally, please &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;change the metadata store configuration to use an available &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;port or stop the other process currently using the port.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">daemon</span>

            <span class="k">def</span> <span class="nf">_daemon_function</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
                <span class="sd">&quot;&quot;&quot;Forwards the port of the Kubeflow Pipelines Metadata pod .&quot;&quot;&quot;</span>
                <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

            <span class="n">daemon</span><span class="o">.</span><span class="n">run_as_daemon</span><span class="p">(</span>
                <span class="n">_daemon_function</span><span class="p">,</span>
                <span class="n">pid_file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">,</span>
                <span class="n">log_file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_log_file</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Started Kubeflow Pipelines Metadata daemon (check the daemon&quot;</span>
                <span class="s2">&quot;logs at </span><span class="si">%s</span><span class="s2"> in case you&#39;re not able to access the pipeline&quot;</span>
                <span class="s2">&quot;metadata).&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_log_file</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">stop_kfp_metadata_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Stops the KFP Metadata daemon process if it is running.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
                <span class="c1"># Daemon functionality is not supported on Windows, so the PID</span>
                <span class="c1"># file won&#39;t exist. This if clause exists just for mypy to not</span>
                <span class="c1"># complain about missing functions</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">daemon</span>

                <span class="n">daemon</span><span class="o">.</span><span class="n">stop_daemon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">)</span>
                <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">wait_until_metadata_store_ready</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_KFP_METADATA_DAEMON_TIMEOUT</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Waits until the metadata store connection is ready.</span>

<span class="sd">        Potentially an irrecoverable error could occur or the timeout could</span>
<span class="sd">        expire, so it checks for this.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout: The maximum time to wait for the metadata store to be</span>
<span class="sd">                ready.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the metadata store is not ready after the timeout</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Waiting for the Kubeflow metadata store to be ready (this might &quot;</span>
            <span class="s2">&quot;take a few minutes).&quot;</span>
        <span class="p">)</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># it doesn&#39;t matter what we call here as long as it exercises</span>
                <span class="c1"># the MLMD connection</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_pipelines</span><span class="p">()</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;The Kubeflow metadata store is not ready yet. Waiting for &quot;</span>
                    <span class="s2">&quot;10 seconds...&quot;</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">timeout</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;An unexpected error was encountered while waiting for the &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;Kubeflow metadata store to be functional: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
                <span class="n">timeout</span> <span class="o">-=</span> <span class="mi">10</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;The Kubeflow metadata store is functional.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.is_provisioned" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_provisioned</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>If the component provisioned resources to run locally.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the component provisioned resources to run locally.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.is_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_running</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>If the component is running locally.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the component is running locally, False otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.kfp_orchestrator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kfp_orchestrator</span><span class="p">:</span> <span class="n">KubeflowOrchestrator</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns the Kubeflow orchestrator in the active stack.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>KubeflowOrchestrator</code></td>
      <td><p>The Kubeflow orchestrator in the active stack.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.kubernetes_context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kubernetes_context</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns the kubernetes context.</p>
<p>This is returned to the cluster where the Kubeflow Pipelines services
are running.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The kubernetes context.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.root_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">root_directory</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns path to the root directory.</p>
<p>This is for all files concerning this KFP metadata store.</p>
<p>Note: the root directory for the KFP metadata store is relative to the
root directory of the KFP orchestrator, because it is a sub-component
of it.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Path to the root directory.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">stack_validator</span><span class="o">.</span><span class="n">StackValidator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Validates that the stack contains a KFP orchestrator.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.stack.stack_validator.StackValidator]</code></td>
      <td><p>The stack validator.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.deprovision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Deprovisions all local resources of the component.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/metadata_stores/kubeflow_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Deprovisions all local resources of the component.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_log_file</span><span class="p">):</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_log_file</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Local kubeflow pipelines deployment deprovisioned.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.get_tfx_metadata_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_tfx_metadata_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return tfx metadata config for the kubeflow metadata store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[ml_metadata.proto.metadata_store_pb2.ConnectionConfig, ml_metadata.proto.metadata_store_pb2.MetadataStoreClientConfig]</code></td>
      <td><p>The tfx metadata config for the kubeflow metadata store.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the metadata store is not running.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/metadata_stores/kubeflow_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_tfx_metadata_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span>
    <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ConnectionConfig</span><span class="p">,</span>
    <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">MetadataStoreClientConfig</span><span class="p">,</span>
<span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return tfx metadata config for the kubeflow metadata store.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The tfx metadata config for the kubeflow metadata store.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the metadata store is not running.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connection_config</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">MetadataStoreClientConfig</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">inside_kfp_pod</span><span class="p">():</span>
        <span class="n">connection_config</span><span class="o">.</span><span class="n">host</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;METADATA_GRPC_SERVICE_HOST&quot;</span><span class="p">]</span>
        <span class="n">connection_config</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;METADATA_GRPC_SERVICE_PORT&quot;</span><span class="p">]</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;The KFP metadata daemon is not running. Please run the &quot;</span>
                <span class="s2">&quot;following command to start it first:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;    &#39;zenml metadata-store up&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="n">connection_config</span><span class="o">.</span><span class="n">host</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">host</span>
        <span class="n">connection_config</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">port</span>
    <span class="k">return</span> <span class="n">connection_config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Provisions resources to run the component locally.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/metadata_stores/kubeflow_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Provisions resources to run the component locally.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provisioning local Kubeflow Pipelines deployment...&quot;</span><span class="p">)</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.resume" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Resumes the local k3d cluster.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/metadata_stores/kubeflow_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Resumes the local k3d cluster.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Local kubeflow pipelines deployment already running.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">start_kfp_metadata_daemon</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wait_until_metadata_store_ready</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.start_kfp_metadata_daemon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start_kfp_metadata_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Starts a daemon process that forwards ports.</p>
<p>This is so the Kubeflow Pipelines Metadata MySQL database is accessible
on the localhost.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ProvisioningError</code></td>
        <td><p>if the daemon fails to start.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/metadata_stores/kubeflow_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start_kfp_metadata_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Starts a daemon process that forwards ports.</span>

<span class="sd">    This is so the Kubeflow Pipelines Metadata MySQL database is accessible</span>
<span class="sd">    on the localhost.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ProvisioningError: if the daemon fails to start.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;kubectl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--context&quot;</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="p">,</span>
        <span class="s2">&quot;--namespace&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kubeflow&quot;</span><span class="p">,</span>
        <span class="s2">&quot;port-forward&quot;</span><span class="p">,</span>
        <span class="s2">&quot;svc/metadata-grpc-service&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2">:8080&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Daemon functionality not supported on Windows. &quot;</span>
            <span class="s2">&quot;In order to access the Kubeflow Pipelines Metadata locally, &quot;</span>
            <span class="s2">&quot;please run &#39;</span><span class="si">%s</span><span class="s2">&#39; in a separate command line shell.&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
            <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">command</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="n">networking_utils</span><span class="o">.</span><span class="n">port_available</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">ProvisioningError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to port-forward Kubeflow Pipelines Metadata to local &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;port </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2"> because the port is occupied. In order to &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;access the Kubeflow Pipelines Metadata locally, please &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;change the metadata store configuration to use an available &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;port or stop the other process currently using the port.&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">daemon</span>

        <span class="k">def</span> <span class="nf">_daemon_function</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Forwards the port of the Kubeflow Pipelines Metadata pod .&quot;&quot;&quot;</span>
            <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="n">daemon</span><span class="o">.</span><span class="n">run_as_daemon</span><span class="p">(</span>
            <span class="n">_daemon_function</span><span class="p">,</span>
            <span class="n">pid_file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">,</span>
            <span class="n">log_file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_log_file</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Started Kubeflow Pipelines Metadata daemon (check the daemon&quot;</span>
            <span class="s2">&quot;logs at </span><span class="si">%s</span><span class="s2"> in case you&#39;re not able to access the pipeline&quot;</span>
            <span class="s2">&quot;metadata).&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log_file</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.stop_kfp_metadata_daemon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop_kfp_metadata_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Stops the KFP Metadata daemon process if it is running.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/metadata_stores/kubeflow_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop_kfp_metadata_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Stops the KFP Metadata daemon process if it is running.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
            <span class="c1"># Daemon functionality is not supported on Windows, so the PID</span>
            <span class="c1"># file won&#39;t exist. This if clause exists just for mypy to not</span>
            <span class="c1"># complain about missing functions</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">daemon</span>

            <span class="n">daemon</span><span class="o">.</span><span class="n">stop_daemon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">)</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.suspend" class="doc doc-heading">
<code class="highlight language-python"><span class="n">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Suspends the local k3d cluster.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/metadata_stores/kubeflow_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Suspends the local k3d cluster.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Local kubeflow pipelines deployment not running.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">stop_kfp_metadata_daemon</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.KubeflowMetadataStore.wait_until_metadata_store_ready" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wait_until_metadata_store_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Waits until the metadata store connection is ready.</p>
<p>Potentially an irrecoverable error could occur or the timeout could
expire, so it checks for this.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>The maximum time to wait for the metadata store to be
ready.</p></td>
        <td><code>60</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the metadata store is not ready after the timeout</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/metadata_stores/kubeflow_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wait_until_metadata_store_ready</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_KFP_METADATA_DAEMON_TIMEOUT</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Waits until the metadata store connection is ready.</span>

<span class="sd">    Potentially an irrecoverable error could occur or the timeout could</span>
<span class="sd">    expire, so it checks for this.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeout: The maximum time to wait for the metadata store to be</span>
<span class="sd">            ready.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the metadata store is not ready after the timeout</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Waiting for the Kubeflow metadata store to be ready (this might &quot;</span>
        <span class="s2">&quot;take a few minutes).&quot;</span>
    <span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># it doesn&#39;t matter what we call here as long as it exercises</span>
            <span class="c1"># the MLMD connection</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_pipelines</span><span class="p">()</span>
            <span class="k">break</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;The Kubeflow metadata store is not ready yet. Waiting for &quot;</span>
                <span class="s2">&quot;10 seconds...&quot;</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">timeout</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;An unexpected error was encountered while waiting for the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Kubeflow metadata store to be functional: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
            <span class="n">timeout</span> <span class="o">-=</span> <span class="mi">10</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;The Kubeflow metadata store is functional.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.metadata_stores.kubeflow_metadata_store.inside_kfp_pod" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inside_kfp_pod</span><span class="p">()</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Returns if the current python process is running inside a KFP Pod.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the current python process is running inside a KFP Pod, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/metadata_stores/kubeflow_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">inside_kfp_pod</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns if the current python process is running inside a KFP Pod.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the current python process is running inside a KFP Pod, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;KFP_POD_NAME&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">k8s_config</span><span class="o">.</span><span class="n">load_incluster_config</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="n">k8s_config</span><span class="o">.</span><span class="n">ConfigException</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.kubeflow.orchestrators" class="doc doc-heading">
        <code>orchestrators</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Kubeflow ZenML orchestrator.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.kubeflow.orchestrators.kubeflow_entrypoint_configuration" class="doc doc-heading">
        <code>kubeflow_entrypoint_configuration</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Kubeflow entrypoint configuration.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.kubeflow.orchestrators.kubeflow_entrypoint_configuration.KubeflowEntrypointConfiguration" class="doc doc-heading">
        <code>
KubeflowEntrypointConfiguration            (<a class="autorefs autorefs-internal" title="zenml.entrypoints.step_entrypoint_configuration.StepEntrypointConfiguration" href="../entrypoints/#zenml.entrypoints.step_entrypoint_configuration.StepEntrypointConfiguration">StepEntrypointConfiguration</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Entrypoint configuration for running steps on kubeflow.</p>
<p>This class writes a markdown file that will be displayed in the KFP UI.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KubeflowEntrypointConfiguration</span><span class="p">(</span><span class="n">StepEntrypointConfiguration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Entrypoint configuration for running steps on kubeflow.</span>

<span class="sd">    This class writes a markdown file that will be displayed in the KFP UI.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_custom_entrypoint_options</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Kubeflow specific entrypoint options.</span>

<span class="sd">        The metadata ui path option expects a path where the markdown file</span>
<span class="sd">        that will be displayed in the kubeflow UI should be written. The same</span>
<span class="sd">        path needs to be added as an output artifact called</span>
<span class="sd">        `mlpipeline-ui-metadata` for the corresponding `kfp.dsl.ContainerOp`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The set of custom entrypoint options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">METADATA_UI_PATH_OPTION</span><span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_custom_entrypoint_arguments</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Sets the metadata ui path argument to the value passed in via the keyword args.</span>

<span class="sd">        Args:</span>
<span class="sd">            step: The step that is being executed.</span>
<span class="sd">            *args: The positional arguments passed to the step.</span>
<span class="sd">            **kwargs: The keyword arguments passed to the step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of strings that will be used as arguments to the step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">METADATA_UI_PATH_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="n">METADATA_UI_PATH_OPTION</span><span class="p">],</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the Kubeflow pipeline run name.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: The name of the pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Kubeflow pipeline run name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">k8s_config</span><span class="o">.</span><span class="n">load_incluster_config</span><span class="p">()</span>
        <span class="n">run_id</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;KFP_RUN_ID&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">kfp</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">run_id</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">name</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">post_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">pipeline_node</span><span class="p">:</span> <span class="n">Pb2PipelineNode</span><span class="p">,</span>
        <span class="n">execution_info</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">data_types</span><span class="o">.</span><span class="n">ExecutionInfo</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a markdown file that will display information.</span>

<span class="sd">        This will be about the step execution and input/output artifacts in the</span>
<span class="sd">        KFP UI.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: The name of the pipeline.</span>
<span class="sd">            step_name: The name of the step.</span>
<span class="sd">            pipeline_node: The pipeline node that is being executed.</span>
<span class="sd">            execution_info: The execution info of the step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">execution_info</span><span class="p">:</span>
            <span class="n">utils</span><span class="o">.</span><span class="n">dump_ui_metadata</span><span class="p">(</span>
                <span class="n">node</span><span class="o">=</span><span class="n">pipeline_node</span><span class="p">,</span>
                <span class="n">execution_info</span><span class="o">=</span><span class="n">execution_info</span><span class="p">,</span>
                <span class="n">metadata_ui_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entrypoint_args</span><span class="p">[</span><span class="n">METADATA_UI_PATH_OPTION</span><span class="p">],</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_entrypoint_configuration.KubeflowEntrypointConfiguration.get_custom_entrypoint_arguments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_custom_entrypoint_arguments</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Sets the metadata ui path argument to the value passed in via the keyword args.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step</code></td>
        <td><code>BaseStep</code></td>
        <td><p>The step that is being executed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>The positional arguments passed to the step.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>The keyword arguments passed to the step.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of strings that will be used as arguments to the step.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_custom_entrypoint_arguments</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Sets the metadata ui path argument to the value passed in via the keyword args.</span>

<span class="sd">    Args:</span>
<span class="sd">        step: The step that is being executed.</span>
<span class="sd">        *args: The positional arguments passed to the step.</span>
<span class="sd">        **kwargs: The keyword arguments passed to the step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of strings that will be used as arguments to the step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">METADATA_UI_PATH_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="n">METADATA_UI_PATH_OPTION</span><span class="p">],</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_entrypoint_configuration.KubeflowEntrypointConfiguration.get_custom_entrypoint_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_custom_entrypoint_options</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Kubeflow specific entrypoint options.</p>
<p>The metadata ui path option expects a path where the markdown file
that will be displayed in the kubeflow UI should be written. The same
path needs to be added as an output artifact called
<code>mlpipeline-ui-metadata</code> for the corresponding <code>kfp.dsl.ContainerOp</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Set[str]</code></td>
      <td><p>The set of custom entrypoint options.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_custom_entrypoint_options</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Kubeflow specific entrypoint options.</span>

<span class="sd">    The metadata ui path option expects a path where the markdown file</span>
<span class="sd">    that will be displayed in the kubeflow UI should be written. The same</span>
<span class="sd">    path needs to be added as an output artifact called</span>
<span class="sd">    `mlpipeline-ui-metadata` for the corresponding `kfp.dsl.ContainerOp`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The set of custom entrypoint options.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">METADATA_UI_PATH_OPTION</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_entrypoint_configuration.KubeflowEntrypointConfiguration.get_run_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the Kubeflow pipeline run name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The Kubeflow pipeline run name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the Kubeflow pipeline run name.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: The name of the pipeline.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Kubeflow pipeline run name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">k8s_config</span><span class="o">.</span><span class="n">load_incluster_config</span><span class="p">()</span>
    <span class="n">run_id</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;KFP_RUN_ID&quot;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">kfp</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">run_id</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">name</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_entrypoint_configuration.KubeflowEntrypointConfiguration.post_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">post_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">,</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">pipeline_node</span><span class="p">,</span> <span class="n">execution_info</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a markdown file that will display information.</p>
<p>This will be about the step execution and input/output artifacts in the
KFP UI.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>step_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the step.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_node</code></td>
        <td><code>PipelineNode</code></td>
        <td><p>The pipeline node that is being executed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>execution_info</code></td>
        <td><code>Optional[tfx.orchestration.portable.data_types.ExecutionInfo]</code></td>
        <td><p>The execution info of the step.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">post_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">pipeline_node</span><span class="p">:</span> <span class="n">Pb2PipelineNode</span><span class="p">,</span>
    <span class="n">execution_info</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">data_types</span><span class="o">.</span><span class="n">ExecutionInfo</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a markdown file that will display information.</span>

<span class="sd">    This will be about the step execution and input/output artifacts in the</span>
<span class="sd">    KFP UI.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: The name of the pipeline.</span>
<span class="sd">        step_name: The name of the step.</span>
<span class="sd">        pipeline_node: The pipeline node that is being executed.</span>
<span class="sd">        execution_info: The execution info of the step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">execution_info</span><span class="p">:</span>
        <span class="n">utils</span><span class="o">.</span><span class="n">dump_ui_metadata</span><span class="p">(</span>
            <span class="n">node</span><span class="o">=</span><span class="n">pipeline_node</span><span class="p">,</span>
            <span class="n">execution_info</span><span class="o">=</span><span class="n">execution_info</span><span class="p">,</span>
            <span class="n">metadata_ui_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entrypoint_args</span><span class="p">[</span><span class="n">METADATA_UI_PATH_OPTION</span><span class="p">],</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator" class="doc doc-heading">
        <code>kubeflow_orchestrator</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Kubeflow orchestrator.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator" class="doc doc-heading">
        <code>
KubeflowOrchestrator            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestrator" href="../orchestrators/#zenml.orchestrators.base_orchestrator.BaseOrchestrator">BaseOrchestrator</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Orchestrator responsible for running pipelines using Kubeflow.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>custom_docker_base_image_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of a docker image that should be
used as the base for the image that will be run on KFP pods. If no
custom image is given, a basic image of the active ZenML version
will be used. <strong>Note</strong>: This image needs to have ZenML installed,
otherwise the pipeline execution will fail. For that reason, you
might want to extend the ZenML docker images found here:
https://hub.docker.com/r/zenmldocker/zenml/</p></td>
      </tr>
      <tr>
        <td><code>kubeflow_pipelines_ui_port</code></td>
        <td><code>int</code></td>
        <td><p>A local port to which the KFP UI will be
forwarded.</p></td>
      </tr>
      <tr>
        <td><code>kubeflow_hostname</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The hostname to use to talk to the Kubeflow Pipelines
API. If not set, the hostname will be derived from the Kubernetes
API proxy.</p></td>
      </tr>
      <tr>
        <td><code>kubernetes_context</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional name of a kubernetes context to run
pipelines in. If not set, the current active context will be used.
You can find the active context by running <code>kubectl config
current-context</code>.</p></td>
      </tr>
      <tr>
        <td><code>synchronous</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, running a pipeline using this orchestrator will
block until all steps finished running on KFP.</p></td>
      </tr>
      <tr>
        <td><code>skip_local_validations</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, the local validations will be
skipped.</p></td>
      </tr>
      <tr>
        <td><code>skip_cluster_provisioning</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, the k3d cluster provisioning will
be skipped.</p></td>
      </tr>
      <tr>
        <td><code>skip_ui_daemon_provisioning</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, provisioning the KFP UI daemon
will be skipped.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KubeflowOrchestrator</span><span class="p">(</span><span class="n">BaseOrchestrator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Orchestrator responsible for running pipelines using Kubeflow.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        custom_docker_base_image_name: Name of a docker image that should be</span>
<span class="sd">            used as the base for the image that will be run on KFP pods. If no</span>
<span class="sd">            custom image is given, a basic image of the active ZenML version</span>
<span class="sd">            will be used. **Note**: This image needs to have ZenML installed,</span>
<span class="sd">            otherwise the pipeline execution will fail. For that reason, you</span>
<span class="sd">            might want to extend the ZenML docker images found here:</span>
<span class="sd">            https://hub.docker.com/r/zenmldocker/zenml/</span>
<span class="sd">        kubeflow_pipelines_ui_port: A local port to which the KFP UI will be</span>
<span class="sd">            forwarded.</span>
<span class="sd">        kubeflow_hostname: The hostname to use to talk to the Kubeflow Pipelines</span>
<span class="sd">            API. If not set, the hostname will be derived from the Kubernetes</span>
<span class="sd">            API proxy.</span>
<span class="sd">        kubernetes_context: Optional name of a kubernetes context to run</span>
<span class="sd">            pipelines in. If not set, the current active context will be used.</span>
<span class="sd">            You can find the active context by running `kubectl config</span>
<span class="sd">            current-context`.</span>
<span class="sd">        synchronous: If `True`, running a pipeline using this orchestrator will</span>
<span class="sd">            block until all steps finished running on KFP.</span>
<span class="sd">        skip_local_validations: If `True`, the local validations will be</span>
<span class="sd">            skipped.</span>
<span class="sd">        skip_cluster_provisioning: If `True`, the k3d cluster provisioning will</span>
<span class="sd">            be skipped.</span>
<span class="sd">        skip_ui_daemon_provisioning: If `True`, provisioning the KFP UI daemon</span>
<span class="sd">            will be skipped.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">custom_docker_base_image_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">kubeflow_pipelines_ui_port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_KFP_UI_PORT</span>
    <span class="n">kubeflow_hostname</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">kubernetes_context</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">synchronous</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">skip_local_validations</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">skip_cluster_provisioning</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">skip_ui_daemon_provisioning</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">KUBEFLOW_ORCHESTRATOR_FLAVOR</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_k3d_cluster_name</span><span class="p">(</span><span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the k3d cluster name corresponding to the orchestrator UUID.</span>

<span class="sd">        Args:</span>
<span class="sd">            uuid: The UUID of the orchestrator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The k3d cluster name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># k3d only allows cluster names with up to 32 characters; use the</span>
        <span class="c1"># first 8 chars of the orchestrator UUID as identifier</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;zenml-kubeflow-</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="p">)[:</span><span class="mi">8</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_k3d_kubernetes_context</span><span class="p">(</span><span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the k3d kubernetes context.</span>

<span class="sd">        Args:</span>
<span class="sd">            uuid: The UUID of the orchestrator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the kubernetes context associated with the k3d</span>
<span class="sd">                cluster managed locally by ZenML corresponding to the orchestrator UUID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;k3d-</span><span class="si">{</span><span class="n">KubeflowOrchestrator</span><span class="o">.</span><span class="n">_get_k3d_cluster_name</span><span class="p">(</span><span class="n">uuid</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">skip_on_failure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">set_default_kubernetes_context</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Pydantic root_validator.</span>

<span class="sd">        This sets the default `kubernetes_context` value to the value that is</span>
<span class="sd">        used to create the locally managed k3d cluster, if not explicitly set.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: Values passed to the object constructor</span>

<span class="sd">        Returns:</span>
<span class="sd">            Values passed to the Pydantic constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;kubernetes_context&quot;</span><span class="p">):</span>
            <span class="c1"># not likely, due to Pydantic validation, but mypy complains</span>
            <span class="k">assert</span> <span class="s2">&quot;uuid&quot;</span> <span class="ow">in</span> <span class="n">values</span>
            <span class="n">values</span><span class="p">[</span><span class="s2">&quot;kubernetes_context&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_k3d_kubernetes_context</span><span class="p">(</span>
                <span class="n">values</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">values</span>

    <span class="k">def</span> <span class="nf">get_kubernetes_contexts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the list of configured Kubernetes contexts and the active context.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple containing the list of configured Kubernetes contexts and</span>
<span class="sd">            the active context.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the Kubernetes configuration cannot be loaded</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">contexts</span><span class="p">,</span> <span class="n">active_context</span> <span class="o">=</span> <span class="n">k8s_config</span><span class="o">.</span><span class="n">list_kube_config_contexts</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">k8s_config</span><span class="o">.</span><span class="n">config_exception</span><span class="o">.</span><span class="n">ConfigException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Could not load the Kubernetes configuration&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="n">context_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">contexts</span><span class="p">]</span>
        <span class="n">active_context_name</span> <span class="o">=</span> <span class="n">active_context</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">context_names</span><span class="p">,</span> <span class="n">active_context_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StackValidator</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Validates that the stack contains a container registry.</span>

<span class="sd">        Also check that requirements are met for local components.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `StackValidator` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_validate_local_requirements</span><span class="p">(</span><span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>

            <span class="n">container_registry</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>

            <span class="c1"># should not happen, because the stack validation takes care of</span>
            <span class="c1"># this, but just in case</span>
            <span class="k">assert</span> <span class="n">container_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

            <span class="n">contexts</span><span class="p">,</span> <span class="n">active_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_kubernetes_contexts</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">contexts</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Could not find a Kubernetes context named &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2">&#39; in the local Kubernetes &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;configuration. Please make sure that the Kubernetes &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;cluster is running and that the kubeconfig file is &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;configured correctly. To list all configured &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;contexts, run:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;  `kubectl config get-contexts`</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span> <span class="o">!=</span> <span class="n">active_context</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The Kubernetes context &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;configured for the Kubeflow orchestrator is not the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;same as the active context in the local Kubernetes &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;configuration. If this is not deliberate, you should &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;update the orchestrator&#39;s `kubernetes_context` field by &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;running:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;  `zenml orchestrator update </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;--kubernetes_context=</span><span class="si">{</span><span class="n">active_context</span><span class="si">}</span><span class="s2">`</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;To list all configured contexts, run:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;  `kubectl config get-contexts`</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;To set the active context to be the same as the one &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;configured in the Kubeflow orchestrator and silence &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;this warning, run:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;  `kubectl config use-context &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2">`</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="n">silence_local_validations_msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;To silence this warning, set the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`skip_local_validations` attribute to True in the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;orchestrator configuration by running:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;  &#39;zenml orchestrator update </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;--skip_local_validations=True&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_local_validations</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>

                <span class="c1"># if the orchestrator is not running in a local k3d cluster,</span>
                <span class="c1"># we cannot have any other local components in our stack,</span>
                <span class="c1"># because we cannot mount the local path into the container.</span>
                <span class="c1"># This may result in problems when running the pipeline, because</span>
                <span class="c1"># the local components will not be available inside the</span>
                <span class="c1"># Kubeflow containers.</span>

                <span class="c1"># go through all stack components and identify those that</span>
                <span class="c1"># advertise a local path where they persist information that</span>
                <span class="c1"># they need to be available when running pipelines.</span>
                <span class="k">for</span> <span class="n">stack_comp</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="n">local_path</span> <span class="o">=</span> <span class="n">stack_comp</span><span class="o">.</span><span class="n">local_path</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">local_path</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;The Kubeflow orchestrator is configured to run &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;pipelines in a remote Kubernetes cluster designated &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;by the &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2">&#39; configuration &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;context, but the &#39;</span><span class="si">{</span><span class="n">stack_comp</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stack_comp</span><span class="o">.</span><span class="n">TYPE</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> is a local stack component &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;and will not be available in the Kubeflow pipeline &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;step.</span><span class="se">\n</span><span class="s2">Please ensure that you always use non-local &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;stack components with a remote Kubeflow orchestrator, &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;otherwise you may run into pipeline execution &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;problems. You should use a flavor of &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stack_comp</span><span class="o">.</span><span class="n">TYPE</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> other than &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">stack_comp</span><span class="o">.</span><span class="n">FLAVOR</span><span class="si">}</span><span class="s2">&#39;.</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="o">+</span> <span class="n">silence_local_validations_msg</span>
                    <span class="p">)</span>

                <span class="c1"># if the orchestrator is remote, the container registry must</span>
                <span class="c1"># also be remote.</span>
                <span class="k">if</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;The Kubeflow orchestrator is configured to run &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;pipelines in a remote Kubernetes cluster designated &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;by the &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2">&#39; configuration &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;context, but the &#39;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;container registry URI &#39;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;points to a local container registry. Please ensure &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;that you always use non-local stack components with &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;a remote Kubeflow orchestrator, otherwise you will &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;run into problems. You should use a flavor of &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;container registry other than &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">FLAVOR</span><span class="si">}</span><span class="s2">&#39;.</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="o">+</span> <span class="n">silence_local_validations_msg</span>
                    <span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_local_validations</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>

                <span class="c1"># if the orchestrator is local, the container registry must</span>
                <span class="c1"># also be local.</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;The Kubeflow orchestrator is configured to run &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;pipelines in a local k3d Kubernetes cluster &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;designated by the &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;configuration context, but the container registry &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;URI &#39;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="si">}</span><span class="s2">&#39; doesn&#39;t match the &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;expected format &#39;localhost:$PORT&#39;. &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;The local Kubeflow orchestrator only works with a &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;local container registry because it cannot &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;currently authenticate to external container &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;registries. You should use a flavor of container &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;registry other than &#39;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">FLAVOR</span><span class="si">}</span><span class="s2">&#39;.</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="o">+</span> <span class="n">silence_local_validations_msg</span>
                    <span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>

        <span class="k">return</span> <span class="n">StackValidator</span><span class="p">(</span>
            <span class="n">required_components</span><span class="o">=</span><span class="p">{</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">},</span>
            <span class="n">custom_validation_function</span><span class="o">=</span><span class="n">_validate_local_requirements</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_docker_image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the full docker image name including registry and tag.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: The name of the pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The full docker image name including registry and tag.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">base_image_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;zenml-kubeflow:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">container_registry</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>

        <span class="k">if</span> <span class="n">container_registry</span><span class="p">:</span>
            <span class="n">registry_uri</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">registry_uri</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">base_image_name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">base_image_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_local</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks if the KFP orchestrator is running locally.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if the KFP orchestrator is running locally (i.e. in</span>
<span class="sd">            the local k3d cluster managed by ZenML).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_k3d_kubernetes_context</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">root_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to the root directory for all files concerning this orchestrator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the root directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">io_utils</span><span class="o">.</span><span class="n">get_global_config_directory</span><span class="p">(),</span>
            <span class="s2">&quot;kubeflow&quot;</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to a directory in which the kubeflow pipeline files are stored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the pipeline directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">,</span> <span class="s2">&quot;pipelines&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Builds a docker image for the current environment.</span>

<span class="sd">        This function also uploads it to a container registry if configured.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline: The pipeline to be deployed.</span>
<span class="sd">            stack: The stack to be deployed.</span>
<span class="sd">            runtime_configuration: The runtime configuration to be used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">docker_utils</span>

        <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="n">requirements</span> <span class="o">=</span> <span class="p">{</span><span class="o">*</span><span class="n">stack</span><span class="o">.</span><span class="n">requirements</span><span class="p">(),</span> <span class="o">*</span><span class="n">pipeline</span><span class="o">.</span><span class="n">requirements</span><span class="p">}</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Kubeflow docker container requirements: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">requirements</span><span class="p">)</span>

        <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
            <span class="n">build_context_path</span><span class="o">=</span><span class="n">get_source_root_path</span><span class="p">(),</span>
            <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
            <span class="n">dockerignore_path</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">dockerignore_file</span><span class="p">,</span>
            <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
            <span class="n">base_image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">custom_docker_base_image_name</span><span class="p">,</span>
            <span class="n">environment_vars</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_environment_vars_from_secrets</span><span class="p">(</span>
                <span class="n">pipeline</span><span class="o">.</span><span class="n">secrets</span>
            <span class="p">),</span>
        <span class="p">)</span>

        <span class="k">assert</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>  <span class="c1"># should never happen due to validation</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span><span class="o">.</span><span class="n">push_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>

        <span class="c1"># Store the docker image digest in the runtime configuration so it gets</span>
        <span class="c1"># tracked in the ZenStore</span>
        <span class="n">image_digest</span> <span class="o">=</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>
        <span class="n">runtime_configuration</span><span class="p">[</span><span class="s2">&quot;docker_image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">image_digest</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_configure_container_op</span><span class="p">(</span><span class="n">container_op</span><span class="p">:</span> <span class="n">dsl</span><span class="o">.</span><span class="n">ContainerOp</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Makes changes in place to the configuration of the container op.</span>

<span class="sd">        Configures persistent mounted volumes for each stack component that</span>
<span class="sd">        writes to a local path. Adds some labels to the container_op and applies</span>
<span class="sd">        some functions to ir.</span>

<span class="sd">        Args:</span>
<span class="sd">            container_op: The kubeflow container operation to configure.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the local path is not in the global config directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Path to a metadata file that will be displayed in the KFP UI</span>
        <span class="c1"># This metadata file needs to be in a mounted emptyDir to avoid</span>
        <span class="c1"># sporadic failures with the (not mature) PNS executor</span>
        <span class="c1"># See these links for more information about limitations of PNS +</span>
        <span class="c1"># security context:</span>
        <span class="c1"># https://www.kubeflow.org/docs/components/pipelines/installation/localcluster-deployment/#deploying-kubeflow-pipelines</span>
        <span class="c1"># https://argoproj.github.io/argo-workflows/empty-dir/</span>
        <span class="c1"># KFP will switch to the Emissary executor (soon), when this emptyDir</span>
        <span class="c1"># mount will not be necessary anymore, but for now it&#39;s still in alpha</span>
        <span class="c1"># status (https://www.kubeflow.org/docs/components/pipelines/installation/choose-executor/#emissary-executor)</span>
        <span class="n">volumes</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1Volume</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;/outputs&quot;</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1Volume</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;outputs&quot;</span><span class="p">,</span> <span class="n">empty_dir</span><span class="o">=</span><span class="n">k8s_client</span><span class="o">.</span><span class="n">V1EmptyDirVolumeSource</span><span class="p">()</span>
            <span class="p">),</span>
        <span class="p">}</span>

        <span class="n">stack</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span>
        <span class="n">global_cfg_dir</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">get_global_config_directory</span><span class="p">()</span>

        <span class="c1"># go through all stack components and identify those that advertise</span>
        <span class="c1"># a local path where they persist information that they need to be</span>
        <span class="c1"># available when running pipelines. For those that do, mount them</span>
        <span class="c1"># into the Kubeflow container.</span>
        <span class="n">has_local_repos</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">stack_comp</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">local_path</span> <span class="o">=</span> <span class="n">stack_comp</span><span class="o">.</span><span class="n">local_path</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">local_path</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="c1"># double-check this convention, just in case it wasn&#39;t respected</span>
            <span class="c1"># as documented in `StackComponent.local_path`</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">local_path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">global_cfg_dir</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Local path </span><span class="si">{</span><span class="n">local_path</span><span class="si">}</span><span class="s2"> for component </span><span class="si">{</span><span class="n">stack_comp</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;is not in the global config directory (</span><span class="si">{</span><span class="n">global_cfg_dir</span><span class="si">}</span><span class="s2">).&quot;</span>
                <span class="p">)</span>
            <span class="n">has_local_repos</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">host_path</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1HostPathVolumeSource</span><span class="p">(</span>
                <span class="n">path</span><span class="o">=</span><span class="n">local_path</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;Directory&quot;</span>
            <span class="p">)</span>
            <span class="n">volume_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stack_comp</span><span class="o">.</span><span class="n">TYPE</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">stack_comp</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">volumes</span><span class="p">[</span><span class="n">local_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1Volume</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^0-9a-zA-Z-]+&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">volume_name</span><span class="p">)</span>
                <span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">lower</span><span class="p">(),</span>
                <span class="n">host_path</span><span class="o">=</span><span class="n">host_path</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Adding host path volume for </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> (path: </span><span class="si">%s</span><span class="s2">) &quot;</span>
                <span class="s2">&quot;in kubeflow pipelines container.&quot;</span><span class="p">,</span>
                <span class="n">stack_comp</span><span class="o">.</span><span class="n">TYPE</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">stack_comp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">local_path</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">container_op</span><span class="o">.</span><span class="n">add_pvolumes</span><span class="p">(</span><span class="n">volumes</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">has_local_repos</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
                <span class="c1"># File permissions are not checked on Windows. This if clause</span>
                <span class="c1"># prevents mypy from complaining about unused &#39;type: ignore&#39;</span>
                <span class="c1"># statements</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Run KFP containers in the context of the local UID/GID</span>
                <span class="c1"># to ensure that the artifact and metadata stores can be shared</span>
                <span class="c1"># with the local pipeline runs.</span>
                <span class="n">container_op</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">security_context</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1SecurityContext</span><span class="p">(</span>
                        <span class="n">run_as_user</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getuid</span><span class="p">(),</span>
                        <span class="n">run_as_group</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getgid</span><span class="p">(),</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;Setting security context UID and GID to local user/group &quot;</span>
                    <span class="s2">&quot;in kubeflow pipelines container.&quot;</span>
                <span class="p">)</span>

        <span class="c1"># Add environment variables for Azure Blob Storage to pod in case they</span>
        <span class="c1"># are set locally</span>
        <span class="c1"># TODO [ENG-699]: remove this as soon as we implement credential</span>
        <span class="c1">#  handling</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="s2">&quot;AZURE_STORAGE_ACCOUNT_KEY&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AZURE_STORAGE_ACCOUNT_NAME&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AZURE_STORAGE_CONNECTION_STRING&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AZURE_STORAGE_SAS_TOKEN&quot;</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">container_op</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">add_env_variable</span><span class="p">(</span>
                    <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1EnvVar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
                <span class="p">)</span>

        <span class="c1"># Add some pod labels to the container_op</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">KFP_POD_LABELS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">container_op</span><span class="o">.</span><span class="n">add_pod_label</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

        <span class="c1"># Mounts configmap containing Metadata gRPC server configuration.</span>
        <span class="n">container_op</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">utils</span><span class="o">.</span><span class="n">mount_config_map_op</span><span class="p">(</span><span class="s2">&quot;metadata-grpc-configmap&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sorted_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;BaseStep&quot;</span><span class="p">],</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
        <span class="n">pb2_pipeline</span><span class="p">:</span> <span class="n">Pb2Pipeline</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a kfp yaml file.</span>

<span class="sd">        This functions as an intermediary representation of the pipeline which</span>
<span class="sd">        is then deployed to the kubeflow pipelines instance.</span>

<span class="sd">        How it works:</span>
<span class="sd">        -------------</span>
<span class="sd">        Before this method is called the `prepare_pipeline_deployment()`</span>
<span class="sd">        method builds a docker image that contains the code for the</span>
<span class="sd">        pipeline, all steps the context around these files.</span>

<span class="sd">        Based on this docker image a callable is created which builds</span>
<span class="sd">        container_ops for each step (`_construct_kfp_pipeline`).</span>
<span class="sd">        To do this the entrypoint of the docker image is configured to</span>
<span class="sd">        run the correct step within the docker image. The dependencies</span>
<span class="sd">        between these container_ops are then also configured onto each</span>
<span class="sd">        container_op by pointing at the downstream steps.</span>

<span class="sd">        This callable is then compiled into a kfp yaml file that is used as</span>
<span class="sd">        the intermediary representation of the kubeflow pipeline.</span>

<span class="sd">        This file, together with some metadata, runtime configurations is</span>
<span class="sd">        then uploaded into the kubeflow pipelines cluster for execution.</span>

<span class="sd">        Args:</span>
<span class="sd">            sorted_steps: A list of steps sorted by their order in the</span>
<span class="sd">                pipeline.</span>
<span class="sd">            pipeline: The pipeline object.</span>
<span class="sd">            pb2_pipeline: The pipeline object in protobuf format.</span>
<span class="sd">            stack: The stack object.</span>
<span class="sd">            runtime_configuration: The runtime configuration object.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If you try to run the pipelines in a notebook environment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># First check whether the code running in a notebook</span>
        <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;The Kubeflow orchestrator cannot run pipelines in a notebook &quot;</span>
                <span class="s2">&quot;environment. The reason is that it is non-trivial to create &quot;</span>
                <span class="s2">&quot;a Docker image of a notebook. Please consider refactoring &quot;</span>
                <span class="s2">&quot;your notebook cells into separate scripts in a Python module &quot;</span>
                <span class="s2">&quot;and run the code outside of a notebook when using this &quot;</span>
                <span class="s2">&quot;orchestrator.&quot;</span>
            <span class="p">)</span>

        <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">image_name</span> <span class="o">=</span> <span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>

        <span class="c1"># Create a callable for future compilation into a dsl.Pipeline.</span>
        <span class="k">def</span> <span class="nf">_construct_kfp_pipeline</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Create a container_op for each step.</span>

<span class="sd">            This should contain the name of the docker image and configures the</span>
<span class="sd">            entrypoint of the docker image to run the step.</span>

<span class="sd">            Additionally, this gives each container_op information about its</span>
<span class="sd">            direct downstream steps.</span>

<span class="sd">            If this callable is passed to the `_create_and_write_workflow()`</span>
<span class="sd">            method of a KFPCompiler all dsl.ContainerOp instances will be</span>
<span class="sd">            automatically added to a singular dsl.Pipeline instance.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="c1"># Dictionary of container_ops index by the associated step name</span>
            <span class="n">step_name_to_container_op</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">dsl</span><span class="o">.</span><span class="n">ContainerOp</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span><span class="p">:</span>
                <span class="c1"># The command will be needed to eventually call the python step</span>
                <span class="c1"># within the docker container</span>
                <span class="n">command</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">KubeflowEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>
                <span class="p">)</span>

                <span class="c1"># The arguments are passed to configure the entrypoint of the</span>
                <span class="c1"># docker container when the step is called.</span>
                <span class="n">metadata_ui_path</span> <span class="o">=</span> <span class="s2">&quot;/outputs/mlpipeline-ui-metadata.json&quot;</span>
                <span class="n">arguments</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">KubeflowEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
                        <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
                        <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="p">,</span>
                        <span class="o">**</span><span class="p">{</span><span class="n">METADATA_UI_PATH_OPTION</span><span class="p">:</span> <span class="n">metadata_ui_path</span><span class="p">},</span>
                    <span class="p">)</span>
                <span class="p">)</span>

                <span class="c1"># Create a container_op - the kubeflow equivalent of a step. It</span>
                <span class="c1"># contains the name of the step, the name of the docker image,</span>
                <span class="c1"># the command to use to run the step entrypoint</span>
                <span class="c1"># (e.g. `python -m zenml.entrypoints.step_entrypoint`)</span>
                <span class="c1"># and the arguments to be passed along with the command. Find</span>
                <span class="c1"># out more about how these arguments are parsed and used</span>
                <span class="c1"># in the base entrypoint `run()` method.</span>
                <span class="n">container_op</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">ContainerOp</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">image</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
                    <span class="n">command</span><span class="o">=</span><span class="n">command</span><span class="p">,</span>
                    <span class="n">arguments</span><span class="o">=</span><span class="n">arguments</span><span class="p">,</span>
                    <span class="n">output_artifact_paths</span><span class="o">=</span><span class="p">{</span>
                        <span class="s2">&quot;mlpipeline-ui-metadata&quot;</span><span class="p">:</span> <span class="n">metadata_ui_path</span><span class="p">,</span>
                    <span class="p">},</span>
                <span class="p">)</span>

                <span class="c1"># Mounts persistent volumes, configmaps and adds labels to the</span>
                <span class="c1"># container op</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_configure_container_op</span><span class="p">(</span><span class="n">container_op</span><span class="o">=</span><span class="n">container_op</span><span class="p">)</span>

                <span class="c1"># Find the upstream container ops of the current step and</span>
                <span class="c1"># configure the current container op to run after them</span>
                <span class="n">upstream_step_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_upstream_step_names</span><span class="p">(</span>
                    <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">upstream_step_name</span> <span class="ow">in</span> <span class="n">upstream_step_names</span><span class="p">:</span>
                    <span class="n">upstream_container_op</span> <span class="o">=</span> <span class="n">step_name_to_container_op</span><span class="p">[</span>
                        <span class="n">upstream_step_name</span>
                    <span class="p">]</span>
                    <span class="n">container_op</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="n">upstream_container_op</span><span class="p">)</span>

                <span class="c1"># Update dictionary of container ops with the current one</span>
                <span class="n">step_name_to_container_op</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">container_op</span>

        <span class="c1"># Get a filepath to use to save the finished yaml to</span>
        <span class="k">assert</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_directory</span><span class="p">)</span>
        <span class="n">pipeline_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_directory</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="si">}</span><span class="s2">.yaml&quot;</span>
        <span class="p">)</span>

        <span class="c1"># write the argo pipeline yaml</span>
        <span class="n">KFPCompiler</span><span class="p">()</span><span class="o">.</span><span class="n">_create_and_write_workflow</span><span class="p">(</span>
            <span class="n">pipeline_func</span><span class="o">=</span><span class="n">_construct_kfp_pipeline</span><span class="p">,</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">package_path</span><span class="o">=</span><span class="n">pipeline_file_path</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># using the kfp client uploads the pipeline to kubeflow pipelines and</span>
        <span class="c1"># runs it there</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_upload_and_run_pipeline</span><span class="p">(</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">pipeline_file_path</span><span class="o">=</span><span class="n">pipeline_file_path</span><span class="p">,</span>
            <span class="n">runtime_configuration</span><span class="o">=</span><span class="n">runtime_configuration</span><span class="p">,</span>
            <span class="n">enable_cache</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_upload_and_run_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">pipeline_file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
        <span class="n">enable_cache</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Tries to upload and run a KFP pipeline.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: Name of the pipeline.</span>
<span class="sd">            pipeline_file_path: Path to the pipeline definition file.</span>
<span class="sd">            runtime_configuration: Runtime configuration of the pipeline run.</span>
<span class="sd">            enable_cache: Whether caching is enabled for this pipeline run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Running in kubernetes context &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="c1"># upload the pipeline to Kubeflow and start it</span>
            <span class="n">client</span> <span class="o">=</span> <span class="n">kfp</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span>
                <span class="n">host</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubeflow_hostname</span><span class="p">,</span>
                <span class="n">kube_context</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">experiment</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_experiment</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                        <span class="s2">&quot;A recurring run has already been created with this &quot;</span>
                        <span class="s2">&quot;pipeline. Creating new recurring run now..&quot;</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">ApiException</span><span class="p">):</span>
                    <span class="n">experiment</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_experiment</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                        <span class="s2">&quot;Creating a new recurring run for pipeline &#39;</span><span class="si">%s</span><span class="s2">&#39;.. &quot;</span><span class="p">,</span>
                        <span class="n">pipeline_name</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;You can see all recurring runs under the &#39;</span><span class="si">%s</span><span class="s2">&#39; experiment.&#39;&quot;</span><span class="p">,</span>
                    <span class="n">pipeline_name</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="n">schedule</span> <span class="o">=</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">schedule</span>
                <span class="n">interval_seconds</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">schedule</span><span class="o">.</span><span class="n">interval_second</span><span class="o">.</span><span class="n">seconds</span>
                    <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">interval_second</span>
                    <span class="k">else</span> <span class="kc">None</span>
                <span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_recurring_run</span><span class="p">(</span>
                    <span class="n">experiment_id</span><span class="o">=</span><span class="n">experiment</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">job_name</span><span class="o">=</span><span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="p">,</span>
                    <span class="n">pipeline_package_path</span><span class="o">=</span><span class="n">pipeline_file_path</span><span class="p">,</span>
                    <span class="n">enable_caching</span><span class="o">=</span><span class="n">enable_cache</span><span class="p">,</span>
                    <span class="n">cron_expression</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">,</span>
                    <span class="n">start_time</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">utc_start_time</span><span class="p">,</span>
                    <span class="n">end_time</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">utc_end_time</span><span class="p">,</span>
                    <span class="n">interval_second</span><span class="o">=</span><span class="n">interval_seconds</span><span class="p">,</span>
                    <span class="n">no_catchup</span><span class="o">=</span><span class="ow">not</span> <span class="n">schedule</span><span class="o">.</span><span class="n">catchup</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Started recurring run with ID &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;No schedule detected. Creating a one-off pipeline run..&quot;</span>
                <span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_run_from_pipeline_package</span><span class="p">(</span>
                    <span class="n">pipeline_file_path</span><span class="p">,</span>
                    <span class="n">arguments</span><span class="o">=</span><span class="p">{},</span>
                    <span class="n">run_name</span><span class="o">=</span><span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="p">,</span>
                    <span class="n">enable_caching</span><span class="o">=</span><span class="n">enable_cache</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;Started one-off pipeline run with ID &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">run_id</span>
                <span class="p">)</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">synchronous</span><span class="p">:</span>
                    <span class="c1"># TODO [ENG-698]: Allow configuration of the timeout as a</span>
                    <span class="c1">#  runtime option</span>
                    <span class="n">client</span><span class="o">.</span><span class="n">wait_for_run_completion</span><span class="p">(</span>
                        <span class="n">run_id</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">run_id</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">1200</span>
                    <span class="p">)</span>
        <span class="k">except</span> <span class="n">urllib3</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">HTTPError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to upload Kubeflow pipeline: %s. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Please make sure your kubernetes config is present and the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2"> kubernetes context is configured &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;correctly.&quot;</span><span class="p">,</span>
                <span class="n">error</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_pid_file_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to the daemon PID file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the daemon PID file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">,</span> <span class="s2">&quot;kubeflow_daemon.pid&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">log_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Path of the daemon log file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path of the daemon log file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">,</span> <span class="s2">&quot;kubeflow_daemon.log&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_k3d_cluster_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the K3D cluster name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The K3D cluster name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_k3d_cluster_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_k3d_registry_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the K3D registry name.</span>

<span class="sd">        Args:</span>
<span class="sd">            port: Port of the registry.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The registry name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;k3d-zenml-kubeflow-registry.localhost:</span><span class="si">{</span><span class="n">port</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_k3d_registry_config_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the path to the K3D registry config yaml.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: Path to the K3D registry config yaml.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">,</span> <span class="s2">&quot;k3d_registry.yaml&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_kfp_ui_daemon_port</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Port to use for the KFP UI daemon.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Port to use for the KFP UI daemon.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubeflow_pipelines_ui_port</span>
        <span class="k">if</span> <span class="n">port</span> <span class="o">==</span> <span class="n">DEFAULT_KFP_UI_PORT</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">networking_utils</span><span class="o">.</span><span class="n">port_available</span><span class="p">(</span>
            <span class="n">port</span>
        <span class="p">):</span>
            <span class="c1"># if the user didn&#39;t specify a specific port and the default</span>
            <span class="c1"># port is occupied, fallback to a random open port</span>
            <span class="n">port</span> <span class="o">=</span> <span class="n">networking_utils</span><span class="o">.</span><span class="n">find_available_port</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">port</span>

    <span class="k">def</span> <span class="nf">list_manual_setup_steps</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">container_registry_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">container_registry_path</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Logs manual steps needed to setup the Kubeflow local orchestrator.</span>

<span class="sd">        Args:</span>
<span class="sd">            container_registry_name: Name of the container registry.</span>
<span class="sd">            container_registry_path: Path to the container registry.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
            <span class="c1"># Make sure we&#39;re not telling users to deploy Kubeflow on their</span>
            <span class="c1"># remote clusters</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;This Kubeflow orchestrator is configured to use a non-local &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Kubernetes context </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2">. Manually &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;deploying Kubeflow Pipelines is only possible for local &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Kubeflow orchestrators.&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span>

        <span class="n">global_config_dir_path</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">get_global_config_directory</span><span class="p">()</span>
        <span class="n">kubeflow_commands</span> <span class="o">=</span> <span class="p">[</span>
            <span class="sa">f</span><span class="s2">&quot;&gt; k3d cluster create </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_cluster_name</span><span class="si">}</span><span class="s2"> --image </span><span class="si">{</span><span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">K3S_IMAGE_NAME</span><span class="si">}</span><span class="s2"> --registry-create </span><span class="si">{</span><span class="n">container_registry_name</span><span class="si">}</span><span class="s2"> --registry-config </span><span class="si">{</span><span class="n">container_registry_path</span><span class="si">}</span><span class="s2"> --volume </span><span class="si">{</span><span class="n">global_config_dir_path</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">global_config_dir_path</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;&gt; kubectl --context </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2"> apply -k github.com/kubeflow/pipelines/manifests/kustomize/cluster-scoped-resources?ref=</span><span class="si">{</span><span class="n">KFP_VERSION</span><span class="si">}</span><span class="s2">&amp;timeout=5m&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;&gt; kubectl --context </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2"> wait --timeout=60s --for condition=established crd/applications.app.k8s.io&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;&gt; kubectl --context </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2"> apply -k github.com/kubeflow/pipelines/manifests/kustomize/env/platform-agnostic-pns?ref=</span><span class="si">{</span><span class="n">KFP_VERSION</span><span class="si">}</span><span class="s2">&amp;timeout=5m&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;&gt; kubectl --context </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2"> --namespace kubeflow port-forward svc/ml-pipeline-ui </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubeflow_pipelines_ui_port</span><span class="si">}</span><span class="s2">:80&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;If you wish to spin up this Kubeflow local orchestrator manually, &quot;</span>
            <span class="s2">&quot;please enter the following commands:</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">kubeflow_commands</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_provisioned</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns if a local k3d cluster for this orchestrator exists.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if a local k3d cluster exists, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">check_prerequisites</span><span class="p">(</span>
            <span class="n">skip_k3d</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">skip_cluster_provisioning</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">,</span>
            <span class="n">skip_kubectl</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">skip_cluster_provisioning</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_ui_daemon_provisioning</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="c1"># if any prerequisites are missing there is certainly no</span>
            <span class="c1"># local deployment running</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_cluster_provisioned</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks if the local k3d cluster and UI daemon are both running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the local k3d cluster and UI daemon for this orchestrator are both running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_provisioned</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_cluster_running</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_daemon_running</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_suspended</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks if the local k3d cluster and UI daemon are both stopped.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the cluster and daemon for this orchestrator are both stopped, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_provisioned</span>
            <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">skip_cluster_provisioning</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_cluster_running</span><span class="p">)</span>
            <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">skip_ui_daemon_provisioning</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_daemon_running</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_cluster_provisioned</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns if the local k3d cluster for this orchestrator is provisioned.</span>

<span class="sd">        For remote (i.e. not managed by ZenML) Kubeflow Pipelines installations,</span>
<span class="sd">        this always returns True.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the local k3d cluster is provisioned, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_cluster_provisioning</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">k3d_cluster_exists</span><span class="p">(</span>
            <span class="n">cluster_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_cluster_name</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_cluster_running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns if the local k3d cluster for this orchestrator is running.</span>

<span class="sd">        For remote (i.e. not managed by ZenML) Kubeflow Pipelines installations,</span>
<span class="sd">        this always returns True.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the local k3d cluster is running, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_cluster_provisioning</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">k3d_cluster_running</span><span class="p">(</span>
            <span class="n">cluster_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_cluster_name</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_daemon_running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns if the local Kubeflow UI daemon for this orchestrator is running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the daemon is running, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_ui_daemon_provisioning</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">!=</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.utils.daemon</span> <span class="kn">import</span> <span class="n">check_if_daemon_is_running</span>

            <span class="k">return</span> <span class="n">check_if_daemon_is_running</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Provisions a local Kubeflow Pipelines deployment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ProvisioningError: If the provisioning fails.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_cluster_provisioning</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Found already existing local Kubeflow Pipelines deployment. &quot;</span>
                <span class="s2">&quot;If there are any issues with the existing deployment, please &quot;</span>
                <span class="s2">&quot;run &#39;zenml stack down --force&#39; to delete it.&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">check_prerequisites</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">ProvisioningError</span><span class="p">(</span>
                <span class="s2">&quot;Unable to provision local Kubeflow Pipelines deployment: &quot;</span>
                <span class="s2">&quot;Please install &#39;k3d&#39; and &#39;kubectl&#39; and try again.&quot;</span>
            <span class="p">)</span>

        <span class="n">container_registry</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>

        <span class="c1"># should not happen, because the stack validation takes care of this,</span>
        <span class="c1"># but just in case</span>
        <span class="k">assert</span> <span class="n">container_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
            <span class="c1"># don&#39;t provision any resources if using a remote KFP installation</span>
            <span class="k">return</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provisioning local Kubeflow Pipelines deployment...&quot;</span><span class="p">)</span>

        <span class="n">container_registry_port</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">container_registry_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_k3d_registry_name</span><span class="p">(</span>
            <span class="n">port</span><span class="o">=</span><span class="n">container_registry_port</span>
        <span class="p">)</span>
        <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">write_local_registry_yaml</span><span class="p">(</span>
            <span class="n">yaml_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_registry_config_path</span><span class="p">,</span>
            <span class="n">registry_name</span><span class="o">=</span><span class="n">container_registry_name</span><span class="p">,</span>
            <span class="n">registry_uri</span><span class="o">=</span><span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">create_k3d_cluster</span><span class="p">(</span>
                <span class="n">cluster_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_cluster_name</span><span class="p">,</span>
                <span class="n">registry_name</span><span class="o">=</span><span class="n">container_registry_name</span><span class="p">,</span>
                <span class="n">registry_config_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_registry_config_path</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">kubernetes_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span>

            <span class="c1"># will never happen, but mypy doesn&#39;t know that</span>
            <span class="k">assert</span> <span class="n">kubernetes_context</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

            <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">deploy_kubeflow_pipelines</span><span class="p">(</span>
                <span class="n">kubernetes_context</span><span class="o">=</span><span class="n">kubernetes_context</span>
            <span class="p">)</span>

            <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact_store</span><span class="p">,</span> <span class="n">LocalArtifactStore</span><span class="p">):</span>
                <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">add_hostpath_to_kubeflow_pipelines</span><span class="p">(</span>
                    <span class="n">kubernetes_context</span><span class="o">=</span><span class="n">kubernetes_context</span><span class="p">,</span>
                    <span class="n">local_path</span><span class="o">=</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Unable to spin up local Kubeflow Pipelines deployment.&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">list_manual_setup_steps</span><span class="p">(</span>
                <span class="n">container_registry_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_k3d_registry_config_path</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">deprovision</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Deprovisions a local Kubeflow Pipelines deployment.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_cluster_provisioning</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_ui_daemon_provisioning</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_daemon_running</span><span class="p">:</span>
            <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">stop_kfp_ui_daemon</span><span class="p">(</span>
                <span class="n">pid_file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
            <span class="c1"># don&#39;t deprovision any resources if using a remote KFP installation</span>
            <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">delete_k3d_cluster</span><span class="p">(</span>
                <span class="n">cluster_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_cluster_name</span>
            <span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Local kubeflow pipelines deployment deprovisioned.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log_file</span><span class="p">):</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log_file</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Resumes the local k3d cluster.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ProvisioningError: If the k3d cluster is not provisioned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Local kubeflow pipelines deployment already running.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_provisioned</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ProvisioningError</span><span class="p">(</span>
                <span class="s2">&quot;Unable to resume local kubeflow pipelines deployment: No &quot;</span>
                <span class="s2">&quot;resources provisioned for local deployment.&quot;</span>
            <span class="p">)</span>

        <span class="n">kubernetes_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span>

        <span class="c1"># will never happen, but mypy doesn&#39;t know that</span>
        <span class="k">assert</span> <span class="n">kubernetes_context</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_cluster_provisioning</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_cluster_running</span>
        <span class="p">):</span>
            <span class="c1"># don&#39;t resume any resources if using a remote KFP installation</span>
            <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">start_k3d_cluster</span><span class="p">(</span>
                <span class="n">cluster_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_cluster_name</span>
            <span class="p">)</span>

            <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">wait_until_kubeflow_pipelines_ready</span><span class="p">(</span>
                <span class="n">kubernetes_context</span><span class="o">=</span><span class="n">kubernetes_context</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_daemon_running</span><span class="p">:</span>
            <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">start_kfp_ui_daemon</span><span class="p">(</span>
                <span class="n">pid_file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">,</span>
                <span class="n">log_file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log_file</span><span class="p">,</span>
                <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_kfp_ui_daemon_port</span><span class="p">(),</span>
                <span class="n">kubernetes_context</span><span class="o">=</span><span class="n">kubernetes_context</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Suspends the local k3d cluster.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_provisioned</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Local kubeflow pipelines deployment not provisioned.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_ui_daemon_provisioning</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_daemon_running</span><span class="p">:</span>
            <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">stop_kfp_ui_daemon</span><span class="p">(</span>
                <span class="n">pid_file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_cluster_provisioning</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_cluster_running</span>
        <span class="p">):</span>
            <span class="c1"># don&#39;t suspend any resources if using a remote KFP installation</span>
            <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">stop_k3d_cluster</span><span class="p">(</span>
                <span class="n">cluster_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_cluster_name</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_environment_vars_from_secrets</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secrets</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get key-value pairs from list of secrets provided by the user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secrets: List of secrets provided by the user.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary of key-value pairs.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ProvisioningError: If the stack has no secrets manager.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">environment_vars</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">secret_manager</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">secrets_manager</span>
        <span class="k">if</span> <span class="n">secrets</span> <span class="ow">and</span> <span class="n">secret_manager</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="n">secrets</span><span class="p">:</span>
                <span class="n">secret_schema</span> <span class="o">=</span> <span class="n">secret_manager</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>
                <span class="n">environment_vars</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret_schema</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">secrets</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">secret_manager</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ProvisioningError</span><span class="p">(</span>
                <span class="s2">&quot;Unable to provision local Kubeflow Pipelines deployment: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;You passed in the following secrets: </span><span class="si">{</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">secrets</span><span class="p">)</span> <span class="si">}</span><span class="s2">, &quot;</span>
                <span class="s2">&quot;however, no secrets manager is registered for the current &quot;</span>
                <span class="s2">&quot;stack.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># No secrets provided by the user.</span>
            <span class="k">pass</span>
        <span class="k">return</span> <span class="n">environment_vars</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.is_cluster_provisioned" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_cluster_provisioned</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns if the local k3d cluster for this orchestrator is provisioned.</p>
<p>For remote (i.e. not managed by ZenML) Kubeflow Pipelines installations,
this always returns True.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the local k3d cluster is provisioned, False otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.is_cluster_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_cluster_running</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns if the local k3d cluster for this orchestrator is running.</p>
<p>For remote (i.e. not managed by ZenML) Kubeflow Pipelines installations,
this always returns True.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the local k3d cluster is running, False otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.is_daemon_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_daemon_running</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns if the local Kubeflow UI daemon for this orchestrator is running.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the daemon is running, False otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.is_local" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_local</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Checks if the KFP orchestrator is running locally.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the KFP orchestrator is running locally (i.e. in
the local k3d cluster managed by ZenML).</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.is_provisioned" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_provisioned</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns if a local k3d cluster for this orchestrator exists.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if a local k3d cluster exists, False otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.is_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_running</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Checks if the local k3d cluster and UI daemon are both running.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the local k3d cluster and UI daemon for this orchestrator are both running.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.is_suspended" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_suspended</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Checks if the local k3d cluster and UI daemon are both stopped.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the cluster and daemon for this orchestrator are both stopped, False otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.log_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">log_file</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Path of the daemon log file.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Path of the daemon log file.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.pipeline_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_directory</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns path to a directory in which the kubeflow pipeline files are stored.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Path to the pipeline directory.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.root_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">root_directory</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns path to the root directory for all files concerning this orchestrator.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Path to the root directory.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>







  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">stack_validator</span><span class="o">.</span><span class="n">StackValidator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Validates that the stack contains a container registry.</p>
<p>Also check that requirements are met for local components.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.stack.stack_validator.StackValidator]</code></td>
      <td><p>A <code>StackValidator</code> instance.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.deprovision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Deprovisions a local Kubeflow Pipelines deployment.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Deprovisions a local Kubeflow Pipelines deployment.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_cluster_provisioning</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_ui_daemon_provisioning</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_daemon_running</span><span class="p">:</span>
        <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">stop_kfp_ui_daemon</span><span class="p">(</span>
            <span class="n">pid_file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
        <span class="c1"># don&#39;t deprovision any resources if using a remote KFP installation</span>
        <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">delete_k3d_cluster</span><span class="p">(</span>
            <span class="n">cluster_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_cluster_name</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Local kubeflow pipelines deployment deprovisioned.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log_file</span><span class="p">):</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log_file</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.get_docker_image_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_docker_image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the full docker image name including registry and tag.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The full docker image name including registry and tag.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_docker_image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the full docker image name including registry and tag.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: The name of the pipeline.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The full docker image name including registry and tag.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">base_image_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;zenml-kubeflow:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">container_registry</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>

    <span class="k">if</span> <span class="n">container_registry</span><span class="p">:</span>
        <span class="n">registry_uri</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">registry_uri</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">base_image_name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">base_image_name</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.get_kubernetes_contexts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_kubernetes_contexts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Get the list of configured Kubernetes contexts and the active context.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[List[str], str]</code></td>
      <td><p>A tuple containing the list of configured Kubernetes contexts and
the active context.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the Kubernetes configuration cannot be loaded</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_kubernetes_contexts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get the list of configured Kubernetes contexts and the active context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tuple containing the list of configured Kubernetes contexts and</span>
<span class="sd">        the active context.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the Kubernetes configuration cannot be loaded</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">contexts</span><span class="p">,</span> <span class="n">active_context</span> <span class="o">=</span> <span class="n">k8s_config</span><span class="o">.</span><span class="n">list_kube_config_contexts</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">k8s_config</span><span class="o">.</span><span class="n">config_exception</span><span class="o">.</span><span class="n">ConfigException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Could not load the Kubernetes configuration&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="n">context_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">contexts</span><span class="p">]</span>
    <span class="n">active_context_name</span> <span class="o">=</span> <span class="n">active_context</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">context_names</span><span class="p">,</span> <span class="n">active_context_name</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.list_manual_setup_steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_manual_setup_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container_registry_name</span><span class="p">,</span> <span class="n">container_registry_path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Logs manual steps needed to setup the Kubeflow local orchestrator.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>container_registry_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the container registry.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>container_registry_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to the container registry.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_manual_setup_steps</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">container_registry_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">container_registry_path</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Logs manual steps needed to setup the Kubeflow local orchestrator.</span>

<span class="sd">    Args:</span>
<span class="sd">        container_registry_name: Name of the container registry.</span>
<span class="sd">        container_registry_path: Path to the container registry.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
        <span class="c1"># Make sure we&#39;re not telling users to deploy Kubeflow on their</span>
        <span class="c1"># remote clusters</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;This Kubeflow orchestrator is configured to use a non-local &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Kubernetes context </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2">. Manually &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;deploying Kubeflow Pipelines is only possible for local &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Kubeflow orchestrators.&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span>

    <span class="n">global_config_dir_path</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">get_global_config_directory</span><span class="p">()</span>
    <span class="n">kubeflow_commands</span> <span class="o">=</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;&gt; k3d cluster create </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_cluster_name</span><span class="si">}</span><span class="s2"> --image </span><span class="si">{</span><span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">K3S_IMAGE_NAME</span><span class="si">}</span><span class="s2"> --registry-create </span><span class="si">{</span><span class="n">container_registry_name</span><span class="si">}</span><span class="s2"> --registry-config </span><span class="si">{</span><span class="n">container_registry_path</span><span class="si">}</span><span class="s2"> --volume </span><span class="si">{</span><span class="n">global_config_dir_path</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">global_config_dir_path</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;&gt; kubectl --context </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2"> apply -k github.com/kubeflow/pipelines/manifests/kustomize/cluster-scoped-resources?ref=</span><span class="si">{</span><span class="n">KFP_VERSION</span><span class="si">}</span><span class="s2">&amp;timeout=5m&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;&gt; kubectl --context </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2"> wait --timeout=60s --for condition=established crd/applications.app.k8s.io&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;&gt; kubectl --context </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2"> apply -k github.com/kubeflow/pipelines/manifests/kustomize/env/platform-agnostic-pns?ref=</span><span class="si">{</span><span class="n">KFP_VERSION</span><span class="si">}</span><span class="s2">&amp;timeout=5m&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;&gt; kubectl --context </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2"> --namespace kubeflow port-forward svc/ml-pipeline-ui </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubeflow_pipelines_ui_port</span><span class="si">}</span><span class="s2">:80&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;If you wish to spin up this Kubeflow local orchestrator manually, &quot;</span>
        <span class="s2">&quot;please enter the following commands:</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">kubeflow_commands</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.prepare_or_run_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_or_run_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sorted_steps</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Creates a kfp yaml file.</p>
<p>This functions as an intermediary representation of the pipeline which
is then deployed to the kubeflow pipelines instance.</p>
<h6 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.prepare_or_run_pipeline--how-it-works">How it works:</h6>
<p>Before this method is called the <code>prepare_pipeline_deployment()</code>
method builds a docker image that contains the code for the
pipeline, all steps the context around these files.</p>
<p>Based on this docker image a callable is created which builds
container_ops for each step (<code>_construct_kfp_pipeline</code>).
To do this the entrypoint of the docker image is configured to
run the correct step within the docker image. The dependencies
between these container_ops are then also configured onto each
container_op by pointing at the downstream steps.</p>
<p>This callable is then compiled into a kfp yaml file that is used as
the intermediary representation of the kubeflow pipeline.</p>
<p>This file, together with some metadata, runtime configurations is
then uploaded into the kubeflow pipelines cluster for execution.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sorted_steps</code></td>
        <td><code>List[BaseStep]</code></td>
        <td><p>A list of steps sorted by their order in the
pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>BasePipeline</code></td>
        <td><p>The pipeline object.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pb2_pipeline</code></td>
        <td><code>Pipeline</code></td>
        <td><p>The pipeline object in protobuf format.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack object.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>runtime_configuration</code></td>
        <td><code>RuntimeConfiguration</code></td>
        <td><p>The runtime configuration object.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If you try to run the pipelines in a notebook environment.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sorted_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;BaseStep&quot;</span><span class="p">],</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
    <span class="n">pb2_pipeline</span><span class="p">:</span> <span class="n">Pb2Pipeline</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a kfp yaml file.</span>

<span class="sd">    This functions as an intermediary representation of the pipeline which</span>
<span class="sd">    is then deployed to the kubeflow pipelines instance.</span>

<span class="sd">    How it works:</span>
<span class="sd">    -------------</span>
<span class="sd">    Before this method is called the `prepare_pipeline_deployment()`</span>
<span class="sd">    method builds a docker image that contains the code for the</span>
<span class="sd">    pipeline, all steps the context around these files.</span>

<span class="sd">    Based on this docker image a callable is created which builds</span>
<span class="sd">    container_ops for each step (`_construct_kfp_pipeline`).</span>
<span class="sd">    To do this the entrypoint of the docker image is configured to</span>
<span class="sd">    run the correct step within the docker image. The dependencies</span>
<span class="sd">    between these container_ops are then also configured onto each</span>
<span class="sd">    container_op by pointing at the downstream steps.</span>

<span class="sd">    This callable is then compiled into a kfp yaml file that is used as</span>
<span class="sd">    the intermediary representation of the kubeflow pipeline.</span>

<span class="sd">    This file, together with some metadata, runtime configurations is</span>
<span class="sd">    then uploaded into the kubeflow pipelines cluster for execution.</span>

<span class="sd">    Args:</span>
<span class="sd">        sorted_steps: A list of steps sorted by their order in the</span>
<span class="sd">            pipeline.</span>
<span class="sd">        pipeline: The pipeline object.</span>
<span class="sd">        pb2_pipeline: The pipeline object in protobuf format.</span>
<span class="sd">        stack: The stack object.</span>
<span class="sd">        runtime_configuration: The runtime configuration object.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If you try to run the pipelines in a notebook environment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># First check whether the code running in a notebook</span>
    <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;The Kubeflow orchestrator cannot run pipelines in a notebook &quot;</span>
            <span class="s2">&quot;environment. The reason is that it is non-trivial to create &quot;</span>
            <span class="s2">&quot;a Docker image of a notebook. Please consider refactoring &quot;</span>
            <span class="s2">&quot;your notebook cells into separate scripts in a Python module &quot;</span>
            <span class="s2">&quot;and run the code outside of a notebook when using this &quot;</span>
            <span class="s2">&quot;orchestrator.&quot;</span>
        <span class="p">)</span>

    <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">image_name</span> <span class="o">=</span> <span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>

    <span class="c1"># Create a callable for future compilation into a dsl.Pipeline.</span>
    <span class="k">def</span> <span class="nf">_construct_kfp_pipeline</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a container_op for each step.</span>

<span class="sd">        This should contain the name of the docker image and configures the</span>
<span class="sd">        entrypoint of the docker image to run the step.</span>

<span class="sd">        Additionally, this gives each container_op information about its</span>
<span class="sd">        direct downstream steps.</span>

<span class="sd">        If this callable is passed to the `_create_and_write_workflow()`</span>
<span class="sd">        method of a KFPCompiler all dsl.ContainerOp instances will be</span>
<span class="sd">        automatically added to a singular dsl.Pipeline instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Dictionary of container_ops index by the associated step name</span>
        <span class="n">step_name_to_container_op</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">dsl</span><span class="o">.</span><span class="n">ContainerOp</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span><span class="p">:</span>
            <span class="c1"># The command will be needed to eventually call the python step</span>
            <span class="c1"># within the docker container</span>
            <span class="n">command</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">KubeflowEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>
            <span class="p">)</span>

            <span class="c1"># The arguments are passed to configure the entrypoint of the</span>
            <span class="c1"># docker container when the step is called.</span>
            <span class="n">metadata_ui_path</span> <span class="o">=</span> <span class="s2">&quot;/outputs/mlpipeline-ui-metadata.json&quot;</span>
            <span class="n">arguments</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">KubeflowEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
                    <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
                    <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="p">,</span>
                    <span class="o">**</span><span class="p">{</span><span class="n">METADATA_UI_PATH_OPTION</span><span class="p">:</span> <span class="n">metadata_ui_path</span><span class="p">},</span>
                <span class="p">)</span>
            <span class="p">)</span>

            <span class="c1"># Create a container_op - the kubeflow equivalent of a step. It</span>
            <span class="c1"># contains the name of the step, the name of the docker image,</span>
            <span class="c1"># the command to use to run the step entrypoint</span>
            <span class="c1"># (e.g. `python -m zenml.entrypoints.step_entrypoint`)</span>
            <span class="c1"># and the arguments to be passed along with the command. Find</span>
            <span class="c1"># out more about how these arguments are parsed and used</span>
            <span class="c1"># in the base entrypoint `run()` method.</span>
            <span class="n">container_op</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">ContainerOp</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">image</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">command</span><span class="p">,</span>
                <span class="n">arguments</span><span class="o">=</span><span class="n">arguments</span><span class="p">,</span>
                <span class="n">output_artifact_paths</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;mlpipeline-ui-metadata&quot;</span><span class="p">:</span> <span class="n">metadata_ui_path</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">)</span>

            <span class="c1"># Mounts persistent volumes, configmaps and adds labels to the</span>
            <span class="c1"># container op</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_configure_container_op</span><span class="p">(</span><span class="n">container_op</span><span class="o">=</span><span class="n">container_op</span><span class="p">)</span>

            <span class="c1"># Find the upstream container ops of the current step and</span>
            <span class="c1"># configure the current container op to run after them</span>
            <span class="n">upstream_step_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_upstream_step_names</span><span class="p">(</span>
                <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">upstream_step_name</span> <span class="ow">in</span> <span class="n">upstream_step_names</span><span class="p">:</span>
                <span class="n">upstream_container_op</span> <span class="o">=</span> <span class="n">step_name_to_container_op</span><span class="p">[</span>
                    <span class="n">upstream_step_name</span>
                <span class="p">]</span>
                <span class="n">container_op</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="n">upstream_container_op</span><span class="p">)</span>

            <span class="c1"># Update dictionary of container ops with the current one</span>
            <span class="n">step_name_to_container_op</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">container_op</span>

    <span class="c1"># Get a filepath to use to save the finished yaml to</span>
    <span class="k">assert</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_directory</span><span class="p">)</span>
    <span class="n">pipeline_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_directory</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="si">}</span><span class="s2">.yaml&quot;</span>
    <span class="p">)</span>

    <span class="c1"># write the argo pipeline yaml</span>
    <span class="n">KFPCompiler</span><span class="p">()</span><span class="o">.</span><span class="n">_create_and_write_workflow</span><span class="p">(</span>
        <span class="n">pipeline_func</span><span class="o">=</span><span class="n">_construct_kfp_pipeline</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">package_path</span><span class="o">=</span><span class="n">pipeline_file_path</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># using the kfp client uploads the pipeline to kubeflow pipelines and</span>
    <span class="c1"># runs it there</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_upload_and_run_pipeline</span><span class="p">(</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">pipeline_file_path</span><span class="o">=</span><span class="n">pipeline_file_path</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="o">=</span><span class="n">runtime_configuration</span><span class="p">,</span>
        <span class="n">enable_cache</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.prepare_pipeline_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_pipeline_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Builds a docker image for the current environment.</p>
<p>This function also uploads it to a container registry if configured.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>BasePipeline</code></td>
        <td><p>The pipeline to be deployed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack to be deployed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>runtime_configuration</code></td>
        <td><code>RuntimeConfiguration</code></td>
        <td><p>The runtime configuration to be used.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Builds a docker image for the current environment.</span>

<span class="sd">    This function also uploads it to a container registry if configured.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline: The pipeline to be deployed.</span>
<span class="sd">        stack: The stack to be deployed.</span>
<span class="sd">        runtime_configuration: The runtime configuration to be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">docker_utils</span>

    <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="n">requirements</span> <span class="o">=</span> <span class="p">{</span><span class="o">*</span><span class="n">stack</span><span class="o">.</span><span class="n">requirements</span><span class="p">(),</span> <span class="o">*</span><span class="n">pipeline</span><span class="o">.</span><span class="n">requirements</span><span class="p">}</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Kubeflow docker container requirements: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">requirements</span><span class="p">)</span>

    <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
        <span class="n">build_context_path</span><span class="o">=</span><span class="n">get_source_root_path</span><span class="p">(),</span>
        <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
        <span class="n">dockerignore_path</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">dockerignore_file</span><span class="p">,</span>
        <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
        <span class="n">base_image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">custom_docker_base_image_name</span><span class="p">,</span>
        <span class="n">environment_vars</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_environment_vars_from_secrets</span><span class="p">(</span>
            <span class="n">pipeline</span><span class="o">.</span><span class="n">secrets</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>  <span class="c1"># should never happen due to validation</span>
    <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span><span class="o">.</span><span class="n">push_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>

    <span class="c1"># Store the docker image digest in the runtime configuration so it gets</span>
    <span class="c1"># tracked in the ZenStore</span>
    <span class="n">image_digest</span> <span class="o">=</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>
    <span class="n">runtime_configuration</span><span class="p">[</span><span class="s2">&quot;docker_image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">image_digest</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Provisions a local Kubeflow Pipelines deployment.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ProvisioningError</code></td>
        <td><p>If the provisioning fails.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Provisions a local Kubeflow Pipelines deployment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ProvisioningError: If the provisioning fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_cluster_provisioning</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Found already existing local Kubeflow Pipelines deployment. &quot;</span>
            <span class="s2">&quot;If there are any issues with the existing deployment, please &quot;</span>
            <span class="s2">&quot;run &#39;zenml stack down --force&#39; to delete it.&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">check_prerequisites</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">ProvisioningError</span><span class="p">(</span>
            <span class="s2">&quot;Unable to provision local Kubeflow Pipelines deployment: &quot;</span>
            <span class="s2">&quot;Please install &#39;k3d&#39; and &#39;kubectl&#39; and try again.&quot;</span>
        <span class="p">)</span>

    <span class="n">container_registry</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>

    <span class="c1"># should not happen, because the stack validation takes care of this,</span>
    <span class="c1"># but just in case</span>
    <span class="k">assert</span> <span class="n">container_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
        <span class="c1"># don&#39;t provision any resources if using a remote KFP installation</span>
        <span class="k">return</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provisioning local Kubeflow Pipelines deployment...&quot;</span><span class="p">)</span>

    <span class="n">container_registry_port</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">container_registry_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_k3d_registry_name</span><span class="p">(</span>
        <span class="n">port</span><span class="o">=</span><span class="n">container_registry_port</span>
    <span class="p">)</span>
    <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">write_local_registry_yaml</span><span class="p">(</span>
        <span class="n">yaml_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_registry_config_path</span><span class="p">,</span>
        <span class="n">registry_name</span><span class="o">=</span><span class="n">container_registry_name</span><span class="p">,</span>
        <span class="n">registry_uri</span><span class="o">=</span><span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">create_k3d_cluster</span><span class="p">(</span>
            <span class="n">cluster_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_cluster_name</span><span class="p">,</span>
            <span class="n">registry_name</span><span class="o">=</span><span class="n">container_registry_name</span><span class="p">,</span>
            <span class="n">registry_config_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_registry_config_path</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">kubernetes_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span>

        <span class="c1"># will never happen, but mypy doesn&#39;t know that</span>
        <span class="k">assert</span> <span class="n">kubernetes_context</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">deploy_kubeflow_pipelines</span><span class="p">(</span>
            <span class="n">kubernetes_context</span><span class="o">=</span><span class="n">kubernetes_context</span>
        <span class="p">)</span>

        <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact_store</span><span class="p">,</span> <span class="n">LocalArtifactStore</span><span class="p">):</span>
            <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">add_hostpath_to_kubeflow_pipelines</span><span class="p">(</span>
                <span class="n">kubernetes_context</span><span class="o">=</span><span class="n">kubernetes_context</span><span class="p">,</span>
                <span class="n">local_path</span><span class="o">=</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>
            <span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Unable to spin up local Kubeflow Pipelines deployment.&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">list_manual_setup_steps</span><span class="p">(</span>
            <span class="n">container_registry_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_k3d_registry_config_path</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deprovision</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.resume" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Resumes the local k3d cluster.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ProvisioningError</code></td>
        <td><p>If the k3d cluster is not provisioned.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Resumes the local k3d cluster.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ProvisioningError: If the k3d cluster is not provisioned.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Local kubeflow pipelines deployment already running.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_provisioned</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ProvisioningError</span><span class="p">(</span>
            <span class="s2">&quot;Unable to resume local kubeflow pipelines deployment: No &quot;</span>
            <span class="s2">&quot;resources provisioned for local deployment.&quot;</span>
        <span class="p">)</span>

    <span class="n">kubernetes_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span>

    <span class="c1"># will never happen, but mypy doesn&#39;t know that</span>
    <span class="k">assert</span> <span class="n">kubernetes_context</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_cluster_provisioning</span>
        <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_cluster_running</span>
    <span class="p">):</span>
        <span class="c1"># don&#39;t resume any resources if using a remote KFP installation</span>
        <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">start_k3d_cluster</span><span class="p">(</span>
            <span class="n">cluster_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_cluster_name</span>
        <span class="p">)</span>

        <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">wait_until_kubeflow_pipelines_ready</span><span class="p">(</span>
            <span class="n">kubernetes_context</span><span class="o">=</span><span class="n">kubernetes_context</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_daemon_running</span><span class="p">:</span>
        <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">start_kfp_ui_daemon</span><span class="p">(</span>
            <span class="n">pid_file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">,</span>
            <span class="n">log_file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log_file</span><span class="p">,</span>
            <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_kfp_ui_daemon_port</span><span class="p">(),</span>
            <span class="n">kubernetes_context</span><span class="o">=</span><span class="n">kubernetes_context</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.set_default_kubernetes_context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_default_kubernetes_context</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Pydantic root_validator.</p>
<p>This sets the default <code>kubernetes_context</code> value to the value that is
used to create the locally managed k3d cluster, if not explicitly set.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>values</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>Values passed to the object constructor</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Values passed to the Pydantic constructor</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@root_validator</span><span class="p">(</span><span class="n">skip_on_failure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">set_default_kubernetes_context</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Pydantic root_validator.</span>

<span class="sd">    This sets the default `kubernetes_context` value to the value that is</span>
<span class="sd">    used to create the locally managed k3d cluster, if not explicitly set.</span>

<span class="sd">    Args:</span>
<span class="sd">        values: Values passed to the object constructor</span>

<span class="sd">    Returns:</span>
<span class="sd">        Values passed to the Pydantic constructor</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;kubernetes_context&quot;</span><span class="p">):</span>
        <span class="c1"># not likely, due to Pydantic validation, but mypy complains</span>
        <span class="k">assert</span> <span class="s2">&quot;uuid&quot;</span> <span class="ow">in</span> <span class="n">values</span>
        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;kubernetes_context&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_k3d_kubernetes_context</span><span class="p">(</span>
            <span class="n">values</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">values</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubeflow.orchestrators.kubeflow_orchestrator.KubeflowOrchestrator.suspend" class="doc doc-heading">
<code class="highlight language-python"><span class="n">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Suspends the local k3d cluster.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/kubeflow_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Suspends the local k3d cluster.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_provisioned</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Local kubeflow pipelines deployment not provisioned.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_ui_daemon_provisioning</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_daemon_running</span><span class="p">:</span>
        <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">stop_kfp_ui_daemon</span><span class="p">(</span>
            <span class="n">pid_file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_cluster_provisioning</span>
        <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_local</span>
        <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_cluster_running</span>
    <span class="p">):</span>
        <span class="c1"># don&#39;t suspend any resources if using a remote KFP installation</span>
        <span class="n">local_deployment_utils</span><span class="o">.</span><span class="n">stop_k3d_cluster</span><span class="p">(</span>
            <span class="n">cluster_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k3d_cluster_name</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils" class="doc doc-heading">
        <code>local_deployment_utils</code>



</h5>

    <div class="doc doc-contents ">

      <p>Utils for the local Kubeflow deployment behaviors.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.add_hostpath_to_kubeflow_pipelines" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_hostpath_to_kubeflow_pipelines</span><span class="p">(</span><span class="n">kubernetes_context</span><span class="p">,</span> <span class="n">local_path</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Patches the Kubeflow Pipelines deployment to mount a local folder.</p>
<p>This folder serves as a hostpath for visualization purposes.</p>
<p>This function reconfigures the Kubeflow pipelines deployment to use a
shared local folder to support loading the TensorBoard viewer and other
pipeline visualization results from a local artifact store, as described
here:</p>
<p>https://github.com/kubeflow/pipelines/blob/master/docs/config/volume-support.md</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>kubernetes_context</code></td>
        <td><code>str</code></td>
        <td><p>The kubernetes context on which Kubeflow Pipelines
should be patched.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>local_path</code></td>
        <td><code>str</code></td>
        <td><p>The path to the local folder to mount as a hostpath.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_hostpath_to_kubeflow_pipelines</span><span class="p">(</span>
    <span class="n">kubernetes_context</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">local_path</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Patches the Kubeflow Pipelines deployment to mount a local folder.</span>

<span class="sd">    This folder serves as a hostpath for visualization purposes.</span>

<span class="sd">    This function reconfigures the Kubeflow pipelines deployment to use a</span>
<span class="sd">    shared local folder to support loading the TensorBoard viewer and other</span>
<span class="sd">    pipeline visualization results from a local artifact store, as described</span>
<span class="sd">    here:</span>

<span class="sd">    https://github.com/kubeflow/pipelines/blob/master/docs/config/volume-support.md</span>

<span class="sd">    Args:</span>
<span class="sd">        kubernetes_context: The kubernetes context on which Kubeflow Pipelines</span>
<span class="sd">            should be patched.</span>
<span class="sd">        local_path: The path to the local folder to mount as a hostpath.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Patching Kubeflow Pipelines to mount a local folder.&quot;</span><span class="p">)</span>

    <span class="n">pod_template</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;serviceAccountName&quot;</span><span class="p">:</span> <span class="s2">&quot;kubeflow-pipelines-viewer&quot;</span><span class="p">,</span>
            <span class="s2">&quot;containers&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;volumeMounts&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;mountPath&quot;</span><span class="p">:</span> <span class="n">local_path</span><span class="p">,</span>
                            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;local-artifact-store&quot;</span><span class="p">,</span>
                        <span class="p">}</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s2">&quot;volumes&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;hostPath&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">local_path</span><span class="p">,</span>
                        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Directory&quot;</span><span class="p">,</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;local-artifact-store&quot;</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">],</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">pod_template_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">pod_template</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">config_map_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;viewer-pod-template.json&quot;</span><span class="p">:</span> <span class="n">pod_template_json</span><span class="p">}}</span>
    <span class="n">config_map_data_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">config_map_data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Adding host path volume for local path `</span><span class="si">%s</span><span class="s2">` to kubeflow pipeline&quot;</span>
        <span class="s2">&quot;viewer pod template configuration.&quot;</span><span class="p">,</span>
        <span class="n">local_path</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="s2">&quot;kubectl&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--context&quot;</span><span class="p">,</span>
            <span class="n">kubernetes_context</span><span class="p">,</span>
            <span class="s2">&quot;-n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;kubeflow&quot;</span><span class="p">,</span>
            <span class="s2">&quot;patch&quot;</span><span class="p">,</span>
            <span class="s2">&quot;configmap/ml-pipeline-ui-configmap&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--type&quot;</span><span class="p">,</span>
            <span class="s2">&quot;merge&quot;</span><span class="p">,</span>
            <span class="s2">&quot;-p&quot;</span><span class="p">,</span>
            <span class="n">config_map_data_json</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="n">deployment_patch</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;containers&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;ml-pipeline-ui&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;volumeMounts&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="p">{</span>
                                    <span class="s2">&quot;mountPath&quot;</span><span class="p">:</span> <span class="n">local_path</span><span class="p">,</span>
                                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;local-artifact-store&quot;</span><span class="p">,</span>
                                <span class="p">}</span>
                            <span class="p">],</span>
                        <span class="p">}</span>
                    <span class="p">],</span>
                    <span class="s2">&quot;volumes&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;hostPath&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">local_path</span><span class="p">,</span>
                                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Directory&quot;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;local-artifact-store&quot;</span><span class="p">,</span>
                        <span class="p">}</span>
                    <span class="p">],</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">deployment_patch_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">deployment_patch</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Adding host path volume for local path `</span><span class="si">%s</span><span class="s2">` to the kubeflow UI&quot;</span><span class="p">,</span>
        <span class="n">local_path</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="s2">&quot;kubectl&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--context&quot;</span><span class="p">,</span>
            <span class="n">kubernetes_context</span><span class="p">,</span>
            <span class="s2">&quot;-n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;kubeflow&quot;</span><span class="p">,</span>
            <span class="s2">&quot;patch&quot;</span><span class="p">,</span>
            <span class="s2">&quot;deployment/ml-pipeline-ui&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--type&quot;</span><span class="p">,</span>
            <span class="s2">&quot;strategic&quot;</span><span class="p">,</span>
            <span class="s2">&quot;-p&quot;</span><span class="p">,</span>
            <span class="n">deployment_patch_json</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">)</span>
    <span class="n">wait_until_kubeflow_pipelines_ready</span><span class="p">(</span><span class="n">kubernetes_context</span><span class="o">=</span><span class="n">kubernetes_context</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished patching Kubeflow Pipelines setup.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.check_prerequisites" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_prerequisites</span><span class="p">(</span><span class="n">skip_k3d</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">skip_kubectl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Checks prerequisites for a local kubeflow pipelines deployment.</p>
<p>It makes sure they are installed.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>skip_k3d</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to skip the check for the k3d command.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>skip_kubectl</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to skip the check for the kubectl command.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>Whether all prerequisites are installed.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_prerequisites</span><span class="p">(</span>
    <span class="n">skip_k3d</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">skip_kubectl</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks prerequisites for a local kubeflow pipelines deployment.</span>

<span class="sd">    It makes sure they are installed.</span>

<span class="sd">    Args:</span>
<span class="sd">        skip_k3d: Whether to skip the check for the k3d command.</span>
<span class="sd">        skip_kubectl: Whether to skip the check for the kubectl command.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether all prerequisites are installed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">k3d_installed</span> <span class="o">=</span> <span class="n">skip_k3d</span> <span class="ow">or</span> <span class="n">shutil</span><span class="o">.</span><span class="n">which</span><span class="p">(</span><span class="s2">&quot;k3d&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="n">kubectl_installed</span> <span class="o">=</span> <span class="n">skip_kubectl</span> <span class="ow">or</span> <span class="n">shutil</span><span class="o">.</span><span class="n">which</span><span class="p">(</span><span class="s2">&quot;kubectl&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Local kubeflow deployment prerequisites: K3D - </span><span class="si">%s</span><span class="s2">, Kubectl - </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">k3d_installed</span><span class="p">,</span>
        <span class="n">kubectl_installed</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">k3d_installed</span> <span class="ow">and</span> <span class="n">kubectl_installed</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.create_k3d_cluster" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_k3d_cluster</span><span class="p">(</span><span class="n">cluster_name</span><span class="p">,</span> <span class="n">registry_name</span><span class="p">,</span> <span class="n">registry_config_path</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Creates a K3D cluster.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>cluster_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the cluster to create.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>registry_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the registry to create for this cluster.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>registry_config_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to the registry config file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_k3d_cluster</span><span class="p">(</span>
    <span class="n">cluster_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">registry_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">registry_config_path</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a K3D cluster.</span>

<span class="sd">    Args:</span>
<span class="sd">        cluster_name: Name of the cluster to create.</span>
<span class="sd">        registry_name: Name of the registry to create for this cluster.</span>
<span class="sd">        registry_config_path: Path to the registry config file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating local K3D cluster &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="n">cluster_name</span><span class="p">)</span>
    <span class="n">global_config_dir_path</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">get_global_config_directory</span><span class="p">()</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="s2">&quot;k3d&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cluster&quot;</span><span class="p">,</span>
            <span class="s2">&quot;create&quot;</span><span class="p">,</span>
            <span class="n">cluster_name</span><span class="p">,</span>
            <span class="s2">&quot;--image&quot;</span><span class="p">,</span>
            <span class="n">K3S_IMAGE_NAME</span><span class="p">,</span>
            <span class="s2">&quot;--registry-create&quot;</span><span class="p">,</span>
            <span class="n">registry_name</span><span class="p">,</span>
            <span class="s2">&quot;--registry-config&quot;</span><span class="p">,</span>
            <span class="n">registry_config_path</span><span class="p">,</span>
            <span class="s2">&quot;--volume&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">global_config_dir_path</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">global_config_dir_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished K3D cluster creation.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.delete_k3d_cluster" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_k3d_cluster</span><span class="p">(</span><span class="n">cluster_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Deletes a K3D cluster with the given name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>cluster_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the cluster to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_k3d_cluster</span><span class="p">(</span><span class="n">cluster_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Deletes a K3D cluster with the given name.</span>

<span class="sd">    Args:</span>
<span class="sd">        cluster_name: Name of the cluster to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">([</span><span class="s2">&quot;k3d&quot;</span><span class="p">,</span> <span class="s2">&quot;cluster&quot;</span><span class="p">,</span> <span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="n">cluster_name</span><span class="p">])</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deleted local k3d cluster &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="n">cluster_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.deploy_kubeflow_pipelines" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deploy_kubeflow_pipelines</span><span class="p">(</span><span class="n">kubernetes_context</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Deploys Kubeflow Pipelines.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>kubernetes_context</code></td>
        <td><code>str</code></td>
        <td><p>The kubernetes context on which Kubeflow Pipelines
should be deployed.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deploy_kubeflow_pipelines</span><span class="p">(</span><span class="n">kubernetes_context</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Deploys Kubeflow Pipelines.</span>

<span class="sd">    Args:</span>
<span class="sd">        kubernetes_context: The kubernetes context on which Kubeflow Pipelines</span>
<span class="sd">            should be deployed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deploying Kubeflow Pipelines.&quot;</span><span class="p">)</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="s2">&quot;kubectl&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--context&quot;</span><span class="p">,</span>
            <span class="n">kubernetes_context</span><span class="p">,</span>
            <span class="s2">&quot;apply&quot;</span><span class="p">,</span>
            <span class="s2">&quot;-k&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;github.com/kubeflow/pipelines/manifests/kustomize/cluster-scoped-resources?ref=</span><span class="si">{</span><span class="n">KFP_VERSION</span><span class="si">}</span><span class="s2">&amp;timeout=5m&quot;</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">)</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="s2">&quot;kubectl&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--context&quot;</span><span class="p">,</span>
            <span class="n">kubernetes_context</span><span class="p">,</span>
            <span class="s2">&quot;wait&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--timeout=60s&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--for&quot;</span><span class="p">,</span>
            <span class="s2">&quot;condition=established&quot;</span><span class="p">,</span>
            <span class="s2">&quot;crd/applications.app.k8s.io&quot;</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">)</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="s2">&quot;kubectl&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--context&quot;</span><span class="p">,</span>
            <span class="n">kubernetes_context</span><span class="p">,</span>
            <span class="s2">&quot;apply&quot;</span><span class="p">,</span>
            <span class="s2">&quot;-k&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;github.com/kubeflow/pipelines/manifests/kustomize/env/platform-agnostic-pns?ref=</span><span class="si">{</span><span class="n">KFP_VERSION</span><span class="si">}</span><span class="s2">&amp;timeout=5m&quot;</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="n">wait_until_kubeflow_pipelines_ready</span><span class="p">(</span><span class="n">kubernetes_context</span><span class="o">=</span><span class="n">kubernetes_context</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished Kubeflow Pipelines setup.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.k3d_cluster_exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">k3d_cluster_exists</span><span class="p">(</span><span class="n">cluster_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Checks whether there exists a K3D cluster with the given name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>cluster_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the cluster to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>Whether the cluster exists.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">k3d_cluster_exists</span><span class="p">(</span><span class="n">cluster_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks whether there exists a K3D cluster with the given name.</span>

<span class="sd">    Args:</span>
<span class="sd">        cluster_name: Name of the cluster to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether the cluster exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span>
        <span class="p">[</span><span class="s2">&quot;k3d&quot;</span><span class="p">,</span> <span class="s2">&quot;cluster&quot;</span><span class="p">,</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span> <span class="s2">&quot;--output&quot;</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">clusters</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">cluster</span> <span class="ow">in</span> <span class="n">clusters</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">cluster</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">cluster_name</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.k3d_cluster_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">k3d_cluster_running</span><span class="p">(</span><span class="n">cluster_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Checks whether the K3D cluster with the given name is running.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>cluster_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the cluster to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>Whether the cluster is running.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">k3d_cluster_running</span><span class="p">(</span><span class="n">cluster_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks whether the K3D cluster with the given name is running.</span>

<span class="sd">    Args:</span>
<span class="sd">        cluster_name: Name of the cluster to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether the cluster is running.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span>
        <span class="p">[</span><span class="s2">&quot;k3d&quot;</span><span class="p">,</span> <span class="s2">&quot;cluster&quot;</span><span class="p">,</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span> <span class="s2">&quot;--output&quot;</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">clusters</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">cluster</span> <span class="ow">in</span> <span class="n">clusters</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">cluster</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">cluster_name</span><span class="p">:</span>
            <span class="n">server_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">cluster</span><span class="p">[</span><span class="s2">&quot;serversCount&quot;</span><span class="p">]</span>
            <span class="n">servers_running</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">cluster</span><span class="p">[</span><span class="s2">&quot;serversRunning&quot;</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">servers_running</span> <span class="o">==</span> <span class="n">server_count</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.kubeflow_pipelines_ready" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kubeflow_pipelines_ready</span><span class="p">(</span><span class="n">kubernetes_context</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Returns whether all Kubeflow Pipelines pods are ready.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>kubernetes_context</code></td>
        <td><code>str</code></td>
        <td><p>The kubernetes context in which the pods
should be checked.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>Whether all Kubeflow Pipelines pods are ready.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">kubeflow_pipelines_ready</span><span class="p">(</span><span class="n">kubernetes_context</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns whether all Kubeflow Pipelines pods are ready.</span>

<span class="sd">    Args:</span>
<span class="sd">        kubernetes_context: The kubernetes context in which the pods</span>
<span class="sd">            should be checked.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether all Kubeflow Pipelines pods are ready.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="s2">&quot;kubectl&quot;</span><span class="p">,</span>
                <span class="s2">&quot;--context&quot;</span><span class="p">,</span>
                <span class="n">kubernetes_context</span><span class="p">,</span>
                <span class="s2">&quot;--namespace&quot;</span><span class="p">,</span>
                <span class="s2">&quot;kubeflow&quot;</span><span class="p">,</span>
                <span class="s2">&quot;wait&quot;</span><span class="p">,</span>
                <span class="s2">&quot;--for&quot;</span><span class="p">,</span>
                <span class="s2">&quot;condition=ready&quot;</span><span class="p">,</span>
                <span class="s2">&quot;--timeout=0s&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pods&quot;</span><span class="p">,</span>
                <span class="s2">&quot;-l&quot;</span><span class="p">,</span>
                <span class="s2">&quot;application-crd-id=kubeflow-pipelines&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">DEVNULL</span><span class="p">,</span>
            <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">DEVNULL</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.start_k3d_cluster" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start_k3d_cluster</span><span class="p">(</span><span class="n">cluster_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Starts a K3D cluster with the given name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>cluster_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the cluster to start.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start_k3d_cluster</span><span class="p">(</span><span class="n">cluster_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Starts a K3D cluster with the given name.</span>

<span class="sd">    Args:</span>
<span class="sd">        cluster_name: Name of the cluster to start.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">([</span><span class="s2">&quot;k3d&quot;</span><span class="p">,</span> <span class="s2">&quot;cluster&quot;</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="n">cluster_name</span><span class="p">])</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Started local k3d cluster &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="n">cluster_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.start_kfp_ui_daemon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start_kfp_ui_daemon</span><span class="p">(</span><span class="n">pid_file_path</span><span class="p">,</span> <span class="n">log_file_path</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">kubernetes_context</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Starts a daemon process that forwards ports.</p>
<p>This is so the Kubeflow Pipelines UI is accessible in the browser.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pid_file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path where the file with the daemons process ID should
be written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>log_file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to a file where the daemon logs should be written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>Port on which the UI should be accessible.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>kubernetes_context</code></td>
        <td><code>str</code></td>
        <td><p>The kubernetes context for the cluster where
Kubeflow Pipelines is running.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start_kfp_ui_daemon</span><span class="p">(</span>
    <span class="n">pid_file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">log_file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">kubernetes_context</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Starts a daemon process that forwards ports.</span>

<span class="sd">    This is so the Kubeflow Pipelines UI is accessible in the browser.</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file_path: Path where the file with the daemons process ID should</span>
<span class="sd">            be written.</span>
<span class="sd">        log_file_path: Path to a file where the daemon logs should be written.</span>
<span class="sd">        port: Port on which the UI should be accessible.</span>
<span class="sd">        kubernetes_context: The kubernetes context for the cluster where</span>
<span class="sd">            Kubeflow Pipelines is running.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;kubectl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--context&quot;</span><span class="p">,</span>
        <span class="n">kubernetes_context</span><span class="p">,</span>
        <span class="s2">&quot;--namespace&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kubeflow&quot;</span><span class="p">,</span>
        <span class="s2">&quot;port-forward&quot;</span><span class="p">,</span>
        <span class="s2">&quot;svc/ml-pipeline-ui&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">port</span><span class="si">}</span><span class="s2">:80&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">networking_utils</span><span class="o">.</span><span class="n">port_available</span><span class="p">(</span><span class="n">port</span><span class="p">):</span>
        <span class="n">modified_command</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">modified_command</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;PORT:80&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Unable to port-forward Kubeflow Pipelines UI to local port </span><span class="si">%d</span><span class="s2"> &quot;</span>
            <span class="s2">&quot;because the port is occupied. In order to access the Kubeflow &quot;</span>
            <span class="s2">&quot;Pipelines UI at http://localhost:PORT/, please run &#39;</span><span class="si">%s</span><span class="s2">&#39; in a &quot;</span>
            <span class="s2">&quot;separate command line shell (replace PORT with a free port of &quot;</span>
            <span class="s2">&quot;your choice).&quot;</span><span class="p">,</span>
            <span class="n">port</span><span class="p">,</span>
            <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">modified_command</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Daemon functionality not supported on Windows. &quot;</span>
            <span class="s2">&quot;In order to access the Kubeflow Pipelines UI at &quot;</span>
            <span class="s2">&quot;http://localhost:</span><span class="si">%d</span><span class="s2">/, please run &#39;</span><span class="si">%s</span><span class="s2">&#39; in a separate command &quot;</span>
            <span class="s2">&quot;line shell.&quot;</span><span class="p">,</span>
            <span class="n">port</span><span class="p">,</span>
            <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">command</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">daemon</span>

        <span class="k">def</span> <span class="nf">_daemon_function</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Port-forwards the Kubeflow Pipelines UI pod.&quot;&quot;&quot;</span>
            <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="n">daemon</span><span class="o">.</span><span class="n">run_as_daemon</span><span class="p">(</span>
            <span class="n">_daemon_function</span><span class="p">,</span> <span class="n">pid_file</span><span class="o">=</span><span class="n">pid_file_path</span><span class="p">,</span> <span class="n">log_file</span><span class="o">=</span><span class="n">log_file_path</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Started Kubeflow Pipelines UI daemon (check the daemon logs at </span><span class="si">%s</span><span class="s2"> &quot;</span>
            <span class="s2">&quot;in case you&#39;re not able to view the UI). The Kubeflow Pipelines &quot;</span>
            <span class="s2">&quot;UI should now be accessible at http://localhost:</span><span class="si">%d</span><span class="s2">/.&quot;</span><span class="p">,</span>
            <span class="n">log_file_path</span><span class="p">,</span>
            <span class="n">port</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.stop_k3d_cluster" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop_k3d_cluster</span><span class="p">(</span><span class="n">cluster_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Stops a K3D cluster with the given name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>cluster_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the cluster to stop.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop_k3d_cluster</span><span class="p">(</span><span class="n">cluster_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Stops a K3D cluster with the given name.</span>

<span class="sd">    Args:</span>
<span class="sd">        cluster_name: Name of the cluster to stop.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">([</span><span class="s2">&quot;k3d&quot;</span><span class="p">,</span> <span class="s2">&quot;cluster&quot;</span><span class="p">,</span> <span class="s2">&quot;stop&quot;</span><span class="p">,</span> <span class="n">cluster_name</span><span class="p">])</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Stopped local k3d cluster &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="n">cluster_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.stop_kfp_ui_daemon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop_kfp_ui_daemon</span><span class="p">(</span><span class="n">pid_file_path</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Stops the KFP UI daemon process if it is running.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pid_file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to the file with the daemons process ID.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop_kfp_ui_daemon</span><span class="p">(</span><span class="n">pid_file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Stops the KFP UI daemon process if it is running.</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file_path: Path to the file with the daemons process ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">pid_file_path</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
            <span class="c1"># Daemon functionality is not supported on Windows, so the PID</span>
            <span class="c1"># file won&#39;t exist. This if clause exists just for mypy to not</span>
            <span class="c1"># complain about missing functions</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">daemon</span>

            <span class="n">daemon</span><span class="o">.</span><span class="n">stop_daemon</span><span class="p">(</span><span class="n">pid_file_path</span><span class="p">)</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pid_file_path</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Stopped Kubeflow Pipelines UI daemon.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.wait_until_kubeflow_pipelines_ready" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wait_until_kubeflow_pipelines_ready</span><span class="p">(</span><span class="n">kubernetes_context</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Waits until all Kubeflow Pipelines pods are ready.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>kubernetes_context</code></td>
        <td><code>str</code></td>
        <td><p>The kubernetes context in which the pods
should be checked.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wait_until_kubeflow_pipelines_ready</span><span class="p">(</span><span class="n">kubernetes_context</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Waits until all Kubeflow Pipelines pods are ready.</span>

<span class="sd">    Args:</span>
<span class="sd">        kubernetes_context: The kubernetes context in which the pods</span>
<span class="sd">            should be checked.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Waiting for all Kubeflow Pipelines pods to be ready (this might &quot;</span>
        <span class="s2">&quot;take a few minutes).&quot;</span>
    <span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Current pod status:&quot;</span><span class="p">)</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="s2">&quot;kubectl&quot;</span><span class="p">,</span>
                <span class="s2">&quot;--context&quot;</span><span class="p">,</span>
                <span class="n">kubernetes_context</span><span class="p">,</span>
                <span class="s2">&quot;--namespace&quot;</span><span class="p">,</span>
                <span class="s2">&quot;kubeflow&quot;</span><span class="p">,</span>
                <span class="s2">&quot;get&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pods&quot;</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">kubeflow_pipelines_ready</span><span class="p">(</span><span class="n">kubernetes_context</span><span class="o">=</span><span class="n">kubernetes_context</span><span class="p">):</span>
            <span class="k">break</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;One or more pods not ready yet, waiting for 30 seconds...&quot;</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.local_deployment_utils.write_local_registry_yaml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_local_registry_yaml</span><span class="p">(</span><span class="n">yaml_path</span><span class="p">,</span> <span class="n">registry_name</span><span class="p">,</span> <span class="n">registry_uri</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Writes a K3D registry config file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>yaml_path</code></td>
        <td><code>str</code></td>
        <td><p>Path where the config file should be written to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>registry_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the registry.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>registry_uri</code></td>
        <td><code>str</code></td>
        <td><p>URI of the registry.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/local_deployment_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_local_registry_yaml</span><span class="p">(</span>
    <span class="n">yaml_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">registry_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">registry_uri</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a K3D registry config file.</span>

<span class="sd">    Args:</span>
<span class="sd">        yaml_path: Path where the config file should be written to.</span>
<span class="sd">        registry_name: Name of the registry.</span>
<span class="sd">        registry_uri: URI of the registry.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">yaml_content</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;mirrors&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">registry_uri</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;endpoint&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;http://</span><span class="si">{</span><span class="n">registry_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]}}</span>
    <span class="p">}</span>
    <span class="n">yaml_utils</span><span class="o">.</span><span class="n">write_yaml</span><span class="p">(</span><span class="n">yaml_path</span><span class="p">,</span> <span class="n">yaml_content</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.kubeflow.orchestrators.utils" class="doc doc-heading">
        <code>utils</code>



</h5>

    <div class="doc doc-contents ">

      <p>Utils for ZenML Kubeflow orchestrators implementation.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.utils.dump_ui_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dump_ui_metadata</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">execution_info</span><span class="p">,</span> <span class="n">metadata_ui_path</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Dump KFP UI metadata json file for visualization purpose.</p>
<p>For general components we just render a simple Markdown file for
    exec_properties/inputs/outputs.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>node</code></td>
        <td><code>PipelineNode</code></td>
        <td><p>associated TFX node.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>execution_info</code></td>
        <td><code>ExecutionInfo</code></td>
        <td><p>runtime execution info for this component, including
materialized inputs/outputs/execution properties and id.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>metadata_ui_path</code></td>
        <td><code>str</code></td>
        <td><p>path to dump ui metadata.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">dump_ui_metadata</span><span class="p">(</span>
    <span class="n">node</span><span class="p">:</span> <span class="n">PipelineNode</span><span class="p">,</span>
    <span class="n">execution_info</span><span class="p">:</span> <span class="n">data_types</span><span class="o">.</span><span class="n">ExecutionInfo</span><span class="p">,</span>
    <span class="n">metadata_ui_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Dump KFP UI metadata json file for visualization purpose.</span>

<span class="sd">    For general components we just render a simple Markdown file for</span>
<span class="sd">        exec_properties/inputs/outputs.</span>

<span class="sd">    Args:</span>
<span class="sd">        node: associated TFX node.</span>
<span class="sd">        execution_info: runtime execution info for this component, including</span>
<span class="sd">            materialized inputs/outputs/execution properties and id.</span>
<span class="sd">        metadata_ui_path: path to dump ui metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">exec_properties_list</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;**</span><span class="si">{}</span><span class="s2">**: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">_sanitize_underscore</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="n">_sanitize_underscore</span><span class="p">(</span><span class="n">exec_property</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">exec_property</span> <span class="ow">in</span> <span class="n">execution_info</span><span class="o">.</span><span class="n">exec_properties</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">]</span>
    <span class="n">src_str_exec_properties</span> <span class="o">=</span> <span class="s2">&quot;# Execution properties:</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">exec_properties_list</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;No execution property.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_dump_input_populated_artifacts</span><span class="p">(</span>
        <span class="n">node_inputs</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">InputSpec</span><span class="p">],</span>
        <span class="n">name_to_artifacts</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">artifact</span><span class="o">.</span><span class="n">Artifact</span><span class="p">]],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Dump artifacts markdown string for inputs.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_inputs: maps from input name to input sepc proto.</span>
<span class="sd">            name_to_artifacts: maps from input key to list of populated    artifacts.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of dumped markdown string, each of which represents a channel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rendered_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">spec</span> <span class="ow">in</span> <span class="n">node_inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Need to look for materialized artifacts in the execution decision.</span>
            <span class="n">rendered_artifacts</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">_render_artifact_as_mdstr</span><span class="p">(</span><span class="n">single_artifact</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">single_artifact</span> <span class="ow">in</span> <span class="n">name_to_artifacts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">[])</span>
                <span class="p">]</span>
            <span class="p">)</span>
            <span class="c1"># There must be at least a channel in a input, and all channels in</span>
            <span class="c1"># a input share the same artifact type.</span>
            <span class="n">artifact_type</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">artifact_query</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">name</span>
            <span class="n">rendered_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="s2">&quot;## </span><span class="si">{name}</span><span class="se">\n\n</span><span class="s2">**Type**: </span><span class="si">{channel_type}</span><span class="se">\n\n</span><span class="si">{artifacts}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">_sanitize_underscore</span><span class="p">(</span><span class="n">name</span><span class="p">),</span>
                    <span class="n">channel_type</span><span class="o">=</span><span class="n">_sanitize_underscore</span><span class="p">(</span><span class="n">artifact_type</span><span class="p">),</span>
                    <span class="n">artifacts</span><span class="o">=</span><span class="n">rendered_artifacts</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">rendered_list</span>

    <span class="k">def</span> <span class="nf">_dump_output_populated_artifacts</span><span class="p">(</span>
        <span class="n">node_outputs</span><span class="p">:</span> <span class="n">MutableMapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">OutputSpec</span><span class="p">],</span>
        <span class="n">name_to_artifacts</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">artifact</span><span class="o">.</span><span class="n">Artifact</span><span class="p">]],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Dump artifacts markdown string for outputs.</span>

<span class="sd">        Args:</span>
<span class="sd">            node_outputs: maps from output name to output sepc proto.</span>
<span class="sd">            name_to_artifacts: maps from output key to list of populated</span>
<span class="sd">                artifacts.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of dumped markdown string, each of which represents a channel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rendered_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">spec</span> <span class="ow">in</span> <span class="n">node_outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Need to look for materialized artifacts in the execution decision.</span>
            <span class="n">rendered_artifacts</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">_render_artifact_as_mdstr</span><span class="p">(</span><span class="n">single_artifact</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">single_artifact</span> <span class="ow">in</span> <span class="n">name_to_artifacts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">[])</span>
                <span class="p">]</span>
            <span class="p">)</span>
            <span class="c1"># There must be at least a channel in a input, and all channels</span>
            <span class="c1"># in a input share the same artifact type.</span>
            <span class="n">artifact_type</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">artifact_spec</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">name</span>
            <span class="n">rendered_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="s2">&quot;## </span><span class="si">{name}</span><span class="se">\n\n</span><span class="s2">**Type**: </span><span class="si">{channel_type}</span><span class="se">\n\n</span><span class="si">{artifacts}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">_sanitize_underscore</span><span class="p">(</span><span class="n">name</span><span class="p">),</span>
                    <span class="n">channel_type</span><span class="o">=</span><span class="n">_sanitize_underscore</span><span class="p">(</span><span class="n">artifact_type</span><span class="p">),</span>
                    <span class="n">artifacts</span><span class="o">=</span><span class="n">rendered_artifacts</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">rendered_list</span>

    <span class="n">src_str_inputs</span> <span class="o">=</span> <span class="s2">&quot;# Inputs:</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">_dump_input_populated_artifacts</span><span class="p">(</span>
                <span class="n">node_inputs</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">inputs</span><span class="p">,</span>
                <span class="n">name_to_artifacts</span><span class="o">=</span><span class="n">execution_info</span><span class="o">.</span><span class="n">input_dict</span> <span class="ow">or</span> <span class="p">{},</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="ow">or</span> <span class="s2">&quot;No input.&quot;</span>
    <span class="p">)</span>

    <span class="n">src_str_outputs</span> <span class="o">=</span> <span class="s2">&quot;# Outputs:</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">_dump_output_populated_artifacts</span><span class="p">(</span>
                <span class="n">node_outputs</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">outputs</span><span class="p">,</span>
                <span class="n">name_to_artifacts</span><span class="o">=</span><span class="n">execution_info</span><span class="o">.</span><span class="n">output_dict</span> <span class="ow">or</span> <span class="p">{},</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="ow">or</span> <span class="s2">&quot;No output.&quot;</span>
    <span class="p">)</span>

    <span class="n">outputs</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;storage&quot;</span><span class="p">:</span> <span class="s2">&quot;inline&quot;</span><span class="p">,</span>
            <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{exec_properties}</span><span class="se">\n\n</span><span class="si">{inputs}</span><span class="se">\n\n</span><span class="si">{outputs}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">exec_properties</span><span class="o">=</span><span class="n">src_str_exec_properties</span><span class="p">,</span>
                <span class="n">inputs</span><span class="o">=</span><span class="n">src_str_inputs</span><span class="p">,</span>
                <span class="n">outputs</span><span class="o">=</span><span class="n">src_str_outputs</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;markdown&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="c1"># Add TensorBoard view for ModelRun outputs.</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">spec</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">spec</span><span class="o">.</span><span class="n">artifact_spec</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">name</span>
            <span class="o">==</span> <span class="n">standard_artifacts</span><span class="o">.</span><span class="n">ModelRun</span><span class="o">.</span><span class="n">TYPE_NAME</span>
            <span class="ow">or</span> <span class="n">spec</span><span class="o">.</span><span class="n">artifact_spec</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">ModelArtifact</span><span class="o">.</span><span class="n">TYPE_NAME</span>
        <span class="p">):</span>
            <span class="n">output_model</span> <span class="o">=</span> <span class="n">execution_info</span><span class="o">.</span><span class="n">output_dict</span><span class="p">[</span><span class="n">name</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">output_model</span><span class="o">.</span><span class="n">uri</span>

            <span class="c1"># For local artifact repository, use a path that is relative to</span>
            <span class="c1"># the point where the local artifact folder is mounted as a volume</span>
            <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact_store</span><span class="p">,</span> <span class="n">LocalArtifactStore</span><span class="p">):</span>
                <span class="n">source</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">artifact_store</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
                <span class="n">source</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;volume://local-artifact-store/</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="c1"># Add TensorBoard view.</span>
            <span class="n">tensorboard_output</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;tensorboard&quot;</span><span class="p">,</span>
                <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">source</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tensorboard_output</span><span class="p">)</span>

    <span class="n">metadata_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">outputs</span><span class="p">}</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">metadata_ui_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">metadata_dict</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubeflow.orchestrators.utils.mount_config_map_op" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mount_config_map_op</span><span class="p">(</span><span class="n">config_map_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Mounts all key-value pairs found in the named Kubernetes ConfigMap.</p>
<p>All key-value pairs in the ConfigMap are mounted as environment variables.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config_map_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the ConfigMap resource.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Callable[[kfp.dsl._container_op.ContainerOp], NoneType]</code></td>
      <td><p>An OpFunc for mounting the ConfigMap.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubeflow/orchestrators/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">mount_config_map_op</span><span class="p">(</span>
    <span class="n">config_map_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">dsl</span><span class="o">.</span><span class="n">ContainerOp</span><span class="p">],</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Mounts all key-value pairs found in the named Kubernetes ConfigMap.</span>

<span class="sd">    All key-value pairs in the ConfigMap are mounted as environment variables.</span>

<span class="sd">    Args:</span>
<span class="sd">        config_map_name: The name of the ConfigMap resource.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An OpFunc for mounting the ConfigMap.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">mount_config_map</span><span class="p">(</span><span class="n">container_op</span><span class="p">:</span> <span class="n">dsl</span><span class="o">.</span><span class="n">ContainerOp</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Mounts all key-value pairs found in the Kubernetes ConfigMap.</span>

<span class="sd">        Args:</span>
<span class="sd">            container_op: The container op to mount the ConfigMap.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config_map_ref</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1ConfigMapEnvSource</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">config_map_name</span><span class="p">,</span> <span class="n">optional</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
        <span class="n">container_op</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">add_env_from</span><span class="p">(</span>
            <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1EnvFromSource</span><span class="p">(</span><span class="n">config_map_ref</span><span class="o">=</span><span class="n">config_map_ref</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">mount_config_map</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.kubernetes" class="doc doc-heading">
        <code>kubernetes</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Kubernetes integration for Kubernetes-native orchestration.</p>
<p>The Kubernetes integration sub-module powers an alternative to the local
orchestrator. You can enable it by registering the Kubernetes orchestrator with
the CLI tool.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.kubernetes.KubernetesIntegration" class="doc doc-heading">
        <code>
KubernetesIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Kubernetes integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KubernetesIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Kubernetes integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">KUBERNETES</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;kubernetes==18.20.0&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Kubernetes integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of new stack component flavors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">KUBERNETES_METADATA_STORE_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.kubernetes.metadata_stores.KubernetesMetadataStore&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">METADATA_STORE</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">KUBERNETES_ORCHESTRATOR_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.kubernetes.orchestrators.KubernetesOrchestrator&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.kubernetes.KubernetesIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the Kubernetes integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of new stack component flavors.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Kubernetes integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of new stack component flavors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">KUBERNETES_METADATA_STORE_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.kubernetes.metadata_stores.KubernetesMetadataStore&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">METADATA_STORE</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">KUBERNETES_ORCHESTRATOR_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.kubernetes.orchestrators.KubernetesOrchestrator&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.kubernetes.metadata_stores" class="doc doc-heading">
        <code>metadata_stores</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Kubernetes metadata store for ZenML.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store" class="doc doc-heading">
        <code>kubernetes_metadata_store</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of Kubernetes metadata store.</p>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore" class="doc doc-heading">
        <code>
KubernetesMetadataStore            (<a class="autorefs autorefs-internal" title="zenml.metadata_stores.base_metadata_store.BaseMetadataStore" href="../metadata_stores/#zenml.metadata_stores.base_metadata_store.BaseMetadataStore">BaseMetadataStore</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Kubernetes metadata store (MySQL database deployed in the cluster).</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the Kubernetes deployment and corresponding
service/pod that will be created when calling <code>provision()</code>.</p></td>
      </tr>
      <tr>
        <td><code>kubernetes_context</code></td>
        <td><code>str</code></td>
        <td><p>Name of the Kubernetes context in which to deploy
and provision the MySQL database.</p></td>
      </tr>
      <tr>
        <td><code>kubernetes_namespace</code></td>
        <td><code>str</code></td>
        <td><p>Name of the Kubernetes namespace.
Defaults to "default".</p></td>
      </tr>
      <tr>
        <td><code>storage_capacity</code></td>
        <td><code>str</code></td>
        <td><p>Storage capacity of the metadata store.
Defaults to <code>"10Gi"</code> (=10GB).</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/metadata_stores/kubernetes_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KubernetesMetadataStore</span><span class="p">(</span><span class="n">BaseMetadataStore</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Kubernetes metadata store (MySQL database deployed in the cluster).</span>

<span class="sd">    Attributes:</span>
<span class="sd">        deployment_name: Name of the Kubernetes deployment and corresponding</span>
<span class="sd">            service/pod that will be created when calling `provision()`.</span>
<span class="sd">        kubernetes_context: Name of the Kubernetes context in which to deploy</span>
<span class="sd">            and provision the MySQL database.</span>
<span class="sd">        kubernetes_namespace: Name of the Kubernetes namespace.</span>
<span class="sd">            Defaults to &quot;default&quot;.</span>
<span class="sd">        storage_capacity: Storage capacity of the metadata store.</span>
<span class="sd">            Defaults to `&quot;10Gi&quot;` (=10GB).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">deployment_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">kubernetes_context</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">kubernetes_namespace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenml&quot;</span>
    <span class="n">storage_capacity</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;10Gi&quot;</span>
    <span class="n">_k8s_core_api</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">CoreV1Api</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_k8s_apps_api</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">AppsV1Api</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">KUBERNETES_METADATA_STORE_FLAVOR</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initiate the Pydantic object and initialize the Kubernetes clients.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: The positional arguments to pass to the Pydantic object.</span>
<span class="sd">            **kwargs: The keyword arguments to pass to the Pydantic object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_k8s_clients</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_initialize_k8s_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialize the Kubernetes clients.&quot;&quot;&quot;</span>
        <span class="n">kube_utils</span><span class="o">.</span><span class="n">load_kube_config</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">CoreV1Api</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_k8s_apps_api</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">AppsV1Api</span><span class="p">()</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">skip_on_failure</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">check_required_attributes</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Pydantic root_validator.</span>

<span class="sd">        This ensures that both `deployment_name` and `kubernetes_context` are</span>
<span class="sd">        set and raises an error with a custom error message otherwise.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: Values passed to the Pydantic constructor.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StackComponentInterfaceError: if either `deployment_name` or</span>
<span class="sd">                `kubernetes_context` is not defined.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Values passed to the Pydantic constructor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">usage_note</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;Note: the `kubernetes` metadata store flavor is a special &quot;</span>
            <span class="s2">&quot;subtype of the `mysql` metadata store that deploys a fresh &quot;</span>
            <span class="s2">&quot;MySQL database within your Kubernetes cluster when running &quot;</span>
            <span class="s2">&quot;`zenml stack up`. &quot;</span>
            <span class="s2">&quot;If you already have a MySQL database running in your cluster &quot;</span>
            <span class="s2">&quot;(or elsewhere), simply use the `mysql` metadata store flavor &quot;</span>
            <span class="s2">&quot;instead.&quot;</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">required_field</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;deployment_name&quot;</span><span class="p">,</span> <span class="s2">&quot;kubernetes_context&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">required_field</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">StackComponentInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Required field `</span><span class="si">{</span><span class="n">required_field</span><span class="si">}</span><span class="s2">` missing for &quot;</span>
                    <span class="s2">&quot;`KubernetesMetadataStore`. &quot;</span> <span class="o">+</span> <span class="n">usage_note</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">deployment_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Check whether a MySQL deployment exists in the cluster.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Whether a MySQL deployment exists in the cluster.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_k8s_apps_api</span><span class="o">.</span><span class="n">list_namespaced_deployment</span><span class="p">(</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">resp</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">deployment_name</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_provisioned</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;If the component provisioned resources to run.</span>

<span class="sd">        Checks whether the required MySQL deployment exists.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the component provisioned resources to run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">is_provisioned</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">deployment_exists</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;If the component is running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if `is_provisioned` else False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">!=</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.utils.daemon</span> <span class="kn">import</span> <span class="n">check_if_daemon_is_running</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">check_if_daemon_is_running</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Daemon functionality is not supported on Windows, so the PID</span>
            <span class="c1"># file won&#39;t exist. This if clause exists just for mypy to not</span>
            <span class="c1"># complain about missing functions</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_provisioned</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Provision the metadata store.</span>

<span class="sd">        Creates a deployment with a MySQL database running in it.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provisioning Kubernetes MySQL metadata store...&quot;</span><span class="p">)</span>
        <span class="n">kube_utils</span><span class="o">.</span><span class="n">create_namespace</span><span class="p">(</span>
            <span class="n">core_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span>
        <span class="p">)</span>
        <span class="n">kube_utils</span><span class="o">.</span><span class="n">create_mysql_deployment</span><span class="p">(</span>
            <span class="n">core_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span><span class="p">,</span>
            <span class="n">apps_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_apps_api</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
            <span class="n">storage_capacity</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">storage_capacity</span><span class="p">,</span>
            <span class="n">deployment_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deployment_name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># wait a bit, then make sure deployment pod is alive and running.</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Trying to reach Kubernetes MySQL metadata store pod...&quot;</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">kube_utils</span><span class="o">.</span><span class="n">wait_pod</span><span class="p">(</span>
            <span class="n">core_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span><span class="p">,</span>
            <span class="n">pod_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pod_name</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
            <span class="n">exit_condition_lambda</span><span class="o">=</span><span class="n">kube_utils</span><span class="o">.</span><span class="n">pod_is_not_pending</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Kubernetes MySQL metadata store pod is up and running.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Deprovision the metadata store by deleting the MySQL deployment.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deleting Kubernetes MySQL metadata store...&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suspend</span><span class="p">()</span>
        <span class="n">kube_utils</span><span class="o">.</span><span class="n">delete_deployment</span><span class="p">(</span>
            <span class="n">apps_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_apps_api</span><span class="p">,</span>
            <span class="n">deployment_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deployment_name</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># TODO: code duplication with kubeflow metadata store below.</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">root_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to the root directory for all files concerning this orchestrator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the root directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">io_utils</span><span class="o">.</span><span class="n">get_global_config_directory</span><span class="p">(),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">FLAVOR</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_pid_file_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns path to the daemon PID file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the daemon PID file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">,</span> <span class="n">DEFAULT_KUBERNETES_METADATA_DAEMON_PID_FILE</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_log_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Path of the daemon log file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the daemon log file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">root_directory</span><span class="p">,</span> <span class="n">DEFAULT_KUBERNETES_METADATA_DAEMON_LOG_FILE</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Resumes the metadata store.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_metadata_daemon</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_until_metadata_store_ready</span><span class="p">(</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">DEFAULT_KUBERNETES_METADATA_DAEMON_TIMEOUT</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Suspends the metadata store.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_metadata_daemon</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pod_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Name of the Kubernetes pod where the MySQL database is deployed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Name of the Kubernetes pod.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pod_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span><span class="o">.</span><span class="n">list_namespaced_pod</span><span class="p">(</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
            <span class="n">label_selector</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;app=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">deployment_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">pod_list</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">name</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">host</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the MySQL host required to access the metadata store.</span>

<span class="sd">        This overwrites the MySQL host to use local host when</span>
<span class="sd">        running outside of the cluster so we can access the metadata store</span>
<span class="sd">        locally for post execution.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the metadata store is not running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            MySQL host.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">kube_utils</span><span class="o">.</span><span class="n">is_inside_kubernetes</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">DEFAULT_KUBERNETES_MYSQL_HOST</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;The Kubernetes metadata daemon is not running. Please run the &quot;</span>
                <span class="s2">&quot;following command to start it first:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;    &#39;zenml metadata-store up&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">DEFAULT_KUBERNETES_MYSQL_LOCAL_HOST</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">port</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the MySQL port required to access the metadata store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: MySQL port.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">DEFAULT_KUBERNETES_MYSQL_PORT</span>

    <span class="k">def</span> <span class="nf">get_tfx_metadata_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span>
        <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ConnectionConfig</span><span class="p">,</span>
        <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">MetadataStoreClientConfig</span><span class="p">,</span>
    <span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return tfx metadata config for the Kubernetes metadata store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The tfx metadata config.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">MySQLDatabaseConfig</span><span class="p">(</span>
            <span class="n">host</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="p">,</span>
            <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
            <span class="n">database</span><span class="o">=</span><span class="n">DEFAULT_KUBERNETES_MYSQL_DATABASE</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">DEFAULT_KUBERNETES_MYSQL_USERNAME</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="n">DEFAULT_KUBERNETES_MYSQL_PASSWORD</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">connection_config</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ConnectionConfig</span><span class="p">(</span><span class="n">mysql</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">connection_config</span>

    <span class="k">def</span> <span class="nf">start_metadata_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Starts a daemon process that forwards ports.</span>

<span class="sd">        This is so the MySQL database in the Kubernetes cluster is accessible</span>
<span class="sd">        on the localhost.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ProvisioningError: if the daemon fails to start.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;kubectl&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--context&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="p">,</span>
            <span class="s2">&quot;--namespace&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
            <span class="s2">&quot;port-forward&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;svc/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">deployment_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Daemon functionality not supported on Windows. &quot;</span>
                <span class="s2">&quot;In order to access the Kubernetes Metadata locally, &quot;</span>
                <span class="s2">&quot;please run &#39;</span><span class="si">%s</span><span class="s2">&#39; in a separate command line shell.&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
                <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">command</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">networking_utils</span><span class="o">.</span><span class="n">port_available</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">ProvisioningError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to port-forward Kubernetes Metadata to local &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;port </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2"> because the port is occupied. In order to &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;access the Kubernetes Metadata locally, please &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;change the metadata store configuration to use an available &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;port or stop the other process currently using the port.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">daemon</span>

            <span class="k">def</span> <span class="nf">_daemon_function</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
                <span class="sd">&quot;&quot;&quot;Forwards the port of the Kubernetes metadata store pod .&quot;&quot;&quot;</span>
                <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

            <span class="n">daemon</span><span class="o">.</span><span class="n">run_as_daemon</span><span class="p">(</span>
                <span class="n">_daemon_function</span><span class="p">,</span>
                <span class="n">pid_file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">,</span>
                <span class="n">log_file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_log_file</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Started Kubernetes Metadata daemon (check the daemon&quot;</span>
                <span class="s2">&quot;logs at </span><span class="si">%s</span><span class="s2"> in case you&#39;re not able to access the pipeline&quot;</span>
                <span class="s2">&quot;metadata).&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_log_file</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">stop_metadata_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Stops the Kubernetes metadata daemon process if it is running.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">!=</span> <span class="s2">&quot;win32&quot;</span> <span class="ow">and</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">):</span>
            <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">daemon</span>

            <span class="n">daemon</span><span class="o">.</span><span class="n">stop_daemon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">)</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">wait_until_metadata_store_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Waits until the metadata store connection is ready.</span>

<span class="sd">        Potentially an irrecoverable error could occur or the timeout could</span>
<span class="sd">        expire, so it checks for this.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout: The maximum time to wait for the metadata store to be</span>
<span class="sd">                ready.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the metadata store is not ready after the timeout</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Waiting for the Kubernetes metadata store to be ready (this &quot;</span>
            <span class="s2">&quot;might take a few minutes).&quot;</span>
        <span class="p">)</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># it doesn&#39;t matter what we call here as long as it exercises</span>
                <span class="c1"># the MLMD connection</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_pipelines</span><span class="p">()</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;The Kubernetes metadata store is not ready yet. Waiting &quot;</span>
                    <span class="s2">&quot;for 10 seconds...&quot;</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">timeout</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;An unexpected error was encountered while waiting &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;for the Kubernetes metadata store to be functional: &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
                <span class="n">timeout</span> <span class="o">-=</span> <span class="mi">10</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;The Kubernetes metadata store is functional.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.deployment_exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deployment_exists</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Check whether a MySQL deployment exists in the cluster.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>Whether a MySQL deployment exists in the cluster.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.host" class="doc doc-heading">
<code class="highlight language-python"><span class="n">host</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Get the MySQL host required to access the metadata store.</p>
<p>This overwrites the MySQL host to use local host when
running outside of the cluster so we can access the metadata store
locally for post execution.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the metadata store is not running.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>MySQL host.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.is_provisioned" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_provisioned</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>If the component provisioned resources to run.</p>
<p>Checks whether the required MySQL deployment exists.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the component provisioned resources to run.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.is_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_running</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>If the component is running.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if <code>is_provisioned</code> else False.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>





  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.pod_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pod_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Name of the Kubernetes pod where the MySQL database is deployed.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Name of the Kubernetes pod.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.port" class="doc doc-heading">
<code class="highlight language-python"><span class="n">port</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Get the MySQL port required to access the metadata store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>MySQL port.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.root_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">root_directory</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns path to the root directory for all files concerning this orchestrator.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Path to the root directory.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Initiate the Pydantic object and initialize the Kubernetes clients.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>The positional arguments to pass to the Pydantic object.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>The keyword arguments to pass to the Pydantic object.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/metadata_stores/kubernetes_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Initiate the Pydantic object and initialize the Kubernetes clients.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: The positional arguments to pass to the Pydantic object.</span>
<span class="sd">        **kwargs: The keyword arguments to pass to the Pydantic object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_k8s_clients</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.check_required_attributes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_required_attributes</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Pydantic root_validator.</p>
<p>This ensures that both <code>deployment_name</code> and <code>kubernetes_context</code> are
set and raises an error with a custom error message otherwise.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>values</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>Values passed to the Pydantic constructor.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StackComponentInterfaceError</code></td>
        <td><p>if either <code>deployment_name</code> or
<code>kubernetes_context</code> is not defined.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Values passed to the Pydantic constructor.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/metadata_stores/kubernetes_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@root_validator</span><span class="p">(</span><span class="n">skip_on_failure</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">check_required_attributes</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Pydantic root_validator.</span>

<span class="sd">    This ensures that both `deployment_name` and `kubernetes_context` are</span>
<span class="sd">    set and raises an error with a custom error message otherwise.</span>

<span class="sd">    Args:</span>
<span class="sd">        values: Values passed to the Pydantic constructor.</span>

<span class="sd">    Raises:</span>
<span class="sd">        StackComponentInterfaceError: if either `deployment_name` or</span>
<span class="sd">            `kubernetes_context` is not defined.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Values passed to the Pydantic constructor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">usage_note</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;Note: the `kubernetes` metadata store flavor is a special &quot;</span>
        <span class="s2">&quot;subtype of the `mysql` metadata store that deploys a fresh &quot;</span>
        <span class="s2">&quot;MySQL database within your Kubernetes cluster when running &quot;</span>
        <span class="s2">&quot;`zenml stack up`. &quot;</span>
        <span class="s2">&quot;If you already have a MySQL database running in your cluster &quot;</span>
        <span class="s2">&quot;(or elsewhere), simply use the `mysql` metadata store flavor &quot;</span>
        <span class="s2">&quot;instead.&quot;</span>
    <span class="p">)</span>

    <span class="k">for</span> <span class="n">required_field</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;deployment_name&quot;</span><span class="p">,</span> <span class="s2">&quot;kubernetes_context&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">required_field</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StackComponentInterfaceError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Required field `</span><span class="si">{</span><span class="n">required_field</span><span class="si">}</span><span class="s2">` missing for &quot;</span>
                <span class="s2">&quot;`KubernetesMetadataStore`. &quot;</span> <span class="o">+</span> <span class="n">usage_note</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="n">values</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.deprovision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Deprovision the metadata store by deleting the MySQL deployment.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/metadata_stores/kubernetes_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Deprovision the metadata store by deleting the MySQL deployment.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deleting Kubernetes MySQL metadata store...&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">suspend</span><span class="p">()</span>
    <span class="n">kube_utils</span><span class="o">.</span><span class="n">delete_deployment</span><span class="p">(</span>
        <span class="n">apps_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_apps_api</span><span class="p">,</span>
        <span class="n">deployment_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deployment_name</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.get_tfx_metadata_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_tfx_metadata_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return tfx metadata config for the Kubernetes metadata store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[ml_metadata.proto.metadata_store_pb2.ConnectionConfig, ml_metadata.proto.metadata_store_pb2.MetadataStoreClientConfig]</code></td>
      <td><p>The tfx metadata config.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/metadata_stores/kubernetes_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_tfx_metadata_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span>
    <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ConnectionConfig</span><span class="p">,</span>
    <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">MetadataStoreClientConfig</span><span class="p">,</span>
<span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return tfx metadata config for the Kubernetes metadata store.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The tfx metadata config.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">MySQLDatabaseConfig</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="n">DEFAULT_KUBERNETES_MYSQL_DATABASE</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">DEFAULT_KUBERNETES_MYSQL_USERNAME</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">DEFAULT_KUBERNETES_MYSQL_PASSWORD</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">connection_config</span> <span class="o">=</span> <span class="n">metadata_store_pb2</span><span class="o">.</span><span class="n">ConnectionConfig</span><span class="p">(</span><span class="n">mysql</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">connection_config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Provision the metadata store.</p>
<p>Creates a deployment with a MySQL database running in it.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/metadata_stores/kubernetes_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Provision the metadata store.</span>

<span class="sd">    Creates a deployment with a MySQL database running in it.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provisioning Kubernetes MySQL metadata store...&quot;</span><span class="p">)</span>
    <span class="n">kube_utils</span><span class="o">.</span><span class="n">create_namespace</span><span class="p">(</span>
        <span class="n">core_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span>
    <span class="p">)</span>
    <span class="n">kube_utils</span><span class="o">.</span><span class="n">create_mysql_deployment</span><span class="p">(</span>
        <span class="n">core_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span><span class="p">,</span>
        <span class="n">apps_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_apps_api</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
        <span class="n">storage_capacity</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">storage_capacity</span><span class="p">,</span>
        <span class="n">deployment_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">deployment_name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># wait a bit, then make sure deployment pod is alive and running.</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Trying to reach Kubernetes MySQL metadata store pod...&quot;</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">kube_utils</span><span class="o">.</span><span class="n">wait_pod</span><span class="p">(</span>
        <span class="n">core_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span><span class="p">,</span>
        <span class="n">pod_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pod_name</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
        <span class="n">exit_condition_lambda</span><span class="o">=</span><span class="n">kube_utils</span><span class="o">.</span><span class="n">pod_is_not_pending</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Kubernetes MySQL metadata store pod is up and running.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.resume" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Resumes the metadata store.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/metadata_stores/kubernetes_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Resumes the metadata store.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start_metadata_daemon</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wait_until_metadata_store_ready</span><span class="p">(</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">DEFAULT_KUBERNETES_METADATA_DAEMON_TIMEOUT</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.start_metadata_daemon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start_metadata_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Starts a daemon process that forwards ports.</p>
<p>This is so the MySQL database in the Kubernetes cluster is accessible
on the localhost.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ProvisioningError</code></td>
        <td><p>if the daemon fails to start.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/metadata_stores/kubernetes_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start_metadata_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Starts a daemon process that forwards ports.</span>

<span class="sd">    This is so the MySQL database in the Kubernetes cluster is accessible</span>
<span class="sd">    on the localhost.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ProvisioningError: if the daemon fails to start.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;kubectl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--context&quot;</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="p">,</span>
        <span class="s2">&quot;--namespace&quot;</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
        <span class="s2">&quot;port-forward&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;svc/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">deployment_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Daemon functionality not supported on Windows. &quot;</span>
            <span class="s2">&quot;In order to access the Kubernetes Metadata locally, &quot;</span>
            <span class="s2">&quot;please run &#39;</span><span class="si">%s</span><span class="s2">&#39; in a separate command line shell.&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
            <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">command</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="n">networking_utils</span><span class="o">.</span><span class="n">port_available</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">ProvisioningError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to port-forward Kubernetes Metadata to local &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;port </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2"> because the port is occupied. In order to &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;access the Kubernetes Metadata locally, please &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;change the metadata store configuration to use an available &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;port or stop the other process currently using the port.&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">daemon</span>

        <span class="k">def</span> <span class="nf">_daemon_function</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Forwards the port of the Kubernetes metadata store pod .&quot;&quot;&quot;</span>
            <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="n">daemon</span><span class="o">.</span><span class="n">run_as_daemon</span><span class="p">(</span>
            <span class="n">_daemon_function</span><span class="p">,</span>
            <span class="n">pid_file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">,</span>
            <span class="n">log_file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_log_file</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Started Kubernetes Metadata daemon (check the daemon&quot;</span>
            <span class="s2">&quot;logs at </span><span class="si">%s</span><span class="s2"> in case you&#39;re not able to access the pipeline&quot;</span>
            <span class="s2">&quot;metadata).&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log_file</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.stop_metadata_daemon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop_metadata_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Stops the Kubernetes metadata daemon process if it is running.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/metadata_stores/kubernetes_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop_metadata_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Stops the Kubernetes metadata daemon process if it is running.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">!=</span> <span class="s2">&quot;win32&quot;</span> <span class="ow">and</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">daemon</span>

        <span class="n">daemon</span><span class="o">.</span><span class="n">stop_daemon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">)</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pid_file_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.suspend" class="doc doc-heading">
<code class="highlight language-python"><span class="n">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Suspends the metadata store.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/metadata_stores/kubernetes_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Suspends the metadata store.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stop_metadata_daemon</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.metadata_stores.kubernetes_metadata_store.KubernetesMetadataStore.wait_until_metadata_store_ready" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wait_until_metadata_store_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Waits until the metadata store connection is ready.</p>
<p>Potentially an irrecoverable error could occur or the timeout could
expire, so it checks for this.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>The maximum time to wait for the metadata store to be
ready.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the metadata store is not ready after the timeout</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/metadata_stores/kubernetes_metadata_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wait_until_metadata_store_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Waits until the metadata store connection is ready.</span>

<span class="sd">    Potentially an irrecoverable error could occur or the timeout could</span>
<span class="sd">    expire, so it checks for this.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeout: The maximum time to wait for the metadata store to be</span>
<span class="sd">            ready.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the metadata store is not ready after the timeout</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Waiting for the Kubernetes metadata store to be ready (this &quot;</span>
        <span class="s2">&quot;might take a few minutes).&quot;</span>
    <span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># it doesn&#39;t matter what we call here as long as it exercises</span>
            <span class="c1"># the MLMD connection</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_pipelines</span><span class="p">()</span>
            <span class="k">break</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;The Kubernetes metadata store is not ready yet. Waiting &quot;</span>
                <span class="s2">&quot;for 10 seconds...&quot;</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">timeout</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;An unexpected error was encountered while waiting &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;for the Kubernetes metadata store to be functional: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
            <span class="n">timeout</span> <span class="o">-=</span> <span class="mi">10</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;The Kubernetes metadata store is functional.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.kubernetes.orchestrators" class="doc doc-heading">
        <code>orchestrators</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Kubernetes-native orchestration.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.kubernetes.orchestrators.dag_runner" class="doc doc-heading">
        <code>dag_runner</code>



</h5>

    <div class="doc doc-contents ">

      <p>DAG (Directed Acyclic Graph) Runners.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.kubernetes.orchestrators.dag_runner.NodeStatus" class="doc doc-heading">
        <code>
NodeStatus            (<span title="enum.Enum">Enum</span>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Status of the execution of a node.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/dag_runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">NodeStatus</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Status of the execution of a node.&quot;&quot;&quot;</span>

    <span class="n">WAITING</span> <span class="o">=</span> <span class="s2">&quot;Waiting&quot;</span>
    <span class="n">RUNNING</span> <span class="o">=</span> <span class="s2">&quot;Running&quot;</span>
    <span class="n">COMPLETED</span> <span class="o">=</span> <span class="s2">&quot;Completed&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.kubernetes.orchestrators.dag_runner.ThreadedDagRunner" class="doc doc-heading">
        <code>
ThreadedDagRunner        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Multi-threaded DAG Runner.</p>
<p>This class expects a DAG of strings in adjacency list representation, as
well as a custom <code>run_fn</code> as input, then calls <code>run_fn(node)</code> for each
string node in the DAG.</p>
<p>Steps that can be executed in parallel will be started in separate threads.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/dag_runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ThreadedDagRunner</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Multi-threaded DAG Runner.</span>

<span class="sd">    This class expects a DAG of strings in adjacency list representation, as</span>
<span class="sd">    well as a custom `run_fn` as input, then calls `run_fn(node)` for each</span>
<span class="sd">    string node in the DAG.</span>

<span class="sd">    Steps that can be executed in parallel will be started in separate threads.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">dag</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">run_fn</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Define attributes and initialize all nodes in waiting state.</span>

<span class="sd">        Args:</span>
<span class="sd">            dag: Adjacency list representation of a DAG.</span>
<span class="sd">                E.g.: [(1-&gt;2), (1-&gt;3), (2-&gt;4), (3-&gt;4)] should be represented as</span>
<span class="sd">                `dag={2: [1], 3: [1], 4: [2, 3]}`</span>
<span class="sd">            run_fn: A function `run_fn(node)` that runs a single node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dag</span> <span class="o">=</span> <span class="n">dag</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reversed_dag</span> <span class="o">=</span> <span class="n">reverse_dag</span><span class="p">(</span><span class="n">dag</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_fn</span> <span class="o">=</span> <span class="n">run_fn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_states</span> <span class="o">=</span> <span class="p">{</span><span class="n">node</span><span class="p">:</span> <span class="n">NodeStatus</span><span class="o">.</span><span class="n">WAITING</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_can_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Determine whether a node is ready to be run.</span>

<span class="sd">        This is the case if the node has not run yet and all of its upstream</span>
<span class="sd">        node have already completed.</span>

<span class="sd">        Args:</span>
<span class="sd">            node: The node.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the node can run else False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Check that node has not run yet.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_states</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">==</span> <span class="n">NodeStatus</span><span class="o">.</span><span class="n">WAITING</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># Check that all upstream nodes of this node have already completed.</span>
        <span class="k">for</span> <span class="n">upstream_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dag</span><span class="p">[</span><span class="n">node</span><span class="p">]:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_states</span><span class="p">[</span><span class="n">upstream_node</span><span class="p">]</span> <span class="o">==</span> <span class="n">NodeStatus</span><span class="o">.</span><span class="n">COMPLETED</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">_run_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Run a single node.</span>

<span class="sd">        Calls the user-defined run_fn, then calls `self._finish_node`.</span>

<span class="sd">        Args:</span>
<span class="sd">            node: The node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_fn</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_finish_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_run_node_in_thread</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Run a single node in a separate thread.</span>

<span class="sd">        First updates the node status to running.</span>
<span class="sd">        Then calls self._run_node() in a new thread and returns the thread.</span>

<span class="sd">        Args:</span>
<span class="sd">            node: The node.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The thread in which the node was run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Update node status to running.</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_states</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">==</span> <span class="n">NodeStatus</span><span class="o">.</span><span class="n">WAITING</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_states</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">NodeStatus</span><span class="o">.</span><span class="n">RUNNING</span>

        <span class="c1"># Run node in new thread.</span>
        <span class="n">thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_run_node</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">node</span><span class="p">,))</span>
        <span class="n">thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">thread</span>

    <span class="k">def</span> <span class="nf">_finish_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Finish a node run.</span>

<span class="sd">        First updates the node status to completed.</span>
<span class="sd">        Then starts all other nodes that can now be run and waits for them.</span>

<span class="sd">        Args:</span>
<span class="sd">            node: The node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Update node status to completed.</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_states</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">==</span> <span class="n">NodeStatus</span><span class="o">.</span><span class="n">RUNNING</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_states</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">NodeStatus</span><span class="o">.</span><span class="n">COMPLETED</span>

        <span class="c1"># Run downstream nodes.</span>
        <span class="n">threads</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">downstram_node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">reversed_dag</span><span class="p">[</span><span class="n">node</span><span class="p">]:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_can_run</span><span class="p">(</span><span class="n">downstram_node</span><span class="p">):</span>
                <span class="n">thread</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_node_in_thread</span><span class="p">(</span><span class="n">downstram_node</span><span class="p">)</span>
                <span class="n">threads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">thread</span><span class="p">)</span>

        <span class="c1"># Wait for all downstream nodes to complete.</span>
        <span class="k">for</span> <span class="n">thread</span> <span class="ow">in</span> <span class="n">threads</span><span class="p">:</span>
            <span class="n">thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Call `self.run_fn` on all nodes in `self.dag`.</span>

<span class="sd">        The order of execution is determined using topological sort.</span>
<span class="sd">        Each node is run in a separate thread to enable parallelism.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Run all nodes that can be started immediately.</span>
        <span class="c1"># These will, in turn, start other nodes once all of their respective</span>
        <span class="c1"># upstream nodes have completed.</span>
        <span class="n">threads</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_can_run</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
                <span class="n">thread</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_node_in_thread</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
                <span class="n">threads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">thread</span><span class="p">)</span>

        <span class="c1"># Wait till all nodes have completed.</span>
        <span class="k">for</span> <span class="n">thread</span> <span class="ow">in</span> <span class="n">threads</span><span class="p">:</span>
            <span class="n">thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

        <span class="c1"># Make sure all nodes were run, otherwise print a warning.</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_states</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">==</span> <span class="n">NodeStatus</span><span class="o">.</span><span class="n">WAITING</span><span class="p">:</span>
                <span class="n">upstream_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dag</span><span class="p">[</span><span class="n">node</span><span class="p">]</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Node `</span><span class="si">{</span><span class="n">node</span><span class="si">}</span><span class="s2">` was never run, because it was still&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot; waiting for the following nodes: `</span><span class="si">{</span><span class="n">upstream_nodes</span><span class="si">}</span><span class="s2">`.&quot;</span>
                <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.orchestrators.dag_runner.ThreadedDagRunner.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dag</span><span class="p">,</span> <span class="n">run_fn</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Define attributes and initialize all nodes in waiting state.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dag</code></td>
        <td><code>Dict[str, List[str]]</code></td>
        <td><p>Adjacency list representation of a DAG.
E.g.: [(1-&gt;2), (1-&gt;3), (2-&gt;4), (3-&gt;4)] should be represented as
<code>dag={2: [1], 3: [1], 4: [2, 3]}</code></p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>run_fn</code></td>
        <td><code>Callable[[str], Any]</code></td>
        <td><p>A function <code>run_fn(node)</code> that runs a single node</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/dag_runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">dag</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">run_fn</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Define attributes and initialize all nodes in waiting state.</span>

<span class="sd">    Args:</span>
<span class="sd">        dag: Adjacency list representation of a DAG.</span>
<span class="sd">            E.g.: [(1-&gt;2), (1-&gt;3), (2-&gt;4), (3-&gt;4)] should be represented as</span>
<span class="sd">            `dag={2: [1], 3: [1], 4: [2, 3]}`</span>
<span class="sd">        run_fn: A function `run_fn(node)` that runs a single node</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dag</span> <span class="o">=</span> <span class="n">dag</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reversed_dag</span> <span class="o">=</span> <span class="n">reverse_dag</span><span class="p">(</span><span class="n">dag</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_fn</span> <span class="o">=</span> <span class="n">run_fn</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_states</span> <span class="o">=</span> <span class="p">{</span><span class="n">node</span><span class="p">:</span> <span class="n">NodeStatus</span><span class="o">.</span><span class="n">WAITING</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.orchestrators.dag_runner.ThreadedDagRunner.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Call <code>self.run_fn</code> on all nodes in <code>self.dag</code>.</p>
<p>The order of execution is determined using topological sort.
Each node is run in a separate thread to enable parallelism.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/dag_runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Call `self.run_fn` on all nodes in `self.dag`.</span>

<span class="sd">    The order of execution is determined using topological sort.</span>
<span class="sd">    Each node is run in a separate thread to enable parallelism.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Run all nodes that can be started immediately.</span>
    <span class="c1"># These will, in turn, start other nodes once all of their respective</span>
    <span class="c1"># upstream nodes have completed.</span>
    <span class="n">threads</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_can_run</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
            <span class="n">thread</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_node_in_thread</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="n">threads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">thread</span><span class="p">)</span>

    <span class="c1"># Wait till all nodes have completed.</span>
    <span class="k">for</span> <span class="n">thread</span> <span class="ow">in</span> <span class="n">threads</span><span class="p">:</span>
        <span class="n">thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

    <span class="c1"># Make sure all nodes were run, otherwise print a warning.</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_states</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">==</span> <span class="n">NodeStatus</span><span class="o">.</span><span class="n">WAITING</span><span class="p">:</span>
            <span class="n">upstream_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dag</span><span class="p">[</span><span class="n">node</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Node `</span><span class="si">{</span><span class="n">node</span><span class="si">}</span><span class="s2">` was never run, because it was still&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; waiting for the following nodes: `</span><span class="si">{</span><span class="n">upstream_nodes</span><span class="si">}</span><span class="s2">`.&quot;</span>
            <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.dag_runner.reverse_dag" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reverse_dag</span><span class="p">(</span><span class="n">dag</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Reverse a DAG.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dag</code></td>
        <td><code>Dict[str, List[str]]</code></td>
        <td><p>Adjacency list representation of a DAG.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, List[str]]</code></td>
      <td><p>Adjacency list representation of the reversed DAG.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/dag_runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">reverse_dag</span><span class="p">(</span><span class="n">dag</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Reverse a DAG.</span>

<span class="sd">    Args:</span>
<span class="sd">        dag: Adjacency list representation of a DAG.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Adjacency list representation of the reversed DAG.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">reversed_dag</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>

    <span class="c1"># Reverse all edges in the graph.</span>
    <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">upstream_nodes</span> <span class="ow">in</span> <span class="n">dag</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">upstream_node</span> <span class="ow">in</span> <span class="n">upstream_nodes</span><span class="p">:</span>
            <span class="n">reversed_dag</span><span class="p">[</span><span class="n">upstream_node</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="c1"># Add nodes without incoming edges back in.</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">dag</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">reversed_dag</span><span class="p">:</span>
            <span class="n">reversed_dag</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">return</span> <span class="n">reversed_dag</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.kubernetes.orchestrators.kube_utils" class="doc doc-heading">
        <code>kube_utils</code>



</h5>

    <div class="doc doc-contents ">

      <p>Utilities for Kubernetes related functions.</p>
<p>Internal interface: no backwards compatibility guarantees.
Adjusted from https://github.com/tensorflow/tfx/blob/master/tfx/utils/kube_utils.py.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.kubernetes.orchestrators.kube_utils.PodPhase" class="doc doc-heading">
        <code>
PodPhase            (<span title="enum.Enum">Enum</span>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Phase of the Kubernetes pod.</p>
<p>Pod phases are defined in
https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#pod-phase.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kube_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PodPhase</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Phase of the Kubernetes pod.</span>

<span class="sd">    Pod phases are defined in</span>
<span class="sd">    https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#pod-phase.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">PENDING</span> <span class="o">=</span> <span class="s2">&quot;Pending&quot;</span>
    <span class="n">RUNNING</span> <span class="o">=</span> <span class="s2">&quot;Running&quot;</span>
    <span class="n">SUCCEEDED</span> <span class="o">=</span> <span class="s2">&quot;Succeeded&quot;</span>
    <span class="n">FAILED</span> <span class="o">=</span> <span class="s2">&quot;Failed&quot;</span>
    <span class="n">UNKNOWN</span> <span class="o">=</span> <span class="s2">&quot;Unknown&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
















  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kube_utils.create_edit_service_account" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_edit_service_account</span><span class="p">(</span><span class="n">core_api</span><span class="p">,</span> <span class="n">rbac_api</span><span class="p">,</span> <span class="n">service_account_name</span><span class="p">,</span> <span class="n">namespace</span><span class="p">,</span> <span class="n">cluster_role_binding_name</span><span class="o">=</span><span class="s1">&#39;zenml-edit&#39;</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Create a new Kubernetes service account with "edit" rights.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>core_api</code></td>
        <td><code>CoreV1Api</code></td>
        <td><p>Client of Core V1 API of Kubernetes API.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>rbac_api</code></td>
        <td><code>RbacAuthorizationV1Api</code></td>
        <td><p>Client of Rbac Authorization V1 API of Kubernetes API.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>service_account_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the service account.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>Kubernetes namespace. Defaults to "default".</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>cluster_role_binding_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the cluster role binding.
Defaults to "zenml-edit".</p></td>
        <td><code>&#39;zenml-edit&#39;</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kube_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_edit_service_account</span><span class="p">(</span>
    <span class="n">core_api</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">CoreV1Api</span><span class="p">,</span>
    <span class="n">rbac_api</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">RbacAuthorizationV1Api</span><span class="p">,</span>
    <span class="n">service_account_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">cluster_role_binding_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenml-edit&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a new Kubernetes service account with &quot;edit&quot; rights.</span>

<span class="sd">    Args:</span>
<span class="sd">        core_api: Client of Core V1 API of Kubernetes API.</span>
<span class="sd">        rbac_api: Client of Rbac Authorization V1 API of Kubernetes API.</span>
<span class="sd">        service_account_name: Name of the service account.</span>
<span class="sd">        namespace: Kubernetes namespace. Defaults to &quot;default&quot;.</span>
<span class="sd">        cluster_role_binding_name: Name of the cluster role binding.</span>
<span class="sd">            Defaults to &quot;zenml-edit&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">crb_manifest</span> <span class="o">=</span> <span class="n">build_cluster_role_binding_manifest_for_service_account</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">cluster_role_binding_name</span><span class="p">,</span>
        <span class="n">role_name</span><span class="o">=</span><span class="s2">&quot;edit&quot;</span><span class="p">,</span>
        <span class="n">service_account_name</span><span class="o">=</span><span class="n">service_account_name</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">_if_not_exists</span><span class="p">(</span><span class="n">rbac_api</span><span class="o">.</span><span class="n">create_cluster_role_binding</span><span class="p">)(</span><span class="n">body</span><span class="o">=</span><span class="n">crb_manifest</span><span class="p">)</span>

    <span class="n">sa_manifest</span> <span class="o">=</span> <span class="n">build_service_account_manifest</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">service_account_name</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span>
    <span class="p">)</span>
    <span class="n">_if_not_exists</span><span class="p">(</span><span class="n">core_api</span><span class="o">.</span><span class="n">create_namespaced_service_account</span><span class="p">)(</span>
        <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">,</span>
        <span class="n">body</span><span class="o">=</span><span class="n">sa_manifest</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kube_utils.create_mysql_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_mysql_deployment</span><span class="p">(</span><span class="n">core_api</span><span class="p">,</span> <span class="n">apps_api</span><span class="p">,</span> <span class="n">deployment_name</span><span class="p">,</span> <span class="n">namespace</span><span class="p">,</span> <span class="n">storage_capacity</span><span class="o">=</span><span class="s1">&#39;10Gi&#39;</span><span class="p">,</span> <span class="n">volume_name</span><span class="o">=</span><span class="s1">&#39;mysql-pv-volume&#39;</span><span class="p">,</span> <span class="n">volume_claim_name</span><span class="o">=</span><span class="s1">&#39;mysql-pv-claim&#39;</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Create a Kubernetes deployment with a MySQL database running on it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>core_api</code></td>
        <td><code>CoreV1Api</code></td>
        <td><p>Client of Core V1 API of Kubernetes API.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>apps_api</code></td>
        <td><code>AppsV1Api</code></td>
        <td><p>Client of Apps V1 API of Kubernetes API.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>Kubernetes namespace. Defaults to "default".</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>storage_capacity</code></td>
        <td><code>str</code></td>
        <td><p>Storage capacity of the database.
Defaults to <code>"10Gi"</code>.</p></td>
        <td><code>&#39;10Gi&#39;</code></td>
      </tr>
      <tr>
        <td><code>deployment_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the deployment. Defaults to "mysql".</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>volume_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the persistent volume.
Defaults to <code>"mysql-pv-volume"</code>.</p></td>
        <td><code>&#39;mysql-pv-volume&#39;</code></td>
      </tr>
      <tr>
        <td><code>volume_claim_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the persistent volume claim.
Defaults to <code>"mysql-pv-claim"</code>.</p></td>
        <td><code>&#39;mysql-pv-claim&#39;</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kube_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_mysql_deployment</span><span class="p">(</span>
    <span class="n">core_api</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">CoreV1Api</span><span class="p">,</span>
    <span class="n">apps_api</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">AppsV1Api</span><span class="p">,</span>
    <span class="n">deployment_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">storage_capacity</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;10Gi&quot;</span><span class="p">,</span>
    <span class="n">volume_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mysql-pv-volume&quot;</span><span class="p">,</span>
    <span class="n">volume_claim_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mysql-pv-claim&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a Kubernetes deployment with a MySQL database running on it.</span>

<span class="sd">    Args:</span>
<span class="sd">        core_api: Client of Core V1 API of Kubernetes API.</span>
<span class="sd">        apps_api: Client of Apps V1 API of Kubernetes API.</span>
<span class="sd">        namespace: Kubernetes namespace. Defaults to &quot;default&quot;.</span>
<span class="sd">        storage_capacity: Storage capacity of the database.</span>
<span class="sd">            Defaults to `&quot;10Gi&quot;`.</span>
<span class="sd">        deployment_name: Name of the deployment. Defaults to &quot;mysql&quot;.</span>
<span class="sd">        volume_name: Name of the persistent volume.</span>
<span class="sd">            Defaults to `&quot;mysql-pv-volume&quot;`.</span>
<span class="sd">        volume_claim_name: Name of the persistent volume claim.</span>
<span class="sd">            Defaults to `&quot;mysql-pv-claim&quot;`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pvc_manifest</span> <span class="o">=</span> <span class="n">build_persistent_volume_claim_manifest</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">volume_claim_name</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">,</span>
        <span class="n">storage_request</span><span class="o">=</span><span class="n">storage_capacity</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">_if_not_exists</span><span class="p">(</span><span class="n">core_api</span><span class="o">.</span><span class="n">create_namespaced_persistent_volume_claim</span><span class="p">)(</span>
        <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">,</span>
        <span class="n">body</span><span class="o">=</span><span class="n">pvc_manifest</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">pv_manifest</span> <span class="o">=</span> <span class="n">build_persistent_volume_manifest</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">volume_name</span><span class="p">,</span> <span class="n">storage_capacity</span><span class="o">=</span><span class="n">storage_capacity</span>
    <span class="p">)</span>
    <span class="n">_if_not_exists</span><span class="p">(</span><span class="n">core_api</span><span class="o">.</span><span class="n">create_persistent_volume</span><span class="p">)(</span><span class="n">body</span><span class="o">=</span><span class="n">pv_manifest</span><span class="p">)</span>
    <span class="n">deployment_manifest</span> <span class="o">=</span> <span class="n">build_mysql_deployment_manifest</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">deployment_name</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">,</span>
        <span class="n">pv_claim_name</span><span class="o">=</span><span class="n">volume_claim_name</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">_if_not_exists</span><span class="p">(</span><span class="n">apps_api</span><span class="o">.</span><span class="n">create_namespaced_deployment</span><span class="p">)(</span>
        <span class="n">body</span><span class="o">=</span><span class="n">deployment_manifest</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span>
    <span class="p">)</span>
    <span class="n">service_manifest</span> <span class="o">=</span> <span class="n">build_mysql_service_manifest</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">deployment_name</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span>
    <span class="p">)</span>
    <span class="n">_if_not_exists</span><span class="p">(</span><span class="n">core_api</span><span class="o">.</span><span class="n">create_namespaced_service</span><span class="p">)(</span>
        <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="n">service_manifest</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kube_utils.create_namespace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_namespace</span><span class="p">(</span><span class="n">core_api</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Create a Kubernetes namespace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>core_api</code></td>
        <td><code>CoreV1Api</code></td>
        <td><p>Client of Core V1 API of Kubernetes API.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>Kubernetes namespace. Defaults to "default".</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kube_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_namespace</span><span class="p">(</span><span class="n">core_api</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">CoreV1Api</span><span class="p">,</span> <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a Kubernetes namespace.</span>

<span class="sd">    Args:</span>
<span class="sd">        core_api: Client of Core V1 API of Kubernetes API.</span>
<span class="sd">        namespace: Kubernetes namespace. Defaults to &quot;default&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">manifest</span> <span class="o">=</span> <span class="n">build_namespace_manifest</span><span class="p">(</span><span class="n">namespace</span><span class="p">)</span>
    <span class="n">_if_not_exists</span><span class="p">(</span><span class="n">core_api</span><span class="o">.</span><span class="n">create_namespace</span><span class="p">)(</span><span class="n">body</span><span class="o">=</span><span class="n">manifest</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kube_utils.delete_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_deployment</span><span class="p">(</span><span class="n">apps_api</span><span class="p">,</span> <span class="n">deployment_name</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Delete a Kubernetes deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>apps_api</code></td>
        <td><code>AppsV1Api</code></td>
        <td><p>Client of Apps V1 API of Kubernetes API.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>deployment_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the deployment to be deleted.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>Kubernetes namespace containing the deployment.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kube_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_deployment</span><span class="p">(</span>
    <span class="n">apps_api</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">AppsV1Api</span><span class="p">,</span> <span class="n">deployment_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete a Kubernetes deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        apps_api: Client of Apps V1 API of Kubernetes API.</span>
<span class="sd">        deployment_name: Name of the deployment to be deleted.</span>
<span class="sd">        namespace: Kubernetes namespace containing the deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1DeleteOptions</span><span class="p">()</span>
    <span class="n">apps_api</span><span class="o">.</span><span class="n">delete_namespaced_deployment</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">deployment_name</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">,</span>
        <span class="n">body</span><span class="o">=</span><span class="n">options</span><span class="p">,</span>
        <span class="n">propagation_policy</span><span class="o">=</span><span class="s2">&quot;Foreground&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kube_utils.get_pod" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pod</span><span class="p">(</span><span class="n">core_api</span><span class="p">,</span> <span class="n">pod_name</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a pod from Kubernetes metadata API.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>core_api</code></td>
        <td><code>CoreV1Api</code></td>
        <td><p>Client of <code>CoreV1Api</code> of Kubernetes API.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pod_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the pod.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>The namespace of the pod.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>When it sees unexpected errors from Kubernetes API.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[kubernetes.client.models.v1_pod.V1Pod]</code></td>
      <td><p>The found pod object. None if it's not found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kube_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pod</span><span class="p">(</span>
    <span class="n">core_api</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">CoreV1Api</span><span class="p">,</span> <span class="n">pod_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">k8s_client</span><span class="o">.</span><span class="n">V1Pod</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get a pod from Kubernetes metadata API.</span>

<span class="sd">    Args:</span>
<span class="sd">        core_api: Client of `CoreV1Api` of Kubernetes API.</span>
<span class="sd">        pod_name: The name of the pod.</span>
<span class="sd">        namespace: The namespace of the pod.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: When it sees unexpected errors from Kubernetes API.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The found pod object. None if it&#39;s not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">core_api</span><span class="o">.</span><span class="n">read_namespaced_pod</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">pod_name</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span> <span class="kn">from</span> <span class="nn">e</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kube_utils.is_inside_kubernetes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_inside_kubernetes</span><span class="p">()</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Check whether we are inside a Kubernetes cluster or on a remote host.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if inside a Kubernetes cluster, else False.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kube_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_inside_kubernetes</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check whether we are inside a Kubernetes cluster or on a remote host.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if inside a Kubernetes cluster, else False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">k8s_config</span><span class="o">.</span><span class="n">load_incluster_config</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="n">k8s_config</span><span class="o">.</span><span class="n">ConfigException</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kube_utils.load_kube_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_kube_config</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Load the Kubernetes client config.</p>
<p>Depending on the environment (whether it is inside the running Kubernetes
cluster or remote host), different location will be searched for the config
file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>context</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of the Kubernetes context. If not provided, uses the
currently active context.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kube_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_kube_config</span><span class="p">(</span><span class="n">context</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Load the Kubernetes client config.</span>

<span class="sd">    Depending on the environment (whether it is inside the running Kubernetes</span>
<span class="sd">    cluster or remote host), different location will be searched for the config</span>
<span class="sd">    file.</span>

<span class="sd">    Args:</span>
<span class="sd">        context: Name of the Kubernetes context. If not provided, uses the</span>
<span class="sd">            currently active context.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">k8s_config</span><span class="o">.</span><span class="n">load_incluster_config</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">k8s_config</span><span class="o">.</span><span class="n">ConfigException</span><span class="p">:</span>
        <span class="n">k8s_config</span><span class="o">.</span><span class="n">load_kube_config</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kube_utils.pod_failed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pod_failed</span><span class="p">(</span><span class="n">pod</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Check if pod status is 'Failed'.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pod</code></td>
        <td><code>V1Pod</code></td>
        <td><p>Kubernetes pod.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if pod status is 'Failed' else False.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kube_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">pod_failed</span><span class="p">(</span><span class="n">pod</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1Pod</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check if pod status is &#39;Failed&#39;.</span>

<span class="sd">    Args:</span>
<span class="sd">        pod: Kubernetes pod.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pod status is &#39;Failed&#39; else False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">pod</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">phase</span> <span class="o">==</span> <span class="n">PodPhase</span><span class="o">.</span><span class="n">FAILED</span><span class="o">.</span><span class="n">value</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kube_utils.pod_is_done" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pod_is_done</span><span class="p">(</span><span class="n">pod</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Check if pod status is 'Succeeded'.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pod</code></td>
        <td><code>V1Pod</code></td>
        <td><p>Kubernetes pod.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if pod status is 'Succeeded' else False.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kube_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">pod_is_done</span><span class="p">(</span><span class="n">pod</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1Pod</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check if pod status is &#39;Succeeded&#39;.</span>

<span class="sd">    Args:</span>
<span class="sd">        pod: Kubernetes pod.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if pod status is &#39;Succeeded&#39; else False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">pod</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">phase</span> <span class="o">==</span> <span class="n">PodPhase</span><span class="o">.</span><span class="n">SUCCEEDED</span><span class="o">.</span><span class="n">value</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kube_utils.pod_is_not_pending" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pod_is_not_pending</span><span class="p">(</span><span class="n">pod</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Check if pod status is not 'Pending'.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pod</code></td>
        <td><code>V1Pod</code></td>
        <td><p>Kubernetes pod.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>False if the pod status is 'Pending' else True.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kube_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">pod_is_not_pending</span><span class="p">(</span><span class="n">pod</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1Pod</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check if pod status is not &#39;Pending&#39;.</span>

<span class="sd">    Args:</span>
<span class="sd">        pod: Kubernetes pod.</span>

<span class="sd">    Returns:</span>
<span class="sd">        False if the pod status is &#39;Pending&#39; else True.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">pod</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">phase</span> <span class="o">!=</span> <span class="n">PodPhase</span><span class="o">.</span><span class="n">PENDING</span><span class="o">.</span><span class="n">value</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kube_utils.sanitize_pod_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sanitize_pod_name</span><span class="p">(</span><span class="n">pod_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Sanitize pod names so they conform to Kubernetes pod naming convention.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pod_name</code></td>
        <td><code>str</code></td>
        <td><p>Arbitrary input pod name.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Sanitized pod name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kube_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">sanitize_pod_name</span><span class="p">(</span><span class="n">pod_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Sanitize pod names so they conform to Kubernetes pod naming convention.</span>

<span class="sd">    Args:</span>
<span class="sd">        pod_name: Arbitrary input pod name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Sanitized pod name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pod_name</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^a-z0-9-]&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">pod_name</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
    <span class="n">pod_name</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[-]+&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">pod_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[-]+&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">pod_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kube_utils.wait_pod" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wait_pod</span><span class="p">(</span><span class="n">core_api</span><span class="p">,</span> <span class="n">pod_name</span><span class="p">,</span> <span class="n">namespace</span><span class="p">,</span> <span class="n">exit_condition_lambda</span><span class="p">,</span> <span class="n">timeout_sec</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">exponential_backoff</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">stream_logs</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Wait for a pod to meet an exit condition.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>core_api</code></td>
        <td><code>CoreV1Api</code></td>
        <td><p>Client of <code>CoreV1Api</code> of Kubernetes API.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pod_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the pod.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>The namespace of the pod.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>exit_condition_lambda</code></td>
        <td><code>Callable[[kubernetes.client.models.v1_pod.V1Pod], bool]</code></td>
        <td><p>A lambda
which will be called periodically to wait for a pod to exit. The
function returns True to exit.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout_sec</code></td>
        <td><code>int</code></td>
        <td><p>Timeout in seconds to wait for pod to reach exit
condition, or 0 to wait for an unlimited duration.
Defaults to unlimited.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>exponential_backoff</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to use exponential back off for polling.
Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>stream_logs</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to stream the pod logs to
<code>zenml.logger.info()</code>. Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>when the function times out.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>V1Pod</code></td>
      <td><p>The pod object which meets the exit condition.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kube_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wait_pod</span><span class="p">(</span>
    <span class="n">core_api</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">CoreV1Api</span><span class="p">,</span>
    <span class="n">pod_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">exit_condition_lambda</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">k8s_client</span><span class="o">.</span><span class="n">V1Pod</span><span class="p">],</span> <span class="nb">bool</span><span class="p">],</span>
    <span class="n">timeout_sec</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">exponential_backoff</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">stream_logs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1Pod</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Wait for a pod to meet an exit condition.</span>

<span class="sd">    Args:</span>
<span class="sd">        core_api: Client of `CoreV1Api` of Kubernetes API.</span>
<span class="sd">        pod_name: The name of the pod.</span>
<span class="sd">        namespace: The namespace of the pod.</span>
<span class="sd">        exit_condition_lambda: A lambda</span>
<span class="sd">            which will be called periodically to wait for a pod to exit. The</span>
<span class="sd">            function returns True to exit.</span>
<span class="sd">        timeout_sec: Timeout in seconds to wait for pod to reach exit</span>
<span class="sd">            condition, or 0 to wait for an unlimited duration.</span>
<span class="sd">            Defaults to unlimited.</span>
<span class="sd">        exponential_backoff: Whether to use exponential back off for polling.</span>
<span class="sd">            Defaults to False.</span>
<span class="sd">        stream_logs: Whether to stream the pod logs to</span>
<span class="sd">            `zenml.logger.info()`. Defaults to False.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: when the function times out.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pod object which meets the exit condition.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>

    <span class="c1"># Link to exponential back-off algorithm used here:</span>
    <span class="c1"># https://cloud.google.com/storage/docs/exponential-backoff</span>
    <span class="n">backoff_interval</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">maximum_backoff</span> <span class="o">=</span> <span class="mi">32</span>

    <span class="n">logged_lines</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="n">get_pod</span><span class="p">(</span><span class="n">core_api</span><span class="p">,</span> <span class="n">pod_name</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span>

        <span class="c1"># Stream logs to `zenml.logger.info()`.</span>
        <span class="c1"># TODO: can we do this without parsing all logs every time?</span>
        <span class="k">if</span> <span class="n">stream_logs</span> <span class="ow">and</span> <span class="n">pod_is_not_pending</span><span class="p">(</span><span class="n">resp</span><span class="p">):</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">core_api</span><span class="o">.</span><span class="n">read_namespaced_pod_log</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">pod_name</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logs</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">logs</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">logged_lines</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">logs</span><span class="p">[</span><span class="n">logged_lines</span><span class="p">:]:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                <span class="n">logged_lines</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">logs</span><span class="p">)</span>

        <span class="c1"># Raise an error if the pod failed.</span>
        <span class="k">if</span> <span class="n">pod_failed</span><span class="p">(</span><span class="n">resp</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Pod `</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">pod_name</span><span class="si">}</span><span class="s2">` failed.&quot;</span><span class="p">)</span>

        <span class="c1"># Check if pod is in desired state (e.g. finished / running / ...).</span>
        <span class="k">if</span> <span class="n">exit_condition_lambda</span><span class="p">(</span><span class="n">resp</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">resp</span>

        <span class="c1"># Check if wait timed out.</span>
        <span class="n">elapse_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
        <span class="k">if</span> <span class="n">elapse_time</span><span class="o">.</span><span class="n">seconds</span> <span class="o">&gt;=</span> <span class="n">timeout_sec</span> <span class="ow">and</span> <span class="n">timeout_sec</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Waiting for pod `</span><span class="si">{</span><span class="n">namespace</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">pod_name</span><span class="si">}</span><span class="s2">` timed out after &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">timeout_sec</span><span class="si">}</span><span class="s2"> seconds.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Wait (using exponential backoff).</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">backoff_interval</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">exponential_backoff</span> <span class="ow">and</span> <span class="n">backoff_interval</span> <span class="o">&lt;</span> <span class="n">maximum_backoff</span><span class="p">:</span>
            <span class="n">backoff_interval</span> <span class="o">*=</span> <span class="mi">2</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator" class="doc doc-heading">
        <code>kubernetes_orchestrator</code>



</h5>

    <div class="doc doc-contents ">

      <p>Kubernetes-native orchestrator.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator.KubernetesOrchestrator" class="doc doc-heading">
        <code>
KubernetesOrchestrator            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestrator" href="../orchestrators/#zenml.orchestrators.base_orchestrator.BaseOrchestrator">BaseOrchestrator</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Orchestrator for running ZenML pipelines using native Kubernetes.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>custom_docker_base_image_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of a Docker image that should be
used as the base for the image that will be run on Kubernetes pods.
If no custom image is given, a basic image of the active ZenML
version will be used.
<strong>Note</strong>: This image needs to have ZenML installed,
otherwise the pipeline execution will fail. For that reason, you
might want to extend the ZenML Docker images found here:
https://hub.docker.com/r/zenmldocker/zenml/</p></td>
      </tr>
      <tr>
        <td><code>kubernetes_context</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional name of a Kubernetes context to run
pipelines in. If not set, the current active context will be used.
You can find the active context by running <code>kubectl config
current-context</code>.</p></td>
      </tr>
      <tr>
        <td><code>kubernetes_namespace</code></td>
        <td><code>str</code></td>
        <td><p>Name of the Kubernetes namespace to be used.
If not provided, <code>default</code> namespace will be used.</p></td>
      </tr>
      <tr>
        <td><code>synchronous</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, running a pipeline using this orchestrator will
block until all steps finished running on Kubernetes.</p></td>
      </tr>
      <tr>
        <td><code>skip_config_loading</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, don't load the Kubernetes context and
clients. This is only useful for unit testing.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KubernetesOrchestrator</span><span class="p">(</span><span class="n">BaseOrchestrator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Orchestrator for running ZenML pipelines using native Kubernetes.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        custom_docker_base_image_name: Name of a Docker image that should be</span>
<span class="sd">            used as the base for the image that will be run on Kubernetes pods.</span>
<span class="sd">            If no custom image is given, a basic image of the active ZenML</span>
<span class="sd">            version will be used.</span>
<span class="sd">            **Note**: This image needs to have ZenML installed,</span>
<span class="sd">            otherwise the pipeline execution will fail. For that reason, you</span>
<span class="sd">            might want to extend the ZenML Docker images found here:</span>
<span class="sd">            https://hub.docker.com/r/zenmldocker/zenml/</span>
<span class="sd">        kubernetes_context: Optional name of a Kubernetes context to run</span>
<span class="sd">            pipelines in. If not set, the current active context will be used.</span>
<span class="sd">            You can find the active context by running `kubectl config</span>
<span class="sd">            current-context`.</span>
<span class="sd">        kubernetes_namespace: Name of the Kubernetes namespace to be used.</span>
<span class="sd">            If not provided, `default` namespace will be used.</span>
<span class="sd">        synchronous: If `True`, running a pipeline using this orchestrator will</span>
<span class="sd">            block until all steps finished running on Kubernetes.</span>
<span class="sd">        skip_config_loading: If `True`, don&#39;t load the Kubernetes context and</span>
<span class="sd">            clients. This is only useful for unit testing.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">custom_docker_base_image_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">kubernetes_context</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">kubernetes_namespace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenml&quot;</span>
    <span class="n">synchronous</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">skip_config_loading</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">_k8s_core_api</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">CoreV1Api</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_k8s_batch_api</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">BatchV1beta1Api</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_k8s_rbac_api</span><span class="p">:</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">RbacAuthorizationV1Api</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">KUBERNETES_ORCHESTRATOR_FLAVOR</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialize the Pydantic object the Kubernetes clients.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: The positional arguments to pass to the Pydantic object.</span>
<span class="sd">            **kwargs: The keyword arguments to pass to the Pydantic object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_k8s_clients</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_initialize_k8s_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialize the Kubernetes clients.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_config_loading</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">kube_utils</span><span class="o">.</span><span class="n">load_kube_config</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">CoreV1Api</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_k8s_batch_api</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">BatchV1beta1Api</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_k8s_rbac_api</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">RbacAuthorizationV1Api</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_kubernetes_contexts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get list of configured Kubernetes contexts and the active context.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the Kubernetes configuration cannot be loaded.</span>

<span class="sd">        Returns:</span>
<span class="sd">            context_name: List of configured Kubernetes contexts</span>
<span class="sd">            active_context_name: Name of the active Kubernetes context.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">contexts</span><span class="p">,</span> <span class="n">active_context</span> <span class="o">=</span> <span class="n">k8s_config</span><span class="o">.</span><span class="n">list_kube_config_contexts</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">k8s_config</span><span class="o">.</span><span class="n">config_exception</span><span class="o">.</span><span class="n">ConfigException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Could not load the Kubernetes configuration&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="n">context_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">contexts</span><span class="p">]</span>
        <span class="n">active_context_name</span> <span class="o">=</span> <span class="n">active_context</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">context_names</span><span class="p">,</span> <span class="n">active_context_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StackValidator</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Defines the validator that checks whether the stack is valid.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Stack validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_validate_local_requirements</span><span class="p">(</span><span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
            <span class="sd">&quot;&quot;&quot;Validates that the stack contains no local components.</span>

<span class="sd">            Args:</span>
<span class="sd">                stack: The stack.</span>

<span class="sd">            Returns:</span>
<span class="sd">                Whether the stack is valid or not.</span>
<span class="sd">                An explanation why the stack is invalid, if applicable.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">container_registry</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>

            <span class="c1"># should not happen, because the stack validation takes care of</span>
            <span class="c1"># this, but just in case</span>
            <span class="k">assert</span> <span class="n">container_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_config_loading</span><span class="p">:</span>
                <span class="n">contexts</span><span class="p">,</span> <span class="n">active_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_kubernetes_contexts</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">contexts</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Could not find a Kubernetes context named &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2">&#39; in the local Kubernetes &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;configuration. Please make sure that the Kubernetes &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;cluster is running and that the kubeconfig file is &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;configured correctly. To list all configured &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;contexts, run:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;  `kubectl config get-contexts`</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span> <span class="o">!=</span> <span class="n">active_context</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;The Kubernetes context &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;configured for the Kubernetes orchestrator is not &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;the same as the active context in the local &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;Kubernetes configuration. If this is not deliberate,&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot; you should update the orchestrator&#39;s &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;`kubernetes_context` field by running:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;  `zenml orchestrator update </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;--kubernetes_context=</span><span class="si">{</span><span class="n">active_context</span><span class="si">}</span><span class="s2">`</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;To list all configured contexts, run:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;  `kubectl config get-contexts`</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;To set the active context to be the same as the one &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;configured in the Kubernetes orchestrator and &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;silence this warning, run:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;  `kubectl config use-context &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="si">}</span><span class="s2">`</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="p">)</span>

            <span class="c1"># Check that all stack components are non-local.</span>
            <span class="k">for</span> <span class="n">stack_comp</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">stack_comp</span><span class="o">.</span><span class="n">local_path</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;The Kubernetes orchestrator currently only supports &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;remote stacks, but the &#39;</span><span class="si">{</span><span class="n">stack_comp</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stack_comp</span><span class="o">.</span><span class="n">TYPE</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> is a local component. &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;Please make sure to only use non-local stack &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;components with a Kubernetes orchestrator.&quot;</span>
                    <span class="p">)</span>

            <span class="c1"># if the orchestrator is remote, the container registry must</span>
            <span class="c1"># also be remote.</span>
            <span class="k">if</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The Kubernetes orchestrator requires a remote container &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;registry, but the &#39;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; container &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;registry of your active stack points to a local URI &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="si">}</span><span class="s2">&#39;. Please make sure stacks &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;with a Kubernetes orchestrator always contain remote &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;container registries.&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>

        <span class="k">return</span> <span class="n">StackValidator</span><span class="p">(</span>
            <span class="n">required_components</span><span class="o">=</span><span class="p">{</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">},</span>
            <span class="n">custom_validation_function</span><span class="o">=</span><span class="n">_validate_local_requirements</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_docker_image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return the full Docker image name including registry and tag.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: Name of a ZenML pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Docker image name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">container_registry</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>
        <span class="k">assert</span> <span class="n">container_registry</span>
        <span class="n">registry_uri</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">registry_uri</span><span class="si">}</span><span class="s2">/zenml-kubernetes:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Build a Docker image and upload it to the container registry.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline: A ZenML pipeline.</span>
<span class="sd">            stack: A ZenML stack.</span>
<span class="sd">            runtime_configuration: The runtime configuration of the pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">docker_utils</span>

        <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="n">requirements</span> <span class="o">=</span> <span class="p">{</span><span class="o">*</span><span class="n">stack</span><span class="o">.</span><span class="n">requirements</span><span class="p">(),</span> <span class="o">*</span><span class="n">pipeline</span><span class="o">.</span><span class="n">requirements</span><span class="p">}</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Kubernetes container requirements: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">requirements</span><span class="p">)</span>

        <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
            <span class="n">build_context_path</span><span class="o">=</span><span class="n">get_source_root_path</span><span class="p">(),</span>
            <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
            <span class="n">dockerignore_path</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">dockerignore_file</span><span class="p">,</span>
            <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
            <span class="n">base_image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">custom_docker_base_image_name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">assert</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>  <span class="c1"># should never happen due to validation</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span><span class="o">.</span><span class="n">push_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>

        <span class="c1"># Store the Docker image digest in the runtime configuration so it gets</span>
        <span class="c1"># tracked in the ZenStore</span>
        <span class="n">image_digest</span> <span class="o">=</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>
        <span class="n">runtime_configuration</span><span class="p">[</span><span class="s2">&quot;docker_image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">image_digest</span>

    <span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sorted_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;BaseStep&quot;</span><span class="p">],</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
        <span class="n">pb2_pipeline</span><span class="p">:</span> <span class="n">Pb2Pipeline</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Run pipeline in Kubernetes.</span>

<span class="sd">        Args:</span>
<span class="sd">            sorted_steps: List of steps in execution order.</span>
<span class="sd">            pipeline: ZenML pipeline.</span>
<span class="sd">            pb2_pipeline: ZenML pipeline in TFX pb2 format.</span>
<span class="sd">            stack: ZenML stack.</span>
<span class="sd">            runtime_configuration: The runtime configuration of the pipeline.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If trying to run from a Jupyter notebook.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># First check whether the code is running in a notebook.</span>
        <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;The Kubernetes orchestrator cannot run pipelines in a notebook &quot;</span>
                <span class="s2">&quot;environment. The reason is that it is non-trivial to create &quot;</span>
                <span class="s2">&quot;a Docker image of a notebook. Please consider refactoring &quot;</span>
                <span class="s2">&quot;your notebook cells into separate scripts in a Python module &quot;</span>
                <span class="s2">&quot;and run the code outside of a notebook when using this &quot;</span>
                <span class="s2">&quot;orchestrator.&quot;</span>
            <span class="p">)</span>

        <span class="k">assert</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="p">,</span> <span class="s2">&quot;Run name must be set&quot;</span>

        <span class="n">run_name</span> <span class="o">=</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span>
        <span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">name</span>
        <span class="n">pod_name</span> <span class="o">=</span> <span class="n">kube_utils</span><span class="o">.</span><span class="n">sanitize_pod_name</span><span class="p">(</span><span class="n">run_name</span><span class="p">)</span>

        <span class="c1"># Get Docker image name (for all pods).</span>
        <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">image_name</span> <span class="o">=</span> <span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>

        <span class="c1"># Get pipeline DAG as dict {&quot;step&quot;: [&quot;upstream_step_1&quot;, ...], ...}</span>
        <span class="n">pipeline_dag</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_upstream_step_names</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span>
        <span class="p">}</span>

        <span class="c1"># Build entrypoint command and args for the orchestrator pod.</span>
        <span class="c1"># This will internally also build the command/args for all step pods.</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">KubernetesOrchestratorEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">KubernetesOrchestratorEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
            <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
            <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
            <span class="n">kubernetes_namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
            <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="p">,</span>
            <span class="n">sorted_steps</span><span class="o">=</span><span class="n">sorted_steps</span><span class="p">,</span>
            <span class="n">pipeline_dag</span><span class="o">=</span><span class="n">pipeline_dag</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Authorize pod to run Kubernetes commands inside the cluster.</span>
        <span class="n">service_account_name</span> <span class="o">=</span> <span class="s2">&quot;zenml-service-account&quot;</span>
        <span class="n">kube_utils</span><span class="o">.</span><span class="n">create_edit_service_account</span><span class="p">(</span>
            <span class="n">core_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span><span class="p">,</span>
            <span class="n">rbac_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_rbac_api</span><span class="p">,</span>
            <span class="n">service_account_name</span><span class="o">=</span><span class="n">service_account_name</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Schedule as CRON job if CRON schedule is given.</span>
        <span class="k">if</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;The Kubernetes orchestrator only supports scheduling via &quot;</span>
                    <span class="s2">&quot;CRON jobs, but the run was configured with a manual &quot;</span>
                    <span class="s2">&quot;schedule. Use `Schedule(cron_expression=...)` instead.&quot;</span>
                <span class="p">)</span>
            <span class="n">cron_expression</span> <span class="o">=</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span>
            <span class="n">cron_job_manifest</span> <span class="o">=</span> <span class="n">build_cron_job_manifest</span><span class="p">(</span>
                <span class="n">cron_expression</span><span class="o">=</span><span class="n">cron_expression</span><span class="p">,</span>
                <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
                <span class="n">pod_name</span><span class="o">=</span><span class="n">pod_name</span><span class="p">,</span>
                <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
                <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">command</span><span class="p">,</span>
                <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span>
                <span class="n">service_account_name</span><span class="o">=</span><span class="n">service_account_name</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_k8s_batch_api</span><span class="o">.</span><span class="n">create_namespaced_cron_job</span><span class="p">(</span>
                <span class="n">body</span><span class="o">=</span><span class="n">cron_job_manifest</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Scheduling Kubernetes run `</span><span class="si">{</span><span class="n">pod_name</span><span class="si">}</span><span class="s2">` with CRON expression &quot;</span>
                <span class="sa">f</span><span class="s1">&#39;`&quot;</span><span class="si">{</span><span class="n">cron_expression</span><span class="si">}</span><span class="s1">&quot;`.&#39;</span>
            <span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># Create and run the orchestrator pod.</span>
        <span class="n">pod_manifest</span> <span class="o">=</span> <span class="n">build_pod_manifest</span><span class="p">(</span>
            <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
            <span class="n">pod_name</span><span class="o">=</span><span class="n">pod_name</span><span class="p">,</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
            <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">command</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span>
            <span class="n">service_account_name</span><span class="o">=</span><span class="n">service_account_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span><span class="o">.</span><span class="n">create_namespaced_pod</span><span class="p">(</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
            <span class="n">body</span><span class="o">=</span><span class="n">pod_manifest</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Wait for the orchestrator pod to finish and stream logs.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">synchronous</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Waiting for Kubernetes orchestrator pod...&quot;</span><span class="p">)</span>
            <span class="n">kube_utils</span><span class="o">.</span><span class="n">wait_pod</span><span class="p">(</span>
                <span class="n">core_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span><span class="p">,</span>
                <span class="n">pod_name</span><span class="o">=</span><span class="n">pod_name</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
                <span class="n">exit_condition_lambda</span><span class="o">=</span><span class="n">kube_utils</span><span class="o">.</span><span class="n">pod_is_done</span><span class="p">,</span>
                <span class="n">stream_logs</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Orchestration started asynchronously in pod &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">pod_name</span><span class="si">}</span><span class="s2">`. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Run the following command to inspect the logs: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`kubectl logs </span><span class="si">{</span><span class="n">pod_name</span><span class="si">}</span><span class="s2"> -n </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="si">}</span><span class="s2">`.&quot;</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator.KubernetesOrchestrator.validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">stack_validator</span><span class="o">.</span><span class="n">StackValidator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Defines the validator that checks whether the stack is valid.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.stack.stack_validator.StackValidator]</code></td>
      <td><p>Stack validator.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>







  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator.KubernetesOrchestrator.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Initialize the Pydantic object the Kubernetes clients.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>The positional arguments to pass to the Pydantic object.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>The keyword arguments to pass to the Pydantic object.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Initialize the Pydantic object the Kubernetes clients.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: The positional arguments to pass to the Pydantic object.</span>
<span class="sd">        **kwargs: The keyword arguments to pass to the Pydantic object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_k8s_clients</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator.KubernetesOrchestrator.get_docker_image_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_docker_image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return the full Docker image name including registry and tag.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of a ZenML pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Docker image name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_docker_image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Return the full Docker image name including registry and tag.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: Name of a ZenML pipeline.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Docker image name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">container_registry</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">container_registry</span>
    <span class="k">assert</span> <span class="n">container_registry</span>
    <span class="n">registry_uri</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">uri</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">registry_uri</span><span class="si">}</span><span class="s2">/zenml-kubernetes:</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator.KubernetesOrchestrator.get_kubernetes_contexts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_kubernetes_contexts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Get list of configured Kubernetes contexts and the active context.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the Kubernetes configuration cannot be loaded.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>context_name</code></td>
      <td><p>List of configured Kubernetes contexts
active_context_name: Name of the active Kubernetes context.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_kubernetes_contexts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get list of configured Kubernetes contexts and the active context.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the Kubernetes configuration cannot be loaded.</span>

<span class="sd">    Returns:</span>
<span class="sd">        context_name: List of configured Kubernetes contexts</span>
<span class="sd">        active_context_name: Name of the active Kubernetes context.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">contexts</span><span class="p">,</span> <span class="n">active_context</span> <span class="o">=</span> <span class="n">k8s_config</span><span class="o">.</span><span class="n">list_kube_config_contexts</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">k8s_config</span><span class="o">.</span><span class="n">config_exception</span><span class="o">.</span><span class="n">ConfigException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Could not load the Kubernetes configuration&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="n">context_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">contexts</span><span class="p">]</span>
    <span class="n">active_context_name</span> <span class="o">=</span> <span class="n">active_context</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">context_names</span><span class="p">,</span> <span class="n">active_context_name</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator.KubernetesOrchestrator.prepare_or_run_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_or_run_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sorted_steps</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Run pipeline in Kubernetes.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sorted_steps</code></td>
        <td><code>List[BaseStep]</code></td>
        <td><p>List of steps in execution order.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>BasePipeline</code></td>
        <td><p>ZenML pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pb2_pipeline</code></td>
        <td><code>Pipeline</code></td>
        <td><p>ZenML pipeline in TFX pb2 format.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>ZenML stack.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>runtime_configuration</code></td>
        <td><code>RuntimeConfiguration</code></td>
        <td><p>The runtime configuration of the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If trying to run from a Jupyter notebook.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sorted_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;BaseStep&quot;</span><span class="p">],</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
    <span class="n">pb2_pipeline</span><span class="p">:</span> <span class="n">Pb2Pipeline</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Run pipeline in Kubernetes.</span>

<span class="sd">    Args:</span>
<span class="sd">        sorted_steps: List of steps in execution order.</span>
<span class="sd">        pipeline: ZenML pipeline.</span>
<span class="sd">        pb2_pipeline: ZenML pipeline in TFX pb2 format.</span>
<span class="sd">        stack: ZenML stack.</span>
<span class="sd">        runtime_configuration: The runtime configuration of the pipeline.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If trying to run from a Jupyter notebook.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># First check whether the code is running in a notebook.</span>
    <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;The Kubernetes orchestrator cannot run pipelines in a notebook &quot;</span>
            <span class="s2">&quot;environment. The reason is that it is non-trivial to create &quot;</span>
            <span class="s2">&quot;a Docker image of a notebook. Please consider refactoring &quot;</span>
            <span class="s2">&quot;your notebook cells into separate scripts in a Python module &quot;</span>
            <span class="s2">&quot;and run the code outside of a notebook when using this &quot;</span>
            <span class="s2">&quot;orchestrator.&quot;</span>
        <span class="p">)</span>

    <span class="k">assert</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="p">,</span> <span class="s2">&quot;Run name must be set&quot;</span>

    <span class="n">run_name</span> <span class="o">=</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span>
    <span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">name</span>
    <span class="n">pod_name</span> <span class="o">=</span> <span class="n">kube_utils</span><span class="o">.</span><span class="n">sanitize_pod_name</span><span class="p">(</span><span class="n">run_name</span><span class="p">)</span>

    <span class="c1"># Get Docker image name (for all pods).</span>
    <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">image_name</span> <span class="o">=</span> <span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>

    <span class="c1"># Get pipeline DAG as dict {&quot;step&quot;: [&quot;upstream_step_1&quot;, ...], ...}</span>
    <span class="n">pipeline_dag</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_upstream_step_names</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span>
    <span class="p">}</span>

    <span class="c1"># Build entrypoint command and args for the orchestrator pod.</span>
    <span class="c1"># This will internally also build the command/args for all step pods.</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">KubernetesOrchestratorEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>
    <span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">KubernetesOrchestratorEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
        <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
        <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
        <span class="n">kubernetes_namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
        <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="p">,</span>
        <span class="n">sorted_steps</span><span class="o">=</span><span class="n">sorted_steps</span><span class="p">,</span>
        <span class="n">pipeline_dag</span><span class="o">=</span><span class="n">pipeline_dag</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Authorize pod to run Kubernetes commands inside the cluster.</span>
    <span class="n">service_account_name</span> <span class="o">=</span> <span class="s2">&quot;zenml-service-account&quot;</span>
    <span class="n">kube_utils</span><span class="o">.</span><span class="n">create_edit_service_account</span><span class="p">(</span>
        <span class="n">core_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span><span class="p">,</span>
        <span class="n">rbac_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_rbac_api</span><span class="p">,</span>
        <span class="n">service_account_name</span><span class="o">=</span><span class="n">service_account_name</span><span class="p">,</span>
        <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Schedule as CRON job if CRON schedule is given.</span>
    <span class="k">if</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;The Kubernetes orchestrator only supports scheduling via &quot;</span>
                <span class="s2">&quot;CRON jobs, but the run was configured with a manual &quot;</span>
                <span class="s2">&quot;schedule. Use `Schedule(cron_expression=...)` instead.&quot;</span>
            <span class="p">)</span>
        <span class="n">cron_expression</span> <span class="o">=</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span>
        <span class="n">cron_job_manifest</span> <span class="o">=</span> <span class="n">build_cron_job_manifest</span><span class="p">(</span>
            <span class="n">cron_expression</span><span class="o">=</span><span class="n">cron_expression</span><span class="p">,</span>
            <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
            <span class="n">pod_name</span><span class="o">=</span><span class="n">pod_name</span><span class="p">,</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
            <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">command</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span>
            <span class="n">service_account_name</span><span class="o">=</span><span class="n">service_account_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_k8s_batch_api</span><span class="o">.</span><span class="n">create_namespaced_cron_job</span><span class="p">(</span>
            <span class="n">body</span><span class="o">=</span><span class="n">cron_job_manifest</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Scheduling Kubernetes run `</span><span class="si">{</span><span class="n">pod_name</span><span class="si">}</span><span class="s2">` with CRON expression &quot;</span>
            <span class="sa">f</span><span class="s1">&#39;`&quot;</span><span class="si">{</span><span class="n">cron_expression</span><span class="si">}</span><span class="s1">&quot;`.&#39;</span>
        <span class="p">)</span>
        <span class="k">return</span>

    <span class="c1"># Create and run the orchestrator pod.</span>
    <span class="n">pod_manifest</span> <span class="o">=</span> <span class="n">build_pod_manifest</span><span class="p">(</span>
        <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
        <span class="n">pod_name</span><span class="o">=</span><span class="n">pod_name</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
        <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
        <span class="n">command</span><span class="o">=</span><span class="n">command</span><span class="p">,</span>
        <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span>
        <span class="n">service_account_name</span><span class="o">=</span><span class="n">service_account_name</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span><span class="o">.</span><span class="n">create_namespaced_pod</span><span class="p">(</span>
        <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
        <span class="n">body</span><span class="o">=</span><span class="n">pod_manifest</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Wait for the orchestrator pod to finish and stream logs.</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">synchronous</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Waiting for Kubernetes orchestrator pod...&quot;</span><span class="p">)</span>
        <span class="n">kube_utils</span><span class="o">.</span><span class="n">wait_pod</span><span class="p">(</span>
            <span class="n">core_api</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_k8s_core_api</span><span class="p">,</span>
            <span class="n">pod_name</span><span class="o">=</span><span class="n">pod_name</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
            <span class="n">exit_condition_lambda</span><span class="o">=</span><span class="n">kube_utils</span><span class="o">.</span><span class="n">pod_is_done</span><span class="p">,</span>
            <span class="n">stream_logs</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Orchestration started asynchronously in pod &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">pod_name</span><span class="si">}</span><span class="s2">`. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Run the following command to inspect the logs: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`kubectl logs </span><span class="si">{</span><span class="n">pod_name</span><span class="si">}</span><span class="s2"> -n </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="si">}</span><span class="s2">`.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator.KubernetesOrchestrator.prepare_pipeline_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_pipeline_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Build a Docker image and upload it to the container registry.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>BasePipeline</code></td>
        <td><p>A ZenML pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>A ZenML stack.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>runtime_configuration</code></td>
        <td><code>RuntimeConfiguration</code></td>
        <td><p>The runtime configuration of the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Build a Docker image and upload it to the container registry.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline: A ZenML pipeline.</span>
<span class="sd">        stack: A ZenML stack.</span>
<span class="sd">        runtime_configuration: The runtime configuration of the pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">docker_utils</span>

    <span class="n">image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_docker_image_name</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="n">requirements</span> <span class="o">=</span> <span class="p">{</span><span class="o">*</span><span class="n">stack</span><span class="o">.</span><span class="n">requirements</span><span class="p">(),</span> <span class="o">*</span><span class="n">pipeline</span><span class="o">.</span><span class="n">requirements</span><span class="p">}</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Kubernetes container requirements: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">requirements</span><span class="p">)</span>

    <span class="n">docker_utils</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
        <span class="n">build_context_path</span><span class="o">=</span><span class="n">get_source_root_path</span><span class="p">(),</span>
        <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
        <span class="n">dockerignore_path</span><span class="o">=</span><span class="n">pipeline</span><span class="o">.</span><span class="n">dockerignore_file</span><span class="p">,</span>
        <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
        <span class="n">base_image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">custom_docker_base_image_name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>  <span class="c1"># should never happen due to validation</span>
    <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span><span class="o">.</span><span class="n">push_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>

    <span class="c1"># Store the Docker image digest in the runtime configuration so it gets</span>
    <span class="c1"># tracked in the ZenStore</span>
    <span class="n">image_digest</span> <span class="o">=</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">or</span> <span class="n">image_name</span>
    <span class="n">runtime_configuration</span><span class="p">[</span><span class="s2">&quot;docker_image&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">image_digest</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint" class="doc doc-heading">
        <code>kubernetes_orchestrator_entrypoint</code>



</h5>

    <div class="doc doc-contents ">

      <p>Entrypoint of the Kubernetes master/orchestrator pod.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint.main" class="doc doc-heading">
<code class="highlight language-python"><span class="n">main</span><span class="p">()</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Entrypoint of the k8s master/orchestrator pod.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator_entrypoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Entrypoint of the k8s master/orchestrator pod.&quot;&quot;&quot;</span>
    <span class="c1"># Log to the container&#39;s stdout so it can be streamed by the client.</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Kubernetes orchestrator pod started.&quot;</span><span class="p">)</span>

    <span class="c1"># Parse / extract args.</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parse_args</span><span class="p">()</span>
    <span class="n">pipeline_config</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">pipeline_config</span>
    <span class="n">step_command</span> <span class="o">=</span> <span class="n">pipeline_config</span><span class="p">[</span><span class="s2">&quot;step_command&quot;</span><span class="p">]</span>
    <span class="n">fixed_step_args</span> <span class="o">=</span> <span class="n">pipeline_config</span><span class="p">[</span><span class="s2">&quot;fixed_step_args&quot;</span><span class="p">]</span>
    <span class="n">step_specific_args</span> <span class="o">=</span> <span class="n">pipeline_config</span><span class="p">[</span><span class="s2">&quot;step_specific_args&quot;</span><span class="p">]</span>
    <span class="n">pipeline_dag</span> <span class="o">=</span> <span class="n">pipeline_config</span><span class="p">[</span><span class="s2">&quot;pipeline_dag&quot;</span><span class="p">]</span>

    <span class="c1"># Get Kubernetes Core API for running kubectl commands later.</span>
    <span class="n">kube_utils</span><span class="o">.</span><span class="n">load_kube_config</span><span class="p">()</span>
    <span class="n">core_api</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">CoreV1Api</span><span class="p">()</span>

    <span class="c1"># Patch run name (only needed for CRON scheduling)</span>
    <span class="n">run_name</span> <span class="o">=</span> <span class="n">patch_run_name_for_cron_scheduling</span><span class="p">(</span>
        <span class="n">args</span><span class="o">.</span><span class="n">run_name</span><span class="p">,</span> <span class="n">fixed_step_args</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_step_on_kubernetes</span><span class="p">(</span><span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Run a pipeline step in a separate Kubernetes pod.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_name: Name of the step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Define Kubernetes pod name.</span>
        <span class="n">pod_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">pod_name</span> <span class="o">=</span> <span class="n">kube_utils</span><span class="o">.</span><span class="n">sanitize_pod_name</span><span class="p">(</span><span class="n">pod_name</span><span class="p">)</span>

        <span class="c1"># Build list of args for this step.</span>
        <span class="n">step_args</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="n">fixed_step_args</span><span class="p">,</span> <span class="o">*</span><span class="n">step_specific_args</span><span class="p">[</span><span class="n">step_name</span><span class="p">]]</span>

        <span class="c1"># Define Kubernetes pod manifest.</span>
        <span class="n">pod_manifest</span> <span class="o">=</span> <span class="n">build_pod_manifest</span><span class="p">(</span>
            <span class="n">pod_name</span><span class="o">=</span><span class="n">pod_name</span><span class="p">,</span>
            <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">,</span>
            <span class="n">image_name</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">image_name</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">step_command</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="n">step_args</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Create and run pod.</span>
        <span class="n">core_api</span><span class="o">.</span><span class="n">create_namespaced_pod</span><span class="p">(</span>
            <span class="n">namespace</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
            <span class="n">body</span><span class="o">=</span><span class="n">pod_manifest</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Wait for pod to finish.</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Waiting for pod of step `</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">` to start...&quot;</span><span class="p">)</span>
        <span class="n">kube_utils</span><span class="o">.</span><span class="n">wait_pod</span><span class="p">(</span>
            <span class="n">core_api</span><span class="o">=</span><span class="n">core_api</span><span class="p">,</span>
            <span class="n">pod_name</span><span class="o">=</span><span class="n">pod_name</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
            <span class="n">exit_condition_lambda</span><span class="o">=</span><span class="n">kube_utils</span><span class="o">.</span><span class="n">pod_is_done</span><span class="p">,</span>
            <span class="n">stream_logs</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Pod of step `</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">` completed.&quot;</span><span class="p">)</span>

    <span class="n">ThreadedDagRunner</span><span class="p">(</span><span class="n">dag</span><span class="o">=</span><span class="n">pipeline_dag</span><span class="p">,</span> <span class="n">run_fn</span><span class="o">=</span><span class="n">run_step_on_kubernetes</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Orchestration pod completed.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint.parse_args" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse_args</span><span class="p">()</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Parse entrypoint arguments.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Namespace</code></td>
      <td><p>Parsed args.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator_entrypoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse_args</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Parse entrypoint arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Parsed args.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--run_name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--pipeline_name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--image_name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--kubernetes_namespace&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--pipeline_config&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint.patch_run_name_for_cron_scheduling" class="doc doc-heading">
<code class="highlight language-python"><span class="n">patch_run_name_for_cron_scheduling</span><span class="p">(</span><span class="n">run_name</span><span class="p">,</span> <span class="n">fixed_step_args</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Adjust run name according to the Kubernetes orchestrator pod name.</p>
<p>This is required for scheduling via CRON jobs, since each job would
otherwise have the same run name, which zenml does not support.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_name</code></td>
        <td><code>str</code></td>
        <td><p>Initial run name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>fixed_step_args</code></td>
        <td><code>List[str]</code></td>
        <td><p>Fixed entrypoint args for the step pods.
We also need to patch the run name in there.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>New unique run name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator_entrypoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">patch_run_name_for_cron_scheduling</span><span class="p">(</span>
    <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">fixed_step_args</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Adjust run name according to the Kubernetes orchestrator pod name.</span>

<span class="sd">    This is required for scheduling via CRON jobs, since each job would</span>
<span class="sd">    otherwise have the same run name, which zenml does not support.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_name: Initial run name.</span>
<span class="sd">        fixed_step_args: Fixed entrypoint args for the step pods.</span>
<span class="sd">            We also need to patch the run name in there.</span>

<span class="sd">    Returns:</span>
<span class="sd">        New unique run name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Get name of the orchestrator pod.</span>
    <span class="n">host_name</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">()</span>

    <span class="c1"># If we are not running as CRON job, we don&#39;t need to do anything.</span>
    <span class="k">if</span> <span class="n">host_name</span> <span class="o">==</span> <span class="n">kube_utils</span><span class="o">.</span><span class="n">sanitize_pod_name</span><span class="p">(</span><span class="n">run_name</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">run_name</span>

    <span class="c1"># Otherwise, define new run_name.</span>
    <span class="n">job_id</span> <span class="o">=</span> <span class="n">host_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">run_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">job_id</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="c1"># Then also adjust run_name in fixed_step_args.</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">arg</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">fixed_step_args</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">arg</span> <span class="o">==</span> <span class="s2">&quot;--run_name&quot;</span><span class="p">:</span>
            <span class="n">fixed_step_args</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">run_name</span>

    <span class="k">return</span> <span class="n">run_name</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint_configuration" class="doc doc-heading">
        <code>kubernetes_orchestrator_entrypoint_configuration</code>



</h5>

    <div class="doc doc-contents ">

      <p>Entrypoint configuration for the Kubernetes master/orchestrator pod.</p>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint_configuration.KubernetesOrchestratorEntrypointConfiguration" class="doc doc-heading">
        <code>
KubernetesOrchestratorEntrypointConfiguration        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Entrypoint configuration for the k8s master/orchestrator pod.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KubernetesOrchestratorEntrypointConfiguration</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Entrypoint configuration for the k8s master/orchestrator pod.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_entrypoint_options</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Gets all the options required for running this entrypoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Entrypoint options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">RUN_NAME_OPTION</span><span class="p">,</span>
            <span class="n">PIPELINE_NAME_OPTION</span><span class="p">,</span>
            <span class="n">IMAGE_NAME_OPTION</span><span class="p">,</span>
            <span class="n">NAMESPACE_OPTION</span><span class="p">,</span>
            <span class="n">PIPELINE_CONFIG_OPTION</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">options</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_entrypoint_command</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Returns a command that runs the entrypoint module.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Entrypoint command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;python&quot;</span><span class="p">,</span>
            <span class="s2">&quot;-m&quot;</span><span class="p">,</span>
            <span class="s2">&quot;zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">command</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_entrypoint_arguments</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">kubernetes_namespace</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">pb2_pipeline</span><span class="p">:</span> <span class="n">Pb2Pipeline</span><span class="p">,</span>
        <span class="n">sorted_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">],</span>
        <span class="n">pipeline_dag</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Gets all arguments that the entrypoint command should be called with.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_name: Name of the ZenML run.</span>
<span class="sd">            pipeline_name: Name of the ZenML pipeline.</span>
<span class="sd">            image_name: Name of the Docker image.</span>
<span class="sd">            kubernetes_namespace: Name of the Kubernetes namespace.</span>
<span class="sd">            pb2_pipeline: ZenML pipeline in TFX pb2 format.</span>
<span class="sd">            sorted_steps: List of steps in execution order.</span>
<span class="sd">            pipeline_dag: For each step, list of steps that need to run before.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of entrypoint arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_get_step_args</span><span class="p">(</span><span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
            <span class="sd">&quot;&quot;&quot;Get the entrypoint args for a specific step.</span>

<span class="sd">            Args:</span>
<span class="sd">                step: ZenML step for which to get entrypoint args.</span>

<span class="sd">            Returns:</span>
<span class="sd">                Entrypoint args of the step.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">KubernetesStepEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
                    <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
                    <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="p">,</span>
                    <span class="o">**</span><span class="p">{</span><span class="n">RUN_NAME_OPTION</span><span class="p">:</span> <span class="n">run_name</span><span class="p">},</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="c1"># Get name, command, and args for each step</span>
        <span class="n">step_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span><span class="p">]</span>
        <span class="n">step_command</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">KubernetesStepEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">fixed_step_args</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_steps</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">first_step_args</span> <span class="o">=</span> <span class="n">_get_step_args</span><span class="p">(</span><span class="n">sorted_steps</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">fixed_step_args</span> <span class="o">=</span> <span class="n">split_step_args</span><span class="p">(</span><span class="n">first_step_args</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">step_specific_args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">split_step_args</span><span class="p">(</span><span class="n">_get_step_args</span><span class="p">(</span><span class="n">step</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span>
        <span class="p">}</span>  <span class="c1"># e.g.: {&quot;trainer&quot;: train_step_args, ...}</span>

        <span class="c1"># Serialize all complex datatype args into a single JSON string</span>
        <span class="n">pipeline_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;sorted_steps&quot;</span><span class="p">:</span> <span class="n">step_names</span><span class="p">,</span>
            <span class="s2">&quot;step_command&quot;</span><span class="p">:</span> <span class="n">step_command</span><span class="p">,</span>
            <span class="s2">&quot;fixed_step_args&quot;</span><span class="p">:</span> <span class="n">fixed_step_args</span><span class="p">,</span>
            <span class="s2">&quot;step_specific_args&quot;</span><span class="p">:</span> <span class="n">step_specific_args</span><span class="p">,</span>
            <span class="s2">&quot;pipeline_dag&quot;</span><span class="p">:</span> <span class="n">pipeline_dag</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">pipeline_config_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">pipeline_config</span><span class="p">)</span>

        <span class="c1"># Define entrypoint args.</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span>
            <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">RUN_NAME_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">run_name</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">PIPELINE_NAME_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">pipeline_name</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">IMAGE_NAME_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">image_name</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">NAMESPACE_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">kubernetes_namespace</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">PIPELINE_CONFIG_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">pipeline_config_json</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">return</span> <span class="n">args</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint_configuration.KubernetesOrchestratorEntrypointConfiguration.get_entrypoint_arguments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_entrypoint_arguments</span><span class="p">(</span><span class="n">run_name</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">,</span> <span class="n">image_name</span><span class="p">,</span> <span class="n">kubernetes_namespace</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="p">,</span> <span class="n">sorted_steps</span><span class="p">,</span> <span class="n">pipeline_dag</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Gets all arguments that the entrypoint command should be called with.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the ZenML run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the ZenML pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>image_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the Docker image.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>kubernetes_namespace</code></td>
        <td><code>str</code></td>
        <td><p>Name of the Kubernetes namespace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pb2_pipeline</code></td>
        <td><code>Pipeline</code></td>
        <td><p>ZenML pipeline in TFX pb2 format.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>sorted_steps</code></td>
        <td><code>List[zenml.steps.base_step.BaseStep]</code></td>
        <td><p>List of steps in execution order.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_dag</code></td>
        <td><code>Dict[str, List[str]]</code></td>
        <td><p>For each step, list of steps that need to run before.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>List of entrypoint arguments.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_entrypoint_arguments</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">kubernetes_namespace</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">pb2_pipeline</span><span class="p">:</span> <span class="n">Pb2Pipeline</span><span class="p">,</span>
    <span class="n">sorted_steps</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">],</span>
    <span class="n">pipeline_dag</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Gets all arguments that the entrypoint command should be called with.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_name: Name of the ZenML run.</span>
<span class="sd">        pipeline_name: Name of the ZenML pipeline.</span>
<span class="sd">        image_name: Name of the Docker image.</span>
<span class="sd">        kubernetes_namespace: Name of the Kubernetes namespace.</span>
<span class="sd">        pb2_pipeline: ZenML pipeline in TFX pb2 format.</span>
<span class="sd">        sorted_steps: List of steps in execution order.</span>
<span class="sd">        pipeline_dag: For each step, list of steps that need to run before.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of entrypoint arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_get_step_args</span><span class="p">(</span><span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the entrypoint args for a specific step.</span>

<span class="sd">        Args:</span>
<span class="sd">            step: ZenML step for which to get entrypoint args.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Entrypoint args of the step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">KubernetesStepEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
                <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
                <span class="n">pb2_pipeline</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="p">,</span>
                <span class="o">**</span><span class="p">{</span><span class="n">RUN_NAME_OPTION</span><span class="p">:</span> <span class="n">run_name</span><span class="p">},</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># Get name, command, and args for each step</span>
    <span class="n">step_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span><span class="p">]</span>
    <span class="n">step_command</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">KubernetesStepEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>
    <span class="p">)</span>
    <span class="n">fixed_step_args</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_steps</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">first_step_args</span> <span class="o">=</span> <span class="n">_get_step_args</span><span class="p">(</span><span class="n">sorted_steps</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">fixed_step_args</span> <span class="o">=</span> <span class="n">split_step_args</span><span class="p">(</span><span class="n">first_step_args</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">step_specific_args</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">split_step_args</span><span class="p">(</span><span class="n">_get_step_args</span><span class="p">(</span><span class="n">step</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">sorted_steps</span>
    <span class="p">}</span>  <span class="c1"># e.g.: {&quot;trainer&quot;: train_step_args, ...}</span>

    <span class="c1"># Serialize all complex datatype args into a single JSON string</span>
    <span class="n">pipeline_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;sorted_steps&quot;</span><span class="p">:</span> <span class="n">step_names</span><span class="p">,</span>
        <span class="s2">&quot;step_command&quot;</span><span class="p">:</span> <span class="n">step_command</span><span class="p">,</span>
        <span class="s2">&quot;fixed_step_args&quot;</span><span class="p">:</span> <span class="n">fixed_step_args</span><span class="p">,</span>
        <span class="s2">&quot;step_specific_args&quot;</span><span class="p">:</span> <span class="n">step_specific_args</span><span class="p">,</span>
        <span class="s2">&quot;pipeline_dag&quot;</span><span class="p">:</span> <span class="n">pipeline_dag</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">pipeline_config_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">pipeline_config</span><span class="p">)</span>

    <span class="c1"># Define entrypoint args.</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">RUN_NAME_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">run_name</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">PIPELINE_NAME_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">IMAGE_NAME_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">image_name</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">NAMESPACE_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">kubernetes_namespace</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">PIPELINE_CONFIG_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">pipeline_config_json</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="n">args</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint_configuration.KubernetesOrchestratorEntrypointConfiguration.get_entrypoint_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_entrypoint_command</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns a command that runs the entrypoint module.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>Entrypoint command.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_entrypoint_command</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Returns a command that runs the entrypoint module.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Entrypoint command.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;python&quot;</span><span class="p">,</span>
        <span class="s2">&quot;-m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="k">return</span> <span class="n">command</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint_configuration.KubernetesOrchestratorEntrypointConfiguration.get_entrypoint_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_entrypoint_options</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Gets all the options required for running this entrypoint.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Set[str]</code></td>
      <td><p>Entrypoint options.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_entrypoint_options</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Gets all the options required for running this entrypoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Entrypoint options.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">RUN_NAME_OPTION</span><span class="p">,</span>
        <span class="n">PIPELINE_NAME_OPTION</span><span class="p">,</span>
        <span class="n">IMAGE_NAME_OPTION</span><span class="p">,</span>
        <span class="n">NAMESPACE_OPTION</span><span class="p">,</span>
        <span class="n">PIPELINE_CONFIG_OPTION</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">options</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.kubernetes_orchestrator_entrypoint_configuration.split_step_args" class="doc doc-heading">
<code class="highlight language-python"><span class="n">split_step_args</span><span class="p">(</span><span class="n">step_args</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Split step args into fixed and step-specific.</p>
<p>We want to have them separate so we can send the fixed args to the
orchestrator pod only once.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_args</code></td>
        <td><code>List[str]</code></td>
        <td><p>list of ALL step args.
E.g. ["--arg1", "arg1_value", "--arg2", "arg2_value", ...].</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[List[str], List[str]]</code></td>
      <td><p>Tuple (fixed step args, step-specific args).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_orchestrator_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">split_step_args</span><span class="p">(</span><span class="n">step_args</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Split step args into fixed and step-specific.</span>

<span class="sd">    We want to have them separate so we can send the fixed args to the</span>
<span class="sd">    orchestrator pod only once.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_args: list of ALL step args.</span>
<span class="sd">            E.g. [&quot;--arg1&quot;, &quot;arg1_value&quot;, &quot;--arg2&quot;, &quot;arg2_value&quot;, ...].</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple (fixed step args, step-specific args).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fixed_args</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">step_specific_args</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">arg</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">step_args</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">arg</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;--&quot;</span><span class="p">):</span>  <span class="c1"># arg is a value, not an option</span>
            <span class="k">continue</span>
        <span class="n">option_and_value</span> <span class="o">=</span> <span class="n">step_args</span><span class="p">[</span><span class="n">i</span> <span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span>  <span class="c1"># e.g. [&quot;--name&quot;, &quot;Aria&quot;]</span>
        <span class="n">is_fixed</span> <span class="o">=</span> <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">STEP_SPECIFIC_STEP_ENTRYPOINT_OPTIONS</span>
        <span class="k">if</span> <span class="n">is_fixed</span><span class="p">:</span>
            <span class="n">fixed_args</span> <span class="o">+=</span> <span class="n">option_and_value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">step_specific_args</span> <span class="o">+=</span> <span class="n">option_and_value</span>
    <span class="k">return</span> <span class="n">fixed_args</span><span class="p">,</span> <span class="n">step_specific_args</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.kubernetes.orchestrators.kubernetes_step_entrypoint_configuration" class="doc doc-heading">
        <code>kubernetes_step_entrypoint_configuration</code>



</h5>

    <div class="doc doc-contents ">

      <p>Entrypoint configuration for the Kubernetes worker/step pods.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.kubernetes.orchestrators.kubernetes_step_entrypoint_configuration.KubernetesStepEntrypointConfiguration" class="doc doc-heading">
        <code>
KubernetesStepEntrypointConfiguration            (<a class="autorefs autorefs-internal" title="zenml.entrypoints.step_entrypoint_configuration.StepEntrypointConfiguration" href="../entrypoints/#zenml.entrypoints.step_entrypoint_configuration.StepEntrypointConfiguration">StepEntrypointConfiguration</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Entrypoint configuration for running steps on Kubernetes.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_step_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KubernetesStepEntrypointConfiguration</span><span class="p">(</span><span class="n">StepEntrypointConfiguration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Entrypoint configuration for running steps on Kubernetes.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_custom_entrypoint_options</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Kubernetes specific entrypoint options.</span>

<span class="sd">        The argument `RUN_NAME_OPTION` is needed for `get_run_name` to have</span>
<span class="sd">        consistent values between steps.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Set of entrypoint options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">RUN_NAME_OPTION</span><span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_custom_entrypoint_arguments</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Kubernetes specific entrypoint arguments.</span>

<span class="sd">        Sets the value for the `RUN_NAME_OPTION` argument.</span>

<span class="sd">        Args:</span>
<span class="sd">            step: ZenML step for which the entrypoint is built.</span>
<span class="sd">            args: additional (unused) arguments.</span>
<span class="sd">            kwargs: keyword args; needs to include `RUN_NAME_OPTION`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of entrypoint arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">RUN_NAME_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="n">RUN_NAME_OPTION</span><span class="p">],</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the ZenML run name.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_name: Name of the ZenML pipeline (unused).</span>

<span class="sd">        Returns:</span>
<span class="sd">            ZenML run name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">job_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entrypoint_args</span><span class="p">[</span><span class="n">RUN_NAME_OPTION</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">job_id</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.orchestrators.kubernetes_step_entrypoint_configuration.KubernetesStepEntrypointConfiguration.get_custom_entrypoint_arguments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_custom_entrypoint_arguments</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Kubernetes specific entrypoint arguments.</p>
<p>Sets the value for the <code>RUN_NAME_OPTION</code> argument.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step</code></td>
        <td><code>BaseStep</code></td>
        <td><p>ZenML step for which the entrypoint is built.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>args</code></td>
        <td><code>Any</code></td>
        <td><p>additional (unused) arguments.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>keyword args; needs to include <code>RUN_NAME_OPTION</code>.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>List of entrypoint arguments.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_step_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_custom_entrypoint_arguments</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Kubernetes specific entrypoint arguments.</span>

<span class="sd">    Sets the value for the `RUN_NAME_OPTION` argument.</span>

<span class="sd">    Args:</span>
<span class="sd">        step: ZenML step for which the entrypoint is built.</span>
<span class="sd">        args: additional (unused) arguments.</span>
<span class="sd">        kwargs: keyword args; needs to include `RUN_NAME_OPTION`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of entrypoint arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">RUN_NAME_OPTION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="n">RUN_NAME_OPTION</span><span class="p">],</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.orchestrators.kubernetes_step_entrypoint_configuration.KubernetesStepEntrypointConfiguration.get_custom_entrypoint_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_custom_entrypoint_options</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Kubernetes specific entrypoint options.</p>
<p>The argument <code>RUN_NAME_OPTION</code> is needed for <code>get_run_name</code> to have
consistent values between steps.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Set[str]</code></td>
      <td><p>Set of entrypoint options.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_step_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_custom_entrypoint_options</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Kubernetes specific entrypoint options.</span>

<span class="sd">    The argument `RUN_NAME_OPTION` is needed for `get_run_name` to have</span>
<span class="sd">    consistent values between steps.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Set of entrypoint options.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">RUN_NAME_OPTION</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.kubernetes.orchestrators.kubernetes_step_entrypoint_configuration.KubernetesStepEntrypointConfiguration.get_run_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the ZenML run name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the ZenML pipeline (unused).</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>ZenML run name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/kubernetes_step_entrypoint_configuration.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the ZenML run name.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: Name of the ZenML pipeline (unused).</span>

<span class="sd">    Returns:</span>
<span class="sd">        ZenML run name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">job_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entrypoint_args</span><span class="p">[</span><span class="n">RUN_NAME_OPTION</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">job_id</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.kubernetes.orchestrators.manifest_utils" class="doc doc-heading">
        <code>manifest_utils</code>



</h5>

    <div class="doc doc-contents ">

      <p>Utility functions for building manifests for k8s pods.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.manifest_utils.build_cluster_role_binding_manifest_for_service_account" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_cluster_role_binding_manifest_for_service_account</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">role_name</span><span class="p">,</span> <span class="n">service_account_name</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Build a manifest for a cluster role binding of a service account.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the cluster role binding.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>role_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the role.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>service_account_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the service account.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>Kubernetes namespace. Defaults to "default".</p></td>
        <td><code>&#39;default&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Manifest for a cluster role binding of a service account.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/manifest_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_cluster_role_binding_manifest_for_service_account</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">role_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">service_account_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Build a manifest for a cluster role binding of a service account.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: Name of the cluster role binding.</span>
<span class="sd">        role_name: Name of the role.</span>
<span class="sd">        service_account_name: Name of the service account.</span>
<span class="sd">        namespace: Kubernetes namespace. Defaults to &quot;default&quot;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Manifest for a cluster role binding of a service account.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;apiVersion&quot;</span><span class="p">:</span> <span class="s2">&quot;rbac.authorization.k8s.io/v1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kind&quot;</span><span class="p">:</span> <span class="s2">&quot;ClusterRoleBinding&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">},</span>
        <span class="s2">&quot;subjects&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;kind&quot;</span><span class="p">:</span> <span class="s2">&quot;ServiceAccount&quot;</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">service_account_name</span><span class="p">,</span>
                <span class="s2">&quot;namespace&quot;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;roleRef&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;kind&quot;</span><span class="p">:</span> <span class="s2">&quot;ClusterRole&quot;</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">role_name</span><span class="p">,</span>
            <span class="s2">&quot;apiGroup&quot;</span><span class="p">:</span> <span class="s2">&quot;rbac.authorization.k8s.io&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.manifest_utils.build_cron_job_manifest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_cron_job_manifest</span><span class="p">(</span><span class="n">cron_expression</span><span class="p">,</span> <span class="n">pod_name</span><span class="p">,</span> <span class="n">run_name</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">,</span> <span class="n">image_name</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">service_account_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Create a manifest for launching a pod as scheduled CRON job.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>cron_expression</code></td>
        <td><code>str</code></td>
        <td><p>CRON job schedule expression, e.g. "<em> * </em> * *".</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pod_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the pod.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>run_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the ZenML run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the ZenML pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>image_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the Docker image.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>command</code></td>
        <td><code>List[str]</code></td>
        <td><p>Command to execute the entrypoint in the pod.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>args</code></td>
        <td><code>List[str]</code></td>
        <td><p>Arguments provided to the entrypoint command.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>service_account_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional name of a service account.
Can be used to assign certain roles to a pod, e.g., to allow it to
run Kubernetes commands from within the cluster.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>CRON job manifest.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/manifest_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_cron_job_manifest</span><span class="p">(</span>
    <span class="n">cron_expression</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">pod_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">command</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">args</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">service_account_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Create a manifest for launching a pod as scheduled CRON job.</span>

<span class="sd">    Args:</span>
<span class="sd">        cron_expression: CRON job schedule expression, e.g. &quot;* * * * *&quot;.</span>
<span class="sd">        pod_name: Name of the pod.</span>
<span class="sd">        run_name: Name of the ZenML run.</span>
<span class="sd">        pipeline_name: Name of the ZenML pipeline.</span>
<span class="sd">        image_name: Name of the Docker image.</span>
<span class="sd">        command: Command to execute the entrypoint in the pod.</span>
<span class="sd">        args: Arguments provided to the entrypoint command.</span>
<span class="sd">        service_account_name: Optional name of a service account.</span>
<span class="sd">            Can be used to assign certain roles to a pod, e.g., to allow it to</span>
<span class="sd">            run Kubernetes commands from within the cluster.</span>

<span class="sd">    Returns:</span>
<span class="sd">        CRON job manifest.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pod_manifest</span> <span class="o">=</span> <span class="n">build_pod_manifest</span><span class="p">(</span>
        <span class="n">pod_name</span><span class="o">=</span><span class="n">pod_name</span><span class="p">,</span>
        <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
        <span class="n">image_name</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
        <span class="n">command</span><span class="o">=</span><span class="n">command</span><span class="p">,</span>
        <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span>
        <span class="n">service_account_name</span><span class="o">=</span><span class="n">service_account_name</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;apiVersion&quot;</span><span class="p">:</span> <span class="s2">&quot;batch/v1beta1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kind&quot;</span><span class="p">:</span> <span class="s2">&quot;CronJob&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">pod_manifest</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">],</span>
        <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;schedule&quot;</span><span class="p">:</span> <span class="n">cron_expression</span><span class="p">,</span>
            <span class="s2">&quot;jobTemplate&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">pod_manifest</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">],</span>
                <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="n">pod_manifest</span><span class="p">[</span><span class="s2">&quot;spec&quot;</span><span class="p">]}},</span>
            <span class="p">},</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.manifest_utils.build_mysql_deployment_manifest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_mysql_deployment_manifest</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;mysql&#39;</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">pv_claim_name</span><span class="o">=</span><span class="s1">&#39;mysql-pv-claim&#39;</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Build a manifest for deploying a MySQL database.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the deployment. Defaults to "mysql".</p></td>
        <td><code>&#39;mysql&#39;</code></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>Kubernetes namespace. Defaults to "default".</p></td>
        <td><code>&#39;default&#39;</code></td>
      </tr>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>Port where MySQL is running. Defaults to 3306.</p></td>
        <td><code>3306</code></td>
      </tr>
      <tr>
        <td><code>pv_claim_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the required persistent volume claim.
Defaults to <code>"mysql-pv-claim"</code>.</p></td>
        <td><code>&#39;mysql-pv-claim&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Manifest for deploying a MySQL database.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/manifest_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_mysql_deployment_manifest</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mysql&quot;</span><span class="p">,</span>
    <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3306</span><span class="p">,</span>
    <span class="n">pv_claim_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mysql-pv-claim&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Build a manifest for deploying a MySQL database.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: Name of the deployment. Defaults to &quot;mysql&quot;.</span>
<span class="sd">        namespace: Kubernetes namespace. Defaults to &quot;default&quot;.</span>
<span class="sd">        port: Port where MySQL is running. Defaults to 3306.</span>
<span class="sd">        pv_claim_name: Name of the required persistent volume claim.</span>
<span class="sd">            Defaults to `&quot;mysql-pv-claim&quot;`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Manifest for deploying a MySQL database.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;apiVersion&quot;</span><span class="p">:</span> <span class="s2">&quot;apps/v1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kind&quot;</span><span class="p">:</span> <span class="s2">&quot;Deployment&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;namespace&quot;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">},</span>
        <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;selector&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;matchLabels&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;app&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">},</span>
            <span class="s2">&quot;strategy&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Recreate&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;labels&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;app&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">},</span>
                <span class="p">},</span>
                <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;containers&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;gcr.io/ml-pipeline/mysql:5.6&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
                            <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="p">{</span>
                                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;MYSQL_ALLOW_EMPTY_PASSWORD&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s1">&#39;&quot;true&quot;&#39;</span><span class="p">,</span>
                                <span class="p">}</span>
                            <span class="p">],</span>
                            <span class="s2">&quot;ports&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;containerPort&quot;</span><span class="p">:</span> <span class="n">port</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">}],</span>
                            <span class="s2">&quot;volumeMounts&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="p">{</span>
                                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;mysql-persistent-storage&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;mountPath&quot;</span><span class="p">:</span> <span class="s2">&quot;/var/lib/mysql&quot;</span><span class="p">,</span>
                                <span class="p">}</span>
                            <span class="p">],</span>
                        <span class="p">}</span>
                    <span class="p">],</span>
                    <span class="s2">&quot;volumes&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;mysql-persistent-storage&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;persistentVolumeClaim&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">&quot;claimName&quot;</span><span class="p">:</span> <span class="n">pv_claim_name</span>
                            <span class="p">},</span>
                        <span class="p">}</span>
                    <span class="p">],</span>
                <span class="p">},</span>
            <span class="p">},</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.manifest_utils.build_mysql_service_manifest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_mysql_service_manifest</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;mysql&#39;</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Build a manifest for a service relating to a deployed MySQL database.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the service. Defaults to "mysql".</p></td>
        <td><code>&#39;mysql&#39;</code></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>Kubernetes namespace. Defaults to "default".</p></td>
        <td><code>&#39;default&#39;</code></td>
      </tr>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>Port where MySQL is running. Defaults to 3306.</p></td>
        <td><code>3306</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Manifest for the MySQL service.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/manifest_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_mysql_service_manifest</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mysql&quot;</span><span class="p">,</span>
    <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3306</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Build a manifest for a service relating to a deployed MySQL database.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: Name of the service. Defaults to &quot;mysql&quot;.</span>
<span class="sd">        namespace: Kubernetes namespace. Defaults to &quot;default&quot;.</span>
<span class="sd">        port: Port where MySQL is running. Defaults to 3306.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Manifest for the MySQL service.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;apiVersion&quot;</span><span class="p">:</span> <span class="s2">&quot;v1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kind&quot;</span><span class="p">:</span> <span class="s2">&quot;Service&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;namespace&quot;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;selector&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;app&quot;</span><span class="p">:</span> <span class="s2">&quot;mysql&quot;</span><span class="p">},</span>
            <span class="s2">&quot;clusterIP&quot;</span><span class="p">:</span> <span class="s2">&quot;None&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ports&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="n">port</span><span class="p">}],</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.manifest_utils.build_namespace_manifest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_namespace_manifest</span><span class="p">(</span><span class="n">namespace</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Build the manifest for a new namespace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>Kubernetes namespace.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Manifest of the new namespace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/manifest_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_namespace_manifest</span><span class="p">(</span><span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Build the manifest for a new namespace.</span>

<span class="sd">    Args:</span>
<span class="sd">        namespace: Kubernetes namespace.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Manifest of the new namespace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;apiVersion&quot;</span><span class="p">:</span> <span class="s2">&quot;v1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kind&quot;</span><span class="p">:</span> <span class="s2">&quot;Namespace&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.manifest_utils.build_persistent_volume_claim_manifest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_persistent_volume_claim_manifest</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">storage_request</span><span class="o">=</span><span class="s1">&#39;10Gi&#39;</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Build a manifest for a persistent volume claim.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the persistent volume claim.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>Kubernetes namespace. Defaults to "default".</p></td>
        <td><code>&#39;default&#39;</code></td>
      </tr>
      <tr>
        <td><code>storage_request</code></td>
        <td><code>str</code></td>
        <td><p>Size of the storage to request. Defaults to <code>"10Gi"</code>.</p></td>
        <td><code>&#39;10Gi&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Manifest for a persistent volume claim.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/manifest_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_persistent_volume_claim_manifest</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
    <span class="n">storage_request</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;10Gi&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Build a manifest for a persistent volume claim.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: Name of the persistent volume claim.</span>
<span class="sd">        namespace: Kubernetes namespace. Defaults to &quot;default&quot;.</span>
<span class="sd">        storage_request: Size of the storage to request. Defaults to `&quot;10Gi&quot;`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Manifest for a persistent volume claim.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;apiVersion&quot;</span><span class="p">:</span> <span class="s2">&quot;v1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kind&quot;</span><span class="p">:</span> <span class="s2">&quot;PersistentVolumeClaim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;namespace&quot;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;storageClassName&quot;</span><span class="p">:</span> <span class="s2">&quot;manual&quot;</span><span class="p">,</span>
            <span class="s2">&quot;accessModes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;ReadWriteOnce&quot;</span><span class="p">],</span>
            <span class="s2">&quot;resources&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;requests&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;storage&quot;</span><span class="p">:</span> <span class="n">storage_request</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">},</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.manifest_utils.build_persistent_volume_manifest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_persistent_volume_manifest</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">storage_capacity</span><span class="o">=</span><span class="s1">&#39;10Gi&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;/mnt/data&#39;</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Build a manifest for a persistent volume.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the persistent volume.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>Kubernetes namespace. Defaults to "default".</p></td>
        <td><code>&#39;default&#39;</code></td>
      </tr>
      <tr>
        <td><code>storage_capacity</code></td>
        <td><code>str</code></td>
        <td><p>Storage capacity of the volume. Defaults to <code>"10Gi"</code>.</p></td>
        <td><code>&#39;10Gi&#39;</code></td>
      </tr>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>Path where the volume is mounted. Defaults to <code>"/mnt/data"</code>.</p></td>
        <td><code>&#39;/mnt/data&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Manifest for a persistent volume.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/manifest_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_persistent_volume_manifest</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
    <span class="n">storage_capacity</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;10Gi&quot;</span><span class="p">,</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;/mnt/data&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Build a manifest for a persistent volume.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: Name of the persistent volume.</span>
<span class="sd">        namespace: Kubernetes namespace. Defaults to &quot;default&quot;.</span>
<span class="sd">        storage_capacity: Storage capacity of the volume. Defaults to `&quot;10Gi&quot;`.</span>
<span class="sd">        path: Path where the volume is mounted. Defaults to `&quot;/mnt/data&quot;`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Manifest for a persistent volume.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;apiVersion&quot;</span><span class="p">:</span> <span class="s2">&quot;v1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kind&quot;</span><span class="p">:</span> <span class="s2">&quot;PersistentVolume&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;namespace&quot;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">,</span>
            <span class="s2">&quot;labels&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">},</span>
        <span class="p">},</span>
        <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;storageClassName&quot;</span><span class="p">:</span> <span class="s2">&quot;manual&quot;</span><span class="p">,</span>
            <span class="s2">&quot;capacity&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;storage&quot;</span><span class="p">:</span> <span class="n">storage_capacity</span><span class="p">},</span>
            <span class="s2">&quot;accessModes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;ReadWriteOnce&quot;</span><span class="p">],</span>
            <span class="s2">&quot;hostPath&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">path</span><span class="p">},</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.manifest_utils.build_pod_manifest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_pod_manifest</span><span class="p">(</span><span class="n">pod_name</span><span class="p">,</span> <span class="n">run_name</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="p">,</span> <span class="n">image_name</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">service_account_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Build a Kubernetes pod manifest for a ZenML run or step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pod_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the pod.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>run_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the ZenML run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the ZenML pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>image_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the Docker image.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>command</code></td>
        <td><code>List[str]</code></td>
        <td><p>Command to execute the entrypoint in the pod.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>args</code></td>
        <td><code>List[str]</code></td>
        <td><p>Arguments provided to the entrypoint command.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>service_account_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional name of a service account.
Can be used to assign certain roles to a pod, e.g., to allow it to
run Kubernetes commands from within the cluster.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Pod manifest.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/manifest_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_pod_manifest</span><span class="p">(</span>
    <span class="n">pod_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">command</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">args</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">service_account_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Build a Kubernetes pod manifest for a ZenML run or step.</span>

<span class="sd">    Args:</span>
<span class="sd">        pod_name: Name of the pod.</span>
<span class="sd">        run_name: Name of the ZenML run.</span>
<span class="sd">        pipeline_name: Name of the ZenML pipeline.</span>
<span class="sd">        image_name: Name of the Docker image.</span>
<span class="sd">        command: Command to execute the entrypoint in the pod.</span>
<span class="sd">        args: Arguments provided to the entrypoint command.</span>
<span class="sd">        service_account_name: Optional name of a service account.</span>
<span class="sd">            Can be used to assign certain roles to a pod, e.g., to allow it to</span>
<span class="sd">            run Kubernetes commands from within the cluster.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Pod manifest.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">manifest</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;apiVersion&quot;</span><span class="p">:</span> <span class="s2">&quot;v1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kind&quot;</span><span class="p">:</span> <span class="s2">&quot;Pod&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">pod_name</span><span class="p">,</span>
            <span class="s2">&quot;labels&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;run&quot;</span><span class="p">:</span> <span class="n">run_name</span><span class="p">,</span>
                <span class="s2">&quot;pipeline&quot;</span><span class="p">:</span> <span class="n">pipeline_name</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">},</span>
        <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;restartPolicy&quot;</span><span class="p">:</span> <span class="s2">&quot;Never&quot;</span><span class="p">,</span>
            <span class="s2">&quot;containers&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;main&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="n">image_name</span><span class="p">,</span>
                    <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">,</span>
                    <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">,</span>
                    <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">ENV_ZENML_ENABLE_REPO_INIT_WARNINGS</span><span class="p">,</span>
                            <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;False&quot;</span><span class="p">,</span>
                        <span class="p">}</span>
                    <span class="p">],</span>
                <span class="p">}</span>
            <span class="p">],</span>
        <span class="p">},</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">service_account_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;spec&quot;</span><span class="p">])</span>  <span class="c1"># mypy stupid</span>
        <span class="n">spec</span><span class="p">[</span><span class="s2">&quot;serviceAccountName&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">service_account_name</span>
    <span class="k">return</span> <span class="n">manifest</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.kubernetes.orchestrators.manifest_utils.build_service_account_manifest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_service_account_manifest</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Build the manifest for a service account.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the service account.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>Kubernetes namespace. Defaults to "default".</p></td>
        <td><code>&#39;default&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Manifest for a service account.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/kubernetes/orchestrators/manifest_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_service_account_manifest</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Build the manifest for a service account.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: Name of the service account.</span>
<span class="sd">        namespace: Kubernetes namespace. Defaults to &quot;default&quot;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Manifest for a service account.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;apiVersion&quot;</span><span class="p">:</span> <span class="s2">&quot;v1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;namespace&quot;</span><span class="p">:</span> <span class="n">namespace</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.lightgbm" class="doc doc-heading">
        <code>lightgbm</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the LightGBM integration.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.lightgbm.LightGBMIntegration" class="doc doc-heading">
        <code>
LightGBMIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of lightgbm integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/lightgbm/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LightGBMIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of lightgbm integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">LIGHTGBM</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;lightgbm&gt;=1.0.0&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.lightgbm</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.lightgbm.LightGBMIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Activates the integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/lightgbm/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.lightgbm</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.lightgbm.materializers" class="doc doc-heading">
        <code>materializers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Neural Prophet materializer.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.lightgbm.materializers.lightgbm_booster_materializer" class="doc doc-heading">
        <code>lightgbm_booster_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the LightGBM booster materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.lightgbm.materializers.lightgbm_booster_materializer.LightGBMBoosterMaterializer" class="doc doc-heading">
        <code>
LightGBMBoosterMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read data to and from lightgbm.Booster.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/lightgbm/materializers/lightgbm_booster_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LightGBMBoosterMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read data to and from lightgbm.Booster.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">lgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">ModelArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">lgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads a lightgbm Booster model from a serialized JSON file.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: A lightgbm Booster type.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A lightgbm Booster object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

        <span class="c1"># Create a temporary folder</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span>
        <span class="n">temp_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">),</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

        <span class="c1"># Copy from artifact store to temporary file</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">temp_file</span><span class="p">)</span>
        <span class="n">booster</span> <span class="o">=</span> <span class="n">lgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">(</span><span class="n">model_file</span><span class="o">=</span><span class="n">temp_file</span><span class="p">)</span>

        <span class="c1"># Cleanup and return</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">booster</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">booster</span><span class="p">:</span> <span class="n">lgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a JSON serialization for a lightgbm Booster model.</span>

<span class="sd">        Args:</span>
<span class="sd">            booster: A lightgbm Booster model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">booster</span><span class="p">)</span>

        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

        <span class="c1"># Make a temporary phantom artifact</span>
        <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.txt&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">booster</span><span class="o">.</span><span class="n">save_model</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="c1"># Copy it into artifact store</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>

        <span class="c1"># Close and remove the temporary file</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.lightgbm.materializers.lightgbm_booster_materializer.LightGBMBoosterMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads a lightgbm Booster model from a serialized JSON file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>A lightgbm Booster type.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Booster</code></td>
      <td><p>A lightgbm Booster object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/lightgbm/materializers/lightgbm_booster_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">lgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads a lightgbm Booster model from a serialized JSON file.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: A lightgbm Booster type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A lightgbm Booster object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

    <span class="c1"># Create a temporary folder</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span>
    <span class="n">temp_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">),</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

    <span class="c1"># Copy from artifact store to temporary file</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">temp_file</span><span class="p">)</span>
    <span class="n">booster</span> <span class="o">=</span> <span class="n">lgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">(</span><span class="n">model_file</span><span class="o">=</span><span class="n">temp_file</span><span class="p">)</span>

    <span class="c1"># Cleanup and return</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">booster</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.lightgbm.materializers.lightgbm_booster_materializer.LightGBMBoosterMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">booster</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Creates a JSON serialization for a lightgbm Booster model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>booster</code></td>
        <td><code>Booster</code></td>
        <td><p>A lightgbm Booster model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/lightgbm/materializers/lightgbm_booster_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">booster</span><span class="p">:</span> <span class="n">lgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a JSON serialization for a lightgbm Booster model.</span>

<span class="sd">    Args:</span>
<span class="sd">        booster: A lightgbm Booster model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">booster</span><span class="p">)</span>

    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

    <span class="c1"># Make a temporary phantom artifact</span>
    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span>
        <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.txt&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">booster</span><span class="o">.</span><span class="n">save_model</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="c1"># Copy it into artifact store</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>

    <span class="c1"># Close and remove the temporary file</span>
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.lightgbm.materializers.lightgbm_dataset_materializer" class="doc doc-heading">
        <code>lightgbm_dataset_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the LightGBM materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.lightgbm.materializers.lightgbm_dataset_materializer.LightGBMDatasetMaterializer" class="doc doc-heading">
        <code>
LightGBMDatasetMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read data to and from lightgbm.Dataset.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/lightgbm/materializers/lightgbm_dataset_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LightGBMDatasetMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read data to and from lightgbm.Dataset.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">lgb</span><span class="o">.</span><span class="n">Dataset</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">DataArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">lgb</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads a lightgbm.Dataset binary file and loads it.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: A lightgbm.Dataset type.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A lightgbm.Dataset object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

        <span class="c1"># Create a temporary folder</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span>
        <span class="n">temp_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">),</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

        <span class="c1"># Copy from artifact store to temporary file</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">temp_file</span><span class="p">)</span>
        <span class="n">matrix</span> <span class="o">=</span> <span class="n">lgb</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">temp_file</span><span class="p">,</span> <span class="n">free_raw_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1"># No clean up this time because matrix is lazy loaded</span>
        <span class="k">return</span> <span class="n">matrix</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">:</span> <span class="n">lgb</span><span class="o">.</span><span class="n">Dataset</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a binary serialization for a lightgbm.Dataset object.</span>

<span class="sd">        Args:</span>
<span class="sd">            matrix: A lightgbm.Dataset object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

        <span class="c1"># Make a temporary phantom artifact</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span>
        <span class="n">temp_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">),</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>
        <span class="n">matrix</span><span class="o">.</span><span class="n">save_binary</span><span class="p">(</span><span class="n">temp_file</span><span class="p">)</span>

        <span class="c1"># Copy it into artifact store</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">temp_file</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.lightgbm.materializers.lightgbm_dataset_materializer.LightGBMDatasetMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads a lightgbm.Dataset binary file and loads it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>A lightgbm.Dataset type.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dataset</code></td>
      <td><p>A lightgbm.Dataset object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/lightgbm/materializers/lightgbm_dataset_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">lgb</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads a lightgbm.Dataset binary file and loads it.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: A lightgbm.Dataset type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A lightgbm.Dataset object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

    <span class="c1"># Create a temporary folder</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span>
    <span class="n">temp_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">),</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

    <span class="c1"># Copy from artifact store to temporary file</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">temp_file</span><span class="p">)</span>
    <span class="n">matrix</span> <span class="o">=</span> <span class="n">lgb</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">temp_file</span><span class="p">,</span> <span class="n">free_raw_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># No clean up this time because matrix is lazy loaded</span>
    <span class="k">return</span> <span class="n">matrix</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.lightgbm.materializers.lightgbm_dataset_materializer.LightGBMDatasetMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Creates a binary serialization for a lightgbm.Dataset object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>matrix</code></td>
        <td><code>Dataset</code></td>
        <td><p>A lightgbm.Dataset object.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/lightgbm/materializers/lightgbm_dataset_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">:</span> <span class="n">lgb</span><span class="o">.</span><span class="n">Dataset</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a binary serialization for a lightgbm.Dataset object.</span>

<span class="sd">    Args:</span>
<span class="sd">        matrix: A lightgbm.Dataset object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

    <span class="c1"># Make a temporary phantom artifact</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span>
    <span class="n">temp_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">),</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>
    <span class="n">matrix</span><span class="o">.</span><span class="n">save_binary</span><span class="p">(</span><span class="n">temp_file</span><span class="p">)</span>

    <span class="c1"># Copy it into artifact store</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">temp_file</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.mlflow" class="doc doc-heading">
        <code>mlflow</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization for the ZenML MLflow integration.</p>
<p>The MLflow integrations currently enables you to use MLflow tracking as a
convenient way to visualize your experiment runs within the MLflow UI.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.mlflow.MlflowIntegration" class="doc doc-heading">
        <code>
MlflowIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of MLflow integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MlflowIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of MLflow integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">MLFLOW</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;mlflow&gt;=1.2.0,&lt;1.26.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mlserver&gt;=0.5.3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mlserver-mlflow&gt;=0.5.3&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Activate the MLflow integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.mlflow</span> <span class="kn">import</span> <span class="n">services</span>  <span class="c1"># noqa</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the MLflow integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">MLFLOW_MODEL_DEPLOYER_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.mlflow.model_deployers.MLFlowModelDeployer&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">MODEL_DEPLOYER</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">MLFLOW_MODEL_EXPERIMENT_TRACKER_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.mlflow.experiment_trackers.MLFlowExperimentTracker&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">EXPERIMENT_TRACKER</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.mlflow.MlflowIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Activate the MLflow integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Activate the MLflow integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.mlflow</span> <span class="kn">import</span> <span class="n">services</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.mlflow.MlflowIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the MLflow integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the MLflow integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">MLFLOW_MODEL_DEPLOYER_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.mlflow.model_deployers.MLFlowModelDeployer&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">MODEL_DEPLOYER</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">MLFLOW_MODEL_EXPERIMENT_TRACKER_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.mlflow.experiment_trackers.MLFlowExperimentTracker&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">EXPERIMENT_TRACKER</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.mlflow.experiment_trackers" class="doc doc-heading">
        <code>experiment_trackers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the MLflow experiment tracker.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker" class="doc doc-heading">
        <code>mlflow_experiment_tracker</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the MLflow experiment tracker for ZenML.</p>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker.MLFlowExperimentTracker" class="doc doc-heading">
        <code>
MLFlowExperimentTracker            (<a class="autorefs autorefs-internal" title="zenml.experiment_trackers.base_experiment_tracker.BaseExperimentTracker" href="../experiment_trackers/#zenml.experiment_trackers.base_experiment_tracker.BaseExperimentTracker">BaseExperimentTracker</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Stores Mlflow configuration options.</p>
<p>ZenML should take care of configuring MLflow for you, but should you still
need access to the configuration inside your step you can do it using a
step context:</p>
<pre><code class="language-python">from zenml.steps import StepContext

@enable_mlflow
@step
def my_step(context: StepContext, ...)
    context.stack.experiment_tracker  # get the tracking_uri etc. from here
</code></pre>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tracking_uri</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The uri of the mlflow tracking server. If no uri is set,
your stack must contain a <code>LocalArtifactStore</code> and ZenML will
point MLflow to a subdirectory of your artifact store instead.</p></td>
      </tr>
      <tr>
        <td><code>tracking_username</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Username for authenticating with the MLflow
tracking server. When a remote tracking uri is specified,
either <code>tracking_token</code> or <code>tracking_username</code> and
<code>tracking_password</code> must be specified.</p></td>
      </tr>
      <tr>
        <td><code>tracking_password</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Password for authenticating with the MLflow
tracking server. When a remote tracking uri is specified,
either <code>tracking_token</code> or <code>tracking_username</code> and
<code>tracking_password</code> must be specified.</p></td>
      </tr>
      <tr>
        <td><code>tracking_token</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Token for authenticating with the MLflow
tracking server. When a remote tracking uri is specified,
either <code>tracking_token</code> or <code>tracking_username</code> and
<code>tracking_password</code> must be specified.</p></td>
      </tr>
      <tr>
        <td><code>tracking_insecure_tls</code></td>
        <td><code>bool</code></td>
        <td><p>Skips verification of TLS connection to the
MLflow tracking server if set to <code>True</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/experiment_trackers/mlflow_experiment_tracker.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MLFlowExperimentTracker</span><span class="p">(</span><span class="n">BaseExperimentTracker</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Stores Mlflow configuration options.</span>

<span class="sd">    ZenML should take care of configuring MLflow for you, but should you still</span>
<span class="sd">    need access to the configuration inside your step you can do it using a</span>
<span class="sd">    step context:</span>
<span class="sd">    ```python</span>
<span class="sd">    from zenml.steps import StepContext</span>

<span class="sd">    @enable_mlflow</span>
<span class="sd">    @step</span>
<span class="sd">    def my_step(context: StepContext, ...)</span>
<span class="sd">        context.stack.experiment_tracker  # get the tracking_uri etc. from here</span>
<span class="sd">    ```</span>

<span class="sd">    Attributes:</span>
<span class="sd">        tracking_uri: The uri of the mlflow tracking server. If no uri is set,</span>
<span class="sd">            your stack must contain a `LocalArtifactStore` and ZenML will</span>
<span class="sd">            point MLflow to a subdirectory of your artifact store instead.</span>
<span class="sd">        tracking_username: Username for authenticating with the MLflow</span>
<span class="sd">            tracking server. When a remote tracking uri is specified,</span>
<span class="sd">            either `tracking_token` or `tracking_username` and</span>
<span class="sd">            `tracking_password` must be specified.</span>
<span class="sd">        tracking_password: Password for authenticating with the MLflow</span>
<span class="sd">            tracking server. When a remote tracking uri is specified,</span>
<span class="sd">            either `tracking_token` or `tracking_username` and</span>
<span class="sd">            `tracking_password` must be specified.</span>
<span class="sd">        tracking_token: Token for authenticating with the MLflow</span>
<span class="sd">            tracking server. When a remote tracking uri is specified,</span>
<span class="sd">            either `tracking_token` or `tracking_username` and</span>
<span class="sd">            `tracking_password` must be specified.</span>
<span class="sd">        tracking_insecure_tls: Skips verification of TLS connection to the</span>
<span class="sd">            MLflow tracking server if set to `True`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">tracking_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">tracking_username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">tracking_password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">tracking_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">tracking_insecure_tls</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">MLFLOW_MODEL_EXPERIMENT_TRACKER_FLAVOR</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;tracking_uri&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_ensure_valid_tracking_uri</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">tracking_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Ensures that the tracking uri is a valid mlflow tracking uri.</span>

<span class="sd">        Args:</span>
<span class="sd">            tracking_uri: The tracking uri to validate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The tracking uri if it is valid.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the tracking uri is not valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">tracking_uri</span><span class="p">:</span>
            <span class="n">valid_schemes</span> <span class="o">=</span> <span class="n">DATABASE_ENGINES</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;http&quot;</span><span class="p">,</span> <span class="s2">&quot;https&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span>
                <span class="n">tracking_uri</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">scheme</span><span class="p">)</span> <span class="k">for</span> <span class="n">scheme</span> <span class="ow">in</span> <span class="n">valid_schemes</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;MLflow tracking uri does not start with one of the valid &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;schemes </span><span class="si">{</span><span class="n">valid_schemes</span><span class="si">}</span><span class="s2">. See &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;https://www.mlflow.org/docs/latest/tracking.html#where-runs-are-recorded &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;for more information.&quot;</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="n">tracking_uri</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">skip_on_failure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_ensure_authentication_if_necessary</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Ensures that credentials or a token for authentication exist.</span>

<span class="sd">        We make this check when running MLflow tracking with a remote backend.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: The values to validate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated values.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If neither credentials nor a token are provided.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tracking_uri</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tracking_uri&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">tracking_uri</span> <span class="ow">and</span> <span class="bp">cls</span><span class="o">.</span><span class="n">is_remote_tracking_uri</span><span class="p">(</span><span class="n">tracking_uri</span><span class="p">):</span>
            <span class="c1"># we need either username + password or a token to authenticate to</span>
            <span class="c1"># the remote backend</span>
            <span class="n">basic_auth</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tracking_username&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="s2">&quot;tracking_password&quot;</span>
            <span class="p">)</span>
            <span class="n">token_auth</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tracking_token&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">basic_auth</span> <span class="ow">or</span> <span class="n">token_auth</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;MLflow experiment tracking with a remote backend &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tracking_uri</span><span class="si">}</span><span class="s2"> is only possible when specifying either &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;username and password or an authentication token in your &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;stack component. To update your component, run the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;following command: `zenml experiment-tracker update &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">values</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> --tracking_username=MY_USERNAME &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;--tracking_password=MY_PASSWORD &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;--tracking_token=MY_TOKEN` and specify either your &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;username and password or token.&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">is_remote_tracking_uri</span><span class="p">(</span><span class="n">tracking_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks whether the given tracking uri is remote or not.</span>

<span class="sd">        Args:</span>
<span class="sd">            tracking_uri: The tracking uri to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if the tracking uri is remote, `False` otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span>
            <span class="n">tracking_uri</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;http://&quot;</span><span class="p">,</span> <span class="s2">&quot;https://&quot;</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_local_mlflow_backend</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the local MLflow backend inside the ZenML artifact repository directory.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The MLflow tracking URI for the local MLflow backend.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">repo</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span><span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[call-arg]</span>
        <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span>
        <span class="n">local_mlflow_backend_uri</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;mlruns&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">local_mlflow_backend_uri</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">local_mlflow_backend_uri</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;file:&quot;</span> <span class="o">+</span> <span class="n">local_mlflow_backend_uri</span>

    <span class="k">def</span> <span class="nf">get_tracking_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the configured tracking URI or a local fallback.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The tracking URI.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_uri</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_local_mlflow_backend</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">configure_mlflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Configures the MLflow tracking URI and any additional credentials.&quot;&quot;&quot;</span>
        <span class="n">mlflow</span><span class="o">.</span><span class="n">set_tracking_uri</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_tracking_uri</span><span class="p">())</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_username</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">MLFLOW_TRACKING_USERNAME</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_username</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_password</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">MLFLOW_TRACKING_PASSWORD</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_password</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_token</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">MLFLOW_TRACKING_TOKEN</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_token</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">MLFLOW_TRACKING_INSECURE_TLS</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;true&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_insecure_tls</span> <span class="k">else</span> <span class="s2">&quot;false&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Sets the MLflow tracking uri and credentials.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configure_mlflow</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">cleanup_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Resets the MLflow tracking uri.&quot;&quot;&quot;</span>
        <span class="n">mlflow</span><span class="o">.</span><span class="n">set_tracking_uri</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;StackValidator&quot;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Checks the stack has a `LocalArtifactStore` if no tracking uri was specified.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An optional `StackValidator`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_uri</span><span class="p">:</span>
            <span class="c1"># user specified a tracking uri, do nothing</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># try to fall back to a tracking uri inside the zenml artifact</span>
            <span class="c1"># store. this only works in case of a local artifact store, so we</span>
            <span class="c1"># make sure to prevent stack with other artifact stores for now</span>
            <span class="k">return</span> <span class="n">StackValidator</span><span class="p">(</span>
                <span class="n">custom_validation_function</span><span class="o">=</span><span class="k">lambda</span> <span class="n">stack</span><span class="p">:</span> <span class="p">(</span>
                    <span class="nb">isinstance</span><span class="p">(</span><span class="n">stack</span><span class="o">.</span><span class="n">artifact_store</span><span class="p">,</span> <span class="n">LocalArtifactStore</span><span class="p">),</span>
                    <span class="s2">&quot;MLflow experiment tracker without a specified tracking &quot;</span>
                    <span class="s2">&quot;uri only works with a local artifact store.&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">active_experiment</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Experiment</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Returns the currently active MLflow experiment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The active experiment or `None` if no experiment is active.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">step_env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">()</span><span class="o">.</span><span class="n">step_environment</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">step_env</span><span class="p">:</span>
            <span class="c1"># we&#39;re not inside a step</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">mlflow</span><span class="o">.</span><span class="n">set_experiment</span><span class="p">(</span><span class="n">experiment_name</span><span class="o">=</span><span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">get_experiment_by_name</span><span class="p">(</span><span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">active_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">mlflow</span><span class="o">.</span><span class="n">ActiveRun</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Returns the currently active MLflow run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The active MLflow run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">step_env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">()</span><span class="o">.</span><span class="n">step_environment</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_experiment</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">step_env</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">experiment_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_experiment</span><span class="o">.</span><span class="n">experiment_id</span>

        <span class="c1"># TODO [ENG-458]: find a solution to avoid race-conditions while</span>
        <span class="c1">#  creating the same MLflow run from parallel steps</span>
        <span class="n">runs</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">search_runs</span><span class="p">(</span>
            <span class="n">experiment_ids</span><span class="o">=</span><span class="p">[</span><span class="n">experiment_id</span><span class="p">],</span>
            <span class="n">filter_string</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;tags.mlflow.runName = &quot;</span><span class="si">{</span><span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">,</span>
            <span class="n">output_format</span><span class="o">=</span><span class="s2">&quot;list&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">run_id</span> <span class="o">=</span> <span class="n">runs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">run_id</span> <span class="k">if</span> <span class="n">runs</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="n">current_active_run</span> <span class="o">=</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">active_run</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">current_active_run</span> <span class="ow">and</span> <span class="n">current_active_run</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">run_id</span> <span class="o">==</span> <span class="n">run_id</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">current_active_run</span>

        <span class="k">return</span> <span class="n">mlflow</span><span class="o">.</span><span class="n">start_run</span><span class="p">(</span>
            <span class="n">run_id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span>
            <span class="n">run_name</span><span class="o">=</span><span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">,</span>
            <span class="n">experiment_id</span><span class="o">=</span><span class="n">experiment_id</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker.MLFlowExperimentTracker.active_experiment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">active_experiment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">mlflow</span><span class="o">.</span><span class="n">entities</span><span class="o">.</span><span class="n">experiment</span><span class="o">.</span><span class="n">Experiment</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns the currently active MLflow experiment.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[mlflow.entities.experiment.Experiment]</code></td>
      <td><p>The active experiment or <code>None</code> if no experiment is active.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker.MLFlowExperimentTracker.active_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">active_run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">mlflow</span><span class="o">.</span><span class="n">tracking</span><span class="o">.</span><span class="n">fluent</span><span class="o">.</span><span class="n">ActiveRun</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns the currently active MLflow run.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[mlflow.tracking.fluent.ActiveRun]</code></td>
      <td><p>The active MLflow run.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker.MLFlowExperimentTracker.validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StackValidator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Checks the stack has a <code>LocalArtifactStore</code> if no tracking uri was specified.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[StackValidator]</code></td>
      <td><p>An optional <code>StackValidator</code>.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker.MLFlowExperimentTracker.cleanup_step_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cleanup_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Resets the MLflow tracking uri.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/experiment_trackers/mlflow_experiment_tracker.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">cleanup_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Resets the MLflow tracking uri.&quot;&quot;&quot;</span>
    <span class="n">mlflow</span><span class="o">.</span><span class="n">set_tracking_uri</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker.MLFlowExperimentTracker.configure_mlflow" class="doc doc-heading">
<code class="highlight language-python"><span class="n">configure_mlflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Configures the MLflow tracking URI and any additional credentials.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/experiment_trackers/mlflow_experiment_tracker.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">configure_mlflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Configures the MLflow tracking URI and any additional credentials.&quot;&quot;&quot;</span>
    <span class="n">mlflow</span><span class="o">.</span><span class="n">set_tracking_uri</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_tracking_uri</span><span class="p">())</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_username</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">MLFLOW_TRACKING_USERNAME</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_username</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_password</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">MLFLOW_TRACKING_PASSWORD</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_password</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_token</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">MLFLOW_TRACKING_TOKEN</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_token</span>
    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">MLFLOW_TRACKING_INSECURE_TLS</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;true&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_insecure_tls</span> <span class="k">else</span> <span class="s2">&quot;false&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker.MLFlowExperimentTracker.get_tracking_uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_tracking_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the configured tracking URI or a local fallback.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The tracking URI.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/experiment_trackers/mlflow_experiment_tracker.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_tracking_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the configured tracking URI or a local fallback.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The tracking URI.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracking_uri</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_local_mlflow_backend</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker.MLFlowExperimentTracker.is_remote_tracking_uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_remote_tracking_uri</span><span class="p">(</span><span class="n">tracking_uri</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Checks whether the given tracking uri is remote or not.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tracking_uri</code></td>
        <td><code>str</code></td>
        <td><p>The tracking uri to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the tracking uri is remote, <code>False</code> otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/experiment_trackers/mlflow_experiment_tracker.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">is_remote_tracking_uri</span><span class="p">(</span><span class="n">tracking_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks whether the given tracking uri is remote or not.</span>

<span class="sd">    Args:</span>
<span class="sd">        tracking_uri: The tracking uri to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the tracking uri is remote, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">any</span><span class="p">(</span>
        <span class="n">tracking_uri</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;http://&quot;</span><span class="p">,</span> <span class="s2">&quot;https://&quot;</span><span class="p">]</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.experiment_trackers.mlflow_experiment_tracker.MLFlowExperimentTracker.prepare_step_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Sets the MLflow tracking uri and credentials.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/experiment_trackers/mlflow_experiment_tracker.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Sets the MLflow tracking uri and credentials.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">configure_mlflow</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.mlflow.mlflow_step_decorator" class="doc doc-heading">
        <code>mlflow_step_decorator</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the MLflow StepDecorator.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-function">



<h5 id="zenml.integrations.mlflow.mlflow_step_decorator.enable_mlflow" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable_mlflow</span><span class="p">(</span><span class="n">_step</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Decorator to enable mlflow for a step function.</p>
<p>Apply this decorator to a ZenML pipeline step to enable MLflow experiment
tracking. The MLflow tracking configuration (tracking URI, experiment name,
run name) will be automatically configured before the step code is executed,
so the step can simply use the <code>mlflow</code> module to log metrics and artifacts,
like so:</p>
<pre><code class="language-python">@enable_mlflow
@step
def tf_evaluator(
    x_test: np.ndarray,
    y_test: np.ndarray,
    model: tf.keras.Model,
) -&gt; float:
    _, test_acc = model.evaluate(x_test, y_test, verbose=2)
    mlflow.log_metric(&quot;val_accuracy&quot;, test_acc)
    return test_acc
</code></pre>
<p>You can also use this decorator with our class-based API like so:</p>
<pre><code>@enable_mlflow
class TFEvaluator(BaseStep):
    def entrypoint(
        self,
        x_test: np.ndarray,
        y_test: np.ndarray,
        model: tf.keras.Model,
    ) -&gt; float:
        ...
</code></pre>
<p>All MLflow artifacts and metrics logged from all the steps in a pipeline
run are by default grouped under a single experiment named after the
pipeline. To log MLflow artifacts and metrics from a step in a separate
MLflow experiment, pass a custom <code>experiment_name</code> argument value to the
decorator.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>_step</code></td>
        <td><code>Optional[~S]</code></td>
        <td><p>The decorated step class.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[~S, Callable[[~S], ~S]]</code></td>
      <td><p>The inner decorator which enhaces the input step class with mlflow
tracking functionality</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/mlflow_step_decorator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">enable_mlflow</span><span class="p">(</span>
    <span class="n">_step</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">S</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">S</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">S</span><span class="p">],</span> <span class="n">S</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Decorator to enable mlflow for a step function.</span>

<span class="sd">    Apply this decorator to a ZenML pipeline step to enable MLflow experiment</span>
<span class="sd">    tracking. The MLflow tracking configuration (tracking URI, experiment name,</span>
<span class="sd">    run name) will be automatically configured before the step code is executed,</span>
<span class="sd">    so the step can simply use the `mlflow` module to log metrics and artifacts,</span>
<span class="sd">    like so:</span>

<span class="sd">    ```python</span>
<span class="sd">    @enable_mlflow</span>
<span class="sd">    @step</span>
<span class="sd">    def tf_evaluator(</span>
<span class="sd">        x_test: np.ndarray,</span>
<span class="sd">        y_test: np.ndarray,</span>
<span class="sd">        model: tf.keras.Model,</span>
<span class="sd">    ) -&gt; float:</span>
<span class="sd">        _, test_acc = model.evaluate(x_test, y_test, verbose=2)</span>
<span class="sd">        mlflow.log_metric(&quot;val_accuracy&quot;, test_acc)</span>
<span class="sd">        return test_acc</span>
<span class="sd">    ```</span>

<span class="sd">    You can also use this decorator with our class-based API like so:</span>

<span class="sd">    ```</span>
<span class="sd">    @enable_mlflow</span>
<span class="sd">    class TFEvaluator(BaseStep):</span>
<span class="sd">        def entrypoint(</span>
<span class="sd">            self,</span>
<span class="sd">            x_test: np.ndarray,</span>
<span class="sd">            y_test: np.ndarray,</span>
<span class="sd">            model: tf.keras.Model,</span>
<span class="sd">        ) -&gt; float:</span>
<span class="sd">            ...</span>
<span class="sd">    ```</span>

<span class="sd">    All MLflow artifacts and metrics logged from all the steps in a pipeline</span>
<span class="sd">    run are by default grouped under a single experiment named after the</span>
<span class="sd">    pipeline. To log MLflow artifacts and metrics from a step in a separate</span>
<span class="sd">    MLflow experiment, pass a custom `experiment_name` argument value to the</span>
<span class="sd">    decorator.</span>

<span class="sd">    Args:</span>
<span class="sd">        _step: The decorated step class.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The inner decorator which enhaces the input step class with mlflow</span>
<span class="sd">        tracking functionality</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">inner_decorator</span><span class="p">(</span><span class="n">_step</span><span class="p">:</span> <span class="n">S</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">S</span><span class="p">:</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Applying &#39;enable_mlflow&#39; decorator to step </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">_step</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">_step</span><span class="p">,</span> <span class="n">BaseStep</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;The `enable_mlflow` decorator can only be applied to a ZenML &quot;</span>
                <span class="s2">&quot;`step` decorated function or a BaseStep subclass.&quot;</span>
            <span class="p">)</span>
        <span class="n">source_fn</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">_step</span><span class="p">,</span> <span class="n">STEP_INNER_FUNC_NAME</span><span class="p">)</span>
        <span class="n">new_entrypoint</span> <span class="o">=</span> <span class="n">mlflow_step_entrypoint</span><span class="p">()(</span><span class="n">source_fn</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_step</span><span class="o">.</span><span class="n">_created_by_functional_api</span><span class="p">():</span>
            <span class="c1"># If the step was created by the functional API, the old entrypoint</span>
            <span class="c1"># was a static method -&gt; make sure the new one is as well</span>
            <span class="n">new_entrypoint</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">new_entrypoint</span><span class="p">)</span>

        <span class="nb">setattr</span><span class="p">(</span><span class="n">_step</span><span class="p">,</span> <span class="n">STEP_INNER_FUNC_NAME</span><span class="p">,</span> <span class="n">new_entrypoint</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_step</span>

    <span class="k">if</span> <span class="n">_step</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inner_decorator</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inner_decorator</span><span class="p">(</span><span class="n">_step</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.integrations.mlflow.mlflow_step_decorator.mlflow_step_entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mlflow_step_entrypoint</span><span class="p">()</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Decorator for a step entrypoint to enable mlflow.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Callable[[~F], ~F]</code></td>
      <td><p>the input function enhanced with mlflow profiling functionality</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/mlflow_step_decorator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">mlflow_step_entrypoint</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">F</span><span class="p">],</span> <span class="n">F</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Decorator for a step entrypoint to enable mlflow.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the input function enhanced with mlflow profiling functionality</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">inner_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">F</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">F</span><span class="p">:</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Applying &#39;mlflow_step_entrypoint&#39; decorator to step entrypoint </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>  <span class="c1"># noqa</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Setting up MLflow backend before running step entrypoint </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">experiment_tracker</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span>  <span class="c1"># type: ignore[call-arg]</span>
                <span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">experiment_tracker</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">experiment_tracker</span><span class="p">,</span> <span class="n">MLFlowExperimentTracker</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">get_missing_mlflow_experiment_tracker_error</span><span class="p">()</span>

            <span class="n">active_run</span> <span class="o">=</span> <span class="n">experiment_tracker</span><span class="o">.</span><span class="n">active_run</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">active_run</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;No active mlflow run configured.&quot;</span><span class="p">)</span>

            <span class="k">with</span> <span class="n">active_run</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">wrapper</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">inner_decorator</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.mlflow.mlflow_utils" class="doc doc-heading">
        <code>mlflow_utils</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of utils specific to the MLflow integration.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.integrations.mlflow.mlflow_utils.get_missing_mlflow_experiment_tracker_error" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_missing_mlflow_experiment_tracker_error</span><span class="p">()</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns description of how to add an MLflow experiment tracker to your stack.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ValueError</code></td>
      <td><p>If no MLflow experiment tracker is registered in the active stack.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/mlflow_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_missing_mlflow_experiment_tracker_error</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns description of how to add an MLflow experiment tracker to your stack.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ValueError: If no MLflow experiment tracker is registered in the active stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ne">ValueError</span><span class="p">(</span>
        <span class="s2">&quot;The active stack needs to have a MLflow experiment tracker &quot;</span>
        <span class="s2">&quot;component registered to be able to track experiments using &quot;</span>
        <span class="s2">&quot;MLflow. You can create a new stack with a MLflow experiment &quot;</span>
        <span class="s2">&quot;tracker component or update your existing stack to add this &quot;</span>
        <span class="s2">&quot;component, e.g.:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
        <span class="s2">&quot;  &#39;zenml experiment-tracker register mlflow_tracker &quot;</span>
        <span class="s2">&quot;--type=mlflow&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="s2">&quot;  &#39;zenml stack register stack-name -e mlflow_tracker ...&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.integrations.mlflow.mlflow_utils.get_tracking_uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_tracking_uri</span><span class="p">()</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets the MLflow tracking URI from the active experiment tracking stack component.</p>
<h6 id="zenml.integrations.mlflow.mlflow_utils.get_tracking_uri--noqa-dar401">noqa: DAR401</h6>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>MLflow tracking URI.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/mlflow_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_tracking_uri</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets the MLflow tracking URI from the active experiment tracking stack component.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Returns:</span>
<span class="sd">        MLflow tracking URI.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tracker</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">experiment_tracker</span>
    <span class="k">if</span> <span class="n">tracker</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tracker</span><span class="p">,</span> <span class="n">MLFlowExperimentTracker</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">get_missing_mlflow_experiment_tracker_error</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">tracker</span><span class="o">.</span><span class="n">get_tracking_uri</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.mlflow.model_deployers" class="doc doc-heading">
        <code>model_deployers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the MLflow model deployers.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.mlflow.model_deployers.mlflow_model_deployer" class="doc doc-heading">
        <code>mlflow_model_deployer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the MLflow model deployer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.mlflow.model_deployers.mlflow_model_deployer.MLFlowModelDeployer" class="doc doc-heading">
        <code>
MLFlowModelDeployer            (<a class="autorefs autorefs-internal" title="zenml.model_deployers.base_model_deployer.BaseModelDeployer" href="../model_deployers/#zenml.model_deployers.base_model_deployer.BaseModelDeployer">BaseModelDeployer</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>MLflow implementation of the BaseModelDeployer.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_path</code></td>
        <td><code>str</code></td>
        <td><p>the path where the local MLflow deployment service</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/model_deployers/mlflow_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MLFlowModelDeployer</span><span class="p">(</span><span class="n">BaseModelDeployer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;MLflow implementation of the BaseModelDeployer.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        service_path: the path where the local MLflow deployment service</span>
<span class="sd">        configuration, PID and log files are stored.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">service_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">MLFLOW_MODEL_DEPLOYER_FLAVOR</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">skip_on_failure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">set_service_path</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Sets the service_path attribute value according to the component UUID.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: the dictionary of values to be validated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated dictionary of values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;service_path&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="c1"># not likely to happen, due to Pydantic validation, but mypy complains</span>
        <span class="k">assert</span> <span class="s2">&quot;uuid&quot;</span> <span class="ow">in</span> <span class="n">values</span>

        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;service_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_service_path</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_service_path</span><span class="p">(</span><span class="n">uuid</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the path where local MLflow service information is stored.</span>

<span class="sd">        This includes the deployment service configuration, PID and log files are stored.</span>

<span class="sd">        Args:</span>
<span class="sd">            uuid: The UUID of the MLflow model deployer.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service path.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">service_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">get_global_config_directory</span><span class="p">(),</span>
            <span class="n">LOCAL_STORES_DIRECTORY_NAME</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="n">service_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service_path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">local_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the path to the root directory.</span>

<span class="sd">        This is where all configurations for MLflow deployment daemon processes are stored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The path to the local service root directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_path</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_model_server_info</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
        <span class="n">service_instance</span><span class="p">:</span> <span class="s2">&quot;MLFlowDeploymentService&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Return implementation specific information relevant to the user.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_instance: Instance of a SeldonDeploymentService</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary containing the information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;PREDICTION_URL&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prediction_url</span><span class="p">,</span>
            <span class="s2">&quot;MODEL_URI&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_uri</span><span class="p">,</span>
            <span class="s2">&quot;MODEL_NAME&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span>
            <span class="s2">&quot;SERVICE_PATH&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">,</span>
            <span class="s2">&quot;DAEMON_PID&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">service_instance</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid</span><span class="p">),</span>
        <span class="p">}</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_active_model_deployer</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="s2">&quot;MLFlowModelDeployer&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the MLFlowModelDeployer component of the active stack.</span>

<span class="sd">        Args:</span>
<span class="sd">            None</span>

<span class="sd">        Returns:</span>
<span class="sd">            The MLFlowModelDeployer component of the active stack.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the active stack does not contain an MLFlowModelDeployer component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">model_deployer</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span>  <span class="c1"># type: ignore[call-arg]</span>
            <span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">model_deployer</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">model_deployer</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
            <span class="n">model_deployer</span><span class="p">,</span> <span class="n">MLFlowModelDeployer</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The active stack needs to have an MLflow model deployer &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;component registered to be able to deploy models with MLflow. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;You can create a new stack with an MLflow model &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;deployer component or update your existing stack to add this &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;component, e.g.:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;  &#39;zenml model-deployer register mlflow --flavor=</span><span class="si">{</span><span class="n">MLFLOW_MODEL_DEPLOYER_FLAVOR</span><span class="si">}</span><span class="s2">&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;  &#39;zenml stack create stack-name -d mlflow ...&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">model_deployer</span>

    <span class="k">def</span> <span class="nf">deploy_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServiceConfig</span><span class="p">,</span>
        <span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SERVICE_START_STOP_TIMEOUT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a new MLflow deployment service or update an existing one.</span>

<span class="sd">        This should serve the supplied model and deployment configuration.</span>

<span class="sd">        This method has two modes of operation, depending on the `replace`</span>
<span class="sd">        argument value:</span>

<span class="sd">          * if `replace` is False, calling this method will create a new MLflow</span>
<span class="sd">            deployment server to reflect the model and other configuration</span>
<span class="sd">            parameters specified in the supplied MLflow service `config`.</span>

<span class="sd">          * if `replace` is True, this method will first attempt to find an</span>
<span class="sd">            existing MLflow deployment service that is *equivalent* to the</span>
<span class="sd">            supplied configuration parameters. Two or more MLflow deployment</span>
<span class="sd">            services are considered equivalent if they have the same</span>
<span class="sd">            `pipeline_name`, `pipeline_step_name` and `model_name` configuration</span>
<span class="sd">            parameters. To put it differently, two MLflow deployment services</span>
<span class="sd">            are equivalent if they serve versions of the same model deployed by</span>
<span class="sd">            the same pipeline step. If an equivalent MLflow deployment is found,</span>
<span class="sd">            it will be updated in place to reflect the new configuration</span>
<span class="sd">            parameters.</span>

<span class="sd">        Callers should set `replace` to True if they want a continuous model</span>
<span class="sd">        deployment workflow that doesn&#39;t spin up a new MLflow deployment</span>
<span class="sd">        server for each new model version. If multiple equivalent MLflow</span>
<span class="sd">        deployment servers are found, one is selected at random to be updated</span>
<span class="sd">        and the others are deleted.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: the configuration of the model to be deployed with MLflow.</span>
<span class="sd">            replace: set this flag to True to find and update an equivalent</span>
<span class="sd">                MLflow deployment server with the new model instead of</span>
<span class="sd">                creating and starting a new deployment server.</span>
<span class="sd">            timeout: the timeout in seconds to wait for the MLflow server</span>
<span class="sd">                to be provisioned and successfully started or updated. If set</span>
<span class="sd">                to 0, the method will return immediately after the MLflow</span>
<span class="sd">                server is provisioned, without waiting for it to fully start.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ZenML MLflow deployment service object that can be used to</span>
<span class="sd">            interact with the MLflow model server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">MLFlowDeploymentConfig</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
        <span class="n">service</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># if replace is True, remove all existing services</span>
        <span class="k">if</span> <span class="n">replace</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">existing_services</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span>
                <span class="n">pipeline_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">,</span>
                <span class="n">pipeline_step_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">pipeline_step_name</span><span class="p">,</span>
                <span class="n">model_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">for</span> <span class="n">existing_service</span> <span class="ow">in</span> <span class="n">existing_services</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">service</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="c1"># keep the most recently created service</span>
                    <span class="n">service</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">MLFlowDeploymentService</span><span class="p">,</span> <span class="n">existing_service</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># delete the older services and don&#39;t wait for them to</span>
                    <span class="c1"># be deprovisioned</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_clean_up_existing_service</span><span class="p">(</span>
                        <span class="n">existing_service</span><span class="o">=</span><span class="n">cast</span><span class="p">(</span>
                            <span class="n">MLFlowDeploymentService</span><span class="p">,</span> <span class="n">existing_service</span>
                        <span class="p">),</span>
                        <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
                        <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
                    <span class="c1"># ignore errors encountered while stopping old services</span>
                    <span class="k">pass</span>
        <span class="k">if</span> <span class="n">service</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Updating an existing MLflow deployment service: </span><span class="si">{</span><span class="n">service</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

            <span class="c1"># set the root runtime path with the stack component&#39;s UUID</span>
            <span class="n">config</span><span class="o">.</span><span class="n">root_runtime_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_path</span>
            <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">service</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
            <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># create a new MLFlowDeploymentService instance</span>
            <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_new_service</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created a new MLflow deployment service: </span><span class="si">{</span><span class="n">service</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">BaseService</span><span class="p">,</span> <span class="n">service</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_clean_up_existing_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">existing_service</span><span class="p">:</span> <span class="n">MLFlowDeploymentService</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># stop the older service</span>
        <span class="n">existing_service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>

        <span class="c1"># delete the old configuration file</span>
        <span class="n">service_directory_path</span> <span class="o">=</span> <span class="n">existing_service</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">service_directory_path</span><span class="p">)</span>

    <span class="c1"># the step will receive a config from the user that mentions the number</span>
    <span class="c1"># of workers etc.the step implementation will create a new config using</span>
    <span class="c1"># all values from the user and add values like pipeline name, model_uri</span>
    <span class="k">def</span> <span class="nf">_create_new_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">MLFlowDeploymentConfig</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MLFlowDeploymentService</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a new MLFlowDeploymentService.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout: the timeout in seconds to wait for the MLflow server</span>
<span class="sd">                to be provisioned and successfully started or updated.</span>
<span class="sd">            config: the configuration of the model to be deployed with MLflow.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The MLFlowDeploymentService object that can be used to interact</span>
<span class="sd">            with the MLflow model server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># set the root runtime path with the stack component&#39;s UUID</span>
        <span class="n">config</span><span class="o">.</span><span class="n">root_runtime_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_path</span>
        <span class="c1"># create a new service for the new model</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">MLFlowDeploymentService</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">find_model_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">running</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">service_uuid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pipeline_run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pipeline_step_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">model_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">model_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">model_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Finds one or more model servers that match the given criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            running: If true, only running services will be returned.</span>
<span class="sd">            service_uuid: The UUID of the service that was originally used</span>
<span class="sd">                to deploy the model.</span>
<span class="sd">            pipeline_name: Name of the pipeline that the deployed model was part</span>
<span class="sd">                of.</span>
<span class="sd">            pipeline_run_id: ID of the pipeline run which the deployed model</span>
<span class="sd">                was part of.</span>
<span class="sd">            pipeline_step_name: The name of the pipeline model deployment step</span>
<span class="sd">                that deployed the model.</span>
<span class="sd">            model_name: Name of the deployed model.</span>
<span class="sd">            model_uri: URI of the deployed model.</span>
<span class="sd">            model_type: Type/format of the deployed model. Not used in this</span>
<span class="sd">                MLflow case.</span>

<span class="sd">        Returns:</span>
<span class="sd">            One or more Service objects representing model servers that match</span>
<span class="sd">            the input search criteria.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: if any of the input arguments are of an invalid type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">services</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">MLFlowDeploymentConfig</span><span class="p">(</span>
            <span class="n">model_name</span><span class="o">=</span><span class="n">model_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">model_uri</span><span class="o">=</span><span class="n">model_uri</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">pipeline_run_id</span><span class="o">=</span><span class="n">pipeline_run_id</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">pipeline_step_name</span><span class="o">=</span><span class="n">pipeline_step_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># find all services that match the input criteria</span>
        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">local_path</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">service_uuid</span> <span class="ow">and</span> <span class="n">Path</span><span class="p">(</span><span class="n">root</span><span class="p">)</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">(</span><span class="n">service_uuid</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">file</span> <span class="o">==</span> <span class="n">SERVICE_DAEMON_CONFIG_FILE_NAME</span><span class="p">:</span>
                    <span class="n">service_config_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                        <span class="s2">&quot;Loading service daemon configuration from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="n">service_config_path</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">existing_service_config</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">service_config_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                        <span class="n">existing_service_config</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                    <span class="n">existing_service</span> <span class="o">=</span> <span class="n">ServiceRegistry</span><span class="p">()</span><span class="o">.</span><span class="n">load_service_from_json</span><span class="p">(</span>
                        <span class="n">existing_service_config</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
                        <span class="n">existing_service</span><span class="p">,</span> <span class="n">MLFlowDeploymentService</span>
                    <span class="p">):</span>
                        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Expected service type MLFlowDeploymentService but got &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">existing_service</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead&quot;</span>
                        <span class="p">)</span>
                    <span class="n">existing_service</span><span class="o">.</span><span class="n">update_status</span><span class="p">()</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_matches_search_criteria</span><span class="p">(</span><span class="n">existing_service</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">running</span> <span class="ow">or</span> <span class="n">existing_service</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
                            <span class="n">services</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cast</span><span class="p">(</span><span class="n">BaseService</span><span class="p">,</span> <span class="n">existing_service</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">services</span>

    <span class="k">def</span> <span class="nf">_matches_search_criteria</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">existing_service</span><span class="p">:</span> <span class="n">MLFlowDeploymentService</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">MLFlowDeploymentConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns true if a service matches the input criteria.</span>

<span class="sd">        If any of the values in the input criteria are None, they are ignored.</span>
<span class="sd">        This allows listing services just by common pipeline names or step</span>
<span class="sd">        names, etc.</span>

<span class="sd">        Args:</span>
<span class="sd">            existing_service: The materialized Service instance derived from</span>
<span class="sd">                the config of the older (existing) service</span>
<span class="sd">            config: The MLFlowDeploymentConfig object passed to the</span>
<span class="sd">                deploy_model function holding parameters of the new service</span>
<span class="sd">                to be created.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the service matches the input criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">existing_service_config</span> <span class="o">=</span> <span class="n">existing_service</span><span class="o">.</span><span class="n">config</span>

        <span class="c1"># check if the existing service matches the input criteria</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="p">(</span>
                <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">pipeline_name</span>
                <span class="ow">or</span> <span class="n">existing_service_config</span><span class="o">.</span><span class="n">pipeline_name</span> <span class="o">==</span> <span class="n">config</span><span class="o">.</span><span class="n">pipeline_name</span>
            <span class="p">)</span>
            <span class="ow">and</span> <span class="p">(</span>
                <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">model_name</span>
                <span class="ow">or</span> <span class="n">existing_service_config</span><span class="o">.</span><span class="n">model_name</span> <span class="o">==</span> <span class="n">config</span><span class="o">.</span><span class="n">model_name</span>
            <span class="p">)</span>
            <span class="ow">and</span> <span class="p">(</span>
                <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">pipeline_step_name</span>
                <span class="ow">or</span> <span class="n">existing_service_config</span><span class="o">.</span><span class="n">pipeline_step_name</span>
                <span class="o">==</span> <span class="n">config</span><span class="o">.</span><span class="n">pipeline_step_name</span>
            <span class="p">)</span>
            <span class="ow">and</span> <span class="p">(</span>
                <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">pipeline_run_id</span>
                <span class="ow">or</span> <span class="n">existing_service_config</span><span class="o">.</span><span class="n">pipeline_run_id</span>
                <span class="o">==</span> <span class="n">config</span><span class="o">.</span><span class="n">pipeline_run_id</span>
            <span class="p">)</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">stop_model_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SERVICE_START_STOP_TIMEOUT</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Method to stop a model server.</span>

<span class="sd">        Args:</span>
<span class="sd">            uuid: UUID of the model server to stop.</span>
<span class="sd">            timeout: Timeout in seconds to wait for the service to stop.</span>
<span class="sd">            force: If True, force the service to stop.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># get list of all services</span>
        <span class="n">existing_services</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span><span class="n">service_uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">)</span>

        <span class="c1"># if the service exists, stop it</span>
        <span class="k">if</span> <span class="n">existing_services</span><span class="p">:</span>
            <span class="n">existing_services</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">start_model_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SERVICE_START_STOP_TIMEOUT</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Method to start a model server.</span>

<span class="sd">        Args:</span>
<span class="sd">            uuid: UUID of the model server to start.</span>
<span class="sd">            timeout: Timeout in seconds to wait for the service to start.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># get list of all services</span>
        <span class="n">existing_services</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span><span class="n">service_uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">)</span>

        <span class="c1"># if the service exists, start it</span>
        <span class="k">if</span> <span class="n">existing_services</span><span class="p">:</span>
            <span class="n">existing_services</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_model_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SERVICE_START_STOP_TIMEOUT</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Method to delete all configuration of a model server.</span>

<span class="sd">        Args:</span>
<span class="sd">            uuid: UUID of the model server to delete.</span>
<span class="sd">            timeout: Timeout in seconds to wait for the service to stop.</span>
<span class="sd">            force: If True, force the service to stop.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># get list of all services</span>
        <span class="n">existing_services</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span><span class="n">service_uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">)</span>

        <span class="c1"># if the service exists, clean it up</span>
        <span class="k">if</span> <span class="n">existing_services</span><span class="p">:</span>
            <span class="n">service</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">MLFlowDeploymentService</span><span class="p">,</span> <span class="n">existing_services</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_clean_up_existing_service</span><span class="p">(</span>
                <span class="n">existing_service</span><span class="o">=</span><span class="n">service</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.mlflow.model_deployers.mlflow_model_deployer.MLFlowModelDeployer.local_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">local_path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns the path to the root directory.</p>
<p>This is where all configurations for MLflow deployment daemon processes are stored.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The path to the local service root directory.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.model_deployers.mlflow_model_deployer.MLFlowModelDeployer.delete_model_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_model_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uuid</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Method to delete all configuration of a model server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uuid</code></td>
        <td><code>UUID</code></td>
        <td><p>UUID of the model server to delete.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>Timeout in seconds to wait for the service to stop.</p></td>
        <td><code>10</code></td>
      </tr>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>If True, force the service to stop.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/model_deployers/mlflow_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_model_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SERVICE_START_STOP_TIMEOUT</span><span class="p">,</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method to delete all configuration of a model server.</span>

<span class="sd">    Args:</span>
<span class="sd">        uuid: UUID of the model server to delete.</span>
<span class="sd">        timeout: Timeout in seconds to wait for the service to stop.</span>
<span class="sd">        force: If True, force the service to stop.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># get list of all services</span>
    <span class="n">existing_services</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span><span class="n">service_uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">)</span>

    <span class="c1"># if the service exists, clean it up</span>
    <span class="k">if</span> <span class="n">existing_services</span><span class="p">:</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">MLFlowDeploymentService</span><span class="p">,</span> <span class="n">existing_services</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_clean_up_existing_service</span><span class="p">(</span>
            <span class="n">existing_service</span><span class="o">=</span><span class="n">service</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.model_deployers.mlflow_model_deployer.MLFlowModelDeployer.deploy_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deploy_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Create a new MLflow deployment service or update an existing one.</p>
<p>This should serve the supplied model and deployment configuration.</p>
<p>This method has two modes of operation, depending on the <code>replace</code>
argument value:</p>
<ul>
<li>
<p>if <code>replace</code> is False, calling this method will create a new MLflow
    deployment server to reflect the model and other configuration
    parameters specified in the supplied MLflow service <code>config</code>.</p>
</li>
<li>
<p>if <code>replace</code> is True, this method will first attempt to find an
    existing MLflow deployment service that is <em>equivalent</em> to the
    supplied configuration parameters. Two or more MLflow deployment
    services are considered equivalent if they have the same
    <code>pipeline_name</code>, <code>pipeline_step_name</code> and <code>model_name</code> configuration
    parameters. To put it differently, two MLflow deployment services
    are equivalent if they serve versions of the same model deployed by
    the same pipeline step. If an equivalent MLflow deployment is found,
    it will be updated in place to reflect the new configuration
    parameters.</p>
</li>
</ul>
<p>Callers should set <code>replace</code> to True if they want a continuous model
deployment workflow that doesn't spin up a new MLflow deployment
server for each new model version. If multiple equivalent MLflow
deployment servers are found, one is selected at random to be updated
and the others are deleted.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ServiceConfig</code></td>
        <td><p>the configuration of the model to be deployed with MLflow.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>replace</code></td>
        <td><code>bool</code></td>
        <td><p>set this flag to True to find and update an equivalent
MLflow deployment server with the new model instead of
creating and starting a new deployment server.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>the timeout in seconds to wait for the MLflow server
to be provisioned and successfully started or updated. If set
to 0, the method will return immediately after the MLflow
server is provisioned, without waiting for it to fully start.</p></td>
        <td><code>10</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseService</code></td>
      <td><p>The ZenML MLflow deployment service object that can be used to
interact with the MLflow model server.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/model_deployers/mlflow_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deploy_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ServiceConfig</span><span class="p">,</span>
    <span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SERVICE_START_STOP_TIMEOUT</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a new MLflow deployment service or update an existing one.</span>

<span class="sd">    This should serve the supplied model and deployment configuration.</span>

<span class="sd">    This method has two modes of operation, depending on the `replace`</span>
<span class="sd">    argument value:</span>

<span class="sd">      * if `replace` is False, calling this method will create a new MLflow</span>
<span class="sd">        deployment server to reflect the model and other configuration</span>
<span class="sd">        parameters specified in the supplied MLflow service `config`.</span>

<span class="sd">      * if `replace` is True, this method will first attempt to find an</span>
<span class="sd">        existing MLflow deployment service that is *equivalent* to the</span>
<span class="sd">        supplied configuration parameters. Two or more MLflow deployment</span>
<span class="sd">        services are considered equivalent if they have the same</span>
<span class="sd">        `pipeline_name`, `pipeline_step_name` and `model_name` configuration</span>
<span class="sd">        parameters. To put it differently, two MLflow deployment services</span>
<span class="sd">        are equivalent if they serve versions of the same model deployed by</span>
<span class="sd">        the same pipeline step. If an equivalent MLflow deployment is found,</span>
<span class="sd">        it will be updated in place to reflect the new configuration</span>
<span class="sd">        parameters.</span>

<span class="sd">    Callers should set `replace` to True if they want a continuous model</span>
<span class="sd">    deployment workflow that doesn&#39;t spin up a new MLflow deployment</span>
<span class="sd">    server for each new model version. If multiple equivalent MLflow</span>
<span class="sd">    deployment servers are found, one is selected at random to be updated</span>
<span class="sd">    and the others are deleted.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: the configuration of the model to be deployed with MLflow.</span>
<span class="sd">        replace: set this flag to True to find and update an equivalent</span>
<span class="sd">            MLflow deployment server with the new model instead of</span>
<span class="sd">            creating and starting a new deployment server.</span>
<span class="sd">        timeout: the timeout in seconds to wait for the MLflow server</span>
<span class="sd">            to be provisioned and successfully started or updated. If set</span>
<span class="sd">            to 0, the method will return immediately after the MLflow</span>
<span class="sd">            server is provisioned, without waiting for it to fully start.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ZenML MLflow deployment service object that can be used to</span>
<span class="sd">        interact with the MLflow model server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">MLFlowDeploymentConfig</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
    <span class="n">service</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># if replace is True, remove all existing services</span>
    <span class="k">if</span> <span class="n">replace</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">existing_services</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">,</span>
            <span class="n">pipeline_step_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">pipeline_step_name</span><span class="p">,</span>
            <span class="n">model_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">existing_service</span> <span class="ow">in</span> <span class="n">existing_services</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">service</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># keep the most recently created service</span>
                <span class="n">service</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">MLFlowDeploymentService</span><span class="p">,</span> <span class="n">existing_service</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># delete the older services and don&#39;t wait for them to</span>
                <span class="c1"># be deprovisioned</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_clean_up_existing_service</span><span class="p">(</span>
                    <span class="n">existing_service</span><span class="o">=</span><span class="n">cast</span><span class="p">(</span>
                        <span class="n">MLFlowDeploymentService</span><span class="p">,</span> <span class="n">existing_service</span>
                    <span class="p">),</span>
                    <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
                    <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
                <span class="c1"># ignore errors encountered while stopping old services</span>
                <span class="k">pass</span>
    <span class="k">if</span> <span class="n">service</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Updating an existing MLflow deployment service: </span><span class="si">{</span><span class="n">service</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="c1"># set the root runtime path with the stack component&#39;s UUID</span>
        <span class="n">config</span><span class="o">.</span><span class="n">root_runtime_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_path</span>
        <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">service</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># create a new MLFlowDeploymentService instance</span>
        <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_new_service</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created a new MLflow deployment service: </span><span class="si">{</span><span class="n">service</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">BaseService</span><span class="p">,</span> <span class="n">service</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.model_deployers.mlflow_model_deployer.MLFlowModelDeployer.find_model_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_model_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">running</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">service_uuid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pipeline_run_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pipeline_step_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">model_uri</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">model_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Finds one or more model servers that match the given criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>running</code></td>
        <td><code>bool</code></td>
        <td><p>If true, only running services will be returned.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>service_uuid</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The UUID of the service that was originally used
to deploy the model.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of the pipeline that the deployed model was part
of.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>pipeline_run_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>ID of the pipeline run which the deployed model
was part of.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>pipeline_step_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the pipeline model deployment step
that deployed the model.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>model_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of the deployed model.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>model_uri</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>URI of the deployed model.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>model_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Type/format of the deployed model. Not used in this
MLflow case.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.services.service.BaseService]</code></td>
      <td><p>One or more Service objects representing model servers that match
the input search criteria.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>if any of the input arguments are of an invalid type.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/model_deployers/mlflow_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_model_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">running</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">service_uuid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pipeline_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pipeline_run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pipeline_step_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Finds one or more model servers that match the given criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        running: If true, only running services will be returned.</span>
<span class="sd">        service_uuid: The UUID of the service that was originally used</span>
<span class="sd">            to deploy the model.</span>
<span class="sd">        pipeline_name: Name of the pipeline that the deployed model was part</span>
<span class="sd">            of.</span>
<span class="sd">        pipeline_run_id: ID of the pipeline run which the deployed model</span>
<span class="sd">            was part of.</span>
<span class="sd">        pipeline_step_name: The name of the pipeline model deployment step</span>
<span class="sd">            that deployed the model.</span>
<span class="sd">        model_name: Name of the deployed model.</span>
<span class="sd">        model_uri: URI of the deployed model.</span>
<span class="sd">        model_type: Type/format of the deployed model. Not used in this</span>
<span class="sd">            MLflow case.</span>

<span class="sd">    Returns:</span>
<span class="sd">        One or more Service objects representing model servers that match</span>
<span class="sd">        the input search criteria.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: if any of the input arguments are of an invalid type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">services</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">MLFlowDeploymentConfig</span><span class="p">(</span>
        <span class="n">model_name</span><span class="o">=</span><span class="n">model_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">model_uri</span><span class="o">=</span><span class="n">model_uri</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">pipeline_run_id</span><span class="o">=</span><span class="n">pipeline_run_id</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">pipeline_step_name</span><span class="o">=</span><span class="n">pipeline_step_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># find all services that match the input criteria</span>
    <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">local_path</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">service_uuid</span> <span class="ow">and</span> <span class="n">Path</span><span class="p">(</span><span class="n">root</span><span class="p">)</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">(</span><span class="n">service_uuid</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">file</span> <span class="o">==</span> <span class="n">SERVICE_DAEMON_CONFIG_FILE_NAME</span><span class="p">:</span>
                <span class="n">service_config_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;Loading service daemon configuration from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="n">service_config_path</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">existing_service_config</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">service_config_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">existing_service_config</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                <span class="n">existing_service</span> <span class="o">=</span> <span class="n">ServiceRegistry</span><span class="p">()</span><span class="o">.</span><span class="n">load_service_from_json</span><span class="p">(</span>
                    <span class="n">existing_service_config</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
                    <span class="n">existing_service</span><span class="p">,</span> <span class="n">MLFlowDeploymentService</span>
                <span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Expected service type MLFlowDeploymentService but got &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">existing_service</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead&quot;</span>
                    <span class="p">)</span>
                <span class="n">existing_service</span><span class="o">.</span><span class="n">update_status</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_matches_search_criteria</span><span class="p">(</span><span class="n">existing_service</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">running</span> <span class="ow">or</span> <span class="n">existing_service</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
                        <span class="n">services</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cast</span><span class="p">(</span><span class="n">BaseService</span><span class="p">,</span> <span class="n">existing_service</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">services</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.model_deployers.mlflow_model_deployer.MLFlowModelDeployer.get_active_model_deployer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_active_model_deployer</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns the MLFlowModelDeployer component of the active stack.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>MLFlowModelDeployer</code></td>
      <td><p>The MLFlowModelDeployer component of the active stack.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If the active stack does not contain an MLFlowModelDeployer component.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/model_deployers/mlflow_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_active_model_deployer</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="s2">&quot;MLFlowModelDeployer&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the MLFlowModelDeployer component of the active stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        None</span>

<span class="sd">    Returns:</span>
<span class="sd">        The MLFlowModelDeployer component of the active stack.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If the active stack does not contain an MLFlowModelDeployer component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_deployer</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span>  <span class="c1"># type: ignore[call-arg]</span>
        <span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">model_deployer</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">model_deployer</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
        <span class="n">model_deployer</span><span class="p">,</span> <span class="n">MLFlowModelDeployer</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The active stack needs to have an MLflow model deployer &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;component registered to be able to deploy models with MLflow. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;You can create a new stack with an MLflow model &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;deployer component or update your existing stack to add this &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;component, e.g.:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  &#39;zenml model-deployer register mlflow --flavor=</span><span class="si">{</span><span class="n">MLFLOW_MODEL_DEPLOYER_FLAVOR</span><span class="si">}</span><span class="s2">&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  &#39;zenml stack create stack-name -d mlflow ...&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">model_deployer</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.model_deployers.mlflow_model_deployer.MLFlowModelDeployer.get_model_server_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_model_server_info</span><span class="p">(</span><span class="n">service_instance</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Return implementation specific information relevant to the user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_instance</code></td>
        <td><code>MLFlowDeploymentService</code></td>
        <td><p>Instance of a SeldonDeploymentService</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Optional[str]]</code></td>
      <td><p>A dictionary containing the information.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/model_deployers/mlflow_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_model_server_info</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
    <span class="n">service_instance</span><span class="p">:</span> <span class="s2">&quot;MLFlowDeploymentService&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Return implementation specific information relevant to the user.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_instance: Instance of a SeldonDeploymentService</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary containing the information.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;PREDICTION_URL&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prediction_url</span><span class="p">,</span>
        <span class="s2">&quot;MODEL_URI&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_uri</span><span class="p">,</span>
        <span class="s2">&quot;MODEL_NAME&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span>
        <span class="s2">&quot;SERVICE_PATH&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">,</span>
        <span class="s2">&quot;DAEMON_PID&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">service_instance</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid</span><span class="p">),</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.model_deployers.mlflow_model_deployer.MLFlowModelDeployer.get_service_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_path</span><span class="p">(</span><span class="n">uuid</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Get the path where local MLflow service information is stored.</p>
<p>This includes the deployment service configuration, PID and log files are stored.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uuid</code></td>
        <td><code>UUID</code></td>
        <td><p>The UUID of the MLflow model deployer.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The service path.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/model_deployers/mlflow_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_service_path</span><span class="p">(</span><span class="n">uuid</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the path where local MLflow service information is stored.</span>

<span class="sd">    This includes the deployment service configuration, PID and log files are stored.</span>

<span class="sd">    Args:</span>
<span class="sd">        uuid: The UUID of the MLflow model deployer.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The service path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">service_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">get_global_config_directory</span><span class="p">(),</span>
        <span class="n">LOCAL_STORES_DIRECTORY_NAME</span><span class="p">,</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="n">service_path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">service_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.model_deployers.mlflow_model_deployer.MLFlowModelDeployer.set_service_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_service_path</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Sets the service_path attribute value according to the component UUID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>values</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>the dictionary of values to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>The validated dictionary of values.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/model_deployers/mlflow_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@root_validator</span><span class="p">(</span><span class="n">skip_on_failure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">set_service_path</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Sets the service_path attribute value according to the component UUID.</span>

<span class="sd">    Args:</span>
<span class="sd">        values: the dictionary of values to be validated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The validated dictionary of values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;service_path&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="c1"># not likely to happen, due to Pydantic validation, but mypy complains</span>
    <span class="k">assert</span> <span class="s2">&quot;uuid&quot;</span> <span class="ow">in</span> <span class="n">values</span>

    <span class="n">values</span><span class="p">[</span><span class="s2">&quot;service_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_service_path</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">values</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.model_deployers.mlflow_model_deployer.MLFlowModelDeployer.start_model_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start_model_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uuid</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Method to start a model server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uuid</code></td>
        <td><code>UUID</code></td>
        <td><p>UUID of the model server to start.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>Timeout in seconds to wait for the service to start.</p></td>
        <td><code>10</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/model_deployers/mlflow_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start_model_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SERVICE_START_STOP_TIMEOUT</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method to start a model server.</span>

<span class="sd">    Args:</span>
<span class="sd">        uuid: UUID of the model server to start.</span>
<span class="sd">        timeout: Timeout in seconds to wait for the service to start.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># get list of all services</span>
    <span class="n">existing_services</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span><span class="n">service_uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">)</span>

    <span class="c1"># if the service exists, start it</span>
    <span class="k">if</span> <span class="n">existing_services</span><span class="p">:</span>
        <span class="n">existing_services</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.model_deployers.mlflow_model_deployer.MLFlowModelDeployer.stop_model_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop_model_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uuid</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Method to stop a model server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uuid</code></td>
        <td><code>UUID</code></td>
        <td><p>UUID of the model server to stop.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>Timeout in seconds to wait for the service to stop.</p></td>
        <td><code>10</code></td>
      </tr>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>If True, force the service to stop.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/model_deployers/mlflow_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop_model_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SERVICE_START_STOP_TIMEOUT</span><span class="p">,</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method to stop a model server.</span>

<span class="sd">    Args:</span>
<span class="sd">        uuid: UUID of the model server to stop.</span>
<span class="sd">        timeout: Timeout in seconds to wait for the service to stop.</span>
<span class="sd">        force: If True, force the service to stop.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># get list of all services</span>
    <span class="n">existing_services</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span><span class="n">service_uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">)</span>

    <span class="c1"># if the service exists, stop it</span>
    <span class="k">if</span> <span class="n">existing_services</span><span class="p">:</span>
        <span class="n">existing_services</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.mlflow.services" class="doc doc-heading">
        <code>services</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the MLflow Service.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.mlflow.services.mlflow_deployment" class="doc doc-heading">
        <code>mlflow_deployment</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the MLflow deployment functionality.</p>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentConfig" class="doc doc-heading">
        <code>
MLFlowDeploymentConfig            (<a class="autorefs autorefs-internal" title="zenml.services.local.local_service.LocalDaemonServiceConfig" href="../services/#zenml.services.local.local_service.LocalDaemonServiceConfig">LocalDaemonServiceConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>MLflow model deployment configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_uri</code></td>
        <td><code>str</code></td>
        <td><p>URI of the MLflow model to serve</p></td>
      </tr>
      <tr>
        <td><code>model_name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the model</p></td>
      </tr>
      <tr>
        <td><code>workers</code></td>
        <td><code>int</code></td>
        <td><p>number of workers to use for the prediction service</p></td>
      </tr>
      <tr>
        <td><code>mlserver</code></td>
        <td><code>bool</code></td>
        <td><p>set to True to use the MLflow MLServer backend (see
https://github.com/SeldonIO/MLServer). If False, the
MLflow built-in scoring server will be used.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/services/mlflow_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MLFlowDeploymentConfig</span><span class="p">(</span><span class="n">LocalDaemonServiceConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;MLflow model deployment configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        model_uri: URI of the MLflow model to serve</span>
<span class="sd">        model_name: the name of the model</span>
<span class="sd">        workers: number of workers to use for the prediction service</span>
<span class="sd">        mlserver: set to True to use the MLflow MLServer backend (see</span>
<span class="sd">            https://github.com/SeldonIO/MLServer). If False, the</span>
<span class="sd">            MLflow built-in scoring server will be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_uri</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">workers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">mlserver</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentEndpoint" class="doc doc-heading">
        <code>
MLFlowDeploymentEndpoint            (<a class="autorefs autorefs-internal" title="zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpoint" href="../services/#zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpoint">LocalDaemonServiceEndpoint</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A service endpoint exposed by the MLflow deployment daemon.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>MLFlowDeploymentEndpointConfig</code></td>
        <td><p>service endpoint configuration</p></td>
      </tr>
      <tr>
        <td><code>monitor</code></td>
        <td><code>HTTPEndpointHealthMonitor</code></td>
        <td><p>optional service endpoint health monitor</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/services/mlflow_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MLFlowDeploymentEndpoint</span><span class="p">(</span><span class="n">LocalDaemonServiceEndpoint</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A service endpoint exposed by the MLflow deployment daemon.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: service endpoint configuration</span>
<span class="sd">        monitor: optional service endpoint health monitor</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">MLFlowDeploymentEndpointConfig</span>
    <span class="n">monitor</span><span class="p">:</span> <span class="n">HTTPEndpointHealthMonitor</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prediction_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Gets the prediction URL for the endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the prediction URL for the endpoint</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">uri</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">uri</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">uri</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">uri</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">prediction_url_path</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentEndpoint.prediction_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prediction_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Gets the prediction URL for the endpoint.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>the prediction URL for the endpoint</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>










  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentEndpointConfig" class="doc doc-heading">
        <code>
MLFlowDeploymentEndpointConfig            (<a class="autorefs autorefs-internal" title="zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpointConfig" href="../services/#zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpointConfig">LocalDaemonServiceEndpointConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>MLflow daemon service endpoint configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>prediction_url_path</code></td>
        <td><code>str</code></td>
        <td><p>URI subpath for prediction requests</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/services/mlflow_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MLFlowDeploymentEndpointConfig</span><span class="p">(</span><span class="n">LocalDaemonServiceEndpointConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;MLflow daemon service endpoint configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        prediction_url_path: URI subpath for prediction requests</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">prediction_url_path</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentService" class="doc doc-heading">
        <code>
MLFlowDeploymentService            (<a class="autorefs autorefs-internal" title="zenml.services.local.local_service.LocalDaemonService" href="../services/#zenml.services.local.local_service.LocalDaemonService">LocalDaemonService</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>MLflow deployment service used to start a local prediction server for MLflow models.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SERVICE_TYPE</code></td>
        <td><code>ClassVar[zenml.services.service_type.ServiceType]</code></td>
        <td><p>a service type descriptor with information describing
the MLflow deployment service class</p></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>MLFlowDeploymentConfig</code></td>
        <td><p>service configuration</p></td>
      </tr>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>MLFlowDeploymentEndpoint</code></td>
        <td><p>optional service endpoint</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/services/mlflow_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MLFlowDeploymentService</span><span class="p">(</span><span class="n">LocalDaemonService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;MLflow deployment service used to start a local prediction server for MLflow models.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        SERVICE_TYPE: a service type descriptor with information describing</span>
<span class="sd">            the MLflow deployment service class</span>
<span class="sd">        config: service configuration</span>
<span class="sd">        endpoint: optional service endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">SERVICE_TYPE</span> <span class="o">=</span> <span class="n">ServiceType</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;mlflow-deployment&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;model-serving&quot;</span><span class="p">,</span>
        <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;mlflow&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;MLflow prediction service&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">MLFlowDeploymentConfig</span>
    <span class="n">endpoint</span><span class="p">:</span> <span class="n">MLFlowDeploymentEndpoint</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">MLFlowDeploymentConfig</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
        <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialize the MLflow deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: service configuration</span>
<span class="sd">            attrs: additional attributes to set on the service</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># ensure that the endpoint is created before the service is initialized</span>
        <span class="c1"># TODO [ENG-700]: implement a service factory or builder for MLflow</span>
        <span class="c1">#   deployment services</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">MLFlowDeploymentConfig</span><span class="p">)</span>
            <span class="ow">and</span> <span class="s2">&quot;endpoint&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">attrs</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">mlserver</span><span class="p">:</span>
                <span class="n">prediction_url_path</span> <span class="o">=</span> <span class="n">MLSERVER_PREDICTION_URL_PATH</span>
                <span class="n">healthcheck_uri_path</span> <span class="o">=</span> <span class="n">MLSERVER_HEALTHCHECK_URL_PATH</span>
                <span class="n">use_head_request</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">prediction_url_path</span> <span class="o">=</span> <span class="n">MLFLOW_PREDICTION_URL_PATH</span>
                <span class="n">healthcheck_uri_path</span> <span class="o">=</span> <span class="n">MLFLOW_HEALTHCHECK_URL_PATH</span>
                <span class="n">use_head_request</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="n">endpoint</span> <span class="o">=</span> <span class="n">MLFlowDeploymentEndpoint</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="n">MLFlowDeploymentEndpointConfig</span><span class="p">(</span>
                    <span class="n">protocol</span><span class="o">=</span><span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">HTTP</span><span class="p">,</span>
                    <span class="n">prediction_url_path</span><span class="o">=</span><span class="n">prediction_url_path</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">monitor</span><span class="o">=</span><span class="n">HTTPEndpointHealthMonitor</span><span class="p">(</span>
                    <span class="n">config</span><span class="o">=</span><span class="n">HTTPEndpointHealthMonitorConfig</span><span class="p">(</span>
                        <span class="n">healthcheck_uri_path</span><span class="o">=</span><span class="n">healthcheck_uri_path</span><span class="p">,</span>
                        <span class="n">use_head_request</span><span class="o">=</span><span class="n">use_head_request</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">),</span>
            <span class="p">)</span>
            <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;endpoint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">endpoint</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Start the service.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Starting MLflow prediction service as blocking &quot;</span>
            <span class="s2">&quot;process... press CTRL+C once to stop it.&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prepare_for_start</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">serve_kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="c1"># MLflow version 1.26 introduces an additional mandatory</span>
            <span class="c1"># `timeout` argument to the `PyFuncBackend.serve` function</span>
            <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">MLFLOW_VERSION</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">26</span><span class="p">:</span>
                <span class="n">serve_kwargs</span><span class="p">[</span><span class="s2">&quot;timeout&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="n">backend</span> <span class="o">=</span> <span class="n">PyFuncBackend</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="p">{},</span>
                <span class="n">no_conda</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">workers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">workers</span><span class="p">,</span>
                <span class="n">install_mlflow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">backend</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span>
                <span class="n">model_uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_uri</span><span class="p">,</span>
                <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
                <span class="n">host</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
                <span class="n">enable_mlserver</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">mlserver</span><span class="p">,</span>
                <span class="o">**</span><span class="n">serve_kwargs</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;MLflow prediction service stopped. Resuming normal execution.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prediction_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the URI where the prediction service is answering requests.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The URI where the prediction service can be contacted to process</span>
<span class="sd">            HTTP/REST inference requests, or None, if the service isn&#39;t running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prediction_url</span>

    <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="s2">&quot;NDArray[Any]&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NDArray[Any]&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Make a prediction using the service.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a numpy array representing the request</span>

<span class="sd">        Returns:</span>
<span class="sd">            A numpy array representing the prediction returned by the service.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: if the service is not running</span>
<span class="sd">            ValueError: if the prediction endpoint is unknown.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;MLflow prediction service is not running. &quot;</span>
                <span class="s2">&quot;Please start the service before making predictions.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prediction_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prediction_url</span><span class="p">,</span>
                <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">tolist</span><span class="p">()},</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No endpoint known for prediction.&quot;</span><span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentService.prediction_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prediction_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Get the URI where the prediction service is answering requests.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The URI where the prediction service can be contacted to process
HTTP/REST inference requests, or None, if the service isn't running.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentService.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Initialize the MLflow deployment service.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>Union[zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentConfig, Dict[str, Any]]</code></td>
        <td><p>service configuration</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>attrs</code></td>
        <td><code>Any</code></td>
        <td><p>additional attributes to set on the service</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/services/mlflow_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">MLFlowDeploymentConfig</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Initialize the MLflow deployment service.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: service configuration</span>
<span class="sd">        attrs: additional attributes to set on the service</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># ensure that the endpoint is created before the service is initialized</span>
    <span class="c1"># TODO [ENG-700]: implement a service factory or builder for MLflow</span>
    <span class="c1">#   deployment services</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">MLFlowDeploymentConfig</span><span class="p">)</span>
        <span class="ow">and</span> <span class="s2">&quot;endpoint&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">attrs</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">mlserver</span><span class="p">:</span>
            <span class="n">prediction_url_path</span> <span class="o">=</span> <span class="n">MLSERVER_PREDICTION_URL_PATH</span>
            <span class="n">healthcheck_uri_path</span> <span class="o">=</span> <span class="n">MLSERVER_HEALTHCHECK_URL_PATH</span>
            <span class="n">use_head_request</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">prediction_url_path</span> <span class="o">=</span> <span class="n">MLFLOW_PREDICTION_URL_PATH</span>
            <span class="n">healthcheck_uri_path</span> <span class="o">=</span> <span class="n">MLFLOW_HEALTHCHECK_URL_PATH</span>
            <span class="n">use_head_request</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">endpoint</span> <span class="o">=</span> <span class="n">MLFlowDeploymentEndpoint</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="n">MLFlowDeploymentEndpointConfig</span><span class="p">(</span>
                <span class="n">protocol</span><span class="o">=</span><span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">HTTP</span><span class="p">,</span>
                <span class="n">prediction_url_path</span><span class="o">=</span><span class="n">prediction_url_path</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">monitor</span><span class="o">=</span><span class="n">HTTPEndpointHealthMonitor</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="n">HTTPEndpointHealthMonitorConfig</span><span class="p">(</span>
                    <span class="n">healthcheck_uri_path</span><span class="o">=</span><span class="n">healthcheck_uri_path</span><span class="p">,</span>
                    <span class="n">use_head_request</span><span class="o">=</span><span class="n">use_head_request</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;endpoint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">endpoint</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentService.predict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Make a prediction using the service.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>NDArray[Any]</code></td>
        <td><p>a numpy array representing the request</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>NDArray[Any]</code></td>
      <td><p>A numpy array representing the prediction returned by the service.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>Exception</code></td>
        <td><p>if the service is not running</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the prediction endpoint is unknown.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/services/mlflow_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="s2">&quot;NDArray[Any]&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NDArray[Any]&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Make a prediction using the service.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: a numpy array representing the request</span>

<span class="sd">    Returns:</span>
<span class="sd">        A numpy array representing the prediction returned by the service.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: if the service is not running</span>
<span class="sd">        ValueError: if the prediction endpoint is unknown.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;MLflow prediction service is not running. &quot;</span>
            <span class="s2">&quot;Please start the service before making predictions.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prediction_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prediction_url</span><span class="p">,</span>
            <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">tolist</span><span class="p">()},</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No endpoint known for prediction.&quot;</span><span class="p">)</span>
    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.services.mlflow_deployment.MLFlowDeploymentService.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Start the service.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/services/mlflow_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Start the service.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Starting MLflow prediction service as blocking &quot;</span>
        <span class="s2">&quot;process... press CTRL+C once to stop it.&quot;</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prepare_for_start</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">serve_kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># MLflow version 1.26 introduces an additional mandatory</span>
        <span class="c1"># `timeout` argument to the `PyFuncBackend.serve` function</span>
        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">MLFLOW_VERSION</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">26</span><span class="p">:</span>
            <span class="n">serve_kwargs</span><span class="p">[</span><span class="s2">&quot;timeout&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">backend</span> <span class="o">=</span> <span class="n">PyFuncBackend</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="p">{},</span>
            <span class="n">no_conda</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">workers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">workers</span><span class="p">,</span>
            <span class="n">install_mlflow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">backend</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span>
            <span class="n">model_uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_uri</span><span class="p">,</span>
            <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
            <span class="n">host</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
            <span class="n">enable_mlserver</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">mlserver</span><span class="p">,</span>
            <span class="o">**</span><span class="n">serve_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;MLflow prediction service stopped. Resuming normal execution.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.mlflow.steps" class="doc doc-heading">
        <code>steps</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the MLflow standard interface steps.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.mlflow.steps.mlflow_deployer" class="doc doc-heading">
        <code>mlflow_deployer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the MLflow model deployer pipeline step.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.mlflow.steps.mlflow_deployer.MLFlowDeployerConfig" class="doc doc-heading">
        <code>
MLFlowDeployerConfig            (<a class="autorefs autorefs-internal" title="zenml.steps.base_step_config.BaseStepConfig" href="../steps/#zenml.steps.base_step_config.BaseStepConfig">BaseStepConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Model deployer step configuration for MLflow.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the MLflow model logged in the MLflow artifact
store for the current pipeline.</p></td>
      </tr>
      <tr>
        <td><code>workers</code></td>
        <td><code>int</code></td>
        <td><p>number of workers to use for the prediction service</p></td>
      </tr>
      <tr>
        <td><code>mlserver</code></td>
        <td><code>bool</code></td>
        <td><p>set to True to use the MLflow MLServer backend (see
https://github.com/SeldonIO/MLServer). If False, the
MLflow built-in scoring server will be used.</p></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>the number of seconds to wait for the service to start/stop.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/steps/mlflow_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MLFlowDeployerConfig</span><span class="p">(</span><span class="n">BaseStepConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Model deployer step configuration for MLflow.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        model_name: the name of the MLflow model logged in the MLflow artifact</span>
<span class="sd">            store for the current pipeline.</span>
<span class="sd">        workers: number of workers to use for the prediction service</span>
<span class="sd">        mlserver: set to True to use the MLflow MLServer backend (see</span>
<span class="sd">            https://github.com/SeldonIO/MLServer). If False, the</span>
<span class="sd">            MLflow built-in scoring server will be used.</span>
<span class="sd">        timeout: the number of seconds to wait for the service to start/stop.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;model&quot;</span>
    <span class="n">model_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">workers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">mlserver</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SERVICE_START_STOP_TIMEOUT</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_model_deployer_step" class="doc doc-heading">
        <code>
mlflow_model_deployer_step            (<a class="autorefs autorefs-internal" title="zenml.steps.base_step.BaseStep" href="../steps/#zenml.steps.base_step.BaseStep">BaseStep</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Model deployer pipeline step for MLflow.</p>
<h6 id="zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_model_deployer_step--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deploy_decision</code></td>
        <td></td>
        <td><p>whether to deploy the model or not</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model</code></td>
        <td></td>
        <td><p>the model artifact to deploy</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td></td>
        <td><p>configuration for the deployer step</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>MLflow deployment service</p></td>
    </tr>
  </tbody>
</table>



  <div class="doc doc-children">















  <div class="doc doc-object doc-class">



<h7 id="zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_model_deployer_step.CONFIG_CLASS" class="doc doc-heading">
        <code>
CONFIG_CLASS            (<a class="autorefs autorefs-internal" title="zenml.steps.base_step_config.BaseStepConfig" href="../steps/#zenml.steps.base_step_config.BaseStepConfig">BaseStepConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Model deployer step configuration for MLflow.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the MLflow model logged in the MLflow artifact
store for the current pipeline.</p></td>
      </tr>
      <tr>
        <td><code>workers</code></td>
        <td><code>int</code></td>
        <td><p>number of workers to use for the prediction service</p></td>
      </tr>
      <tr>
        <td><code>mlserver</code></td>
        <td><code>bool</code></td>
        <td><p>set to True to use the MLflow MLServer backend (see
https://github.com/SeldonIO/MLServer). If False, the
MLflow built-in scoring server will be used.</p></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>the number of seconds to wait for the service to start/stop.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/steps/mlflow_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MLFlowDeployerConfig</span><span class="p">(</span><span class="n">BaseStepConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Model deployer step configuration for MLflow.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        model_name: the name of the MLflow model logged in the MLflow artifact</span>
<span class="sd">            store for the current pipeline.</span>
<span class="sd">        workers: number of workers to use for the prediction service</span>
<span class="sd">        mlserver: set to True to use the MLflow MLServer backend (see</span>
<span class="sd">            https://github.com/SeldonIO/MLServer). If False, the</span>
<span class="sd">            MLflow built-in scoring server will be used.</span>
<span class="sd">        timeout: the number of seconds to wait for the service to start/stop.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;model&quot;</span>
    <span class="n">model_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">workers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">mlserver</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SERVICE_START_STOP_TIMEOUT</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_model_deployer_step.entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entrypoint</span><span class="p">(</span><span class="n">deploy_decision</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Model deployer pipeline step for MLflow.</p>
<h6 id="zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_model_deployer_step.entrypoint--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deploy_decision</code></td>
        <td><code>bool</code></td>
        <td><p>whether to deploy the model or not</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model</code></td>
        <td><code>ModelArtifact</code></td>
        <td><p>the model artifact to deploy</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>MLFlowDeployerConfig</code></td>
        <td><p>configuration for the deployer step</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>MLFlowDeploymentService</code></td>
      <td><p>MLflow deployment service</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/steps/mlflow_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@enable_mlflow</span>
<span class="nd">@step</span><span class="p">(</span><span class="n">enable_cache</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">mlflow_model_deployer_step</span><span class="p">(</span>
    <span class="n">deploy_decision</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">ModelArtifact</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">MLFlowDeployerConfig</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MLFlowDeploymentService</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Model deployer pipeline step for MLflow.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        deploy_decision: whether to deploy the model or not</span>
<span class="sd">        model: the model artifact to deploy</span>
<span class="sd">        config: configuration for the deployer step</span>

<span class="sd">    Returns:</span>
<span class="sd">        MLflow deployment service</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_deployer</span> <span class="o">=</span> <span class="n">MLFlowModelDeployer</span><span class="o">.</span><span class="n">get_active_model_deployer</span><span class="p">()</span>

    <span class="c1"># fetch the MLflow artifacts logged during the pipeline run</span>
    <span class="n">experiment_tracker</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span>  <span class="c1"># type: ignore[call-arg]</span>
        <span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">experiment_tracker</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">experiment_tracker</span><span class="p">,</span> <span class="n">MLFlowExperimentTracker</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">get_missing_mlflow_experiment_tracker_error</span><span class="p">()</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">MlflowClient</span><span class="p">()</span>
    <span class="n">model_uri</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">mlflow_run</span> <span class="o">=</span> <span class="n">experiment_tracker</span><span class="o">.</span><span class="n">active_run</span>
    <span class="k">if</span> <span class="n">mlflow_run</span> <span class="ow">and</span> <span class="n">client</span><span class="o">.</span><span class="n">list_artifacts</span><span class="p">(</span>
        <span class="n">mlflow_run</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">run_id</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">model_name</span>
    <span class="p">):</span>
        <span class="n">model_uri</span> <span class="o">=</span> <span class="n">get_artifact_uri</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="p">)</span>

    <span class="c1"># get pipeline name, step name and run id</span>
    <span class="n">step_env</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">StepEnvironment</span><span class="p">,</span> <span class="n">Environment</span><span class="p">()[</span><span class="n">STEP_ENVIRONMENT_NAME</span><span class="p">])</span>
    <span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_name</span>
    <span class="n">run_id</span> <span class="o">=</span> <span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_run_id</span>
    <span class="n">step_name</span> <span class="o">=</span> <span class="n">step_env</span><span class="o">.</span><span class="n">step_name</span>

    <span class="c1"># fetch existing services with same pipeline name, step name and model name</span>
    <span class="n">existing_services</span> <span class="o">=</span> <span class="n">model_deployer</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
        <span class="n">pipeline_step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">,</span>
        <span class="n">model_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># create a config for the new model service</span>
    <span class="n">predictor_cfg</span> <span class="o">=</span> <span class="n">MLFlowDeploymentConfig</span><span class="p">(</span>
        <span class="n">model_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">model_uri</span><span class="o">=</span><span class="n">model_uri</span><span class="p">,</span>
        <span class="n">workers</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">workers</span><span class="p">,</span>
        <span class="n">mlserver</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">mlserver</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
        <span class="n">pipeline_run_id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span>
        <span class="n">pipeline_step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Creating a new service with inactive state and status by default</span>
    <span class="n">service</span> <span class="o">=</span> <span class="n">MLFlowDeploymentService</span><span class="p">(</span><span class="n">predictor_cfg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">existing_services</span><span class="p">:</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">MLFlowDeploymentService</span><span class="p">,</span> <span class="n">existing_services</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="c1"># check for conditions to deploy the model</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">model_uri</span><span class="p">:</span>
        <span class="c1"># an MLflow model was not trained in the current run, so we simply reuse</span>
        <span class="c1"># the currently running service created for the same model, if any</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_services</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;An MLflow model with name `</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="si">}</span><span class="s2">` was not &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;logged in the current pipeline run and no running MLflow &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;model server was found. Please ensure that your pipeline &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;includes an `@enable_mlflow` decorated step that trains a &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;model and logs it to MLflow. This could also happen if &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;the current pipeline run did not log an MLflow model  &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;because the training step was cached.&quot;</span>
            <span class="p">)</span>
            <span class="c1"># return an inactive service just because we have to return</span>
            <span class="c1"># something</span>
            <span class="k">return</span> <span class="n">service</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;An MLflow model with name `</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="si">}</span><span class="s2">` was not &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;trained in the current pipeline run. Reusing the existing &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;MLflow model server.&quot;</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">service</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>

        <span class="c1"># return the existing service</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="c1"># even when the deploy decision is negative, if an existing model server</span>
    <span class="c1"># is not running for this pipeline/step, we still have to serve the</span>
    <span class="c1"># current model, to ensure that a model server is available at all times</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">deploy_decision</span> <span class="ow">and</span> <span class="n">existing_services</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Skipping model deployment because the model quality does not &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;meet the criteria. Reusing last model server deployed by step &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&#39; and pipeline &#39;</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&#39; for model &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="si">}</span><span class="s2">&#39;...&quot;</span>
        <span class="p">)</span>
        <span class="c1"># even when the deploy decision is negative, we still need to start</span>
        <span class="c1"># the previous model server if it is no longer running, to ensure</span>
        <span class="c1"># that a model server is available at all times</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">service</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="c1"># create a new model deployment and replace an old one if it exists</span>
    <span class="n">new_service</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
        <span class="n">MLFlowDeploymentService</span><span class="p">,</span>
        <span class="n">model_deployer</span><span class="o">.</span><span class="n">deploy_model</span><span class="p">(</span>
            <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">predictor_cfg</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;MLflow deployment service started and reachable at:</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;    </span><span class="si">{</span><span class="n">new_service</span><span class="o">.</span><span class="n">prediction_url</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">new_service</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.mlflow.steps.mlflow_deployer.mlflow_deployer_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mlflow_deployer_step</span><span class="p">(</span><span class="n">enable_cache</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Creates a pipeline step to deploy a given ML model with a local MLflow prediction server.</p>
<p>The returned step can be used in a pipeline to implement continuous
deployment for an MLflow model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>enable_cache</code></td>
        <td><code>bool</code></td>
        <td><p>Specify whether caching is enabled for this step. If no
value is passed, caching is enabled by default</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of the step.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[zenml.steps.base_step.BaseStep]</code></td>
      <td><p>an MLflow model deployer pipeline step</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/mlflow/steps/mlflow_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">mlflow_deployer_step</span><span class="p">(</span>
    <span class="n">enable_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Creates a pipeline step to deploy a given ML model with a local MLflow prediction server.</span>

<span class="sd">    The returned step can be used in a pipeline to implement continuous</span>
<span class="sd">    deployment for an MLflow model.</span>

<span class="sd">    Args:</span>
<span class="sd">        enable_cache: Specify whether caching is enabled for this step. If no</span>
<span class="sd">            value is passed, caching is enabled by default</span>
<span class="sd">        name: Name of the step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        an MLflow model deployer pipeline step</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
        <span class="s2">&quot;The `mlflow_deployer_step` function is deprecated. Please &quot;</span>
        <span class="s2">&quot;use the built-in `mlflow_model_deployer_step` step instead.&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">mlflow_model_deployer_step</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.neural_prophet" class="doc doc-heading">
        <code>neural_prophet</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the Neural Prophet integration.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.neural_prophet.NeuralProphetIntegration" class="doc doc-heading">
        <code>
NeuralProphetIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of NeuralProphet integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/neural_prophet/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">NeuralProphetIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of NeuralProphet integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">NEURAL_PROPHET</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;neuralprophet&gt;=0.3.2&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.neural_prophet</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.neural_prophet.NeuralProphetIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Activates the integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/neural_prophet/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.neural_prophet</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.neural_prophet.materializers" class="doc doc-heading">
        <code>materializers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Neural Prophet materializer.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.neural_prophet.materializers.neural_prophet_materializer" class="doc doc-heading">
        <code>neural_prophet_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Neural Prophet materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.neural_prophet.materializers.neural_prophet_materializer.NeuralProphetMaterializer" class="doc doc-heading">
        <code>
NeuralProphetMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read/write NeuralProphet models.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/neural_prophet/materializers/neural_prophet_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">NeuralProphetMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read/write NeuralProphet models.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">NeuralProphet</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">ModelArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">NeuralProphet</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads and returns a NeuralProphet model.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: A NeuralProphet model object.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A loaded NeuralProphet model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">torch</span><span class="o">.</span><span class="n">load</span><span class="p">(</span>  <span class="c1"># type: ignore[no-untyped-call]</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>
        <span class="p">)</span>  <span class="c1"># noqa</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">NeuralProphet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a NeuralProphet model.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: A NeuralProphet model object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">))</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.neural_prophet.materializers.neural_prophet_materializer.NeuralProphetMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads and returns a NeuralProphet model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>A NeuralProphet model object.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>NeuralProphet</code></td>
      <td><p>A loaded NeuralProphet model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/neural_prophet/materializers/neural_prophet_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">NeuralProphet</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads and returns a NeuralProphet model.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: A NeuralProphet model object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A loaded NeuralProphet model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">torch</span><span class="o">.</span><span class="n">load</span><span class="p">(</span>  <span class="c1"># type: ignore[no-untyped-call]</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>
    <span class="p">)</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.neural_prophet.materializers.neural_prophet_materializer.NeuralProphetMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a NeuralProphet model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>NeuralProphet</code></td>
        <td><p>A NeuralProphet model object.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/neural_prophet/materializers/neural_prophet_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">NeuralProphet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a NeuralProphet model.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: A NeuralProphet model object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="n">torch</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.plotly" class="doc doc-heading">
        <code>plotly</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the Plotly integration.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.plotly.PlotlyIntegration" class="doc doc-heading">
        <code>
PlotlyIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Plotly integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/plotly/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PlotlyIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Plotly integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">PLOTLY</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;plotly&gt;=5.4.0&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.plotly.visualizers" class="doc doc-heading">
        <code>visualizers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Plotly Visualizer.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.plotly.visualizers.pipeline_lineage_visualizer" class="doc doc-heading">
        <code>pipeline_lineage_visualizer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Plotly Pipeline Lineage Visualizer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.plotly.visualizers.pipeline_lineage_visualizer.PipelineLineageVisualizer" class="doc doc-heading">
        <code>
PipelineLineageVisualizer            (<a class="autorefs autorefs-internal" title="zenml.visualizers.base_pipeline_visualizer.BasePipelineVisualizer" href="../visualizers/#zenml.visualizers.base_pipeline_visualizer.BasePipelineVisualizer">BasePipelineVisualizer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Visualize the lineage of runs in a pipeline using plotly.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/plotly/visualizers/pipeline_lineage_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineLineageVisualizer</span><span class="p">(</span><span class="n">BasePipelineVisualizer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Visualize the lineage of runs in a pipeline using plotly.&quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">:</span> <span class="n">PipelineView</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Figure</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a pipeline lineage diagram using plotly.</span>

<span class="sd">        Args:</span>
<span class="sd">            object: The pipeline view to visualize.</span>
<span class="sd">            *args: Additional arguments to pass to the visualization.</span>
<span class="sd">            **kwargs: Additional keyword arguments to pass to the visualization.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A plotly figure.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;This integration is not completed yet. Results might be unexpected.&quot;</span>
        <span class="p">)</span>

        <span class="n">category_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">dimensions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;run&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">runs</span><span class="p">:</span>
            <span class="n">category_dict</span><span class="p">[</span><span class="n">run</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;run&quot;</span><span class="p">:</span> <span class="n">run</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
            <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">run</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
                <span class="n">category_dict</span><span class="p">[</span><span class="n">run</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                    <span class="p">{</span>
                        <span class="n">step</span><span class="o">.</span><span class="n">entrypoint_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                    <span class="p">}</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">entrypoint_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dimensions</span><span class="p">:</span>
                    <span class="n">dimensions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">entrypoint_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">category_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">category_dict</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">)</span>

        <span class="n">category_df</span> <span class="o">=</span> <span class="n">category_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

        <span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">parallel_categories</span><span class="p">(</span>
            <span class="n">category_df</span><span class="p">,</span>
            <span class="n">dimensions</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">labels</span><span class="o">=</span><span class="s2">&quot;status&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">fig</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.plotly.visualizers.pipeline_lineage_visualizer.PipelineLineageVisualizer.visualize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Creates a pipeline lineage diagram using plotly.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>object</code></td>
        <td><code>PipelineView</code></td>
        <td><p>The pipeline view to visualize.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional arguments to pass to the visualization.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the visualization.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Figure</code></td>
      <td><p>A plotly figure.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/plotly/visualizers/pipeline_lineage_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">:</span> <span class="n">PipelineView</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Figure</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a pipeline lineage diagram using plotly.</span>

<span class="sd">    Args:</span>
<span class="sd">        object: The pipeline view to visualize.</span>
<span class="sd">        *args: Additional arguments to pass to the visualization.</span>
<span class="sd">        **kwargs: Additional keyword arguments to pass to the visualization.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A plotly figure.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
        <span class="s2">&quot;This integration is not completed yet. Results might be unexpected.&quot;</span>
    <span class="p">)</span>

    <span class="n">category_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">dimensions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;run&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">runs</span><span class="p">:</span>
        <span class="n">category_dict</span><span class="p">[</span><span class="n">run</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;run&quot;</span><span class="p">:</span> <span class="n">run</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">run</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
            <span class="n">category_dict</span><span class="p">[</span><span class="n">run</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="n">step</span><span class="o">.</span><span class="n">entrypoint_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                <span class="p">}</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">entrypoint_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dimensions</span><span class="p">:</span>
                <span class="n">dimensions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">.</span><span class="n">entrypoint_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">category_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">category_dict</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">)</span>

    <span class="n">category_df</span> <span class="o">=</span> <span class="n">category_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">parallel_categories</span><span class="p">(</span>
        <span class="n">category_df</span><span class="p">,</span>
        <span class="n">dimensions</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="s2">&quot;status&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">fig</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.pytorch" class="doc doc-heading">
        <code>pytorch</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the PyTorch integration.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.pytorch.PytorchIntegration" class="doc doc-heading">
        <code>
PytorchIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of PyTorch integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/pytorch/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PytorchIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of PyTorch integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">PYTORCH</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;torch&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.pytorch</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.pytorch.PytorchIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Activates the integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/pytorch/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.pytorch</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.pytorch.materializers" class="doc doc-heading">
        <code>materializers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the PyTorch Materializer.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.pytorch.materializers.pytorch_dataloader_materializer" class="doc doc-heading">
        <code>pytorch_dataloader_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the PyTorch DataLoader materializer.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.pytorch.materializers.pytorch_dataloader_materializer.PyTorchDataLoaderMaterializer" class="doc doc-heading">
        <code>
PyTorchDataLoaderMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read/write PyTorch dataloaders.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/pytorch/materializers/pytorch_dataloader_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PyTorchDataLoaderMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read/write PyTorch dataloaders.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">DataLoader</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">DataArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DataLoader</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Reads and returns a PyTorch dataloader.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the dataloader to load.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A loaded PyTorch dataloader.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">),</span> <span class="s2">&quot;rb&quot;</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">DataLoader</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">torch</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>  <span class="c1"># type: ignore[no-untyped-call]  # noqa</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataloader</span><span class="p">:</span> <span class="n">DataLoader</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a PyTorch dataloader.</span>

<span class="sd">        Args:</span>
<span class="sd">            dataloader: A torch.utils.DataLoader or a dict to pass into dataloader.save</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">dataloader</span><span class="p">)</span>

        <span class="c1"># Save entire dataloader to artifact directory</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">),</span> <span class="s2">&quot;wb&quot;</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">torch</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">dataloader</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.pytorch.materializers.pytorch_dataloader_materializer.PyTorchDataLoaderMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads and returns a PyTorch dataloader.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the dataloader to load.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>torch.utils.data.dataloader.DataLoader[Any]</code></td>
      <td><p>A loaded PyTorch dataloader.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/pytorch/materializers/pytorch_dataloader_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DataLoader</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Reads and returns a PyTorch dataloader.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the dataloader to load.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A loaded PyTorch dataloader.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">),</span> <span class="s2">&quot;rb&quot;</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">DataLoader</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">torch</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>  <span class="c1"># type: ignore[no-untyped-call]  # noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.pytorch.materializers.pytorch_dataloader_materializer.PyTorchDataLoaderMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataloader</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a PyTorch dataloader.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dataloader</code></td>
        <td><code>torch.utils.data.dataloader.DataLoader[Any]</code></td>
        <td><p>A torch.utils.DataLoader or a dict to pass into dataloader.save</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/pytorch/materializers/pytorch_dataloader_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataloader</span><span class="p">:</span> <span class="n">DataLoader</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a PyTorch dataloader.</span>

<span class="sd">    Args:</span>
<span class="sd">        dataloader: A torch.utils.DataLoader or a dict to pass into dataloader.save</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">dataloader</span><span class="p">)</span>

    <span class="c1"># Save entire dataloader to artifact directory</span>
    <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">),</span> <span class="s2">&quot;wb&quot;</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">dataloader</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.pytorch.materializers.pytorch_module_materializer" class="doc doc-heading">
        <code>pytorch_module_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the PyTorch Module materializer.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.pytorch.materializers.pytorch_module_materializer.PyTorchModuleMaterializer" class="doc doc-heading">
        <code>
PyTorchModuleMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read/write Pytorch models.</p>
<p>Inspired by the guide:
https://pytorch.org/tutorials/beginner/saving_loading_models.html</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/pytorch/materializers/pytorch_module_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PyTorchModuleMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read/write Pytorch models.</span>

<span class="sd">    Inspired by the guide:</span>
<span class="sd">    https://pytorch.org/tutorials/beginner/saving_loading_models.html</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">Module</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">ModelArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Module</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads and returns a PyTorch model.</span>

<span class="sd">        Only loads the model, not the checkpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the model to load.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A loaded pytorch model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">),</span> <span class="s2">&quot;rb&quot;</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">torch</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>  <span class="c1"># type: ignore[no-untyped-call]  # noqa</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">Module</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a PyTorch model, as a model and a checkpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: A torch.nn.Module or a dict to pass into model.save</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

        <span class="c1"># Save entire model to artifact directory, This is the default behavior</span>
        <span class="c1"># for loading model in development phase (training, evaluation)</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">),</span> <span class="s2">&quot;wb&quot;</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">torch</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

        <span class="c1"># Also save model checkpoint to artifact directory,</span>
        <span class="c1"># This is the default behavior for loading model in production phase (inference)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">Module</span><span class="p">):</span>
            <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">CHECKPOINT_FILENAME</span><span class="p">),</span> <span class="s2">&quot;wb&quot;</span>
            <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">torch</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">state_dict</span><span class="p">(),</span> <span class="n">f</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.pytorch.materializers.pytorch_module_materializer.PyTorchModuleMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads and returns a PyTorch model.</p>
<p>Only loads the model, not the checkpoint.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the model to load.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Module</code></td>
      <td><p>A loaded pytorch model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/pytorch/materializers/pytorch_module_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Module</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads and returns a PyTorch model.</span>

<span class="sd">    Only loads the model, not the checkpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the model to load.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A loaded pytorch model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">),</span> <span class="s2">&quot;rb&quot;</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">torch</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>  <span class="c1"># type: ignore[no-untyped-call]  # noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.pytorch.materializers.pytorch_module_materializer.PyTorchModuleMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a PyTorch model, as a model and a checkpoint.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>Module</code></td>
        <td><p>A torch.nn.Module or a dict to pass into model.save</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/pytorch/materializers/pytorch_module_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">Module</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a PyTorch model, as a model and a checkpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: A torch.nn.Module or a dict to pass into model.save</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

    <span class="c1"># Save entire model to artifact directory, This is the default behavior</span>
    <span class="c1"># for loading model in development phase (training, evaluation)</span>
    <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">),</span> <span class="s2">&quot;wb&quot;</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

    <span class="c1"># Also save model checkpoint to artifact directory,</span>
    <span class="c1"># This is the default behavior for loading model in production phase (inference)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">Module</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">CHECKPOINT_FILENAME</span><span class="p">),</span> <span class="s2">&quot;wb&quot;</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">torch</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">state_dict</span><span class="p">(),</span> <span class="n">f</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.pytorch_lightning" class="doc doc-heading">
        <code>pytorch_lightning</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the PyTorch Lightning integration.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.pytorch_lightning.PytorchLightningIntegration" class="doc doc-heading">
        <code>
PytorchLightningIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of PyTorch Lightning integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/pytorch_lightning/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PytorchLightningIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of PyTorch Lightning integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">PYTORCH_L</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;pytorch_lightning&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.pytorch_lightning</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.pytorch_lightning.PytorchLightningIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Activates the integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/pytorch_lightning/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.pytorch_lightning</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.pytorch_lightning.materializers" class="doc doc-heading">
        <code>materializers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the PyTorch Lightning Materializer.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.pytorch_lightning.materializers.pytorch_lightning_materializer" class="doc doc-heading">
        <code>pytorch_lightning_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the PyTorch Lightning Materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.pytorch_lightning.materializers.pytorch_lightning_materializer.PyTorchLightningMaterializer" class="doc doc-heading">
        <code>
PyTorchLightningMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read/write PyTorch models.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/pytorch_lightning/materializers/pytorch_lightning_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PyTorchLightningMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read/write PyTorch models.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">Trainer</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">ModelArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Trainer</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads and returns a PyTorch Lightning trainer.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the trainer to load.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A PyTorch Lightning trainer object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Trainer</span><span class="p">(</span>
            <span class="n">resume_from_checkpoint</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">CHECKPOINT_NAME</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trainer</span><span class="p">:</span> <span class="n">Trainer</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a PyTorch Lightning trainer.</span>

<span class="sd">        Args:</span>
<span class="sd">            trainer: A PyTorch Lightning trainer object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">trainer</span><span class="p">)</span>
        <span class="n">trainer</span><span class="o">.</span><span class="n">save_checkpoint</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">CHECKPOINT_NAME</span><span class="p">)</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.pytorch_lightning.materializers.pytorch_lightning_materializer.PyTorchLightningMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads and returns a PyTorch Lightning trainer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the trainer to load.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Trainer</code></td>
      <td><p>A PyTorch Lightning trainer object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/pytorch_lightning/materializers/pytorch_lightning_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Trainer</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads and returns a PyTorch Lightning trainer.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the trainer to load.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A PyTorch Lightning trainer object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Trainer</span><span class="p">(</span>
        <span class="n">resume_from_checkpoint</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">CHECKPOINT_NAME</span>
        <span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.pytorch_lightning.materializers.pytorch_lightning_materializer.PyTorchLightningMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trainer</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a PyTorch Lightning trainer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>trainer</code></td>
        <td><code>Trainer</code></td>
        <td><p>A PyTorch Lightning trainer object.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/pytorch_lightning/materializers/pytorch_lightning_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trainer</span><span class="p">:</span> <span class="n">Trainer</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a PyTorch Lightning trainer.</span>

<span class="sd">    Args:</span>
<span class="sd">        trainer: A PyTorch Lightning trainer object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">trainer</span><span class="p">)</span>
    <span class="n">trainer</span><span class="o">.</span><span class="n">save_checkpoint</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">CHECKPOINT_NAME</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.registry" class="doc doc-heading">
        <code>registry</code>



</h3>

    <div class="doc doc-contents ">

      <p>Implementation of a registry to track ZenML integrations.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.registry.IntegrationRegistry" class="doc doc-heading">
        <code>
IntegrationRegistry        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Registry to keep track of ZenML Integrations.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">IntegrationRegistry</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Registry to keep track of ZenML Integrations.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initializing the integration registry.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Integration&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">integrations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Integration&quot;</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Method to get integrations dictionary.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dict of integration key to type of `Integration`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span>

    <span class="nd">@integrations</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">integrations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Setter method for the integrations property.</span>

<span class="sd">        Args:</span>
<span class="sd">            i: Value to set the integrations property to.</span>

<span class="sd">        Raises:</span>
<span class="sd">            IntegrationError: If you try to manually set the integrations property.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="n">IntegrationError</span><span class="p">(</span>
            <span class="s2">&quot;Please do not manually change the integrations within the &quot;</span>
            <span class="s2">&quot;registry. If you would like to register a new integration &quot;</span>
            <span class="s2">&quot;manually, please use &quot;</span>
            <span class="s2">&quot;`integration_registry.register_integration()`.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">register_integration</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">type_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Integration&quot;</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Method to register an integration with a given name.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: Name of the integration.</span>
<span class="sd">            type_: Type of the integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">type_</span>

    <span class="k">def</span> <span class="nf">activate_integrations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Method to activate the integrations with are registered in the registry.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">integration</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">integration</span><span class="o">.</span><span class="n">check_installation</span><span class="p">():</span>
                <span class="n">integration</span><span class="o">.</span><span class="n">activate</span><span class="p">()</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Integration `</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">` is activated.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Integration `</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">` could not be activated.&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">list_integration_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get a list of all possible integrations.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all possible integrations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">select_integration_requirements</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">integration_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Select the requirements for a given integration or all integrations.</span>

<span class="sd">        Args:</span>
<span class="sd">            integration_name: Name of the integration to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of requirements for the integration.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the integration is not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">integration_name</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">integration_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_integration_names</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="p">[</span><span class="n">integration_name</span><span class="p">]</span><span class="o">.</span><span class="n">REQUIREMENTS</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Version </span><span class="si">{</span><span class="n">integration_name</span><span class="si">}</span><span class="s2"> does not exist. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Currently the following integrations are implemented. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">list_integration_names</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span>
                <span class="n">requirement</span>
                <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_integration_names</span>
                <span class="k">for</span> <span class="n">requirement</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">REQUIREMENTS</span>
            <span class="p">]</span>

    <span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">integration_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks if all requirements for an integration are installed.</span>

<span class="sd">        Args:</span>
<span class="sd">            integration_name: Name of the integration to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if all requirements are installed, False otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the integration is not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">integration_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_integration_names</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="p">[</span><span class="n">integration_name</span><span class="p">]</span><span class="o">.</span><span class="n">check_installation</span><span class="p">()</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">integration_name</span><span class="p">:</span>
            <span class="n">all_installed</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="p">[</span><span class="n">item</span><span class="p">]</span><span class="o">.</span><span class="n">check_installation</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_integration_names</span>
            <span class="p">]</span>
            <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">all_installed</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Integration &#39;</span><span class="si">{</span><span class="n">integration_name</span><span class="si">}</span><span class="s2">&#39; not found. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Currently the following integrations are available: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">list_integration_names</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_installed_integrations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Returns list of installed integrations.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of installed integrations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">name</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">integration</span> <span class="ow">in</span> <span class="n">integration_registry</span><span class="o">.</span><span class="n">integrations</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">integration</span><span class="o">.</span><span class="n">check_installation</span><span class="p">()</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="zenml.integrations.registry.IntegrationRegistry.integrations" class="doc doc-heading">
<code class="highlight language-python"><span class="n">integrations</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">Integration</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Method to get integrations dictionary.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Type[Integration]]</code></td>
      <td><p>A dict of integration key to type of <code>Integration</code>.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.integrations.registry.IntegrationRegistry.list_integration_names" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_integration_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get a list of all possible integrations.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of all possible integrations.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.registry.IntegrationRegistry.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initializing the integration registry.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Initializing the integration registry.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Integration&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.registry.IntegrationRegistry.activate_integrations" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate_integrations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Method to activate the integrations with are registered in the registry.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">activate_integrations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method to activate the integrations with are registered in the registry.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">integration</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">integration</span><span class="o">.</span><span class="n">check_installation</span><span class="p">():</span>
            <span class="n">integration</span><span class="o">.</span><span class="n">activate</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Integration `</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">` is activated.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Integration `</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">` could not be activated.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.registry.IntegrationRegistry.get_installed_integrations" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_installed_integrations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns list of installed integrations.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>List of installed integrations.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_installed_integrations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Returns list of installed integrations.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of installed integrations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">name</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">integration</span> <span class="ow">in</span> <span class="n">integration_registry</span><span class="o">.</span><span class="n">integrations</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">integration</span><span class="o">.</span><span class="n">check_installation</span><span class="p">()</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.registry.IntegrationRegistry.is_installed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">integration_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Checks if all requirements for an integration are installed.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>integration_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of the integration to check.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if all requirements are installed, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the integration is not found.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">integration_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks if all requirements for an integration are installed.</span>

<span class="sd">    Args:</span>
<span class="sd">        integration_name: Name of the integration to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if all requirements are installed, False otherwise.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the integration is not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">integration_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_integration_names</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="p">[</span><span class="n">integration_name</span><span class="p">]</span><span class="o">.</span><span class="n">check_installation</span><span class="p">()</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="n">integration_name</span><span class="p">:</span>
        <span class="n">all_installed</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="p">[</span><span class="n">item</span><span class="p">]</span><span class="o">.</span><span class="n">check_installation</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_integration_names</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">all_installed</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Integration &#39;</span><span class="si">{</span><span class="n">integration_name</span><span class="si">}</span><span class="s2">&#39; not found. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Currently the following integrations are available: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">list_integration_names</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.registry.IntegrationRegistry.register_integration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_integration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">type_</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Method to register an integration with a given name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>key</code></td>
        <td><code>str</code></td>
        <td><p>Name of the integration.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>type_</code></td>
        <td><code>Type[Integration]</code></td>
        <td><p>Type of the integration.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_integration</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">type_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Integration&quot;</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Method to register an integration with a given name.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: Name of the integration.</span>
<span class="sd">        type_: Type of the integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">type_</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.registry.IntegrationRegistry.select_integration_requirements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">select_integration_requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">integration_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Select the requirements for a given integration or all integrations.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>integration_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of the integration to check.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>List of requirements for the integration.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the integration is not found.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">select_integration_requirements</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">integration_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Select the requirements for a given integration or all integrations.</span>

<span class="sd">    Args:</span>
<span class="sd">        integration_name: Name of the integration to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of requirements for the integration.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the integration is not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">integration_name</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">integration_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_integration_names</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="p">[</span><span class="n">integration_name</span><span class="p">]</span><span class="o">.</span><span class="n">REQUIREMENTS</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Version </span><span class="si">{</span><span class="n">integration_name</span><span class="si">}</span><span class="s2"> does not exist. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Currently the following integrations are implemented. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">list_integration_names</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">requirement</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_integration_names</span>
            <span class="k">for</span> <span class="n">requirement</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_integrations</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">REQUIREMENTS</span>
        <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.s3" class="doc doc-heading">
        <code>s3</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the S3 integration.</p>
<p>The S3 integration allows the use of cloud artifact stores and file
operations on S3 buckets.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.s3.S3Integration" class="doc doc-heading">
        <code>
S3Integration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of S3 integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">S3Integration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of S3 integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">S3</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;s3fs==2022.3.0&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the s3 integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">S3_ARTIFACT_STORE_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.s3.artifact_stores.S3ArtifactStore&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.s3.S3Integration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the s3 integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the s3 integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">S3_ARTIFACT_STORE_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.s3.artifact_stores.S3ArtifactStore&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.s3.artifact_stores" class="doc doc-heading">
        <code>artifact_stores</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the S3 Artifact Store.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.s3.artifact_stores.s3_artifact_store" class="doc doc-heading">
        <code>s3_artifact_store</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the S3 Artifact Store.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore" class="doc doc-heading">
        <code>
S3ArtifactStore            (<a class="autorefs autorefs-internal" title="zenml.artifact_stores.base_artifact_store.BaseArtifactStore" href="../artifact_stores/#zenml.artifact_stores.base_artifact_store.BaseArtifactStore">BaseArtifactStore</a>, <a class="autorefs autorefs-internal" title="zenml.stack.authentication_mixin.AuthenticationMixin" href="../stack/#zenml.stack.authentication_mixin.AuthenticationMixin">AuthenticationMixin</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Artifact Store for S3 based artifacts.</p>
<p>All attributes of this class except <code>path</code> will be passed to the
<code>s3fs.S3FileSystem</code> initialization. See
<a href="https://s3fs.readthedocs.io/en/latest/">here</a> for more information on how
to use those configuration options to connect to any S3-compatible storage.</p>
<p>When you want to register an S3ArtifactStore from the CLI and need to pass
<code>client_kwargs</code>, <code>config_kwargs</code> or <code>s3_additional_kwargs</code>, you should pass
them as a json string:</p>
<pre><code>zenml artifact-store register my_s3_store --type=s3 --path=s3://my_bucket     --client_kwargs='{&quot;endpoint_url&quot;: &quot;http://my-s3-endpoint&quot;}'
</code></pre>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">S3ArtifactStore</span><span class="p">(</span><span class="n">BaseArtifactStore</span><span class="p">,</span> <span class="n">AuthenticationMixin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Artifact Store for S3 based artifacts.</span>

<span class="sd">    All attributes of this class except `path` will be passed to the</span>
<span class="sd">    `s3fs.S3FileSystem` initialization. See</span>
<span class="sd">    [here](https://s3fs.readthedocs.io/en/latest/) for more information on how</span>
<span class="sd">    to use those configuration options to connect to any S3-compatible storage.</span>

<span class="sd">    When you want to register an S3ArtifactStore from the CLI and need to pass</span>
<span class="sd">    `client_kwargs`, `config_kwargs` or `s3_additional_kwargs`, you should pass</span>
<span class="sd">    them as a json string:</span>
<span class="sd">    ```</span>
<span class="sd">    zenml artifact-store register my_s3_store --type=s3 --path=s3://my_bucket \</span>
<span class="sd">    --client_kwargs=&#39;{&quot;endpoint_url&quot;: &quot;http://my-s3-endpoint&quot;}&#39;</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">secret</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">client_kwargs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">config_kwargs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">s3_additional_kwargs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_filesystem</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">s3fs</span><span class="o">.</span><span class="n">S3FileSystem</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Class variables</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">S3_ARTIFACT_STORE_FLAVOR</span>
    <span class="n">SUPPORTED_SCHEMES</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;s3://&quot;</span><span class="p">}</span>

    <span class="nd">@validator</span><span class="p">(</span>
        <span class="s2">&quot;client_kwargs&quot;</span><span class="p">,</span> <span class="s2">&quot;config_kwargs&quot;</span><span class="p">,</span> <span class="s2">&quot;s3_additional_kwargs&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">_convert_json_string</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Converts potential JSON strings passed via the CLI to dictionaries.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: The value to convert.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted value.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the value is not a `str`, `Dict` or `None`.</span>
<span class="sd">            ValueError: If the value is an invalid json string or a json string</span>
<span class="sd">                that does not decode into a dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">dict_</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid json string &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">Dict</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Json string &#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39; did not decode into a dictionary.&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="n">dict_</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Dict</span><span class="p">)</span> <span class="ow">or</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> is not a json string or a dictionary.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_credentials</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Gets authentication credentials.</span>

<span class="sd">        If an authentication secret is configured, the secret values are</span>
<span class="sd">        returned. Otherwise we fallback to the plain text component attributes.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple (key, secret, token) of credentials used to authenticate with</span>
<span class="sd">            the S3 filesystem.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_authentication_secret</span><span class="p">(</span>
            <span class="n">expected_schema_type</span><span class="o">=</span><span class="n">AWSSecretSchema</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">secret</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">secret</span><span class="o">.</span><span class="n">aws_access_key_id</span><span class="p">,</span>
                <span class="n">secret</span><span class="o">.</span><span class="n">aws_secret_access_key</span><span class="p">,</span>
                <span class="n">secret</span><span class="o">.</span><span class="n">aws_session_token</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">secret</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">token</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">filesystem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">s3fs</span><span class="o">.</span><span class="n">S3FileSystem</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The s3 filesystem to access this artifact store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The s3 filesystem.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filesystem</span><span class="p">:</span>
            <span class="n">key</span><span class="p">,</span> <span class="n">secret</span><span class="p">,</span> <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_credentials</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_filesystem</span> <span class="o">=</span> <span class="n">s3fs</span><span class="o">.</span><span class="n">S3FileSystem</span><span class="p">(</span>
                <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
                <span class="n">secret</span><span class="o">=</span><span class="n">secret</span><span class="p">,</span>
                <span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">,</span>
                <span class="n">client_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_kwargs</span><span class="p">,</span>
                <span class="n">config_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config_kwargs</span><span class="p">,</span>
                <span class="n">s3_additional_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">s3_additional_kwargs</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filesystem</span>

    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Open a file at the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: Path of the file to open.</span>
<span class="sd">            mode: Mode in which to open the file. Currently, only</span>
<span class="sd">                &#39;rb&#39; and &#39;wb&#39; to read and write binary files are supported.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A file-like object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">copyfile</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Copy a file.</span>

<span class="sd">        Args:</span>
<span class="sd">            src: The path to copy from.</span>
<span class="sd">            dst: The path to copy to.</span>
<span class="sd">            overwrite: If a file already exists at the destination, this</span>
<span class="sd">                method will overwrite it if overwrite=`True` and</span>
<span class="sd">                raise a FileExistsError otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileExistsError: If a file already exists at the destination</span>
<span class="sd">                and overwrite is not set to `True`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to copy to destination &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to copy anyway.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># TODO [ENG-151]: Check if it works with overwrite=True or if we need to</span>
        <span class="c1">#  manually remove it first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Check whether a path exists.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the path exists, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">glob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return all paths that match the given glob pattern.</span>

<span class="sd">        The glob pattern may include:</span>
<span class="sd">        - &#39;*&#39; to match any number of characters</span>
<span class="sd">        - &#39;?&#39; to match a single character</span>
<span class="sd">        - &#39;[...]&#39; to match one of the characters inside the brackets</span>
<span class="sd">        - &#39;**&#39; as the full name of a path component to match to search</span>
<span class="sd">            in subdirectories of any depth (e.g. &#39;/some_dir/**/some_file)</span>

<span class="sd">        Args:</span>
<span class="sd">            pattern: The glob pattern to match, see details above.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of paths that match the given glob pattern.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;s3://</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">pattern</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">isdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Check whether a path is a directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the path is a directory, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">listdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return a list of files in a directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of paths that are files in the given directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># remove s3 prefix if given, so we can remove the directory later as</span>
        <span class="c1"># this method is expected to only return filenames</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">convert_to_str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;s3://&quot;</span><span class="p">):</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="p">[</span><span class="mi">5</span><span class="p">:]</span>

        <span class="k">def</span> <span class="nf">_extract_basename</span><span class="p">(</span><span class="n">file_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Extracts the basename from a file info dict returned by the S3 filesystem.</span>

<span class="sd">            Args:</span>
<span class="sd">                file_dict: A file info dict returned by the S3 filesystem.</span>

<span class="sd">            Returns:</span>
<span class="sd">                The basename of the file.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">file_dict</span><span class="p">[</span><span class="s2">&quot;Key&quot;</span><span class="p">])</span>
            <span class="n">base_name</span> <span class="o">=</span> <span class="n">file_path</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="p">:]</span>
            <span class="k">return</span> <span class="n">base_name</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span>
            <span class="n">_extract_basename</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">dict_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
            <span class="c1"># s3fs.listdir also returns the root directory, so we filter</span>
            <span class="c1"># it out here</span>
            <span class="k">if</span> <span class="n">_extract_basename</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">        If needed also create missing parent directories.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to create.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to create.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove the file at the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path of the file to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rm_file</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">rename</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Rename source file to destination file.</span>

<span class="sd">        Args:</span>
<span class="sd">            src: The path of the file to rename.</span>
<span class="sd">            dst: The path to rename the source file to.</span>
<span class="sd">            overwrite: If a file already exists at the destination, this</span>
<span class="sd">                method will overwrite it if overwrite=`True` and</span>
<span class="sd">                raise a FileExistsError otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileExistsError: If a file already exists at the destination</span>
<span class="sd">                and overwrite is not set to `True`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to rename file to &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to rename anyway.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># TODO [ENG-152]: Check if it works with overwrite=True or if we need</span>
        <span class="c1">#  to manually remove it first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Remove the given directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path of the directory to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return stat info for the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to get stat info for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary containing the stat info.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">walk</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">top</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span>
        <span class="n">topdown</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">onerror</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">PathType</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]]]:</span>
        <span class="sd">&quot;&quot;&quot;Return an iterator that walks the contents of the given directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            top: Path of directory to walk.</span>
<span class="sd">            topdown: Unused argument to conform to interface.</span>
<span class="sd">            onerror: Unused argument to conform to interface.</span>

<span class="sd">        Yields:</span>
<span class="sd">            An Iterable of Tuples, each of which contain the path of the current</span>
<span class="sd">                directory path, a list of directories inside the current directory</span>
<span class="sd">                and a list of files inside the current directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO [ENG-153]: Additional params</span>
        <span class="k">for</span> <span class="n">directory</span><span class="p">,</span> <span class="n">subdirectories</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">top</span><span class="p">):</span>
            <span class="k">yield</span> <span class="sa">f</span><span class="s2">&quot;s3://</span><span class="si">{</span><span class="n">directory</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">subdirectories</span><span class="p">,</span> <span class="n">files</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.filesystem" class="doc doc-heading">
<code class="highlight language-python"><span class="n">filesystem</span><span class="p">:</span> <span class="n">S3FileSystem</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>The s3 filesystem to access this artifact store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>S3FileSystem</code></td>
      <td><p>The s3 filesystem.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>












  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.copyfile" class="doc doc-heading">
<code class="highlight language-python"><span class="n">copyfile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Copy a file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>src</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to copy from.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dst</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to copy to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>overwrite</code></td>
        <td><code>bool</code></td>
        <td><p>If a file already exists at the destination, this
method will overwrite it if overwrite=<code>True</code> and
raise a FileExistsError otherwise.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileExistsError</code></td>
        <td><p>If a file already exists at the destination
and overwrite is not set to <code>True</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">copyfile</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Copy a file.</span>

<span class="sd">    Args:</span>
<span class="sd">        src: The path to copy from.</span>
<span class="sd">        dst: The path to copy to.</span>
<span class="sd">        overwrite: If a file already exists at the destination, this</span>
<span class="sd">            method will overwrite it if overwrite=`True` and</span>
<span class="sd">            raise a FileExistsError otherwise.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileExistsError: If a file already exists at the destination</span>
<span class="sd">            and overwrite is not set to `True`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to copy to destination &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to copy anyway.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># TODO [ENG-151]: Check if it works with overwrite=True or if we need to</span>
    <span class="c1">#  manually remove it first</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Check whether a path exists.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the path exists, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check whether a path exists.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the path exists, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.glob" class="doc doc-heading">
<code class="highlight language-python"><span class="n">glob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return all paths that match the given glob pattern.</p>
<p>The glob pattern may include:
- '<em>' to match any number of characters
- '?' to match a single character
- '[...]' to match one of the characters inside the brackets
- '</em><em>' as the full name of a path component to match to search
    in subdirectories of any depth (e.g. '/some_dir/</em>*/some_file)</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pattern</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The glob pattern to match, see details above.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Union[bytes, str]]</code></td>
      <td><p>A list of paths that match the given glob pattern.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">glob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return all paths that match the given glob pattern.</span>

<span class="sd">    The glob pattern may include:</span>
<span class="sd">    - &#39;*&#39; to match any number of characters</span>
<span class="sd">    - &#39;?&#39; to match a single character</span>
<span class="sd">    - &#39;[...]&#39; to match one of the characters inside the brackets</span>
<span class="sd">    - &#39;**&#39; as the full name of a path component to match to search</span>
<span class="sd">        in subdirectories of any depth (e.g. &#39;/some_dir/**/some_file)</span>

<span class="sd">    Args:</span>
<span class="sd">        pattern: The glob pattern to match, see details above.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of paths that match the given glob pattern.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;s3://</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">pattern</span><span class="p">)]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.isdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Check whether a path is a directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the path is a directory, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">isdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check whether a path is a directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the path is a directory, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.listdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return a list of files in a directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to list.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Union[bytes, str]]</code></td>
      <td><p>A list of paths that are files in the given directory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">listdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return a list of files in a directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to list.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of paths that are files in the given directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># remove s3 prefix if given, so we can remove the directory later as</span>
    <span class="c1"># this method is expected to only return filenames</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">convert_to_str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;s3://&quot;</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="p">[</span><span class="mi">5</span><span class="p">:]</span>

    <span class="k">def</span> <span class="nf">_extract_basename</span><span class="p">(</span><span class="n">file_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Extracts the basename from a file info dict returned by the S3 filesystem.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_dict: A file info dict returned by the S3 filesystem.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The basename of the file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">file_dict</span><span class="p">[</span><span class="s2">&quot;Key&quot;</span><span class="p">])</span>
        <span class="n">base_name</span> <span class="o">=</span> <span class="n">file_path</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="p">:]</span>
        <span class="k">return</span> <span class="n">base_name</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span>
        <span class="n">_extract_basename</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dict_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
        <span class="c1"># s3fs.listdir also returns the root directory, so we filter</span>
        <span class="c1"># it out here</span>
        <span class="k">if</span> <span class="n">_extract_basename</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.makedirs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Create a directory at the given path.</p>
<p>If needed also create missing parent directories.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">    If needed also create missing parent directories.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.mkdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Create a directory at the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.open" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Open a file at the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>Path of the file to open.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>mode</code></td>
        <td><code>str</code></td>
        <td><p>Mode in which to open the file. Currently, only
'rb' and 'wb' to read and write binary files are supported.</p></td>
        <td><code>&#39;r&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>A file-like object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Open a file at the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Path of the file to open.</span>
<span class="sd">        mode: Mode in which to open the file. Currently, only</span>
<span class="sd">            &#39;rb&#39; and &#39;wb&#39; to read and write binary files are supported.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A file-like object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.remove" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Remove the file at the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path of the file to remove.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Remove the file at the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path of the file to remove.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rm_file</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.rename" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Rename source file to destination file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>src</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path of the file to rename.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dst</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to rename the source file to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>overwrite</code></td>
        <td><code>bool</code></td>
        <td><p>If a file already exists at the destination, this
method will overwrite it if overwrite=<code>True</code> and
raise a FileExistsError otherwise.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileExistsError</code></td>
        <td><p>If a file already exists at the destination
and overwrite is not set to <code>True</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rename</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Rename source file to destination file.</span>

<span class="sd">    Args:</span>
<span class="sd">        src: The path of the file to rename.</span>
<span class="sd">        dst: The path to rename the source file to.</span>
<span class="sd">        overwrite: If a file already exists at the destination, this</span>
<span class="sd">            method will overwrite it if overwrite=`True` and</span>
<span class="sd">            raise a FileExistsError otherwise.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileExistsError: If a file already exists at the destination</span>
<span class="sd">            and overwrite is not set to `True`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to rename file to &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to rename anyway.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># TODO [ENG-152]: Check if it works with overwrite=True or if we need</span>
    <span class="c1">#  to manually remove it first</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.rmtree" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Remove the given directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path of the directory to remove.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Remove the given directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path of the directory to remove.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.stat" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return stat info for the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to get stat info for.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>A dictionary containing the stat info.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return stat info for the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to get stat info for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary containing the stat info.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.s3.artifact_stores.s3_artifact_store.S3ArtifactStore.walk" class="doc doc-heading">
<code class="highlight language-python"><span class="n">walk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">topdown</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">onerror</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Return an iterator that walks the contents of the given directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>top</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>Path of directory to walk.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>topdown</code></td>
        <td><code>bool</code></td>
        <td><p>Unused argument to conform to interface.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>onerror</code></td>
        <td><code>Optional[Callable[..., NoneType]]</code></td>
        <td><p>Unused argument to conform to interface.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Yields:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterable[Tuple[Union[bytes, str], List[Union[bytes, str]], List[Union[bytes, str]]]]</code></td>
      <td><p>An Iterable of Tuples, each of which contain the path of the current
    directory path, a list of directories inside the current directory
    and a list of files inside the current directory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/s3/artifact_stores/s3_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">walk</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">top</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span>
    <span class="n">topdown</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">onerror</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">PathType</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]]]:</span>
    <span class="sd">&quot;&quot;&quot;Return an iterator that walks the contents of the given directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        top: Path of directory to walk.</span>
<span class="sd">        topdown: Unused argument to conform to interface.</span>
<span class="sd">        onerror: Unused argument to conform to interface.</span>

<span class="sd">    Yields:</span>
<span class="sd">        An Iterable of Tuples, each of which contain the path of the current</span>
<span class="sd">            directory path, a list of directories inside the current directory</span>
<span class="sd">            and a list of files inside the current directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO [ENG-153]: Additional params</span>
    <span class="k">for</span> <span class="n">directory</span><span class="p">,</span> <span class="n">subdirectories</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">top</span><span class="p">):</span>
        <span class="k">yield</span> <span class="sa">f</span><span class="s2">&quot;s3://</span><span class="si">{</span><span class="n">directory</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">subdirectories</span><span class="p">,</span> <span class="n">files</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.scipy" class="doc doc-heading">
        <code>scipy</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the Scipy integration.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.scipy.ScipyIntegration" class="doc doc-heading">
        <code>
ScipyIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of scipy integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/scipy/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ScipyIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of scipy integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">SCIPY</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;scipy&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.scipy</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.scipy.ScipyIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Activates the integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/scipy/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.scipy</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.scipy.materializers" class="doc doc-heading">
        <code>materializers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Scipy materializers.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.scipy.materializers.sparse_materializer" class="doc doc-heading">
        <code>sparse_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Scipy Sparse Materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.scipy.materializers.sparse_materializer.SparseMaterializer" class="doc doc-heading">
        <code>
SparseMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read and write scipy sparse matrices.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/scipy/materializers/sparse_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SparseMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read and write scipy sparse matrices.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">spmatrix</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">DataArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">spmatrix</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads spmatrix from npz file.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the spmatrix to load.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A spmatrix object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DATA_FILENAME</span><span class="p">),</span> <span class="s2">&quot;rb&quot;</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">mat</span> <span class="o">=</span> <span class="n">load_npz</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mat</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mat</span><span class="p">:</span> <span class="n">spmatrix</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a spmatrix to the artifact store as a npz file.</span>

<span class="sd">        Args:</span>
<span class="sd">            mat: The spmatrix to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">mat</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DATA_FILENAME</span><span class="p">),</span> <span class="s2">&quot;wb&quot;</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">save_npz</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">mat</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.scipy.materializers.sparse_materializer.SparseMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads spmatrix from npz file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the spmatrix to load.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>spmatrix</code></td>
      <td><p>A spmatrix object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/scipy/materializers/sparse_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">spmatrix</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads spmatrix from npz file.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the spmatrix to load.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A spmatrix object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DATA_FILENAME</span><span class="p">),</span> <span class="s2">&quot;rb&quot;</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">mat</span> <span class="o">=</span> <span class="n">load_npz</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mat</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.scipy.materializers.sparse_materializer.SparseMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mat</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a spmatrix to the artifact store as a npz file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>mat</code></td>
        <td><code>spmatrix</code></td>
        <td><p>The spmatrix to write.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/scipy/materializers/sparse_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mat</span><span class="p">:</span> <span class="n">spmatrix</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a spmatrix to the artifact store as a npz file.</span>

<span class="sd">    Args:</span>
<span class="sd">        mat: The spmatrix to write.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">mat</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DATA_FILENAME</span><span class="p">),</span> <span class="s2">&quot;wb&quot;</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">save_npz</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">mat</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.seldon" class="doc doc-heading">
        <code>seldon</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the Seldon integration.</p>
<p>The Seldon Core integration allows you to use the Seldon Core model serving
platform to implement continuous model deployment.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.seldon.SeldonIntegration" class="doc doc-heading">
        <code>
SeldonIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Seldon Core integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Seldon Core integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">SELDON</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;kubernetes==18.20.0&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Activate the Seldon Core integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.seldon</span> <span class="kn">import</span> <span class="n">secret_schemas</span>  <span class="c1"># noqa</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.seldon</span> <span class="kn">import</span> <span class="n">services</span>  <span class="c1"># noqa</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Seldon Core.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">SELDON_MODEL_DEPLOYER_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.seldon.model_deployers.SeldonModelDeployer&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">MODEL_DEPLOYER</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.seldon.SeldonIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Activate the Seldon Core integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Activate the Seldon Core integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.seldon</span> <span class="kn">import</span> <span class="n">secret_schemas</span>  <span class="c1"># noqa</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.seldon</span> <span class="kn">import</span> <span class="n">services</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.seldon.SeldonIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the Seldon Core.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Seldon Core.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">SELDON_MODEL_DEPLOYER_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.seldon.model_deployers.SeldonModelDeployer&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">MODEL_DEPLOYER</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.seldon.model_deployers" class="doc doc-heading">
        <code>model_deployers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the Seldon Model Deployer.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.seldon.model_deployers.seldon_model_deployer" class="doc doc-heading">
        <code>seldon_model_deployer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Seldon Model Deployer.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer" class="doc doc-heading">
        <code>
SeldonModelDeployer            (<a class="autorefs autorefs-internal" title="zenml.model_deployers.base_model_deployer.BaseModelDeployer" href="../model_deployers/#zenml.model_deployers.base_model_deployer.BaseModelDeployer">BaseModelDeployer</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Seldon Core model deployer stack component implementation.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>kubernetes_context</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the Kubernetes context to use to contact the remote
Seldon Core installation. If not specified, the current
configuration is used. Depending on where the Seldon model deployer
is being used, this can be either a locally active context or an
in-cluster Kubernetes configuration (if running inside a pod).</p></td>
      </tr>
      <tr>
        <td><code>kubernetes_namespace</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the Kubernetes namespace where the Seldon Core
deployment servers are provisioned and managed by ZenML. If not
specified, the namespace set in the current configuration is used.
Depending on where the Seldon model deployer is being used, this can
be either the current namespace configured in the locally active
context or the namespace in the context of which the pod is running
(if running inside a pod).</p></td>
      </tr>
      <tr>
        <td><code>base_url</code></td>
        <td><code>str</code></td>
        <td><p>the base URL of the Kubernetes ingress used to expose the
Seldon Core deployment servers.</p></td>
      </tr>
      <tr>
        <td><code>secret</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the name of a ZenML secret containing the credentials used by
Seldon Core storage initializers to authenticate to the Artifact
Store (i.e. the storage backend where models are stored - see
https://docs.seldon.io/projects/seldon-core/en/latest/servers/overview.html#handling-credentials).</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/model_deployers/seldon_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonModelDeployer</span><span class="p">(</span><span class="n">BaseModelDeployer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Seldon Core model deployer stack component implementation.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        kubernetes_context: the Kubernetes context to use to contact the remote</span>
<span class="sd">            Seldon Core installation. If not specified, the current</span>
<span class="sd">            configuration is used. Depending on where the Seldon model deployer</span>
<span class="sd">            is being used, this can be either a locally active context or an</span>
<span class="sd">            in-cluster Kubernetes configuration (if running inside a pod).</span>
<span class="sd">        kubernetes_namespace: the Kubernetes namespace where the Seldon Core</span>
<span class="sd">            deployment servers are provisioned and managed by ZenML. If not</span>
<span class="sd">            specified, the namespace set in the current configuration is used.</span>
<span class="sd">            Depending on where the Seldon model deployer is being used, this can</span>
<span class="sd">            be either the current namespace configured in the locally active</span>
<span class="sd">            context or the namespace in the context of which the pod is running</span>
<span class="sd">            (if running inside a pod).</span>
<span class="sd">        base_url: the base URL of the Kubernetes ingress used to expose the</span>
<span class="sd">            Seldon Core deployment servers.</span>
<span class="sd">        secret: the name of a ZenML secret containing the credentials used by</span>
<span class="sd">            Seldon Core storage initializers to authenticate to the Artifact</span>
<span class="sd">            Store (i.e. the storage backend where models are stored - see</span>
<span class="sd">            https://docs.seldon.io/projects/seldon-core/en/latest/servers/overview.html#handling-credentials).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">SELDON_MODEL_DEPLOYER_FLAVOR</span>

    <span class="n">kubernetes_context</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">kubernetes_namespace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">base_url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">secret</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

    <span class="c1"># private attributes</span>
    <span class="n">_client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SeldonClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_model_server_info</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
        <span class="n">service_instance</span><span class="p">:</span> <span class="s2">&quot;SeldonDeploymentService&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Return implementation specific information that might be relevant to the user.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_instance: Instance of a SeldonDeploymentService</span>

<span class="sd">        Returns:</span>
<span class="sd">            Model server information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;PREDICTION_URL&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">prediction_url</span><span class="p">,</span>
            <span class="s2">&quot;MODEL_URI&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_uri</span><span class="p">,</span>
            <span class="s2">&quot;MODEL_NAME&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span>
            <span class="s2">&quot;SELDON_DEPLOYMENT&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">seldon_deployment_name</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_active_model_deployer</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="s2">&quot;SeldonModelDeployer&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the Seldon Core model deployer registered in the active stack.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Seldon Core model deployer registered in the active stack.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: if the Seldon Core model deployer is not available.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">model_deployer</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span>  <span class="c1"># type: ignore [call-arg]</span>
            <span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">model_deployer</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">model_deployer</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
            <span class="n">model_deployer</span><span class="p">,</span> <span class="n">SeldonModelDeployer</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The active stack needs to have a Seldon Core model deployer &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;component registered to be able to deploy models with Seldon &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Core. You can create a new stack with a Seldon Core model &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;deployer component or update your existing stack to add this &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;component, e.g.:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;  &#39;zenml model-deployer register seldon --flavor=</span><span class="si">{</span><span class="n">SELDON_MODEL_DEPLOYER_FLAVOR</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;--kubernetes_context=context-name --kubernetes_namespace=&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;namespace-name --base_url=https://ingress.cluster.kubernetes&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;  &#39;zenml stack create stack-name -d seldon ...&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">model_deployer</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">seldon_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SeldonClient</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the Seldon Core client associated with this model deployer.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Seldon Core client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">SeldonClient</span><span class="p">(</span>
                <span class="n">context</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_context</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_namespace</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">kubernetes_secret_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the Kubernetes secret name associated with this model deployer.</span>

<span class="sd">        If a secret is configured for this model deployer, a corresponding</span>
<span class="sd">        Kubernetes secret is created in the remote cluster to be used</span>
<span class="sd">        by Seldon Core storage initializers to authenticate to the Artifact</span>
<span class="sd">        Store. This method returns the unique name that is used for this secret.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Seldon Core Kubernetes secret name, or None if no secret is</span>
<span class="sd">            configured.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">secret</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^0-9a-zA-Z-]+&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;zenml-seldon-core-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">secret</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_or_update_kubernetes_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Create or update a Kubernetes secret.</span>

<span class="sd">        Uses the information stored in the ZenML secret configured for the model deployer.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the Kubernetes secret that was created or updated, or</span>
<span class="sd">            None if no secret was configured.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the secret cannot be created or updated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># if a ZenML secret was configured in the model deployer,</span>
        <span class="c1"># create a Kubernetes secret as a means to pass this information</span>
        <span class="c1"># to the Seldon Core deployment</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">secret</span><span class="p">:</span>

            <span class="n">secret_manager</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span>  <span class="c1"># type: ignore [call-arg]</span>
                <span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">secrets_manager</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">secret_manager</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
                <span class="n">secret_manager</span><span class="p">,</span> <span class="n">BaseSecretsManager</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The active stack doesn&#39;t have a secret manager component. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;The ZenML secret specified in the Seldon Core Model &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Deployer configuration cannot be fetched: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">secret</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">zenml_secret</span> <span class="o">=</span> <span class="n">secret_manager</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">secret</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The ZenML secret &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">secret</span><span class="si">}</span><span class="s2">&#39; specified in the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Seldon Core Model Deployer configuration was not found &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;in the active stack&#39;s secret manager.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># should never happen, just making mypy happy</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_secret_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">seldon_client</span><span class="o">.</span><span class="n">create_or_update_secret</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_secret_name</span><span class="p">,</span> <span class="n">zenml_secret</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_secret_name</span>

    <span class="k">def</span> <span class="nf">_delete_kubernetes_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete the Kubernetes secret associated with this model deployer.</span>

<span class="sd">        Do this if no Seldon Core deployments are using it.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_secret_name</span><span class="p">:</span>

            <span class="c1"># fetch all the Seldon Core deployments that currently</span>
            <span class="c1"># configured to use this secret</span>
            <span class="n">services</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">service</span> <span class="ow">in</span> <span class="n">services</span><span class="p">:</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SeldonDeploymentConfig</span><span class="p">,</span> <span class="n">service</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">secret_name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_secret_name</span><span class="p">:</span>
                    <span class="k">return</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">seldon_client</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kubernetes_secret_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deploy_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServiceConfig</span><span class="p">,</span>
        <span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SELDON_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a new Seldon Core deployment or update an existing one.</span>

<span class="sd">        # noqa: DAR402</span>

<span class="sd">        This should serve the supplied model and deployment configuration.</span>

<span class="sd">        This method has two modes of operation, depending on the `replace`</span>
<span class="sd">        argument value:</span>

<span class="sd">          * if `replace` is False, calling this method will create a new Seldon</span>
<span class="sd">            Core deployment server to reflect the model and other configuration</span>
<span class="sd">            parameters specified in the supplied Seldon deployment `config`.</span>

<span class="sd">          * if `replace` is True, this method will first attempt to find an</span>
<span class="sd">            existing Seldon Core deployment that is *equivalent* to the supplied</span>
<span class="sd">            configuration parameters. Two or more Seldon Core deployments are</span>
<span class="sd">            considered equivalent if they have the same `pipeline_name`,</span>
<span class="sd">            `pipeline_step_name` and `model_name` configuration parameters. To</span>
<span class="sd">            put it differently, two Seldon Core deployments are equivalent if</span>
<span class="sd">            they serve versions of the same model deployed by the same pipeline</span>
<span class="sd">            step. If an equivalent Seldon Core deployment is found, it will be</span>
<span class="sd">            updated in place to reflect the new configuration parameters. This</span>
<span class="sd">            allows an existing Seldon Core deployment to retain its prediction</span>
<span class="sd">            URL while performing a rolling update to serve a new model version.</span>

<span class="sd">        Callers should set `replace` to True if they want a continuous model</span>
<span class="sd">        deployment workflow that doesn&#39;t spin up a new Seldon Core deployment</span>
<span class="sd">        server for each new model version. If multiple equivalent Seldon Core</span>
<span class="sd">        deployments are found, the most recently created deployment is selected</span>
<span class="sd">        to be updated and the others are deleted.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: the configuration of the model to be deployed with Seldon.</span>
<span class="sd">                Core</span>
<span class="sd">            replace: set this flag to True to find and update an equivalent</span>
<span class="sd">                Seldon Core deployment server with the new model instead of</span>
<span class="sd">                starting a new deployment server.</span>
<span class="sd">            timeout: the timeout in seconds to wait for the Seldon Core server</span>
<span class="sd">                to be provisioned and successfully started or updated. If set</span>
<span class="sd">                to 0, the method will return immediately after the Seldon Core</span>
<span class="sd">                server is provisioned, without waiting for it to fully start.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ZenML Seldon Core deployment service object that can be used to</span>
<span class="sd">            interact with the remote Seldon Core server.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SeldonClientError: if a Seldon Core client error is encountered</span>
<span class="sd">                while provisioning the Seldon Core deployment server.</span>
<span class="sd">            RuntimeError: if `timeout` is set to a positive value that is</span>
<span class="sd">                exceeded while waiting for the Seldon Core deployment server</span>
<span class="sd">                to start, or if an operational failure is encountered before</span>
<span class="sd">                it reaches a ready state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SeldonDeploymentConfig</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
        <span class="n">service</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># if a custom Kubernetes secret is not explicitly specified in the</span>
        <span class="c1"># SeldonDeploymentConfig, try to create one from the ZenML secret</span>
        <span class="c1"># configured for the model deployer</span>
        <span class="n">config</span><span class="o">.</span><span class="n">secret_name</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">config</span><span class="o">.</span><span class="n">secret_name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_or_update_kubernetes_secret</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="c1"># if replace is True, find equivalent Seldon Core deployments</span>
        <span class="k">if</span> <span class="n">replace</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">equivalent_services</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span>
                <span class="n">running</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">pipeline_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">,</span>
                <span class="n">pipeline_step_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">pipeline_step_name</span><span class="p">,</span>
                <span class="n">model_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">for</span> <span class="n">equivalent_service</span> <span class="ow">in</span> <span class="n">equivalent_services</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">service</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="c1"># keep the most recently created service</span>
                    <span class="n">service</span> <span class="o">=</span> <span class="n">equivalent_service</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># delete the older services and don&#39;t wait for them to</span>
                        <span class="c1"># be deprovisioned</span>
                        <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
                    <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
                        <span class="c1"># ignore errors encountered while stopping old services</span>
                        <span class="k">pass</span>

        <span class="k">if</span> <span class="n">service</span><span class="p">:</span>
            <span class="c1"># update an equivalent service in place</span>
            <span class="n">service</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Updating an existing Seldon deployment service: </span><span class="si">{</span><span class="n">service</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># create a new service</span>
            <span class="n">service</span> <span class="o">=</span> <span class="n">SeldonDeploymentService</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating a new Seldon deployment service: </span><span class="si">{</span><span class="n">service</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># start the service which in turn provisions the Seldon Core</span>
        <span class="c1"># deployment server and waits for it to reach a ready state</span>
        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">find_model_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">running</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">service_uuid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pipeline_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pipeline_run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pipeline_step_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">model_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">model_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">model_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Find one or more Seldon Core model services that match the given criteria.</span>

<span class="sd">        The Seldon Core deployment services that meet the search criteria are</span>
<span class="sd">        returned sorted in descending order of their creation time (i.e. more</span>
<span class="sd">        recent deployments first).</span>

<span class="sd">        Args:</span>
<span class="sd">            running: if true, only running services will be returned.</span>
<span class="sd">            service_uuid: the UUID of the Seldon Core service that was originally used</span>
<span class="sd">                to create the Seldon Core deployment resource.</span>
<span class="sd">            pipeline_name: name of the pipeline that the deployed model was part</span>
<span class="sd">                of.</span>
<span class="sd">            pipeline_run_id: ID of the pipeline run which the deployed model was</span>
<span class="sd">                part of.</span>
<span class="sd">            pipeline_step_name: the name of the pipeline model deployment step</span>
<span class="sd">                that deployed the model.</span>
<span class="sd">            model_name: the name of the deployed model.</span>
<span class="sd">            model_uri: URI of the deployed model.</span>
<span class="sd">            model_type: the Seldon Core server implementation used to serve</span>
<span class="sd">                the model</span>

<span class="sd">        Returns:</span>
<span class="sd">            One or more Seldon Core service objects representing Seldon Core</span>
<span class="sd">            model servers that match the input search criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Use a Seldon deployment service configuration to compute the labels</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">SeldonDeploymentConfig</span><span class="p">(</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">pipeline_run_id</span><span class="o">=</span><span class="n">pipeline_run_id</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">pipeline_step_name</span><span class="o">=</span><span class="n">pipeline_step_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">model_name</span><span class="o">=</span><span class="n">model_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">model_uri</span><span class="o">=</span><span class="n">model_uri</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">implementation</span><span class="o">=</span><span class="n">model_type</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get_seldon_deployment_labels</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">service_uuid</span><span class="p">:</span>
            <span class="c1"># the service UUID is not a label covered by the Seldon</span>
            <span class="c1"># deployment service configuration, so we need to add it</span>
            <span class="c1"># separately</span>
            <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.service_uuid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">service_uuid</span><span class="p">)</span>

        <span class="n">deployments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seldon_client</span><span class="o">.</span><span class="n">find_deployments</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>
        <span class="c1"># sort the deployments in descending order of their creation time</span>
        <span class="n">deployments</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">deployment</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span>
                <span class="n">deployment</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">creationTimestamp</span><span class="p">,</span>
                <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%SZ&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">creationTimestamp</span>
            <span class="k">else</span> <span class="n">datetime</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
            <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">services</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">deployment</span> <span class="ow">in</span> <span class="n">deployments</span><span class="p">:</span>
            <span class="c1"># recreate the Seldon deployment service object from the Seldon</span>
            <span class="c1"># deployment resource</span>
            <span class="n">service</span> <span class="o">=</span> <span class="n">SeldonDeploymentService</span><span class="o">.</span><span class="n">create_from_deployment</span><span class="p">(</span>
                <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">running</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">service</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
                <span class="c1"># skip non-running services</span>
                <span class="k">continue</span>
            <span class="n">services</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">services</span>

    <span class="k">def</span> <span class="nf">stop_model_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SELDON_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Stop a Seldon Core model server.</span>

<span class="sd">        Args:</span>
<span class="sd">            uuid: UUID of the model server to stop.</span>
<span class="sd">            timeout: timeout in seconds to wait for the service to stop.</span>
<span class="sd">            force: if True, force the service to stop.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: stopping Seldon Core model servers is not</span>
<span class="sd">                supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="s2">&quot;Stopping Seldon Core model servers is not implemented. Try &quot;</span>
            <span class="s2">&quot;deleting the Seldon Core model server instead.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">start_model_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SELDON_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Start a Seldon Core model deployment server.</span>

<span class="sd">        Args:</span>
<span class="sd">            uuid: UUID of the model server to start.</span>
<span class="sd">            timeout: timeout in seconds to wait for the service to become</span>
<span class="sd">                active. . If set to 0, the method will return immediately after</span>
<span class="sd">                provisioning the service, without waiting for it to become</span>
<span class="sd">                active.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: since we don&#39;t support starting Seldon Core</span>
<span class="sd">                model servers</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="s2">&quot;Starting Seldon Core model servers is not implemented&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_model_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SELDON_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete a Seldon Core model deployment server.</span>

<span class="sd">        Args:</span>
<span class="sd">            uuid: UUID of the model server to delete.</span>
<span class="sd">            timeout: timeout in seconds to wait for the service to stop. If</span>
<span class="sd">                set to 0, the method will return immediately after</span>
<span class="sd">                deprovisioning the service, without waiting for it to stop.</span>
<span class="sd">            force: if True, force the service to stop.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">services</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span><span class="n">service_uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">services</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">services</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>

        <span class="c1"># if this is the last Seldon Core model server, delete the Kubernetes</span>
        <span class="c1"># secret used to store the authentication information for the Seldon</span>
        <span class="c1"># Core model server storage initializer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_kubernetes_secret</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer.kubernetes_secret_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kubernetes_secret_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Get the Kubernetes secret name associated with this model deployer.</p>
<p>If a secret is configured for this model deployer, a corresponding
Kubernetes secret is created in the remote cluster to be used
by Seldon Core storage initializers to authenticate to the Artifact
Store. This method returns the unique name that is used for this secret.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The Seldon Core Kubernetes secret name, or None if no secret is
configured.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer.seldon_client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">seldon_client</span><span class="p">:</span> <span class="n">SeldonClient</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Get the Seldon Core client associated with this model deployer.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SeldonClient</code></td>
      <td><p>The Seldon Core client.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer.delete_model_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_model_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uuid</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Delete a Seldon Core model deployment server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uuid</code></td>
        <td><code>UUID</code></td>
        <td><p>UUID of the model server to delete.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>timeout in seconds to wait for the service to stop. If
set to 0, the method will return immediately after
deprovisioning the service, without waiting for it to stop.</p></td>
        <td><code>300</code></td>
      </tr>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>if True, force the service to stop.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/model_deployers/seldon_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_model_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SELDON_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete a Seldon Core model deployment server.</span>

<span class="sd">    Args:</span>
<span class="sd">        uuid: UUID of the model server to delete.</span>
<span class="sd">        timeout: timeout in seconds to wait for the service to stop. If</span>
<span class="sd">            set to 0, the method will return immediately after</span>
<span class="sd">            deprovisioning the service, without waiting for it to stop.</span>
<span class="sd">        force: if True, force the service to stop.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">services</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span><span class="n">service_uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">services</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">services</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>

    <span class="c1"># if this is the last Seldon Core model server, delete the Kubernetes</span>
    <span class="c1"># secret used to store the authentication information for the Seldon</span>
    <span class="c1"># Core model server storage initializer</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_kubernetes_secret</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer.deploy_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deploy_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Create a new Seldon Core deployment or update an existing one.</p>
<h6 id="zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer.deploy_model--noqa-dar402">noqa: DAR402</h6>
<p>This should serve the supplied model and deployment configuration.</p>
<p>This method has two modes of operation, depending on the <code>replace</code>
argument value:</p>
<ul>
<li>
<p>if <code>replace</code> is False, calling this method will create a new Seldon
    Core deployment server to reflect the model and other configuration
    parameters specified in the supplied Seldon deployment <code>config</code>.</p>
</li>
<li>
<p>if <code>replace</code> is True, this method will first attempt to find an
    existing Seldon Core deployment that is <em>equivalent</em> to the supplied
    configuration parameters. Two or more Seldon Core deployments are
    considered equivalent if they have the same <code>pipeline_name</code>,
    <code>pipeline_step_name</code> and <code>model_name</code> configuration parameters. To
    put it differently, two Seldon Core deployments are equivalent if
    they serve versions of the same model deployed by the same pipeline
    step. If an equivalent Seldon Core deployment is found, it will be
    updated in place to reflect the new configuration parameters. This
    allows an existing Seldon Core deployment to retain its prediction
    URL while performing a rolling update to serve a new model version.</p>
</li>
</ul>
<p>Callers should set <code>replace</code> to True if they want a continuous model
deployment workflow that doesn't spin up a new Seldon Core deployment
server for each new model version. If multiple equivalent Seldon Core
deployments are found, the most recently created deployment is selected
to be updated and the others are deleted.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ServiceConfig</code></td>
        <td><p>the configuration of the model to be deployed with Seldon.
Core</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>replace</code></td>
        <td><code>bool</code></td>
        <td><p>set this flag to True to find and update an equivalent
Seldon Core deployment server with the new model instead of
starting a new deployment server.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>the timeout in seconds to wait for the Seldon Core server
to be provisioned and successfully started or updated. If set
to 0, the method will return immediately after the Seldon Core
server is provisioned, without waiting for it to fully start.</p></td>
        <td><code>300</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseService</code></td>
      <td><p>The ZenML Seldon Core deployment service object that can be used to
interact with the remote Seldon Core server.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SeldonClientError</code></td>
        <td><p>if a Seldon Core client error is encountered
while provisioning the Seldon Core deployment server.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if <code>timeout</code> is set to a positive value that is
exceeded while waiting for the Seldon Core deployment server
to start, or if an operational failure is encountered before
it reaches a ready state.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/model_deployers/seldon_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deploy_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ServiceConfig</span><span class="p">,</span>
    <span class="n">replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SELDON_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a new Seldon Core deployment or update an existing one.</span>

<span class="sd">    # noqa: DAR402</span>

<span class="sd">    This should serve the supplied model and deployment configuration.</span>

<span class="sd">    This method has two modes of operation, depending on the `replace`</span>
<span class="sd">    argument value:</span>

<span class="sd">      * if `replace` is False, calling this method will create a new Seldon</span>
<span class="sd">        Core deployment server to reflect the model and other configuration</span>
<span class="sd">        parameters specified in the supplied Seldon deployment `config`.</span>

<span class="sd">      * if `replace` is True, this method will first attempt to find an</span>
<span class="sd">        existing Seldon Core deployment that is *equivalent* to the supplied</span>
<span class="sd">        configuration parameters. Two or more Seldon Core deployments are</span>
<span class="sd">        considered equivalent if they have the same `pipeline_name`,</span>
<span class="sd">        `pipeline_step_name` and `model_name` configuration parameters. To</span>
<span class="sd">        put it differently, two Seldon Core deployments are equivalent if</span>
<span class="sd">        they serve versions of the same model deployed by the same pipeline</span>
<span class="sd">        step. If an equivalent Seldon Core deployment is found, it will be</span>
<span class="sd">        updated in place to reflect the new configuration parameters. This</span>
<span class="sd">        allows an existing Seldon Core deployment to retain its prediction</span>
<span class="sd">        URL while performing a rolling update to serve a new model version.</span>

<span class="sd">    Callers should set `replace` to True if they want a continuous model</span>
<span class="sd">    deployment workflow that doesn&#39;t spin up a new Seldon Core deployment</span>
<span class="sd">    server for each new model version. If multiple equivalent Seldon Core</span>
<span class="sd">    deployments are found, the most recently created deployment is selected</span>
<span class="sd">    to be updated and the others are deleted.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: the configuration of the model to be deployed with Seldon.</span>
<span class="sd">            Core</span>
<span class="sd">        replace: set this flag to True to find and update an equivalent</span>
<span class="sd">            Seldon Core deployment server with the new model instead of</span>
<span class="sd">            starting a new deployment server.</span>
<span class="sd">        timeout: the timeout in seconds to wait for the Seldon Core server</span>
<span class="sd">            to be provisioned and successfully started or updated. If set</span>
<span class="sd">            to 0, the method will return immediately after the Seldon Core</span>
<span class="sd">            server is provisioned, without waiting for it to fully start.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ZenML Seldon Core deployment service object that can be used to</span>
<span class="sd">        interact with the remote Seldon Core server.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SeldonClientError: if a Seldon Core client error is encountered</span>
<span class="sd">            while provisioning the Seldon Core deployment server.</span>
<span class="sd">        RuntimeError: if `timeout` is set to a positive value that is</span>
<span class="sd">            exceeded while waiting for the Seldon Core deployment server</span>
<span class="sd">            to start, or if an operational failure is encountered before</span>
<span class="sd">            it reaches a ready state.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SeldonDeploymentConfig</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
    <span class="n">service</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># if a custom Kubernetes secret is not explicitly specified in the</span>
    <span class="c1"># SeldonDeploymentConfig, try to create one from the ZenML secret</span>
    <span class="c1"># configured for the model deployer</span>
    <span class="n">config</span><span class="o">.</span><span class="n">secret_name</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">config</span><span class="o">.</span><span class="n">secret_name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_or_update_kubernetes_secret</span><span class="p">()</span>
    <span class="p">)</span>

    <span class="c1"># if replace is True, find equivalent Seldon Core deployments</span>
    <span class="k">if</span> <span class="n">replace</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">equivalent_services</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span>
            <span class="n">running</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">,</span>
            <span class="n">pipeline_step_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">pipeline_step_name</span><span class="p">,</span>
            <span class="n">model_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">equivalent_service</span> <span class="ow">in</span> <span class="n">equivalent_services</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">service</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># keep the most recently created service</span>
                <span class="n">service</span> <span class="o">=</span> <span class="n">equivalent_service</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># delete the older services and don&#39;t wait for them to</span>
                    <span class="c1"># be deprovisioned</span>
                    <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
                <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
                    <span class="c1"># ignore errors encountered while stopping old services</span>
                    <span class="k">pass</span>

    <span class="k">if</span> <span class="n">service</span><span class="p">:</span>
        <span class="c1"># update an equivalent service in place</span>
        <span class="n">service</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Updating an existing Seldon deployment service: </span><span class="si">{</span><span class="n">service</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># create a new service</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">SeldonDeploymentService</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating a new Seldon deployment service: </span><span class="si">{</span><span class="n">service</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># start the service which in turn provisions the Seldon Core</span>
    <span class="c1"># deployment server and waits for it to reach a ready state</span>
    <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">service</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer.find_model_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_model_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">running</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">service_uuid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pipeline_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pipeline_run_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pipeline_step_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">model_uri</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">model_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Find one or more Seldon Core model services that match the given criteria.</p>
<p>The Seldon Core deployment services that meet the search criteria are
returned sorted in descending order of their creation time (i.e. more
recent deployments first).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>running</code></td>
        <td><code>bool</code></td>
        <td><p>if true, only running services will be returned.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>service_uuid</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>the UUID of the Seldon Core service that was originally used
to create the Seldon Core deployment resource.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>name of the pipeline that the deployed model was part
of.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>pipeline_run_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>ID of the pipeline run which the deployed model was
part of.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>pipeline_step_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the name of the pipeline model deployment step
that deployed the model.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>model_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the name of the deployed model.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>model_uri</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>URI of the deployed model.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>model_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the Seldon Core server implementation used to serve
the model</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.services.service.BaseService]</code></td>
      <td><p>One or more Seldon Core service objects representing Seldon Core
model servers that match the input search criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/model_deployers/seldon_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_model_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">running</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">service_uuid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pipeline_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pipeline_run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pipeline_step_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Find one or more Seldon Core model services that match the given criteria.</span>

<span class="sd">    The Seldon Core deployment services that meet the search criteria are</span>
<span class="sd">    returned sorted in descending order of their creation time (i.e. more</span>
<span class="sd">    recent deployments first).</span>

<span class="sd">    Args:</span>
<span class="sd">        running: if true, only running services will be returned.</span>
<span class="sd">        service_uuid: the UUID of the Seldon Core service that was originally used</span>
<span class="sd">            to create the Seldon Core deployment resource.</span>
<span class="sd">        pipeline_name: name of the pipeline that the deployed model was part</span>
<span class="sd">            of.</span>
<span class="sd">        pipeline_run_id: ID of the pipeline run which the deployed model was</span>
<span class="sd">            part of.</span>
<span class="sd">        pipeline_step_name: the name of the pipeline model deployment step</span>
<span class="sd">            that deployed the model.</span>
<span class="sd">        model_name: the name of the deployed model.</span>
<span class="sd">        model_uri: URI of the deployed model.</span>
<span class="sd">        model_type: the Seldon Core server implementation used to serve</span>
<span class="sd">            the model</span>

<span class="sd">    Returns:</span>
<span class="sd">        One or more Seldon Core service objects representing Seldon Core</span>
<span class="sd">        model servers that match the input search criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Use a Seldon deployment service configuration to compute the labels</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">SeldonDeploymentConfig</span><span class="p">(</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">pipeline_run_id</span><span class="o">=</span><span class="n">pipeline_run_id</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">pipeline_step_name</span><span class="o">=</span><span class="n">pipeline_step_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">model_name</span><span class="o">=</span><span class="n">model_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">model_uri</span><span class="o">=</span><span class="n">model_uri</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">implementation</span><span class="o">=</span><span class="n">model_type</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get_seldon_deployment_labels</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">service_uuid</span><span class="p">:</span>
        <span class="c1"># the service UUID is not a label covered by the Seldon</span>
        <span class="c1"># deployment service configuration, so we need to add it</span>
        <span class="c1"># separately</span>
        <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.service_uuid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">service_uuid</span><span class="p">)</span>

    <span class="n">deployments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seldon_client</span><span class="o">.</span><span class="n">find_deployments</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>
    <span class="c1"># sort the deployments in descending order of their creation time</span>
    <span class="n">deployments</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span>
        <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">deployment</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span>
            <span class="n">deployment</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">creationTimestamp</span><span class="p">,</span>
            <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%SZ&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">creationTimestamp</span>
        <span class="k">else</span> <span class="n">datetime</span><span class="o">.</span><span class="n">min</span><span class="p">,</span>
        <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">services</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">deployment</span> <span class="ow">in</span> <span class="n">deployments</span><span class="p">:</span>
        <span class="c1"># recreate the Seldon deployment service object from the Seldon</span>
        <span class="c1"># deployment resource</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">SeldonDeploymentService</span><span class="o">.</span><span class="n">create_from_deployment</span><span class="p">(</span>
            <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">running</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">service</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="c1"># skip non-running services</span>
            <span class="k">continue</span>
        <span class="n">services</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">services</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer.get_active_model_deployer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_active_model_deployer</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Get the Seldon Core model deployer registered in the active stack.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SeldonModelDeployer</code></td>
      <td><p>The Seldon Core model deployer registered in the active stack.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>if the Seldon Core model deployer is not available.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/model_deployers/seldon_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_active_model_deployer</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="s2">&quot;SeldonModelDeployer&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the Seldon Core model deployer registered in the active stack.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Seldon Core model deployer registered in the active stack.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: if the Seldon Core model deployer is not available.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_deployer</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span>  <span class="c1"># type: ignore [call-arg]</span>
        <span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">model_deployer</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">model_deployer</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
        <span class="n">model_deployer</span><span class="p">,</span> <span class="n">SeldonModelDeployer</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The active stack needs to have a Seldon Core model deployer &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;component registered to be able to deploy models with Seldon &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Core. You can create a new stack with a Seldon Core model &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;deployer component or update your existing stack to add this &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;component, e.g.:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  &#39;zenml model-deployer register seldon --flavor=</span><span class="si">{</span><span class="n">SELDON_MODEL_DEPLOYER_FLAVOR</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;--kubernetes_context=context-name --kubernetes_namespace=&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;namespace-name --base_url=https://ingress.cluster.kubernetes&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  &#39;zenml stack create stack-name -d seldon ...&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">model_deployer</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer.get_model_server_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_model_server_info</span><span class="p">(</span><span class="n">service_instance</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Return implementation specific information that might be relevant to the user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_instance</code></td>
        <td><code>SeldonDeploymentService</code></td>
        <td><p>Instance of a SeldonDeploymentService</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Optional[str]]</code></td>
      <td><p>Model server information.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/model_deployers/seldon_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_model_server_info</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
    <span class="n">service_instance</span><span class="p">:</span> <span class="s2">&quot;SeldonDeploymentService&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Return implementation specific information that might be relevant to the user.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_instance: Instance of a SeldonDeploymentService</span>

<span class="sd">    Returns:</span>
<span class="sd">        Model server information.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;PREDICTION_URL&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">prediction_url</span><span class="p">,</span>
        <span class="s2">&quot;MODEL_URI&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_uri</span><span class="p">,</span>
        <span class="s2">&quot;MODEL_NAME&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span>
        <span class="s2">&quot;SELDON_DEPLOYMENT&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">seldon_deployment_name</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer.start_model_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start_model_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uuid</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Start a Seldon Core model deployment server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uuid</code></td>
        <td><code>UUID</code></td>
        <td><p>UUID of the model server to start.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>timeout in seconds to wait for the service to become
active. . If set to 0, the method will return immediately after
provisioning the service, without waiting for it to become
active.</p></td>
        <td><code>300</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>NotImplementedError</code></td>
        <td><p>since we don't support starting Seldon Core
model servers</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/model_deployers/seldon_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start_model_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SELDON_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Start a Seldon Core model deployment server.</span>

<span class="sd">    Args:</span>
<span class="sd">        uuid: UUID of the model server to start.</span>
<span class="sd">        timeout: timeout in seconds to wait for the service to become</span>
<span class="sd">            active. . If set to 0, the method will return immediately after</span>
<span class="sd">            provisioning the service, without waiting for it to become</span>
<span class="sd">            active.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: since we don&#39;t support starting Seldon Core</span>
<span class="sd">            model servers</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
        <span class="s2">&quot;Starting Seldon Core model servers is not implemented&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.model_deployers.seldon_model_deployer.SeldonModelDeployer.stop_model_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop_model_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uuid</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Stop a Seldon Core model server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>uuid</code></td>
        <td><code>UUID</code></td>
        <td><p>UUID of the model server to stop.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>timeout in seconds to wait for the service to stop.</p></td>
        <td><code>300</code></td>
      </tr>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>if True, force the service to stop.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>NotImplementedError</code></td>
        <td><p>stopping Seldon Core model servers is not
supported.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/model_deployers/seldon_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop_model_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SELDON_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Stop a Seldon Core model server.</span>

<span class="sd">    Args:</span>
<span class="sd">        uuid: UUID of the model server to stop.</span>
<span class="sd">        timeout: timeout in seconds to wait for the service to stop.</span>
<span class="sd">        force: if True, force the service to stop.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: stopping Seldon Core model servers is not</span>
<span class="sd">            supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
        <span class="s2">&quot;Stopping Seldon Core model servers is not implemented. Try &quot;</span>
        <span class="s2">&quot;deleting the Seldon Core model server instead.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.seldon.secret_schemas" class="doc doc-heading">
        <code>secret_schemas</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization for the Seldon secret schemas.</p>
<p>These are secret schemas that can be used to authenticate Seldon to the
Artifact Store used to store served ML models.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.seldon.secret_schemas.secret_schemas" class="doc doc-heading">
        <code>secret_schemas</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation for Seldon secret schemas.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.secret_schemas.secret_schemas.SeldonAzureSecretSchema" class="doc doc-heading">
        <code>
SeldonAzureSecretSchema            (<a class="autorefs autorefs-internal" title="zenml.secret.base_secret.BaseSecretSchema" href="../secret/#zenml.secret.base_secret.BaseSecretSchema">BaseSecretSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Seldon Azure Blob Storage credentials.</p>
<p>Based on: https://rclone.org/azureblob/</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>rclone_config_azureblob_type</code></td>
        <td><code>Literal[&#39;azureblob&#39;]</code></td>
        <td><p>the rclone config type. Must be set to
"azureblob" for this schema.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_azureblob_account</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>storage Account Name. Leave blank to
use SAS URL or MSI.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_azureblob_key</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>storage Account Key. Leave blank to
use SAS URL or MSI.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_azureblob_sas_url</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>SAS URL for container level access
only. Leave blank if using account/key or MSI.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_azureblob_use_msi</code></td>
        <td><code>bool</code></td>
        <td><p>use a managed service identity to
authenticate (only works in Azure).</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/secret_schemas/secret_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonAzureSecretSchema</span><span class="p">(</span><span class="n">BaseSecretSchema</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Seldon Azure Blob Storage credentials.</span>

<span class="sd">    Based on: https://rclone.org/azureblob/</span>

<span class="sd">    Attributes:</span>
<span class="sd">        rclone_config_azureblob_type: the rclone config type. Must be set to</span>
<span class="sd">            &quot;azureblob&quot; for this schema.</span>
<span class="sd">        rclone_config_azureblob_account: storage Account Name. Leave blank to</span>
<span class="sd">            use SAS URL or MSI.</span>
<span class="sd">        rclone_config_azureblob_key: storage Account Key. Leave blank to</span>
<span class="sd">            use SAS URL or MSI.</span>
<span class="sd">        rclone_config_azureblob_sas_url: SAS URL for container level access</span>
<span class="sd">            only. Leave blank if using account/key or MSI.</span>
<span class="sd">        rclone_config_azureblob_use_msi: use a managed service identity to</span>
<span class="sd">            authenticate (only works in Azure).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">SELDON_AZUREBLOB_SECRET_SCHEMA_TYPE</span>

    <span class="n">rclone_config_azureblob_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;azureblob&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;azureblob&quot;</span>
    <span class="n">rclone_config_azureblob_account</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">rclone_config_azureblob_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">rclone_config_azureblob_sas_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">rclone_config_azureblob_use_msi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.secret_schemas.secret_schemas.SeldonGSSecretSchema" class="doc doc-heading">
        <code>
SeldonGSSecretSchema            (<a class="autorefs autorefs-internal" title="zenml.secret.base_secret.BaseSecretSchema" href="../secret/#zenml.secret.base_secret.BaseSecretSchema">BaseSecretSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Seldon GCS credentials.</p>
<p>Based on: https://rclone.org/googlecloudstorage/</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>rclone_config_gs_type</code></td>
        <td><code>Literal[&#39;google cloud storage&#39;]</code></td>
        <td><p>the rclone config type. Must be set to "google
cloud storage" for this schema.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_gs_client_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>OAuth client id.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_gs_client_secret</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>OAuth client secret.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_gs_token</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>OAuth Access Token as a JSON blob.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_gs_project_number</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>project number.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_gs_service_account_credentials</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>service account
credentials JSON blob.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_gs_anonymous</code></td>
        <td><code>bool</code></td>
        <td><p>access public buckets and objects without
credentials. Set to True if you just want to download files and
don't configure credentials.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_gs_auth_url</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>auth server URL.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/secret_schemas/secret_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonGSSecretSchema</span><span class="p">(</span><span class="n">BaseSecretSchema</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Seldon GCS credentials.</span>

<span class="sd">    Based on: https://rclone.org/googlecloudstorage/</span>

<span class="sd">    Attributes:</span>
<span class="sd">        rclone_config_gs_type: the rclone config type. Must be set to &quot;google</span>
<span class="sd">            cloud storage&quot; for this schema.</span>
<span class="sd">        rclone_config_gs_client_id: OAuth client id.</span>
<span class="sd">        rclone_config_gs_client_secret: OAuth client secret.</span>
<span class="sd">        rclone_config_gs_token: OAuth Access Token as a JSON blob.</span>
<span class="sd">        rclone_config_gs_project_number: project number.</span>
<span class="sd">        rclone_config_gs_service_account_credentials: service account</span>
<span class="sd">            credentials JSON blob.</span>
<span class="sd">        rclone_config_gs_anonymous: access public buckets and objects without</span>
<span class="sd">            credentials. Set to True if you just want to download files and</span>
<span class="sd">            don&#39;t configure credentials.</span>
<span class="sd">        rclone_config_gs_auth_url: auth server URL.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">SELDON_GS_SECRET_SCHEMA_TYPE</span>

    <span class="n">rclone_config_gs_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;google cloud storage&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;google cloud storage&quot;</span>
    <span class="n">rclone_config_gs_client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">rclone_config_gs_client_secret</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">rclone_config_gs_project_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">rclone_config_gs_service_account_credentials</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">rclone_config_gs_anonymous</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">rclone_config_gs_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">rclone_config_gs_auth_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">rclone_config_gs_token_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.secret_schemas.secret_schemas.SeldonS3SecretSchema" class="doc doc-heading">
        <code>
SeldonS3SecretSchema            (<a class="autorefs autorefs-internal" title="zenml.secret.base_secret.BaseSecretSchema" href="../secret/#zenml.secret.base_secret.BaseSecretSchema">BaseSecretSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Seldon S3 credentials.</p>
<p>Based on: https://rclone.org/s3/#amazon-s3</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>rclone_config_s3_type</code></td>
        <td><code>Literal[&#39;s3&#39;]</code></td>
        <td><p>the rclone config type. Must be set to "s3" for
this schema.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_s3_provider</code></td>
        <td><code>str</code></td>
        <td><p>the S3 provider (e.g. aws, ceph, minio).</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_s3_env_auth</code></td>
        <td><code>bool</code></td>
        <td><p>get AWS credentials from EC2/ECS meta data
(i.e. with IAM roles configuration). Only applies if access_key_id
and secret_access_key are blank.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_s3_access_key_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>AWS Access Key ID.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_s3_secret_access_key</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>AWS Secret Access Key.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_s3_session_token</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>AWS Session Token.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_s3_region</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>region to connect to.</p></td>
      </tr>
      <tr>
        <td><code>rclone_config_s3_endpoint</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>S3 API endpoint.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/secret_schemas/secret_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonS3SecretSchema</span><span class="p">(</span><span class="n">BaseSecretSchema</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Seldon S3 credentials.</span>

<span class="sd">    Based on: https://rclone.org/s3/#amazon-s3</span>

<span class="sd">    Attributes:</span>
<span class="sd">        rclone_config_s3_type: the rclone config type. Must be set to &quot;s3&quot; for</span>
<span class="sd">            this schema.</span>
<span class="sd">        rclone_config_s3_provider: the S3 provider (e.g. aws, ceph, minio).</span>
<span class="sd">        rclone_config_s3_env_auth: get AWS credentials from EC2/ECS meta data</span>
<span class="sd">            (i.e. with IAM roles configuration). Only applies if access_key_id</span>
<span class="sd">            and secret_access_key are blank.</span>
<span class="sd">        rclone_config_s3_access_key_id: AWS Access Key ID.</span>
<span class="sd">        rclone_config_s3_secret_access_key: AWS Secret Access Key.</span>
<span class="sd">        rclone_config_s3_session_token: AWS Session Token.</span>
<span class="sd">        rclone_config_s3_region: region to connect to.</span>
<span class="sd">        rclone_config_s3_endpoint: S3 API endpoint.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">SELDON_S3_SECRET_SCHEMA_TYPE</span>

    <span class="n">rclone_config_s3_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;s3&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;s3&quot;</span>
    <span class="n">rclone_config_s3_provider</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;aws&quot;</span>
    <span class="n">rclone_config_s3_env_auth</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">rclone_config_s3_access_key_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">rclone_config_s3_secret_access_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">rclone_config_s3_session_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">rclone_config_s3_region</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">rclone_config_s3_endpoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">























  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.seldon.seldon_client" class="doc doc-heading">
        <code>seldon_client</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the Seldon client for ZenML.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonClient" class="doc doc-heading">
        <code>
SeldonClient        </code>



</h5>

    <div class="doc doc-contents ">

      <p>A client for interacting with Seldon Deployments.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonClient</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;A client for interacting with Seldon Deployments.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">namespace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot;Initialize a Seldon Core client.</span>

<span class="sd">        Args:</span>
<span class="sd">            context: the Kubernetes context to use.</span>
<span class="sd">            namespace: the Kubernetes namespace to use.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="n">context</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span> <span class="o">=</span> <span class="n">namespace</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_k8s_clients</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_initialize_k8s_clients</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialize the Kubernetes clients.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SeldonClientError: if Kubernetes configuration could not be loaded</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">k8s_config</span><span class="o">.</span><span class="n">load_incluster_config</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">:</span>
                <span class="c1"># load the namespace in the context of which the</span>
                <span class="c1"># current pod is running</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span>
                    <span class="s2">&quot;/var/run/secrets/kubernetes.io/serviceaccount/namespace&quot;</span>
                <span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">k8s_config</span><span class="o">.</span><span class="n">config_exception</span><span class="o">.</span><span class="n">ConfigException</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
                    <span class="s2">&quot;The Kubernetes namespace must be explicitly &quot;</span>
                    <span class="s2">&quot;configured when running outside of a cluster.&quot;</span>
                <span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">k8s_config</span><span class="o">.</span><span class="n">load_kube_config</span><span class="p">(</span>
                    <span class="n">context</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">,</span> <span class="n">persist_config</span><span class="o">=</span><span class="kc">False</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="n">k8s_config</span><span class="o">.</span><span class="n">config_exception</span><span class="o">.</span><span class="n">ConfigException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
                    <span class="s2">&quot;Could not load the Kubernetes configuration&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_core_api</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">CoreV1Api</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_custom_objects_api</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">CustomObjectsApi</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">sanitize_labels</span><span class="p">(</span><span class="n">labels</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Update the label values to be valid Kubernetes labels.</span>

<span class="sd">        See:</span>
<span class="sd">        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#syntax-and-character-set</span>

<span class="sd">        Args:</span>
<span class="sd">            labels: the labels to sanitize.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Kubernetes labels must be alphanumeric, no longer than</span>
            <span class="c1"># 63 characters, and must begin and end with an alphanumeric</span>
            <span class="c1"># character ([a-z0-9A-Z])</span>
            <span class="n">labels</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^0-9a-zA-Z-_\.]+&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)[:</span><span class="mi">63</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span>
                <span class="s2">&quot;-_.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">namespace</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the Kubernetes namespace in use by the client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Kubernetes namespace in use by the client.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the namespace has not been configured.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">:</span>
            <span class="c1"># shouldn&#39;t happen if the client is initialized, but we need to</span>
            <span class="c1"># appease the mypy type checker</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;The Kubernetes namespace is not configured&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span>

    <span class="k">def</span> <span class="nf">create_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="n">SeldonDeployment</span><span class="p">,</span>
        <span class="n">poll_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SeldonDeployment</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a Seldon Core deployment resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: the Seldon Core deployment resource to create</span>
<span class="sd">            poll_timeout: the maximum time to wait for the deployment to become</span>
<span class="sd">                available or to fail. If set to 0, the function will return</span>
<span class="sd">                immediately without checking the deployment status. If a timeout</span>
<span class="sd">                occurs and the deployment is still pending creation, it will</span>
<span class="sd">                be returned anyway and no exception will be raised.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the created Seldon Core deployment resource with updated status.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SeldonDeploymentExistsError: if a deployment with the same name</span>
<span class="sd">                already exists.</span>
<span class="sd">            SeldonClientError: if an unknown error occurs during the creation of</span>
<span class="sd">                the deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating SeldonDeployment resource: </span><span class="si">{</span><span class="n">deployment</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># mark the deployment as managed by ZenML, to differentiate</span>
            <span class="c1"># between deployments that are created by ZenML and those that</span>
            <span class="c1"># are not</span>
            <span class="n">deployment</span><span class="o">.</span><span class="n">mark_as_managed_by_zenml</span><span class="p">()</span>

            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_objects_api</span><span class="o">.</span><span class="n">create_namespaced_custom_object</span><span class="p">(</span>
                <span class="n">group</span><span class="o">=</span><span class="s2">&quot;machinelearning.seldon.io&quot;</span><span class="p">,</span>
                <span class="n">version</span><span class="o">=</span><span class="s2">&quot;v1&quot;</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
                <span class="n">plural</span><span class="o">=</span><span class="s2">&quot;seldondeployments&quot;</span><span class="p">,</span>
                <span class="n">body</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                <span class="n">_request_timeout</span><span class="o">=</span><span class="n">poll_timeout</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Seldon Core API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Exception when creating SeldonDeployment resource: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">409</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SeldonDeploymentExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;A deployment with the name </span><span class="si">{</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;already exists in namespace </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
                <span class="s2">&quot;Exception when creating SeldonDeployment resource&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="n">created_deployment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">while</span> <span class="n">poll_timeout</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">created_deployment</span><span class="o">.</span><span class="n">is_pending</span><span class="p">():</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
            <span class="n">poll_timeout</span> <span class="o">-=</span> <span class="mi">5</span>
            <span class="n">created_deployment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">created_deployment</span>

    <span class="k">def</span> <span class="nf">delete_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">poll_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete a Seldon Core deployment resource managed by ZenML.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: the name of the Seldon Core deployment resource to delete.</span>
<span class="sd">            force: if True, the deployment deletion will be forced (the graceful</span>
<span class="sd">                period will be set to zero).</span>
<span class="sd">            poll_timeout: the maximum time to wait for the deployment to be</span>
<span class="sd">                deleted. If set to 0, the function will return immediately</span>
<span class="sd">                without checking the deployment status. If a timeout</span>
<span class="sd">                occurs and the deployment still exists, this method will</span>
<span class="sd">                return and no exception will be raised.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SeldonClientError: if an unknown error occurs during the deployment</span>
<span class="sd">                removal.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting SeldonDeployment resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># call `get_deployment` to check that the deployment exists</span>
            <span class="c1"># and is managed by ZenML. It will raise</span>
            <span class="c1"># a SeldonDeploymentNotFoundError otherwise</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>

            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_objects_api</span><span class="o">.</span><span class="n">delete_namespaced_custom_object</span><span class="p">(</span>
                <span class="n">group</span><span class="o">=</span><span class="s2">&quot;machinelearning.seldon.io&quot;</span><span class="p">,</span>
                <span class="n">version</span><span class="o">=</span><span class="s2">&quot;v1&quot;</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
                <span class="n">plural</span><span class="o">=</span><span class="s2">&quot;seldondeployments&quot;</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">_request_timeout</span><span class="o">=</span><span class="n">poll_timeout</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">grace_period_seconds</span><span class="o">=</span><span class="mi">0</span> <span class="k">if</span> <span class="n">force</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Seldon Core API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Exception when deleting SeldonDeployment resource </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">name</span><span class="p">,</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Exception when deleting SeldonDeployment resource </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="k">while</span> <span class="n">poll_timeout</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
            <span class="n">poll_timeout</span> <span class="o">-=</span> <span class="mi">5</span>

    <span class="k">def</span> <span class="nf">update_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="n">SeldonDeployment</span><span class="p">,</span>
        <span class="n">poll_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SeldonDeployment</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Update a Seldon Core deployment resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: the Seldon Core deployment resource to update</span>
<span class="sd">            poll_timeout: the maximum time to wait for the deployment to become</span>
<span class="sd">                available or to fail. If set to 0, the function will return</span>
<span class="sd">                immediately without checking the deployment status. If a timeout</span>
<span class="sd">                occurs and the deployment is still pending creation, it will</span>
<span class="sd">                be returned anyway and no exception will be raised.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the updated Seldon Core deployment resource with updated status.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SeldonClientError: if an unknown error occurs while updating the</span>
<span class="sd">                deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Updating SeldonDeployment resource: </span><span class="si">{</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

            <span class="c1"># mark the deployment as managed by ZenML, to differentiate</span>
            <span class="c1"># between deployments that are created by ZenML and those that</span>
            <span class="c1"># are not</span>
            <span class="n">deployment</span><span class="o">.</span><span class="n">mark_as_managed_by_zenml</span><span class="p">()</span>

            <span class="c1"># call `get_deployment` to check that the deployment exists</span>
            <span class="c1"># and is managed by ZenML. It will raise</span>
            <span class="c1"># a SeldonDeploymentNotFoundError otherwise</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_objects_api</span><span class="o">.</span><span class="n">patch_namespaced_custom_object</span><span class="p">(</span>
                <span class="n">group</span><span class="o">=</span><span class="s2">&quot;machinelearning.seldon.io&quot;</span><span class="p">,</span>
                <span class="n">version</span><span class="o">=</span><span class="s2">&quot;v1&quot;</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
                <span class="n">plural</span><span class="o">=</span><span class="s2">&quot;seldondeployments&quot;</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">body</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                <span class="n">_request_timeout</span><span class="o">=</span><span class="n">poll_timeout</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Seldon Core API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Exception when updating SeldonDeployment resource: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
                <span class="s2">&quot;Exception when creating SeldonDeployment resource&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="n">updated_deployment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">while</span> <span class="n">poll_timeout</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">updated_deployment</span><span class="o">.</span><span class="n">is_pending</span><span class="p">():</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
            <span class="n">poll_timeout</span> <span class="o">-=</span> <span class="mi">5</span>
            <span class="n">updated_deployment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">updated_deployment</span>

    <span class="k">def</span> <span class="nf">get_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SeldonDeployment</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get a ZenML managed Seldon Core deployment resource by name.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: the name of the Seldon Core deployment resource to fetch.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Seldon Core deployment resource.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SeldonDeploymentNotFoundError: if the deployment resource cannot</span>
<span class="sd">                be found or is not managed by ZenML.</span>
<span class="sd">            SeldonClientError: if an unknown error occurs while fetching</span>
<span class="sd">                the deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Retrieving SeldonDeployment resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_objects_api</span><span class="o">.</span><span class="n">get_namespaced_custom_object</span><span class="p">(</span>
                <span class="n">group</span><span class="o">=</span><span class="s2">&quot;machinelearning.seldon.io&quot;</span><span class="p">,</span>
                <span class="n">version</span><span class="o">=</span><span class="s2">&quot;v1&quot;</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
                <span class="n">plural</span><span class="o">=</span><span class="s2">&quot;seldondeployments&quot;</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Seldon Core API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">deployment</span> <span class="o">=</span> <span class="n">SeldonDeployment</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Invalid Seldon Core deployment resource: </span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">),</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;SeldonDeployment resource </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> could not be parsed&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Only Seldon deployments managed by ZenML are returned</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">deployment</span><span class="o">.</span><span class="n">is_managed_by_zenml</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Seldon Deployment </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> is not managed by ZenML&quot;</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="n">deployment</span>

        <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;SeldonDeployment resource not found: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Exception when fetching SeldonDeployment resource </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">name</span><span class="p">,</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unexpected exception when fetching SeldonDeployment &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">def</span> <span class="nf">find_deployments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">labels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">fields</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">SeldonDeployment</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Find all ZenML-managed Seldon Core deployment resources matching the given criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: optional name of the deployment resource to find.</span>
<span class="sd">            fields: optional selector to restrict the list of returned</span>
<span class="sd">                Seldon deployments by their fields. Defaults to everything.</span>
<span class="sd">            labels: optional selector to restrict the list of returned</span>
<span class="sd">                Seldon deployments by their labels. Defaults to everything.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of Seldon Core deployments that match the given criteria.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SeldonClientError: if an unknown error occurs while fetching</span>
<span class="sd">                the deployments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="n">fields</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="c1"># always filter results to only include Seldon deployments managed</span>
        <span class="c1"># by ZenML</span>
        <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;app&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;zenml&quot;</span>
        <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
            <span class="n">fields</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;metadata.name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">}</span>
        <span class="n">field_selector</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">fields</span><span class="o">.</span><span class="n">items</span><span class="p">())</span> <span class="k">if</span> <span class="n">fields</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">)</span>
        <span class="n">label_selector</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">items</span><span class="p">())</span> <span class="k">if</span> <span class="n">labels</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Searching SeldonDeployment resources with label selector &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">labels</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&#39; and field selector &#39;</span><span class="si">{</span><span class="n">fields</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_objects_api</span><span class="o">.</span><span class="n">list_namespaced_custom_object</span><span class="p">(</span>
                <span class="n">group</span><span class="o">=</span><span class="s2">&quot;machinelearning.seldon.io&quot;</span><span class="p">,</span>
                <span class="n">version</span><span class="o">=</span><span class="s2">&quot;v1&quot;</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
                <span class="n">plural</span><span class="o">=</span><span class="s2">&quot;seldondeployments&quot;</span><span class="p">,</span>
                <span class="n">field_selector</span><span class="o">=</span><span class="n">field_selector</span><span class="p">,</span>
                <span class="n">label_selector</span><span class="o">=</span><span class="n">label_selector</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Seldon Core API returned </span><span class="si">%s</span><span class="s2"> items&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">])</span>
            <span class="p">)</span>
            <span class="n">deployments</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;items&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">deployments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SeldonDeployment</span><span class="p">(</span><span class="o">**</span><span class="n">item</span><span class="p">))</span>
                <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="s2">&quot;Invalid Seldon Core deployment resource: </span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
                        <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">),</span>
                    <span class="p">)</span>
            <span class="k">return</span> <span class="n">deployments</span>
        <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Exception when searching SeldonDeployment resources with &quot;</span>
                <span class="s2">&quot;label selector &#39;</span><span class="si">%s</span><span class="s2">&#39; and field selector &#39;</span><span class="si">%s</span><span class="s2">&#39;: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">label_selector</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="n">field_selector</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unexpected exception when searching SeldonDeployment &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;with labels &#39;</span><span class="si">{</span><span class="n">labels</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&#39; and field &#39;</span><span class="si">{</span><span class="n">fields</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">def</span> <span class="nf">get_deployment_logs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the logs of a Seldon Core deployment resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: the name of the Seldon Core deployment to get logs for.</span>
<span class="sd">            follow: if True, the logs will be streamed as they are written</span>
<span class="sd">            tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A generator that can be accessed to get the service logs.</span>

<span class="sd">        Yields:</span>
<span class="sd">            The next log line.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SeldonClientError: if an unknown error occurs while fetching</span>
<span class="sd">                the logs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Retrieving logs for SeldonDeployment resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_core_api</span><span class="o">.</span><span class="n">list_namespaced_pod</span><span class="p">(</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
                <span class="n">label_selector</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;seldon-deployment-id=</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Kubernetes API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
            <span class="n">pods</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">items</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">pods</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The Seldon Core deployment </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> is not currently &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;running: no Kubernetes pods associated with it were found&quot;</span>
                <span class="p">)</span>
            <span class="n">pod</span> <span class="o">=</span> <span class="n">pods</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">pod_name</span> <span class="o">=</span> <span class="n">pod</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">name</span>

            <span class="n">containers</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pod</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">containers</span><span class="p">]</span>
            <span class="n">init_containers</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pod</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">init_containers</span><span class="p">]</span>
            <span class="n">container_statuses</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">started</span> <span class="ow">or</span> <span class="n">c</span><span class="o">.</span><span class="n">restart_count</span>
                <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pod</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">container_statuses</span>
            <span class="p">}</span>

            <span class="n">container</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
            <span class="k">if</span> <span class="n">container</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">containers</span><span class="p">:</span>
                <span class="n">container</span> <span class="o">=</span> <span class="n">containers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="c1"># some containers might not be running yet and have no logs to show,</span>
            <span class="c1"># so we need to filter them out</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">container_statuses</span><span class="p">[</span><span class="n">container</span><span class="p">]:</span>
                <span class="n">container</span> <span class="o">=</span> <span class="n">init_containers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Retrieving logs for pod: `</span><span class="si">{</span><span class="n">pod_name</span><span class="si">}</span><span class="s2">` and container &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">container</span><span class="si">}</span><span class="s2">` in namespace `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="si">}</span><span class="s2">`&quot;</span>
            <span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_core_api</span><span class="o">.</span><span class="n">read_namespaced_pod_log</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">pod_name</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
                <span class="n">container</span><span class="o">=</span><span class="n">container</span><span class="p">,</span>
                <span class="n">follow</span><span class="o">=</span><span class="n">follow</span><span class="p">,</span>
                <span class="n">tail_lines</span><span class="o">=</span><span class="n">tail</span><span class="p">,</span>
                <span class="n">_preload_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Exception when fetching logs for SeldonDeployment resource &quot;</span>
                <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">name</span><span class="p">,</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unexpected exception when fetching logs for SeldonDeployment &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">line</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="n">stop</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">line</span>
                <span class="k">if</span> <span class="n">stop</span><span class="p">:</span>
                    <span class="k">return</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">response</span><span class="o">.</span><span class="n">release_conn</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">create_or_update_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create or update a Kubernetes Secret resource.</span>

<span class="sd">        Uses the information contained in a ZenML secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: the name of the Secret resource to create.</span>
<span class="sd">            secret: a ZenML secret with key-values that should be</span>
<span class="sd">                stored in the Secret resource.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SeldonClientError: if an unknown error occurs during the creation of</span>
<span class="sd">                the secret.</span>
<span class="sd">            k8s_client.rest.ApiException: unexpected error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating Secret resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">secret_data</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">k</span><span class="o">.</span><span class="n">upper</span><span class="p">():</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span>
                    <span class="s2">&quot;ascii&quot;</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="p">}</span>

            <span class="n">secret</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1Secret</span><span class="p">(</span>
                <span class="n">metadata</span><span class="o">=</span><span class="n">k8s_client</span><span class="o">.</span><span class="n">V1ObjectMeta</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;app&quot;</span><span class="p">:</span> <span class="s2">&quot;zenml&quot;</span><span class="p">},</span>
                <span class="p">),</span>
                <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;Opaque&quot;</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="n">secret_data</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># check if the secret is already present</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_core_api</span><span class="o">.</span><span class="n">read_namespaced_secret</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="c1"># if we got this far, the secret is already present, update it</span>
                <span class="c1"># in place</span>
                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_core_api</span><span class="o">.</span><span class="n">replace_namespaced_secret</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
                    <span class="n">body</span><span class="o">=</span><span class="n">secret</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="mi">404</span><span class="p">:</span>
                    <span class="c1"># if an error other than 404 is raised here, treat it</span>
                    <span class="c1"># as an unexpected error</span>
                    <span class="k">raise</span>
                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_core_api</span><span class="o">.</span><span class="n">create_namespaced_secret</span><span class="p">(</span>
                    <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
                    <span class="n">body</span><span class="o">=</span><span class="n">secret</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Kubernetes API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Exception when creating Secret resource: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
            <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
                <span class="s2">&quot;Exception when creating Secret resource&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete a Kubernetes Secret resource managed by ZenML.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: the name of the Kubernetes Secret resource to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SeldonClientError: if an unknown error occurs during the removal</span>
<span class="sd">                of the secret.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting Secret resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_core_api</span><span class="o">.</span><span class="n">delete_namespaced_secret</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Kubernetes API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
                <span class="c1"># the secret is no longer present, nothing to do</span>
                <span class="k">return</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Exception when deleting Secret resource </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">name</span><span class="p">,</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Exception when deleting Secret resource </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonClient.namespace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns the Kubernetes namespace in use by the client.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The Kubernetes namespace in use by the client.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the namespace has not been configured.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonClient.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">namespace</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Initialize a Seldon Core client.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>context</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the Kubernetes context to use.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the Kubernetes namespace to use.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">namespace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Initialize a Seldon Core client.</span>

<span class="sd">    Args:</span>
<span class="sd">        context: the Kubernetes context to use.</span>
<span class="sd">        namespace: the Kubernetes namespace to use.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="n">context</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span> <span class="o">=</span> <span class="n">namespace</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_k8s_clients</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonClient.create_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">poll_timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Create a Seldon Core deployment resource.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>SeldonDeployment</code></td>
        <td><p>the Seldon Core deployment resource to create</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>poll_timeout</code></td>
        <td><code>int</code></td>
        <td><p>the maximum time to wait for the deployment to become
available or to fail. If set to 0, the function will return
immediately without checking the deployment status. If a timeout
occurs and the deployment is still pending creation, it will
be returned anyway and no exception will be raised.</p></td>
        <td><code>0</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SeldonDeployment</code></td>
      <td><p>the created Seldon Core deployment resource with updated status.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SeldonDeploymentExistsError</code></td>
        <td><p>if a deployment with the same name
already exists.</p></td>
      </tr>
      <tr>
        <td><code>SeldonClientError</code></td>
        <td><p>if an unknown error occurs during the creation of
the deployment.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="n">SeldonDeployment</span><span class="p">,</span>
    <span class="n">poll_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SeldonDeployment</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a Seldon Core deployment resource.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: the Seldon Core deployment resource to create</span>
<span class="sd">        poll_timeout: the maximum time to wait for the deployment to become</span>
<span class="sd">            available or to fail. If set to 0, the function will return</span>
<span class="sd">            immediately without checking the deployment status. If a timeout</span>
<span class="sd">            occurs and the deployment is still pending creation, it will</span>
<span class="sd">            be returned anyway and no exception will be raised.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the created Seldon Core deployment resource with updated status.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SeldonDeploymentExistsError: if a deployment with the same name</span>
<span class="sd">            already exists.</span>
<span class="sd">        SeldonClientError: if an unknown error occurs during the creation of</span>
<span class="sd">            the deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating SeldonDeployment resource: </span><span class="si">{</span><span class="n">deployment</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># mark the deployment as managed by ZenML, to differentiate</span>
        <span class="c1"># between deployments that are created by ZenML and those that</span>
        <span class="c1"># are not</span>
        <span class="n">deployment</span><span class="o">.</span><span class="n">mark_as_managed_by_zenml</span><span class="p">()</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_objects_api</span><span class="o">.</span><span class="n">create_namespaced_custom_object</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="s2">&quot;machinelearning.seldon.io&quot;</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="s2">&quot;v1&quot;</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
            <span class="n">plural</span><span class="o">=</span><span class="s2">&quot;seldondeployments&quot;</span><span class="p">,</span>
            <span class="n">body</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">_request_timeout</span><span class="o">=</span><span class="n">poll_timeout</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Seldon Core API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Exception when creating SeldonDeployment resource: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">409</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SeldonDeploymentExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;A deployment with the name </span><span class="si">{</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;already exists in namespace </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
            <span class="s2">&quot;Exception when creating SeldonDeployment resource&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="n">created_deployment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">while</span> <span class="n">poll_timeout</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">created_deployment</span><span class="o">.</span><span class="n">is_pending</span><span class="p">():</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">poll_timeout</span> <span class="o">-=</span> <span class="mi">5</span>
        <span class="n">created_deployment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">created_deployment</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonClient.create_or_update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_or_update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Create or update a Kubernetes Secret resource.</p>
<p>Uses the information contained in a ZenML secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the Secret resource to create.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>a ZenML secret with key-values that should be
stored in the Secret resource.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SeldonClientError</code></td>
        <td><p>if an unknown error occurs during the creation of
the secret.</p></td>
      </tr>
      <tr>
        <td><code>k8s_client.rest.ApiException</code></td>
        <td><p>unexpected error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_or_update_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create or update a Kubernetes Secret resource.</span>

<span class="sd">    Uses the information contained in a ZenML secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: the name of the Secret resource to create.</span>
<span class="sd">        secret: a ZenML secret with key-values that should be</span>
<span class="sd">            stored in the Secret resource.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SeldonClientError: if an unknown error occurs during the creation of</span>
<span class="sd">            the secret.</span>
<span class="sd">        k8s_client.rest.ApiException: unexpected error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating Secret resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">secret_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">k</span><span class="o">.</span><span class="n">upper</span><span class="p">():</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span>
                <span class="s2">&quot;ascii&quot;</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">}</span>

        <span class="n">secret</span> <span class="o">=</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">V1Secret</span><span class="p">(</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">k8s_client</span><span class="o">.</span><span class="n">V1ObjectMeta</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;app&quot;</span><span class="p">:</span> <span class="s2">&quot;zenml&quot;</span><span class="p">},</span>
            <span class="p">),</span>
            <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;Opaque&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">secret_data</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># check if the secret is already present</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_core_api</span><span class="o">.</span><span class="n">read_namespaced_secret</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># if we got this far, the secret is already present, update it</span>
            <span class="c1"># in place</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_core_api</span><span class="o">.</span><span class="n">replace_namespaced_secret</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
                <span class="n">body</span><span class="o">=</span><span class="n">secret</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="mi">404</span><span class="p">:</span>
                <span class="c1"># if an error other than 404 is raised here, treat it</span>
                <span class="c1"># as an unexpected error</span>
                <span class="k">raise</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_core_api</span><span class="o">.</span><span class="n">create_namespaced_secret</span><span class="p">(</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
                <span class="n">body</span><span class="o">=</span><span class="n">secret</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Kubernetes API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Exception when creating Secret resource: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
        <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
            <span class="s2">&quot;Exception when creating Secret resource&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonClient.delete_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">poll_timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Delete a Seldon Core deployment resource managed by ZenML.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the Seldon Core deployment resource to delete.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the deployment deletion will be forced (the graceful
period will be set to zero).</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>poll_timeout</code></td>
        <td><code>int</code></td>
        <td><p>the maximum time to wait for the deployment to be
deleted. If set to 0, the function will return immediately
without checking the deployment status. If a timeout
occurs and the deployment still exists, this method will
return and no exception will be raised.</p></td>
        <td><code>0</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SeldonClientError</code></td>
        <td><p>if an unknown error occurs during the deployment
removal.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">poll_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete a Seldon Core deployment resource managed by ZenML.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: the name of the Seldon Core deployment resource to delete.</span>
<span class="sd">        force: if True, the deployment deletion will be forced (the graceful</span>
<span class="sd">            period will be set to zero).</span>
<span class="sd">        poll_timeout: the maximum time to wait for the deployment to be</span>
<span class="sd">            deleted. If set to 0, the function will return immediately</span>
<span class="sd">            without checking the deployment status. If a timeout</span>
<span class="sd">            occurs and the deployment still exists, this method will</span>
<span class="sd">            return and no exception will be raised.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SeldonClientError: if an unknown error occurs during the deployment</span>
<span class="sd">            removal.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting SeldonDeployment resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># call `get_deployment` to check that the deployment exists</span>
        <span class="c1"># and is managed by ZenML. It will raise</span>
        <span class="c1"># a SeldonDeploymentNotFoundError otherwise</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_objects_api</span><span class="o">.</span><span class="n">delete_namespaced_custom_object</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="s2">&quot;machinelearning.seldon.io&quot;</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="s2">&quot;v1&quot;</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
            <span class="n">plural</span><span class="o">=</span><span class="s2">&quot;seldondeployments&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">_request_timeout</span><span class="o">=</span><span class="n">poll_timeout</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">grace_period_seconds</span><span class="o">=</span><span class="mi">0</span> <span class="k">if</span> <span class="n">force</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Seldon Core API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Exception when deleting SeldonDeployment resource </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Exception when deleting SeldonDeployment resource </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">while</span> <span class="n">poll_timeout</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">poll_timeout</span> <span class="o">-=</span> <span class="mi">5</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonClient.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Delete a Kubernetes Secret resource managed by ZenML.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the Kubernetes Secret resource to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SeldonClientError</code></td>
        <td><p>if an unknown error occurs during the removal
of the secret.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete a Kubernetes Secret resource managed by ZenML.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: the name of the Kubernetes Secret resource to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SeldonClientError: if an unknown error occurs during the removal</span>
<span class="sd">            of the secret.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleting Secret resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_core_api</span><span class="o">.</span><span class="n">delete_namespaced_secret</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Kubernetes API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
            <span class="c1"># the secret is no longer present, nothing to do</span>
            <span class="k">return</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Exception when deleting Secret resource </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Exception when deleting Secret resource </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonClient.find_deployments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_deployments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Find all ZenML-managed Seldon Core deployment resources matching the given criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>optional name of the deployment resource to find.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>fields</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>optional selector to restrict the list of returned
Seldon deployments by their fields. Defaults to everything.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>labels</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>optional selector to restrict the list of returned
Seldon deployments by their labels. Defaults to everything.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.integrations.seldon.seldon_client.SeldonDeployment]</code></td>
      <td><p>List of Seldon Core deployments that match the given criteria.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SeldonClientError</code></td>
        <td><p>if an unknown error occurs while fetching
the deployments.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_deployments</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">labels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">fields</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">SeldonDeployment</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Find all ZenML-managed Seldon Core deployment resources matching the given criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: optional name of the deployment resource to find.</span>
<span class="sd">        fields: optional selector to restrict the list of returned</span>
<span class="sd">            Seldon deployments by their fields. Defaults to everything.</span>
<span class="sd">        labels: optional selector to restrict the list of returned</span>
<span class="sd">            Seldon deployments by their labels. Defaults to everything.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of Seldon Core deployments that match the given criteria.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SeldonClientError: if an unknown error occurs while fetching</span>
<span class="sd">            the deployments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="n">fields</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="c1"># always filter results to only include Seldon deployments managed</span>
    <span class="c1"># by ZenML</span>
    <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;app&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;zenml&quot;</span>
    <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;metadata.name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">}</span>
    <span class="n">field_selector</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">fields</span><span class="o">.</span><span class="n">items</span><span class="p">())</span> <span class="k">if</span> <span class="n">fields</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">label_selector</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">items</span><span class="p">())</span> <span class="k">if</span> <span class="n">labels</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Searching SeldonDeployment resources with label selector &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">labels</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&#39; and field selector &#39;</span><span class="si">{</span><span class="n">fields</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_objects_api</span><span class="o">.</span><span class="n">list_namespaced_custom_object</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="s2">&quot;machinelearning.seldon.io&quot;</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="s2">&quot;v1&quot;</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
            <span class="n">plural</span><span class="o">=</span><span class="s2">&quot;seldondeployments&quot;</span><span class="p">,</span>
            <span class="n">field_selector</span><span class="o">=</span><span class="n">field_selector</span><span class="p">,</span>
            <span class="n">label_selector</span><span class="o">=</span><span class="n">label_selector</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Seldon Core API returned </span><span class="si">%s</span><span class="s2"> items&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">])</span>
        <span class="p">)</span>
        <span class="n">deployments</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;items&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">deployments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SeldonDeployment</span><span class="p">(</span><span class="o">**</span><span class="n">item</span><span class="p">))</span>
            <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Invalid Seldon Core deployment resource: </span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">),</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="n">deployments</span>
    <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Exception when searching SeldonDeployment resources with &quot;</span>
            <span class="s2">&quot;label selector &#39;</span><span class="si">%s</span><span class="s2">&#39; and field selector &#39;</span><span class="si">%s</span><span class="s2">&#39;: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">label_selector</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">field_selector</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unexpected exception when searching SeldonDeployment &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;with labels &#39;</span><span class="si">{</span><span class="n">labels</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&#39; and field &#39;</span><span class="si">{</span><span class="n">fields</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonClient.get_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a ZenML managed Seldon Core deployment resource by name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the Seldon Core deployment resource to fetch.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SeldonDeployment</code></td>
      <td><p>The Seldon Core deployment resource.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SeldonDeploymentNotFoundError</code></td>
        <td><p>if the deployment resource cannot
be found or is not managed by ZenML.</p></td>
      </tr>
      <tr>
        <td><code>SeldonClientError</code></td>
        <td><p>if an unknown error occurs while fetching
the deployment.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SeldonDeployment</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get a ZenML managed Seldon Core deployment resource by name.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: the name of the Seldon Core deployment resource to fetch.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Seldon Core deployment resource.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SeldonDeploymentNotFoundError: if the deployment resource cannot</span>
<span class="sd">            be found or is not managed by ZenML.</span>
<span class="sd">        SeldonClientError: if an unknown error occurs while fetching</span>
<span class="sd">            the deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Retrieving SeldonDeployment resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_objects_api</span><span class="o">.</span><span class="n">get_namespaced_custom_object</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="s2">&quot;machinelearning.seldon.io&quot;</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="s2">&quot;v1&quot;</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
            <span class="n">plural</span><span class="o">=</span><span class="s2">&quot;seldondeployments&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Seldon Core API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">deployment</span> <span class="o">=</span> <span class="n">SeldonDeployment</span><span class="p">(</span><span class="o">**</span><span class="n">response</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Invalid Seldon Core deployment resource: </span><span class="si">%s</span><span class="se">\n</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;SeldonDeployment resource </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> could not be parsed&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Only Seldon deployments managed by ZenML are returned</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">deployment</span><span class="o">.</span><span class="n">is_managed_by_zenml</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Seldon Deployment </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> is not managed by ZenML&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">deployment</span>

    <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;SeldonDeployment resource not found: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Exception when fetching SeldonDeployment resource </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unexpected exception when fetching SeldonDeployment &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonClient.get_deployment_logs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_deployment_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get the logs of a Seldon Core deployment resource.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the Seldon Core deployment to get logs for.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>follow</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the logs will be streamed as they are written</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>tail</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>only retrieve the last NUM lines of log output.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Generator[str, bool, NoneType]</code></td>
      <td><p>A generator that can be accessed to get the service logs.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Yields:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Generator[str, bool, NoneType]</code></td>
      <td><p>The next log line.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SeldonClientError</code></td>
        <td><p>if an unknown error occurs while fetching
the logs.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_deployment_logs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get the logs of a Seldon Core deployment resource.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: the name of the Seldon Core deployment to get logs for.</span>
<span class="sd">        follow: if True, the logs will be streamed as they are written</span>
<span class="sd">        tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A generator that can be accessed to get the service logs.</span>

<span class="sd">    Yields:</span>
<span class="sd">        The next log line.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SeldonClientError: if an unknown error occurs while fetching</span>
<span class="sd">            the logs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Retrieving logs for SeldonDeployment resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_core_api</span><span class="o">.</span><span class="n">list_namespaced_pod</span><span class="p">(</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
            <span class="n">label_selector</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;seldon-deployment-id=</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Kubernetes API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
        <span class="n">pods</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">items</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">pods</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The Seldon Core deployment </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> is not currently &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;running: no Kubernetes pods associated with it were found&quot;</span>
            <span class="p">)</span>
        <span class="n">pod</span> <span class="o">=</span> <span class="n">pods</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">pod_name</span> <span class="o">=</span> <span class="n">pod</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">name</span>

        <span class="n">containers</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pod</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">containers</span><span class="p">]</span>
        <span class="n">init_containers</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pod</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">init_containers</span><span class="p">]</span>
        <span class="n">container_statuses</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">started</span> <span class="ow">or</span> <span class="n">c</span><span class="o">.</span><span class="n">restart_count</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pod</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">container_statuses</span>
        <span class="p">}</span>

        <span class="n">container</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
        <span class="k">if</span> <span class="n">container</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">containers</span><span class="p">:</span>
            <span class="n">container</span> <span class="o">=</span> <span class="n">containers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1"># some containers might not be running yet and have no logs to show,</span>
        <span class="c1"># so we need to filter them out</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">container_statuses</span><span class="p">[</span><span class="n">container</span><span class="p">]:</span>
            <span class="n">container</span> <span class="o">=</span> <span class="n">init_containers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Retrieving logs for pod: `</span><span class="si">{</span><span class="n">pod_name</span><span class="si">}</span><span class="s2">` and container &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">container</span><span class="si">}</span><span class="s2">` in namespace `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="si">}</span><span class="s2">`&quot;</span>
        <span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_core_api</span><span class="o">.</span><span class="n">read_namespaced_pod_log</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">pod_name</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
            <span class="n">container</span><span class="o">=</span><span class="n">container</span><span class="p">,</span>
            <span class="n">follow</span><span class="o">=</span><span class="n">follow</span><span class="p">,</span>
            <span class="n">tail_lines</span><span class="o">=</span><span class="n">tail</span><span class="p">,</span>
            <span class="n">_preload_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Exception when fetching logs for SeldonDeployment resource &quot;</span>
            <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unexpected exception when fetching logs for SeldonDeployment &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;resource: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="n">stop</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">line</span>
            <span class="k">if</span> <span class="n">stop</span><span class="p">:</span>
                <span class="k">return</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">response</span><span class="o">.</span><span class="n">release_conn</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonClient.sanitize_labels" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sanitize_labels</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Update the label values to be valid Kubernetes labels.</p>
<p>See:
https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#syntax-and-character-set</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>labels</code></td>
        <td><code>Dict[str, str]</code></td>
        <td><p>the labels to sanitize.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">sanitize_labels</span><span class="p">(</span><span class="n">labels</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update the label values to be valid Kubernetes labels.</span>

<span class="sd">    See:</span>
<span class="sd">    https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#syntax-and-character-set</span>

<span class="sd">    Args:</span>
<span class="sd">        labels: the labels to sanitize.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># Kubernetes labels must be alphanumeric, no longer than</span>
        <span class="c1"># 63 characters, and must begin and end with an alphanumeric</span>
        <span class="c1"># character ([a-z0-9A-Z])</span>
        <span class="n">labels</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^0-9a-zA-Z-_\.]+&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)[:</span><span class="mi">63</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span>
            <span class="s2">&quot;-_.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonClient.update_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">poll_timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update a Seldon Core deployment resource.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>SeldonDeployment</code></td>
        <td><p>the Seldon Core deployment resource to update</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>poll_timeout</code></td>
        <td><code>int</code></td>
        <td><p>the maximum time to wait for the deployment to become
available or to fail. If set to 0, the function will return
immediately without checking the deployment status. If a timeout
occurs and the deployment is still pending creation, it will
be returned anyway and no exception will be raised.</p></td>
        <td><code>0</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SeldonDeployment</code></td>
      <td><p>the updated Seldon Core deployment resource with updated status.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SeldonClientError</code></td>
        <td><p>if an unknown error occurs while updating the
deployment.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="n">SeldonDeployment</span><span class="p">,</span>
    <span class="n">poll_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SeldonDeployment</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update a Seldon Core deployment resource.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: the Seldon Core deployment resource to update</span>
<span class="sd">        poll_timeout: the maximum time to wait for the deployment to become</span>
<span class="sd">            available or to fail. If set to 0, the function will return</span>
<span class="sd">            immediately without checking the deployment status. If a timeout</span>
<span class="sd">            occurs and the deployment is still pending creation, it will</span>
<span class="sd">            be returned anyway and no exception will be raised.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the updated Seldon Core deployment resource with updated status.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SeldonClientError: if an unknown error occurs while updating the</span>
<span class="sd">            deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Updating SeldonDeployment resource: </span><span class="si">{</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="c1"># mark the deployment as managed by ZenML, to differentiate</span>
        <span class="c1"># between deployments that are created by ZenML and those that</span>
        <span class="c1"># are not</span>
        <span class="n">deployment</span><span class="o">.</span><span class="n">mark_as_managed_by_zenml</span><span class="p">()</span>

        <span class="c1"># call `get_deployment` to check that the deployment exists</span>
        <span class="c1"># and is managed by ZenML. It will raise</span>
        <span class="c1"># a SeldonDeploymentNotFoundError otherwise</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_objects_api</span><span class="o">.</span><span class="n">patch_namespaced_custom_object</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="s2">&quot;machinelearning.seldon.io&quot;</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="s2">&quot;v1&quot;</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_namespace</span><span class="p">,</span>
            <span class="n">plural</span><span class="o">=</span><span class="s2">&quot;seldondeployments&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">body</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">_request_timeout</span><span class="o">=</span><span class="n">poll_timeout</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Seldon Core API response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">k8s_client</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">ApiException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Exception when updating SeldonDeployment resource: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="n">SeldonClientError</span><span class="p">(</span>
            <span class="s2">&quot;Exception when creating SeldonDeployment resource&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="n">updated_deployment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">while</span> <span class="n">poll_timeout</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">updated_deployment</span><span class="o">.</span><span class="n">is_pending</span><span class="p">():</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">poll_timeout</span> <span class="o">-=</span> <span class="mi">5</span>
        <span class="n">updated_deployment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">updated_deployment</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonClientError" class="doc doc-heading">
        <code>
SeldonClientError            (<span title="Exception">Exception</span>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Base exception class for all exceptions raised by the SeldonClient.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonClientError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base exception class for all exceptions raised by the SeldonClient.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonClientTimeout" class="doc doc-heading">
        <code>
SeldonClientTimeout            (<a class="autorefs autorefs-internal" title="zenml.integrations.seldon.seldon_client.SeldonClientError" href="#zenml.integrations.seldon.seldon_client.SeldonClientError">SeldonClientError</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Raised when the Seldon client timed out while waiting for a resource to reach the expected status.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonClientTimeout</span><span class="p">(</span><span class="n">SeldonClientError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Raised when the Seldon client timed out while waiting for a resource to reach the expected status.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonDeployment" class="doc doc-heading">
        <code>
SeldonDeployment            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>A Seldon Core deployment CRD.</p>
<p>This is a Pydantic representation of some of the fields in the Seldon Core
CRD (documented here:
https://docs.seldon.io/projects/seldon-core/en/latest/reference/seldon-deployment.html).</p>
<p>Note that not all fields are represented, only those that are relevant to
the ZenML integration. The fields that are not represented are silently
ignored when the Seldon Deployment is created or updated from an external
SeldonDeployment CRD representation.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>kind</code></td>
        <td><code>str</code></td>
        <td><p>Kubernetes kind field.</p></td>
      </tr>
      <tr>
        <td><code>apiVersion</code></td>
        <td><code>str</code></td>
        <td><p>Kubernetes apiVersion field.</p></td>
      </tr>
      <tr>
        <td><code>metadata</code></td>
        <td><code>SeldonDeploymentMetadata</code></td>
        <td><p>Kubernetes metadata field.</p></td>
      </tr>
      <tr>
        <td><code>spec</code></td>
        <td><code>SeldonDeploymentSpec</code></td>
        <td><p>Seldon Deployment spec entry.</p></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>Optional[zenml.integrations.seldon.seldon_client.SeldonDeploymentStatus]</code></td>
        <td><p>Seldon Deployment status.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeployment</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Seldon Core deployment CRD.</span>

<span class="sd">    This is a Pydantic representation of some of the fields in the Seldon Core</span>
<span class="sd">    CRD (documented here:</span>
<span class="sd">    https://docs.seldon.io/projects/seldon-core/en/latest/reference/seldon-deployment.html).</span>

<span class="sd">    Note that not all fields are represented, only those that are relevant to</span>
<span class="sd">    the ZenML integration. The fields that are not represented are silently</span>
<span class="sd">    ignored when the Seldon Deployment is created or updated from an external</span>
<span class="sd">    SeldonDeployment CRD representation.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        kind: Kubernetes kind field.</span>
<span class="sd">        apiVersion: Kubernetes apiVersion field.</span>
<span class="sd">        metadata: Kubernetes metadata field.</span>
<span class="sd">        spec: Seldon Deployment spec entry.</span>
<span class="sd">        status: Seldon Deployment status.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">kind</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">SELDON_DEPLOYMENT_KIND</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">apiVersion</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">SELDON_DEPLOYMENT_API_VERSION</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">SeldonDeploymentMetadata</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">SeldonDeploymentMetadata</span>
    <span class="p">)</span>
    <span class="n">spec</span><span class="p">:</span> <span class="n">SeldonDeploymentSpec</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">SeldonDeploymentSpec</span><span class="p">)</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SeldonDeploymentStatus</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns a string representation of the Seldon Deployment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string representation of the Seldon Deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">model_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">model_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">implementation</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">secret_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">labels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">annotations</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SeldonDeployment&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Build a basic Seldon Deployment object.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the Seldon Deployment. If not explicitly passed,</span>
<span class="sd">                a unique name is autogenerated.</span>
<span class="sd">            model_uri: The URI of the model.</span>
<span class="sd">            model_name: The name of the model.</span>
<span class="sd">            implementation: The implementation of the model.</span>
<span class="sd">            secret_name: The name of the Kubernetes secret containing</span>
<span class="sd">                environment variable values (e.g. with credentials for the</span>
<span class="sd">                artifact store) to use with the deployment service.</span>
<span class="sd">            labels: A dictionary of labels to apply to the Seldon Deployment.</span>
<span class="sd">            annotations: A dictionary of annotations to apply to the Seldon</span>
<span class="sd">                Deployment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A minimal SeldonDeployment object built from the provided</span>
<span class="sd">            parameters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;zenml-</span><span class="si">{</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">if</span> <span class="n">labels</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">annotations</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">annotations</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">return</span> <span class="n">SeldonDeployment</span><span class="p">(</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">SeldonDeploymentMetadata</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">annotations</span><span class="o">=</span><span class="n">annotations</span>
            <span class="p">),</span>
            <span class="n">spec</span><span class="o">=</span><span class="n">SeldonDeploymentSpec</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">predictors</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">SeldonDeploymentPredictor</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">model_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="n">graph</span><span class="o">=</span><span class="n">SeldonDeploymentPredictiveUnit</span><span class="p">(</span>
                            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
                            <span class="nb">type</span><span class="o">=</span><span class="n">SeldonDeploymentPredictiveUnitType</span><span class="o">.</span><span class="n">MODEL</span><span class="p">,</span>
                            <span class="n">modelUri</span><span class="o">=</span><span class="n">model_uri</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                            <span class="n">implementation</span><span class="o">=</span><span class="n">implementation</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                            <span class="n">envSecretRefName</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span>
                        <span class="p">),</span>
                    <span class="p">)</span>
                <span class="p">],</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_managed_by_zenml</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks if this Seldon Deployment is managed by ZenML.</span>

<span class="sd">        The convention used to differentiate between SeldonDeployment instances</span>
<span class="sd">        that are managed by ZenML and those that are not is to set the `app`</span>
<span class="sd">        label value to `zenml`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the Seldon Deployment is managed by ZenML, False</span>
<span class="sd">            otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;app&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;zenml&quot;</span>

    <span class="k">def</span> <span class="nf">mark_as_managed_by_zenml</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Marks this Seldon Deployment as managed by ZenML.</span>

<span class="sd">        The convention used to differentiate between SeldonDeployment instances</span>
<span class="sd">        that are managed by ZenML and those that are not is to set the `app`</span>
<span class="sd">        label value to `zenml`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="s2">&quot;app&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;zenml&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the name of this Seldon Deployment.</span>

<span class="sd">        This is just a shortcut for `self.metadata.name`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of this Seldon Deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">state</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SeldonDeploymentStatusState</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The state of the Seldon Deployment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The state of the Seldon Deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">SeldonDeploymentStatusState</span><span class="o">.</span><span class="n">UNKNOWN</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span>

    <span class="k">def</span> <span class="nf">is_pending</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks if the Seldon Deployment is in a pending state.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the Seldon Deployment is pending, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SeldonDeploymentStatusState</span><span class="o">.</span><span class="n">CREATING</span>

    <span class="k">def</span> <span class="nf">is_available</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks if the Seldon Deployment is in an available state.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the Seldon Deployment is available, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SeldonDeploymentStatusState</span><span class="o">.</span><span class="n">AVAILABLE</span>

    <span class="k">def</span> <span class="nf">is_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks if the Seldon Deployment is in a failed state.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the Seldon Deployment is failed, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SeldonDeploymentStatusState</span><span class="o">.</span><span class="n">FAILED</span>

    <span class="k">def</span> <span class="nf">get_error</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get a message describing the error, if in an error state.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A message describing the error, if in an error state, otherwise</span>
<span class="sd">            None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_failed</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">description</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">get_pending_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get a message describing the pending conditions of the Seldon Deployment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A message describing the pending condition of the Seldon</span>
<span class="sd">            Deployment, or None, if no conditions are pending.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">conditions</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">ready_condition_message</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">c</span><span class="o">.</span><span class="n">message</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">conditions</span>
            <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;Ready&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">status</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ready_condition_message</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">ready_condition_message</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># validate attribute assignments</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># Ignore extra attributes from the CRD that are not reflected here</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeployment.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns the name of this Seldon Deployment.</p>
<p>This is just a shortcut for <code>self.metadata.name</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The name of this Seldon Deployment.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeployment.state" class="doc doc-heading">
<code class="highlight language-python"><span class="n">state</span><span class="p">:</span> <span class="n">SeldonDeploymentStatusState</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>The state of the Seldon Deployment.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SeldonDeploymentStatusState</code></td>
      <td><p>The state of the Seldon Deployment.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>





  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeployment.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># validate attribute assignments</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Ignore extra attributes from the CRD that are not reflected here</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeployment.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns a string representation of the Seldon Deployment.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>A string representation of the Seldon Deployment.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns a string representation of the Seldon Deployment.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A string representation of the Seldon Deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeployment.build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">model_uri</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">implementation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">secret_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">annotations</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Build a basic Seldon Deployment object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the Seldon Deployment. If not explicitly passed,
a unique name is autogenerated.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>model_uri</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The URI of the model.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>model_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the model.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>implementation</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The implementation of the model.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the Kubernetes secret containing
environment variable values (e.g. with credentials for the
artifact store) to use with the deployment service.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>labels</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>A dictionary of labels to apply to the Seldon Deployment.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>annotations</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>A dictionary of annotations to apply to the Seldon
Deployment.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SeldonDeployment</code></td>
      <td><p>A minimal SeldonDeployment object built from the provided
parameters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">build</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">implementation</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">secret_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">labels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">annotations</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SeldonDeployment&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Build a basic Seldon Deployment object.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the Seldon Deployment. If not explicitly passed,</span>
<span class="sd">            a unique name is autogenerated.</span>
<span class="sd">        model_uri: The URI of the model.</span>
<span class="sd">        model_name: The name of the model.</span>
<span class="sd">        implementation: The implementation of the model.</span>
<span class="sd">        secret_name: The name of the Kubernetes secret containing</span>
<span class="sd">            environment variable values (e.g. with credentials for the</span>
<span class="sd">            artifact store) to use with the deployment service.</span>
<span class="sd">        labels: A dictionary of labels to apply to the Seldon Deployment.</span>
<span class="sd">        annotations: A dictionary of annotations to apply to the Seldon</span>
<span class="sd">            Deployment.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A minimal SeldonDeployment object built from the provided</span>
<span class="sd">        parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;zenml-</span><span class="si">{</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">if</span> <span class="n">labels</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">annotations</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">annotations</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">return</span> <span class="n">SeldonDeployment</span><span class="p">(</span>
        <span class="n">metadata</span><span class="o">=</span><span class="n">SeldonDeploymentMetadata</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">annotations</span><span class="o">=</span><span class="n">annotations</span>
        <span class="p">),</span>
        <span class="n">spec</span><span class="o">=</span><span class="n">SeldonDeploymentSpec</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">predictors</span><span class="o">=</span><span class="p">[</span>
                <span class="n">SeldonDeploymentPredictor</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">model_name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="n">graph</span><span class="o">=</span><span class="n">SeldonDeploymentPredictiveUnit</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
                        <span class="nb">type</span><span class="o">=</span><span class="n">SeldonDeploymentPredictiveUnitType</span><span class="o">.</span><span class="n">MODEL</span><span class="p">,</span>
                        <span class="n">modelUri</span><span class="o">=</span><span class="n">model_uri</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="n">implementation</span><span class="o">=</span><span class="n">implementation</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="n">envSecretRefName</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span>
                    <span class="p">),</span>
                <span class="p">)</span>
            <span class="p">],</span>
        <span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeployment.get_error" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_error</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a message describing the error, if in an error state.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A message describing the error, if in an error state, otherwise
None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_error</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get a message describing the error, if in an error state.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A message describing the error, if in an error state, otherwise</span>
<span class="sd">        None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_failed</span><span class="p">():</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">description</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeployment.get_pending_message" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pending_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a message describing the pending conditions of the Seldon Deployment.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A message describing the pending condition of the Seldon
Deployment, or None, if no conditions are pending.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pending_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get a message describing the pending conditions of the Seldon Deployment.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A message describing the pending condition of the Seldon</span>
<span class="sd">        Deployment, or None, if no conditions are pending.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">conditions</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">ready_condition_message</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">c</span><span class="o">.</span><span class="n">message</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">conditions</span>
        <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;Ready&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">status</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ready_condition_message</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">ready_condition_message</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeployment.is_available" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_available</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Checks if the Seldon Deployment is in an available state.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the Seldon Deployment is available, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_available</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks if the Seldon Deployment is in an available state.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the Seldon Deployment is available, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SeldonDeploymentStatusState</span><span class="o">.</span><span class="n">AVAILABLE</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeployment.is_failed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Checks if the Seldon Deployment is in a failed state.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the Seldon Deployment is failed, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks if the Seldon Deployment is in a failed state.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the Seldon Deployment is failed, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SeldonDeploymentStatusState</span><span class="o">.</span><span class="n">FAILED</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeployment.is_managed_by_zenml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_managed_by_zenml</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Checks if this Seldon Deployment is managed by ZenML.</p>
<p>The convention used to differentiate between SeldonDeployment instances
that are managed by ZenML and those that are not is to set the <code>app</code>
label value to <code>zenml</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the Seldon Deployment is managed by ZenML, False
otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_managed_by_zenml</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks if this Seldon Deployment is managed by ZenML.</span>

<span class="sd">    The convention used to differentiate between SeldonDeployment instances</span>
<span class="sd">    that are managed by ZenML and those that are not is to set the `app`</span>
<span class="sd">    label value to `zenml`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the Seldon Deployment is managed by ZenML, False</span>
<span class="sd">        otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;app&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;zenml&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeployment.is_pending" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_pending</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Checks if the Seldon Deployment is in a pending state.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the Seldon Deployment is pending, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_pending</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks if the Seldon Deployment is in a pending state.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the Seldon Deployment is pending, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SeldonDeploymentStatusState</span><span class="o">.</span><span class="n">CREATING</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeployment.mark_as_managed_by_zenml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mark_as_managed_by_zenml</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Marks this Seldon Deployment as managed by ZenML.</p>
<p>The convention used to differentiate between SeldonDeployment instances
that are managed by ZenML and those that are not is to set the <code>app</code>
label value to <code>zenml</code>.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">mark_as_managed_by_zenml</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Marks this Seldon Deployment as managed by ZenML.</span>

<span class="sd">    The convention used to differentiate between SeldonDeployment instances</span>
<span class="sd">    that are managed by ZenML and those that are not is to set the `app`</span>
<span class="sd">    label value to `zenml`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="s2">&quot;app&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;zenml&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentExistsError" class="doc doc-heading">
        <code>
SeldonDeploymentExistsError            (<a class="autorefs autorefs-internal" title="zenml.integrations.seldon.seldon_client.SeldonClientError" href="#zenml.integrations.seldon.seldon_client.SeldonClientError">SeldonClientError</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Raised when a SeldonDeployment resource cannot be created because a resource with the same name already exists.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentExistsError</span><span class="p">(</span><span class="n">SeldonClientError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Raised when a SeldonDeployment resource cannot be created because a resource with the same name already exists.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentMetadata" class="doc doc-heading">
        <code>
SeldonDeploymentMetadata            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Metadata for a Seldon Deployment.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the Seldon Deployment.</p></td>
      </tr>
      <tr>
        <td><code>labels</code></td>
        <td><code>Dict[str, str]</code></td>
        <td><p>Kubernetes labels for the Seldon Deployment.</p></td>
      </tr>
      <tr>
        <td><code>annotations</code></td>
        <td><code>Dict[str, str]</code></td>
        <td><p>Kubernetes annotations for the Seldon Deployment.</p></td>
      </tr>
      <tr>
        <td><code>creationTimestamp</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the creation timestamp of the Seldon Deployment.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentMetadata</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Metadata for a Seldon Deployment.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: the name of the Seldon Deployment.</span>
<span class="sd">        labels: Kubernetes labels for the Seldon Deployment.</span>
<span class="sd">        annotations: Kubernetes annotations for the Seldon Deployment.</span>
<span class="sd">        creationTimestamp: the creation timestamp of the Seldon Deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">labels</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">annotations</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">creationTimestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># validate attribute assignments</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># Ignore extra attributes from the CRD that are not reflected here</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentMetadata.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># validate attribute assignments</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Ignore extra attributes from the CRD that are not reflected here</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>









  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentNotFoundError" class="doc doc-heading">
        <code>
SeldonDeploymentNotFoundError            (<a class="autorefs autorefs-internal" title="zenml.integrations.seldon.seldon_client.SeldonClientError" href="#zenml.integrations.seldon.seldon_client.SeldonClientError">SeldonClientError</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Raised when a particular SeldonDeployment resource is not found or is not managed by ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentNotFoundError</span><span class="p">(</span><span class="n">SeldonClientError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Raised when a particular SeldonDeployment resource is not found or is not managed by ZenML.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictiveUnit" class="doc doc-heading">
        <code>
SeldonDeploymentPredictiveUnit            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Seldon Deployment predictive unit.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the predictive unit.</p></td>
      </tr>
      <tr>
        <td><code>type</code></td>
        <td><code>Optional[zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictiveUnitType]</code></td>
        <td><p>predictive unit type.</p></td>
      </tr>
      <tr>
        <td><code>implementation</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the Seldon Core implementation used to serve the model.</p></td>
      </tr>
      <tr>
        <td><code>modelUri</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>URI of the model (or models) to serve.</p></td>
      </tr>
      <tr>
        <td><code>serviceAccountName</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the name of the service account to associate with
the predictive unit container.</p></td>
      </tr>
      <tr>
        <td><code>envSecretRefName</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the name of a Kubernetes secret that contains
environment variables (e.g. credentials) to be configured for the
predictive unit container.</p></td>
      </tr>
      <tr>
        <td><code>children</code></td>
        <td><code>List[zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictiveUnit]</code></td>
        <td><p>a list of child predictive units that together make up the
model serving graph.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentPredictiveUnit</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Seldon Deployment predictive unit.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: the name of the predictive unit.</span>
<span class="sd">        type: predictive unit type.</span>
<span class="sd">        implementation: the Seldon Core implementation used to serve the model.</span>
<span class="sd">        modelUri: URI of the model (or models) to serve.</span>
<span class="sd">        serviceAccountName: the name of the service account to associate with</span>
<span class="sd">            the predictive unit container.</span>
<span class="sd">        envSecretRefName: the name of a Kubernetes secret that contains</span>
<span class="sd">            environment variables (e.g. credentials) to be configured for the</span>
<span class="sd">            predictive unit container.</span>
<span class="sd">        children: a list of child predictive units that together make up the</span>
<span class="sd">            model serving graph.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="n">SeldonDeploymentPredictiveUnitType</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">SeldonDeploymentPredictiveUnitType</span><span class="o">.</span><span class="n">MODEL</span>
    <span class="n">implementation</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">modelUri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">serviceAccountName</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">envSecretRefName</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">children</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;SeldonDeploymentPredictiveUnit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># validate attribute assignments</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># Ignore extra attributes from the CRD that are not reflected here</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictiveUnit.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># validate attribute assignments</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Ignore extra attributes from the CRD that are not reflected here</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>









  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictiveUnitType" class="doc doc-heading">
        <code>
SeldonDeploymentPredictiveUnitType            (<a class="autorefs autorefs-internal" title="zenml.utils.enum_utils.StrEnum" href="../utils/#zenml.utils.enum_utils.StrEnum">StrEnum</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Predictive unit types for a Seldon Deployment.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentPredictiveUnitType</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Predictive unit types for a Seldon Deployment.&quot;&quot;&quot;</span>

    <span class="n">UNKNOWN_TYPE</span> <span class="o">=</span> <span class="s2">&quot;UNKNOWN_TYPE&quot;</span>
    <span class="n">ROUTER</span> <span class="o">=</span> <span class="s2">&quot;ROUTER&quot;</span>
    <span class="n">COMBINER</span> <span class="o">=</span> <span class="s2">&quot;COMBINER&quot;</span>
    <span class="n">MODEL</span> <span class="o">=</span> <span class="s2">&quot;MODEL&quot;</span>
    <span class="n">TRANSFORMER</span> <span class="o">=</span> <span class="s2">&quot;TRANSFORMER&quot;</span>
    <span class="n">OUTPUT_TRANSFORMER</span> <span class="o">=</span> <span class="s2">&quot;OUTPUT_TRANSFORMER&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictor" class="doc doc-heading">
        <code>
SeldonDeploymentPredictor            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Seldon Deployment predictor.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the predictor.</p></td>
      </tr>
      <tr>
        <td><code>replicas</code></td>
        <td><code>int</code></td>
        <td><p>the number of pod replicas for the predictor.</p></td>
      </tr>
      <tr>
        <td><code>graph</code></td>
        <td><code>SeldonDeploymentPredictiveUnit</code></td>
        <td><p>the serving graph composed of one or more predictive units.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentPredictor</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Seldon Deployment predictor.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: the name of the predictor.</span>
<span class="sd">        replicas: the number of pod replicas for the predictor.</span>
<span class="sd">        graph: the serving graph composed of one or more predictive units.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">replicas</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">graph</span><span class="p">:</span> <span class="n">SeldonDeploymentPredictiveUnit</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">SeldonDeploymentPredictiveUnit</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># validate attribute assignments</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># Ignore extra attributes from the CRD that are not reflected here</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictor.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># validate attribute assignments</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Ignore extra attributes from the CRD that are not reflected here</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>









  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentSpec" class="doc doc-heading">
        <code>
SeldonDeploymentSpec            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Spec for a Seldon Deployment.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the Seldon Deployment.</p></td>
      </tr>
      <tr>
        <td><code>protocol</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the API protocol used for the Seldon Deployment.</p></td>
      </tr>
      <tr>
        <td><code>predictors</code></td>
        <td><code>List[zenml.integrations.seldon.seldon_client.SeldonDeploymentPredictor]</code></td>
        <td><p>a list of predictors that make up the serving graph.</p></td>
      </tr>
      <tr>
        <td><code>replicas</code></td>
        <td><code>int</code></td>
        <td><p>the default number of pod replicas used for the predictors.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentSpec</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Spec for a Seldon Deployment.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: the name of the Seldon Deployment.</span>
<span class="sd">        protocol: the API protocol used for the Seldon Deployment.</span>
<span class="sd">        predictors: a list of predictors that make up the serving graph.</span>
<span class="sd">        replicas: the default number of pod replicas used for the predictors.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">protocol</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">predictors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SeldonDeploymentPredictor</span><span class="p">]</span>
    <span class="n">replicas</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># validate attribute assignments</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># Ignore extra attributes from the CRD that are not reflected here</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentSpec.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># validate attribute assignments</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Ignore extra attributes from the CRD that are not reflected here</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>









  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentStatus" class="doc doc-heading">
        <code>
SeldonDeploymentStatus            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The status of a Seldon Deployment.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>state</code></td>
        <td><code>SeldonDeploymentStatusState</code></td>
        <td><p>the current state of the Seldon Deployment.</p></td>
      </tr>
      <tr>
        <td><code>description</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>a human-readable description of the current state.</p></td>
      </tr>
      <tr>
        <td><code>replicas</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>the current number of running pod replicas</p></td>
      </tr>
      <tr>
        <td><code>address</code></td>
        <td><code>Optional[zenml.integrations.seldon.seldon_client.SeldonDeploymentStatusAddress]</code></td>
        <td><p>the address where the Seldon Deployment API can be accessed.</p></td>
      </tr>
      <tr>
        <td><code>conditions</code></td>
        <td><code>List[zenml.integrations.seldon.seldon_client.SeldonDeploymentStatusCondition]</code></td>
        <td><p>the list of Kubernetes conditions for the Seldon Deployment.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentStatus</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The status of a Seldon Deployment.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        state: the current state of the Seldon Deployment.</span>
<span class="sd">        description: a human-readable description of the current state.</span>
<span class="sd">        replicas: the current number of running pod replicas</span>
<span class="sd">        address: the address where the Seldon Deployment API can be accessed.</span>
<span class="sd">        conditions: the list of Kubernetes conditions for the Seldon Deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">state</span><span class="p">:</span> <span class="n">SeldonDeploymentStatusState</span> <span class="o">=</span> <span class="n">SeldonDeploymentStatusState</span><span class="o">.</span><span class="n">UNKNOWN</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">replicas</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">address</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SeldonDeploymentStatusAddress</span><span class="p">]</span>
    <span class="n">conditions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SeldonDeploymentStatusCondition</span><span class="p">]</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># validate attribute assignments</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># Ignore extra attributes from the CRD that are not reflected here</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentStatus.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># validate attribute assignments</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Ignore extra attributes from the CRD that are not reflected here</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>









  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentStatusAddress" class="doc doc-heading">
        <code>
SeldonDeploymentStatusAddress            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The status address for a Seldon Deployment.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>url</code></td>
        <td><code>str</code></td>
        <td><p>the URL where the Seldon Deployment API can be accessed internally.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentStatusAddress</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The status address for a Seldon Deployment.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        url: the URL where the Seldon Deployment API can be accessed internally.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentStatusCondition" class="doc doc-heading">
        <code>
SeldonDeploymentStatusCondition            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The Kubernetes status condition entry for a Seldon Deployment.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>str</code></td>
        <td><p>Type of runtime condition.</p></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>bool</code></td>
        <td><p>Status of the condition.</p></td>
      </tr>
      <tr>
        <td><code>reason</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Brief CamelCase string containing reason for the condition's
last transition.</p></td>
      </tr>
      <tr>
        <td><code>message</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Human-readable message indicating details about last
transition.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentStatusCondition</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The Kubernetes status condition entry for a Seldon Deployment.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: Type of runtime condition.</span>
<span class="sd">        status: Status of the condition.</span>
<span class="sd">        reason: Brief CamelCase string containing reason for the condition&#39;s</span>
<span class="sd">            last transition.</span>
<span class="sd">        message: Human-readable message indicating details about last</span>
<span class="sd">            transition.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">status</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">reason</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">message</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.seldon.seldon_client.SeldonDeploymentStatusState" class="doc doc-heading">
        <code>
SeldonDeploymentStatusState            (<a class="autorefs autorefs-internal" title="zenml.utils.enum_utils.StrEnum" href="../utils/#zenml.utils.enum_utils.StrEnum">StrEnum</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Possible state values for a Seldon Deployment.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/seldon_client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentStatusState</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Possible state values for a Seldon Deployment.&quot;&quot;&quot;</span>

    <span class="n">UNKNOWN</span> <span class="o">=</span> <span class="s2">&quot;Unknown&quot;</span>
    <span class="n">AVAILABLE</span> <span class="o">=</span> <span class="s2">&quot;Available&quot;</span>
    <span class="n">CREATING</span> <span class="o">=</span> <span class="s2">&quot;Creating&quot;</span>
    <span class="n">FAILED</span> <span class="o">=</span> <span class="s2">&quot;Failed&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">















  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.seldon.services" class="doc doc-heading">
        <code>services</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization for Seldon services.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.seldon.services.seldon_deployment" class="doc doc-heading">
        <code>seldon_deployment</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation for the Seldon Deployment step.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentConfig" class="doc doc-heading">
        <code>
SeldonDeploymentConfig            (<a class="autorefs autorefs-internal" title="zenml.services.service.ServiceConfig" href="../services/#zenml.services.service.ServiceConfig">ServiceConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Seldon Core deployment service configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_uri</code></td>
        <td><code>str</code></td>
        <td><p>URI of the model (or models) to serve.</p></td>
      </tr>
      <tr>
        <td><code>model_name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the model. Multiple versions of the same model
should use the same model name.</p></td>
      </tr>
      <tr>
        <td><code>implementation</code></td>
        <td><code>str</code></td>
        <td><p>the Seldon Core implementation used to serve the model.</p></td>
      </tr>
      <tr>
        <td><code>replicas</code></td>
        <td><code>int</code></td>
        <td><p>number of replicas to use for the prediction service.</p></td>
      </tr>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the name of a Kubernetes secret containing additional
configuration parameters for the Seldon Core deployment (e.g.
credentials to access the Artifact Store).</p></td>
      </tr>
      <tr>
        <td><code>model_metadata</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>optional model metadata information (see
https://docs.seldon.io/projects/seldon-core/en/latest/reference/apis/metadata.html).</p></td>
      </tr>
      <tr>
        <td><code>extra_args</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>additional arguments to pass to the Seldon Core deployment
resource configuration.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/services/seldon_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentConfig</span><span class="p">(</span><span class="n">ServiceConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Seldon Core deployment service configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        model_uri: URI of the model (or models) to serve.</span>
<span class="sd">        model_name: the name of the model. Multiple versions of the same model</span>
<span class="sd">            should use the same model name.</span>
<span class="sd">        implementation: the Seldon Core implementation used to serve the model.</span>
<span class="sd">        replicas: number of replicas to use for the prediction service.</span>
<span class="sd">        secret_name: the name of a Kubernetes secret containing additional</span>
<span class="sd">            configuration parameters for the Seldon Core deployment (e.g.</span>
<span class="sd">            credentials to access the Artifact Store).</span>
<span class="sd">        model_metadata: optional model metadata information (see</span>
<span class="sd">            https://docs.seldon.io/projects/seldon-core/en/latest/reference/apis/metadata.html).</span>
<span class="sd">        extra_args: additional arguments to pass to the Seldon Core deployment</span>
<span class="sd">            resource configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
    <span class="c1"># TODO [ENG-775]: have an enum of all supported Seldon Core implementations</span>
    <span class="n">implementation</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">replicas</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">secret_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">model_metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">extra_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_seldon_deployment_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Generate labels for the Seldon Core deployment from the service configuration.</span>

<span class="sd">        These labels are attached to the Seldon Core deployment resource</span>
<span class="sd">        and may be used as label selectors in lookup operations.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The labels for the Seldon Core deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">:</span>
            <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.pipeline_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_name</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">:</span>
            <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.pipeline_run_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_run_id</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_step_name</span><span class="p">:</span>
            <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.pipeline_step_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_step_name</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_name</span><span class="p">:</span>
            <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.model_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_name</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_uri</span><span class="p">:</span>
            <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.model_uri&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_uri</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">implementation</span><span class="p">:</span>
            <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.model_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">implementation</span>
        <span class="n">SeldonClient</span><span class="o">.</span><span class="n">sanitize_labels</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">labels</span>

    <span class="k">def</span> <span class="nf">get_seldon_deployment_annotations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Generate annotations for the Seldon Core deployment from the service configuration.</span>

<span class="sd">        The annotations are used to store additional information about the</span>
<span class="sd">        Seldon Core service that is associated with the deployment that is</span>
<span class="sd">        not available in the labels. One annotation particularly important</span>
<span class="sd">        is the serialized Service configuration itself, which is used to</span>
<span class="sd">        recreate the service configuration from a remote Seldon deployment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The annotations for the Seldon Core deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">annotations</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;zenml.service_config&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
            <span class="s2">&quot;zenml.version&quot;</span><span class="p">:</span> <span class="n">__version__</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">annotations</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_deployment</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">deployment</span><span class="p">:</span> <span class="n">SeldonDeployment</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SeldonDeploymentConfig&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Recreate the configuration of a Seldon Core Service from a deployed instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: the Seldon Core deployment resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Seldon Core service configuration corresponding to the given</span>
<span class="sd">            Seldon Core deployment resource.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the given deployment resource does not contain</span>
<span class="sd">                the expected annotations or it contains an invalid or</span>
<span class="sd">                incompatible Seldon Core service configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config_data</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">annotations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;zenml.service_config&quot;</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config_data</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The given deployment resource does not contain a &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;zenml.service_config&#39; annotation: </span><span class="si">{</span><span class="n">deployment</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">service_config</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="n">config_data</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The loaded Seldon Core deployment resource contains an &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;invalid or incompatible Seldon Core service configuration: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">config_data</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
        <span class="k">return</span> <span class="n">service_config</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentConfig.create_from_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_deployment</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Recreate the configuration of a Seldon Core Service from a deployed instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>SeldonDeployment</code></td>
        <td><p>the Seldon Core deployment resource.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SeldonDeploymentConfig</code></td>
      <td><p>The Seldon Core service configuration corresponding to the given
Seldon Core deployment resource.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the given deployment resource does not contain
the expected annotations or it contains an invalid or
incompatible Seldon Core service configuration.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/services/seldon_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_deployment</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">deployment</span><span class="p">:</span> <span class="n">SeldonDeployment</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SeldonDeploymentConfig&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Recreate the configuration of a Seldon Core Service from a deployed instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: the Seldon Core deployment resource.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Seldon Core service configuration corresponding to the given</span>
<span class="sd">        Seldon Core deployment resource.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if the given deployment resource does not contain</span>
<span class="sd">            the expected annotations or it contains an invalid or</span>
<span class="sd">            incompatible Seldon Core service configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config_data</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">annotations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;zenml.service_config&quot;</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">config_data</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The given deployment resource does not contain a &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;zenml.service_config&#39; annotation: </span><span class="si">{</span><span class="n">deployment</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">service_config</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="n">config_data</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The loaded Seldon Core deployment resource contains an &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;invalid or incompatible Seldon Core service configuration: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">config_data</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
    <span class="k">return</span> <span class="n">service_config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentConfig.get_seldon_deployment_annotations" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_seldon_deployment_annotations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Generate annotations for the Seldon Core deployment from the service configuration.</p>
<p>The annotations are used to store additional information about the
Seldon Core service that is associated with the deployment that is
not available in the labels. One annotation particularly important
is the serialized Service configuration itself, which is used to
recreate the service configuration from a remote Seldon deployment.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, str]</code></td>
      <td><p>The annotations for the Seldon Core deployment.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/services/seldon_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_seldon_deployment_annotations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Generate annotations for the Seldon Core deployment from the service configuration.</span>

<span class="sd">    The annotations are used to store additional information about the</span>
<span class="sd">    Seldon Core service that is associated with the deployment that is</span>
<span class="sd">    not available in the labels. One annotation particularly important</span>
<span class="sd">    is the serialized Service configuration itself, which is used to</span>
<span class="sd">    recreate the service configuration from a remote Seldon deployment.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The annotations for the Seldon Core deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">annotations</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;zenml.service_config&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
        <span class="s2">&quot;zenml.version&quot;</span><span class="p">:</span> <span class="n">__version__</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">annotations</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentConfig.get_seldon_deployment_labels" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_seldon_deployment_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Generate labels for the Seldon Core deployment from the service configuration.</p>
<p>These labels are attached to the Seldon Core deployment resource
and may be used as label selectors in lookup operations.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, str]</code></td>
      <td><p>The labels for the Seldon Core deployment.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/services/seldon_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_seldon_deployment_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Generate labels for the Seldon Core deployment from the service configuration.</span>

<span class="sd">    These labels are attached to the Seldon Core deployment resource</span>
<span class="sd">    and may be used as label selectors in lookup operations.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The labels for the Seldon Core deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">:</span>
        <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.pipeline_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_name</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">:</span>
        <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.pipeline_run_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_run_id</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_step_name</span><span class="p">:</span>
        <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.pipeline_step_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_step_name</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_name</span><span class="p">:</span>
        <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.model_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_name</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_uri</span><span class="p">:</span>
        <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.model_uri&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_uri</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">implementation</span><span class="p">:</span>
        <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.model_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">implementation</span>
    <span class="n">SeldonClient</span><span class="o">.</span><span class="n">sanitize_labels</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">labels</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentService" class="doc doc-heading">
        <code>
SeldonDeploymentService            (<a class="autorefs autorefs-internal" title="zenml.services.service.BaseService" href="../services/#zenml.services.service.BaseService">BaseService</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A service that represents a Seldon Core deployment server.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>SeldonDeploymentConfig</code></td>
        <td><p>service configuration.</p></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>SeldonDeploymentServiceStatus</code></td>
        <td><p>service status.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/services/seldon_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentService</span><span class="p">(</span><span class="n">BaseService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A service that represents a Seldon Core deployment server.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: service configuration.</span>
<span class="sd">        status: service status.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">SERVICE_TYPE</span> <span class="o">=</span> <span class="n">ServiceType</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;seldon-deployment&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;model-serving&quot;</span><span class="p">,</span>
        <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;seldon&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Seldon Core prediction service&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">SeldonDeploymentConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">SeldonDeploymentConfig</span>
    <span class="p">)</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">SeldonDeploymentServiceStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">SeldonDeploymentServiceStatus</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SeldonClient</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the Seldon Core client from the active Seldon Core model deployer.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Seldon Core client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.seldon.model_deployers.seldon_model_deployer</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">SeldonModelDeployer</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">model_deployer</span> <span class="o">=</span> <span class="n">SeldonModelDeployer</span><span class="o">.</span><span class="n">get_active_model_deployer</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">model_deployer</span><span class="o">.</span><span class="n">seldon_client</span>

    <span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Check the the current operational state of the Seldon Core deployment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The operational state of the Seldon Core deployment and a message</span>
<span class="sd">            providing additional information about that state (e.g. a</span>
<span class="sd">            description of the error, if one is encountered).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client</span><span class="p">()</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seldon_deployment_name</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">deployment</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">is_available</span><span class="p">():</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;Seldon Core deployment &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; is available&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">is_failed</span><span class="p">():</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;Seldon Core deployment &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; failed: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">deployment</span><span class="o">.</span><span class="n">get_error</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">pending_message</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">get_pending_message</span><span class="p">()</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">ServiceState</span><span class="o">.</span><span class="n">PENDING_STARTUP</span><span class="p">,</span>
            <span class="s2">&quot;Seldon Core deployment is being created: &quot;</span> <span class="o">+</span> <span class="n">pending_message</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">seldon_deployment_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the name of the Seldon Core deployment.</span>

<span class="sd">        It should return the one that uniquely corresponds to this service instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the Seldon Core deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;zenml-</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">_get_seldon_deployment_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Generate the labels for the Seldon Core deployment from the service configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The labels for the Seldon Core deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_seldon_deployment_labels</span><span class="p">()</span>
        <span class="n">labels</span><span class="p">[</span><span class="s2">&quot;zenml.service_uuid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>
        <span class="n">SeldonClient</span><span class="o">.</span><span class="n">sanitize_labels</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">labels</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_from_deployment</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">deployment</span><span class="p">:</span> <span class="n">SeldonDeployment</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SeldonDeploymentService&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Recreate a Seldon Core service from a Seldon Core deployment resource.</span>

<span class="sd">        It should then update their operational status.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: the Seldon Core deployment resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Seldon Core service corresponding to the given</span>
<span class="sd">            Seldon Core deployment resource.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the given deployment resource does not contain</span>
<span class="sd">                the expected service_uuid label.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">SeldonDeploymentConfig</span><span class="o">.</span><span class="n">create_from_deployment</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span>
        <span class="n">uuid</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;zenml.service_uuid&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">uuid</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The given deployment resource does not contain a valid &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;zenml.service_uuid&#39; label: </span><span class="si">{</span><span class="n">deployment</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="n">service</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">UUID</span><span class="p">(</span><span class="n">uuid</span><span class="p">),</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
        <span class="n">service</span><span class="o">.</span><span class="n">update_status</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Provision or update remote Seldon Core deployment instance.</span>

<span class="sd">        This should then match the current configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client</span><span class="p">()</span>

        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seldon_deployment_name</span>

        <span class="n">deployment</span> <span class="o">=</span> <span class="n">SeldonDeployment</span><span class="o">.</span><span class="n">build</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">model_uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_uri</span><span class="p">,</span>
            <span class="n">model_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span>
            <span class="n">implementation</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">implementation</span><span class="p">,</span>
            <span class="n">secret_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_name</span><span class="p">,</span>
            <span class="n">labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_seldon_deployment_labels</span><span class="p">(),</span>
            <span class="n">annotations</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_seldon_deployment_annotations</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="n">deployment</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">replicas</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">replicas</span>
        <span class="n">deployment</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">predictors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replicas</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">replicas</span>

        <span class="c1"># check if the Seldon deployment already exists</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">client</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
            <span class="c1"># update the existing deployment</span>
            <span class="n">client</span><span class="o">.</span><span class="n">update_deployment</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">:</span>
            <span class="c1"># create the deployment</span>
            <span class="n">client</span><span class="o">.</span><span class="n">create_deployment</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Deprovision the remote Seldon Core deployment instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            force: if True, the remote deployment instance will be</span>
<span class="sd">                forcefully deprovisioned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client</span><span class="p">()</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seldon_deployment_name</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">client</span><span class="o">.</span><span class="n">delete_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">get_logs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get the logs of a Seldon Core model deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            follow: if True, the logs will be streamed as they are written</span>
<span class="sd">            tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A generator that can be accessed to get the service logs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client</span><span class="p">()</span><span class="o">.</span><span class="n">get_deployment_logs</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">seldon_deployment_name</span><span class="p">,</span>
            <span class="n">follow</span><span class="o">=</span><span class="n">follow</span><span class="p">,</span>
            <span class="n">tail</span><span class="o">=</span><span class="n">tail</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prediction_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The prediction URI exposed by the prediction service.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The prediction URI exposed by the prediction service, or None if</span>
<span class="sd">            the service is not yet ready.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.seldon.model_deployers.seldon_model_deployer</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">SeldonModelDeployer</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">namespace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client</span><span class="p">()</span><span class="o">.</span><span class="n">namespace</span>
        <span class="n">model_deployer</span> <span class="o">=</span> <span class="n">SeldonModelDeployer</span><span class="o">.</span><span class="n">get_active_model_deployer</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">model_deployer</span><span class="o">.</span><span class="n">base_url</span><span class="p">,</span>
            <span class="s2">&quot;seldon&quot;</span><span class="p">,</span>
            <span class="n">namespace</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">seldon_deployment_name</span><span class="p">,</span>
            <span class="s2">&quot;api/v0.1/predictions&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="s2">&quot;NDArray[Any]&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NDArray[Any]&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Make a prediction using the service.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: a numpy array representing the request</span>

<span class="sd">        Returns:</span>
<span class="sd">            A numpy array representing the prediction returned by the service.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: if the service is not yet ready.</span>
<span class="sd">            ValueError: if the prediction_url is not set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;Seldon prediction service is not running. &quot;</span>
                <span class="s2">&quot;Please start the service before making predictions.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">prediction_url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;`self.prediction_url` is not set, cannot post.&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prediction_url</span><span class="p">,</span>
            <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;ndarray&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">tolist</span><span class="p">()}},</span>
        <span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;ndarray&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentService.prediction_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prediction_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>The prediction URI exposed by the prediction service.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The prediction URI exposed by the prediction service, or None if
the service is not yet ready.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentService.seldon_deployment_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">seldon_deployment_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Get the name of the Seldon Core deployment.</p>
<p>It should return the one that uniquely corresponds to this service instance.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The name of the Seldon Core deployment.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentService.check_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Check the the current operational state of the Seldon Core deployment.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.services.service_status.ServiceState, str]</code></td>
      <td><p>The operational state of the Seldon Core deployment and a message
providing additional information about that state (e.g. a
description of the error, if one is encountered).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/services/seldon_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Check the the current operational state of the Seldon Core deployment.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The operational state of the Seldon Core deployment and a message</span>
<span class="sd">        providing additional information about that state (e.g. a</span>
<span class="sd">        description of the error, if one is encountered).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client</span><span class="p">()</span>
    <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seldon_deployment_name</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">deployment</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">is_available</span><span class="p">():</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;Seldon Core deployment &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; is available&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">is_failed</span><span class="p">():</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;Seldon Core deployment &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; failed: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">deployment</span><span class="o">.</span><span class="n">get_error</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">pending_message</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">get_pending_message</span><span class="p">()</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="n">ServiceState</span><span class="o">.</span><span class="n">PENDING_STARTUP</span><span class="p">,</span>
        <span class="s2">&quot;Seldon Core deployment is being created: &quot;</span> <span class="o">+</span> <span class="n">pending_message</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentService.create_from_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_from_deployment</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Recreate a Seldon Core service from a Seldon Core deployment resource.</p>
<p>It should then update their operational status.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>SeldonDeployment</code></td>
        <td><p>the Seldon Core deployment resource.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SeldonDeploymentService</code></td>
      <td><p>The Seldon Core service corresponding to the given
Seldon Core deployment resource.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the given deployment resource does not contain
the expected service_uuid label.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/services/seldon_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_from_deployment</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">deployment</span><span class="p">:</span> <span class="n">SeldonDeployment</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SeldonDeploymentService&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Recreate a Seldon Core service from a Seldon Core deployment resource.</span>

<span class="sd">    It should then update their operational status.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: the Seldon Core deployment resource.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Seldon Core service corresponding to the given</span>
<span class="sd">        Seldon Core deployment resource.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if the given deployment resource does not contain</span>
<span class="sd">            the expected service_uuid label.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">SeldonDeploymentConfig</span><span class="o">.</span><span class="n">create_from_deployment</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span>
    <span class="n">uuid</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;zenml.service_uuid&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">uuid</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The given deployment resource does not contain a valid &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;zenml.service_uuid&#39; label: </span><span class="si">{</span><span class="n">deployment</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="n">service</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">UUID</span><span class="p">(</span><span class="n">uuid</span><span class="p">),</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
    <span class="n">service</span><span class="o">.</span><span class="n">update_status</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">service</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentService.deprovision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Deprovision the remote Seldon Core deployment instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the remote deployment instance will be
forcefully deprovisioned.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/services/seldon_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Deprovision the remote Seldon Core deployment instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        force: if True, the remote deployment instance will be</span>
<span class="sd">            forcefully deprovisioned.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client</span><span class="p">()</span>
    <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seldon_deployment_name</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">client</span><span class="o">.</span><span class="n">delete_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">:</span>
        <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentService.get_logs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Get the logs of a Seldon Core model deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>follow</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the logs will be streamed as they are written</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>tail</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>only retrieve the last NUM lines of log output.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Generator[str, bool, NoneType]</code></td>
      <td><p>A generator that can be accessed to get the service logs.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/services/seldon_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_logs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get the logs of a Seldon Core model deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        follow: if True, the logs will be streamed as they are written</span>
<span class="sd">        tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A generator that can be accessed to get the service logs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client</span><span class="p">()</span><span class="o">.</span><span class="n">get_deployment_logs</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seldon_deployment_name</span><span class="p">,</span>
        <span class="n">follow</span><span class="o">=</span><span class="n">follow</span><span class="p">,</span>
        <span class="n">tail</span><span class="o">=</span><span class="n">tail</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentService.predict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Make a prediction using the service.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>NDArray[Any]</code></td>
        <td><p>a numpy array representing the request</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>NDArray[Any]</code></td>
      <td><p>A numpy array representing the prediction returned by the service.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>Exception</code></td>
        <td><p>if the service is not yet ready.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the prediction_url is not set.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/services/seldon_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="s2">&quot;NDArray[Any]&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NDArray[Any]&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Make a prediction using the service.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: a numpy array representing the request</span>

<span class="sd">    Returns:</span>
<span class="sd">        A numpy array representing the prediction returned by the service.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: if the service is not yet ready.</span>
<span class="sd">        ValueError: if the prediction_url is not set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;Seldon prediction service is not running. &quot;</span>
            <span class="s2">&quot;Please start the service before making predictions.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">prediction_url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;`self.prediction_url` is not set, cannot post.&quot;</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prediction_url</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;ndarray&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">tolist</span><span class="p">()}},</span>
    <span class="p">)</span>
    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;data&quot;</span><span class="p">][</span><span class="s2">&quot;ndarray&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentService.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Provision or update remote Seldon Core deployment instance.</p>
<p>This should then match the current configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/services/seldon_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Provision or update remote Seldon Core deployment instance.</span>

<span class="sd">    This should then match the current configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_client</span><span class="p">()</span>

    <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seldon_deployment_name</span>

    <span class="n">deployment</span> <span class="o">=</span> <span class="n">SeldonDeployment</span><span class="o">.</span><span class="n">build</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">model_uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_uri</span><span class="p">,</span>
        <span class="n">model_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span>
        <span class="n">implementation</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">implementation</span><span class="p">,</span>
        <span class="n">secret_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_name</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_seldon_deployment_labels</span><span class="p">(),</span>
        <span class="n">annotations</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_seldon_deployment_annotations</span><span class="p">(),</span>
    <span class="p">)</span>
    <span class="n">deployment</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">replicas</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">replicas</span>
    <span class="n">deployment</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">predictors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replicas</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">replicas</span>

    <span class="c1"># check if the Seldon deployment already exists</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">client</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="c1"># update the existing deployment</span>
        <span class="n">client</span><span class="o">.</span><span class="n">update_deployment</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">SeldonDeploymentNotFoundError</span><span class="p">:</span>
        <span class="c1"># create the deployment</span>
        <span class="n">client</span><span class="o">.</span><span class="n">create_deployment</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.services.seldon_deployment.SeldonDeploymentServiceStatus" class="doc doc-heading">
        <code>
SeldonDeploymentServiceStatus            (<a class="autorefs autorefs-internal" title="zenml.services.service_status.ServiceStatus" href="../services/#zenml.services.service_status.ServiceStatus">ServiceStatus</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Seldon Core deployment service status.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/services/seldon_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeploymentServiceStatus</span><span class="p">(</span><span class="n">ServiceStatus</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Seldon Core deployment service status.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.seldon.steps" class="doc doc-heading">
        <code>steps</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization for Seldon steps.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.seldon.steps.seldon_deployer" class="doc doc-heading">
        <code>seldon_deployer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the Seldon Deployer step.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.steps.seldon_deployer.SeldonDeployerStepConfig" class="doc doc-heading">
        <code>
SeldonDeployerStepConfig            (<a class="autorefs autorefs-internal" title="zenml.steps.base_step_config.BaseStepConfig" href="../steps/#zenml.steps.base_step_config.BaseStepConfig">BaseStepConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Seldon model deployer step configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_config</code></td>
        <td><code>SeldonDeploymentConfig</code></td>
        <td><p>Seldon Core deployment service configuration.</p></td>
      </tr>
      <tr>
        <td><code>secrets</code></td>
        <td></td>
        <td><p>a list of ZenML secrets containing additional configuration
parameters for the Seldon Core deployment (e.g. credentials to
access the Artifact Store where the models are stored). If supplied,
the information fetched from these secrets is passed to the Seldon
Core deployment server as a list of environment variables.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/steps/seldon_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeployerStepConfig</span><span class="p">(</span><span class="n">BaseStepConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Seldon model deployer step configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        service_config: Seldon Core deployment service configuration.</span>
<span class="sd">        secrets: a list of ZenML secrets containing additional configuration</span>
<span class="sd">            parameters for the Seldon Core deployment (e.g. credentials to</span>
<span class="sd">            access the Artifact Store where the models are stored). If supplied,</span>
<span class="sd">            the information fetched from these secrets is passed to the Seldon</span>
<span class="sd">            Core deployment server as a list of environment variables.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">service_config</span><span class="p">:</span> <span class="n">SeldonDeploymentConfig</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SELDON_DEPLOYMENT_START_STOP_TIMEOUT</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.seldon.steps.seldon_deployer.seldon_model_deployer_step" class="doc doc-heading">
        <code>
seldon_model_deployer_step            (<a class="autorefs autorefs-internal" title="zenml.steps.base_step.BaseStep" href="../steps/#zenml.steps.base_step.BaseStep">BaseStep</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Seldon Core model deployer pipeline step.</p>
<p>This step can be used in a pipeline to implement continuous
deployment for a ML model with Seldon Core.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deploy_decision</code></td>
        <td></td>
        <td><p>whether to deploy the model or not</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td></td>
        <td><p>configuration for the deployer step</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model</code></td>
        <td></td>
        <td><p>the model artifact to deploy</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>context</code></td>
        <td></td>
        <td><p>the step context</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>Seldon Core deployment service</p></td>
    </tr>
  </tbody>
</table>



  <div class="doc doc-children">















  <div class="doc doc-object doc-class">



<h7 id="zenml.integrations.seldon.steps.seldon_deployer.seldon_model_deployer_step.CONFIG_CLASS" class="doc doc-heading">
        <code>
CONFIG_CLASS            (<a class="autorefs autorefs-internal" title="zenml.steps.base_step_config.BaseStepConfig" href="../steps/#zenml.steps.base_step_config.BaseStepConfig">BaseStepConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Seldon model deployer step configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_config</code></td>
        <td><code>SeldonDeploymentConfig</code></td>
        <td><p>Seldon Core deployment service configuration.</p></td>
      </tr>
      <tr>
        <td><code>secrets</code></td>
        <td></td>
        <td><p>a list of ZenML secrets containing additional configuration
parameters for the Seldon Core deployment (e.g. credentials to
access the Artifact Store where the models are stored). If supplied,
the information fetched from these secrets is passed to the Seldon
Core deployment server as a list of environment variables.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/steps/seldon_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SeldonDeployerStepConfig</span><span class="p">(</span><span class="n">BaseStepConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Seldon model deployer step configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        service_config: Seldon Core deployment service configuration.</span>
<span class="sd">        secrets: a list of ZenML secrets containing additional configuration</span>
<span class="sd">            parameters for the Seldon Core deployment (e.g. credentials to</span>
<span class="sd">            access the Artifact Store where the models are stored). If supplied,</span>
<span class="sd">            the information fetched from these secrets is passed to the Seldon</span>
<span class="sd">            Core deployment server as a list of environment variables.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">service_config</span><span class="p">:</span> <span class="n">SeldonDeploymentConfig</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_SELDON_DEPLOYMENT_START_STOP_TIMEOUT</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">















  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.seldon.steps.seldon_deployer.seldon_model_deployer_step.entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entrypoint</span><span class="p">(</span><span class="n">deploy_decision</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Seldon Core model deployer pipeline step.</p>
<p>This step can be used in a pipeline to implement continuous
deployment for a ML model with Seldon Core.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deploy_decision</code></td>
        <td><code>bool</code></td>
        <td><p>whether to deploy the model or not</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>SeldonDeployerStepConfig</code></td>
        <td><p>configuration for the deployer step</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model</code></td>
        <td><code>ModelArtifact</code></td>
        <td><p>the model artifact to deploy</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>context</code></td>
        <td><code>StepContext</code></td>
        <td><p>the step context</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SeldonDeploymentService</code></td>
      <td><p>Seldon Core deployment service</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/seldon/steps/seldon_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@step</span><span class="p">(</span><span class="n">enable_cache</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">seldon_model_deployer_step</span><span class="p">(</span>
    <span class="n">deploy_decision</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">SeldonDeployerStepConfig</span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">StepContext</span><span class="p">,</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">ModelArtifact</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SeldonDeploymentService</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Seldon Core model deployer pipeline step.</span>

<span class="sd">    This step can be used in a pipeline to implement continuous</span>
<span class="sd">    deployment for a ML model with Seldon Core.</span>

<span class="sd">    Args:</span>
<span class="sd">        deploy_decision: whether to deploy the model or not</span>
<span class="sd">        config: configuration for the deployer step</span>
<span class="sd">        model: the model artifact to deploy</span>
<span class="sd">        context: the step context</span>

<span class="sd">    Returns:</span>
<span class="sd">        Seldon Core deployment service</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_deployer</span> <span class="o">=</span> <span class="n">SeldonModelDeployer</span><span class="o">.</span><span class="n">get_active_model_deployer</span><span class="p">()</span>

    <span class="c1"># get pipeline name, step name and run id</span>
    <span class="n">step_env</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">StepEnvironment</span><span class="p">,</span> <span class="n">Environment</span><span class="p">()[</span><span class="n">STEP_ENVIRONMENT_NAME</span><span class="p">])</span>
    <span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_name</span>
    <span class="n">pipeline_run_id</span> <span class="o">=</span> <span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_run_id</span>
    <span class="n">step_name</span> <span class="o">=</span> <span class="n">step_env</span><span class="o">.</span><span class="n">step_name</span>

    <span class="c1"># update the step configuration with the real pipeline runtime information</span>
    <span class="n">config</span><span class="o">.</span><span class="n">service_config</span><span class="o">.</span><span class="n">pipeline_name</span> <span class="o">=</span> <span class="n">pipeline_name</span>
    <span class="n">config</span><span class="o">.</span><span class="n">service_config</span><span class="o">.</span><span class="n">pipeline_run_id</span> <span class="o">=</span> <span class="n">pipeline_run_id</span>
    <span class="n">config</span><span class="o">.</span><span class="n">service_config</span><span class="o">.</span><span class="n">pipeline_step_name</span> <span class="o">=</span> <span class="n">step_name</span>

    <span class="k">def</span> <span class="nf">prepare_service_config</span><span class="p">(</span><span class="n">model_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SeldonDeploymentConfig</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Prepare the model files for model serving.</span>

<span class="sd">        This creates and returns a Seldon service configuration for the model.</span>

<span class="sd">        This function ensures that the model files are in the correct format</span>
<span class="sd">        and file structure required by the Seldon Core server implementation</span>
<span class="sd">        used for model serving.</span>

<span class="sd">        Args:</span>
<span class="sd">            model_uri: the URI of the model artifact being served</span>

<span class="sd">        Returns:</span>
<span class="sd">            The URL to the model ready for serving.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the model files were not found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">served_model_uri</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">context</span><span class="o">.</span><span class="n">get_output_artifact_uri</span><span class="p">(),</span> <span class="s2">&quot;seldon&quot;</span>
        <span class="p">)</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">served_model_uri</span><span class="p">)</span>

        <span class="c1"># TODO [ENG-773]: determine how to formalize how models are organized into</span>
        <span class="c1">#   folders and sub-folders depending on the model type/format and the</span>
        <span class="c1">#   Seldon Core protocol used to serve the model.</span>

        <span class="c1"># TODO [ENG-791]: auto-detect built-in Seldon server implementation</span>
        <span class="c1">#   from the model artifact type</span>

        <span class="c1"># TODO [ENG-792]: validate the model artifact type against the</span>
        <span class="c1">#   supported built-in Seldon server implementations</span>
        <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">service_config</span><span class="o">.</span><span class="n">implementation</span> <span class="o">==</span> <span class="s2">&quot;TENSORFLOW_SERVER&quot;</span><span class="p">:</span>
            <span class="c1"># the TensorFlow server expects model artifacts to be</span>
            <span class="c1"># stored in numbered subdirectories, each representing a model</span>
            <span class="c1"># version</span>
            <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span><span class="n">model_uri</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">served_model_uri</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">config</span><span class="o">.</span><span class="n">service_config</span><span class="o">.</span><span class="n">implementation</span> <span class="o">==</span> <span class="s2">&quot;SKLEARN_SERVER&quot;</span><span class="p">:</span>
            <span class="c1"># the sklearn server expects model artifacts to be</span>
            <span class="c1"># stored in a file called model.joblib</span>
            <span class="n">model_uri</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="s2">&quot;model&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">uri</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Expected sklearn model artifact was not found at &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">model_uri</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span>
                <span class="n">model_uri</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">served_model_uri</span><span class="p">,</span> <span class="s2">&quot;model.joblib&quot;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># default treatment for all other server implementations is to</span>
            <span class="c1"># simply reuse the model from the artifact store path where it</span>
            <span class="c1"># is originally stored</span>
            <span class="n">served_model_uri</span> <span class="o">=</span> <span class="n">model_uri</span>

        <span class="n">service_config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">service_config</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">service_config</span><span class="o">.</span><span class="n">model_uri</span> <span class="o">=</span> <span class="n">served_model_uri</span>
        <span class="k">return</span> <span class="n">service_config</span>

    <span class="c1"># fetch existing services with same pipeline name, step name and</span>
    <span class="c1"># model name</span>
    <span class="n">existing_services</span> <span class="o">=</span> <span class="n">model_deployer</span><span class="o">.</span><span class="n">find_model_server</span><span class="p">(</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">pipeline_name</span><span class="p">,</span>
        <span class="n">pipeline_step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">,</span>
        <span class="n">model_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">service_config</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># even when the deploy decision is negative, if an existing model server</span>
    <span class="c1"># is not running for this pipeline/step, we still have to serve the</span>
    <span class="c1"># current model, to ensure that a model server is available at all times</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">deploy_decision</span> <span class="ow">and</span> <span class="n">existing_services</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Skipping model deployment because the model quality does not &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;meet the criteria. Reusing last model server deployed by step &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&#39; and pipeline &#39;</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">&#39; for model &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">service_config</span><span class="o">.</span><span class="n">model_name</span><span class="si">}</span><span class="s2">&#39;...&quot;</span>
        <span class="p">)</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SeldonDeploymentService</span><span class="p">,</span> <span class="n">existing_services</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="c1"># even when the deploy decision is negative, we still need to start</span>
        <span class="c1"># the previous model server if it is no longer running, to ensure that</span>
        <span class="c1"># a model server is available at all times</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">service</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="c1"># invoke the Seldon Core model deployer to create a new service</span>
    <span class="c1"># or update an existing one that was previously deployed for the same</span>
    <span class="c1"># model</span>
    <span class="n">service_config</span> <span class="o">=</span> <span class="n">prepare_service_config</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
    <span class="n">service</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
        <span class="n">SeldonDeploymentService</span><span class="p">,</span>
        <span class="n">model_deployer</span><span class="o">.</span><span class="n">deploy_model</span><span class="p">(</span>
            <span class="n">service_config</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">timeout</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Seldon deployment service started and reachable at:</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;    </span><span class="si">{</span><span class="n">service</span><span class="o">.</span><span class="n">prediction_url</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">service</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.sklearn" class="doc doc-heading">
        <code>sklearn</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the sklearn integration.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.sklearn.SklearnIntegration" class="doc doc-heading">
        <code>
SklearnIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of sklearn integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SklearnIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of sklearn integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">SKLEARN</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;scikit-learn&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.sklearn</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.sklearn.SklearnIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Activates the integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.sklearn</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.sklearn.helpers" class="doc doc-heading">
        <code>helpers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization for helper functions for the sklearn digits dataset.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.sklearn.helpers.digits" class="doc doc-heading">
        <code>digits</code>



</h5>

    <div class="doc doc-contents ">

      <p>Helper functions for the sklearn digits dataset.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.sklearn.helpers.digits.get_digits" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_digits</span><span class="p">()</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Returns the digits dataset in the form of a tuple of numpy arrays.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[NDArray[np.float64], NDArray[np.float64], NDArray[np.int64], NDArray[np.int64]]</code></td>
      <td><p>Tuple of (training_images, testing_images, training_labels, testing_labels)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/helpers/digits.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_digits</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span>
    <span class="s2">&quot;NDArray[np.float64]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NDArray[np.float64]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NDArray[np.int64]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NDArray[np.int64]&quot;</span><span class="p">,</span>
<span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Returns the digits dataset in the form of a tuple of numpy arrays.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple of (training_images, testing_images, training_labels, testing_labels)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">digits</span> <span class="o">=</span> <span class="n">load_digits</span><span class="p">()</span>
    <span class="c1"># flatten the images</span>
    <span class="n">n_samples</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">digits</span><span class="o">.</span><span class="n">images</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">digits</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">n_samples</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1"># Split data into 50% train and 50% test subsets</span>
    <span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
        <span class="n">data</span><span class="p">,</span> <span class="n">digits</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.sklearn.helpers.digits.get_digits_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_digits_model</span><span class="p">()</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Creates a support vector classifier for digits dataset.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ClassifierMixin</code></td>
      <td><p>A support vector classifier.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/helpers/digits.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_digits_model</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ClassifierMixin</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a support vector classifier for digits dataset.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A support vector classifier.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">SVC</span><span class="p">(</span><span class="n">gamma</span><span class="o">=</span><span class="mf">0.001</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.sklearn.materializers" class="doc doc-heading">
        <code>materializers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the sklearn materializer.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.sklearn.materializers.sklearn_materializer" class="doc doc-heading">
        <code>sklearn_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the sklearn materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.sklearn.materializers.sklearn_materializer.SklearnMaterializer" class="doc doc-heading">
        <code>
SklearnMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read data to and from sklearn.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/materializers/sklearn_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SklearnMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read data to and from sklearn.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">BaseEstimator</span><span class="p">,</span>
        <span class="n">ClassifierMixin</span><span class="p">,</span>
        <span class="n">ClusterMixin</span><span class="p">,</span>
        <span class="n">BiclusterMixin</span><span class="p">,</span>
        <span class="n">OutlierMixin</span><span class="p">,</span>
        <span class="n">RegressorMixin</span><span class="p">,</span>
        <span class="n">MetaEstimatorMixin</span><span class="p">,</span>
        <span class="n">MultiOutputMixin</span><span class="p">,</span>
        <span class="n">DensityMixin</span><span class="p">,</span>
        <span class="n">TransformerMixin</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">ModelArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span>
        <span class="n">BaseEstimator</span><span class="p">,</span>
        <span class="n">ClassifierMixin</span><span class="p">,</span>
        <span class="n">ClusterMixin</span><span class="p">,</span>
        <span class="n">BiclusterMixin</span><span class="p">,</span>
        <span class="n">OutlierMixin</span><span class="p">,</span>
        <span class="n">RegressorMixin</span><span class="p">,</span>
        <span class="n">MetaEstimatorMixin</span><span class="p">,</span>
        <span class="n">MultiOutputMixin</span><span class="p">,</span>
        <span class="n">DensityMixin</span><span class="p">,</span>
        <span class="n">TransformerMixin</span><span class="p">,</span>
    <span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Reads a base sklearn model from a pickle file.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fid</span><span class="p">:</span>
            <span class="n">clf</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fid</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">clf</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">clf</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="n">BaseEstimator</span><span class="p">,</span>
            <span class="n">ClassifierMixin</span><span class="p">,</span>
            <span class="n">ClusterMixin</span><span class="p">,</span>
            <span class="n">BiclusterMixin</span><span class="p">,</span>
            <span class="n">OutlierMixin</span><span class="p">,</span>
            <span class="n">RegressorMixin</span><span class="p">,</span>
            <span class="n">MetaEstimatorMixin</span><span class="p">,</span>
            <span class="n">MultiOutputMixin</span><span class="p">,</span>
            <span class="n">DensityMixin</span><span class="p">,</span>
            <span class="n">TransformerMixin</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a pickle for a sklearn model.</span>

<span class="sd">        Args:</span>
<span class="sd">            clf: A sklearn model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">clf</span><span class="p">)</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fid</span><span class="p">:</span>
            <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">fid</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.sklearn.materializers.sklearn_materializer.SklearnMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads a base sklearn model from a pickle file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[sklearn.base.BaseEstimator, sklearn.base.ClassifierMixin, sklearn.base.ClusterMixin, sklearn.base.BiclusterMixin, sklearn.base.OutlierMixin, sklearn.base.RegressorMixin, sklearn.base.MetaEstimatorMixin, sklearn.base.MultiOutputMixin, sklearn.base.DensityMixin, sklearn.base.TransformerMixin]</code></td>
      <td><p>The model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/materializers/sklearn_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span>
    <span class="n">BaseEstimator</span><span class="p">,</span>
    <span class="n">ClassifierMixin</span><span class="p">,</span>
    <span class="n">ClusterMixin</span><span class="p">,</span>
    <span class="n">BiclusterMixin</span><span class="p">,</span>
    <span class="n">OutlierMixin</span><span class="p">,</span>
    <span class="n">RegressorMixin</span><span class="p">,</span>
    <span class="n">MetaEstimatorMixin</span><span class="p">,</span>
    <span class="n">MultiOutputMixin</span><span class="p">,</span>
    <span class="n">DensityMixin</span><span class="p">,</span>
    <span class="n">TransformerMixin</span><span class="p">,</span>
<span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Reads a base sklearn model from a pickle file.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the model.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fid</span><span class="p">:</span>
        <span class="n">clf</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fid</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">clf</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.sklearn.materializers.sklearn_materializer.SklearnMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clf</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Creates a pickle for a sklearn model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>clf</code></td>
        <td><code>Union[sklearn.base.BaseEstimator, sklearn.base.ClassifierMixin, sklearn.base.ClusterMixin, sklearn.base.BiclusterMixin, sklearn.base.OutlierMixin, sklearn.base.RegressorMixin, sklearn.base.MetaEstimatorMixin, sklearn.base.MultiOutputMixin, sklearn.base.DensityMixin, sklearn.base.TransformerMixin]</code></td>
        <td><p>A sklearn model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/materializers/sklearn_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">clf</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="n">BaseEstimator</span><span class="p">,</span>
        <span class="n">ClassifierMixin</span><span class="p">,</span>
        <span class="n">ClusterMixin</span><span class="p">,</span>
        <span class="n">BiclusterMixin</span><span class="p">,</span>
        <span class="n">OutlierMixin</span><span class="p">,</span>
        <span class="n">RegressorMixin</span><span class="p">,</span>
        <span class="n">MetaEstimatorMixin</span><span class="p">,</span>
        <span class="n">MultiOutputMixin</span><span class="p">,</span>
        <span class="n">DensityMixin</span><span class="p">,</span>
        <span class="n">TransformerMixin</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a pickle for a sklearn model.</span>

<span class="sd">    Args:</span>
<span class="sd">        clf: A sklearn model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">clf</span><span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fid</span><span class="p">:</span>
        <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">clf</span><span class="p">,</span> <span class="n">fid</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.sklearn.steps" class="doc doc-heading">
        <code>steps</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the sklearn standard steps.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.sklearn.steps.sklearn_evaluator" class="doc doc-heading">
        <code>sklearn_evaluator</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the sklearn evaluator step.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.sklearn.steps.sklearn_evaluator.SklearnEvaluator" class="doc doc-heading">
        <code>
SklearnEvaluator            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_evaluator_step.BaseEvaluatorStep" href="../steps/#zenml.steps.step_interfaces.base_evaluator_step.BaseEvaluatorStep">BaseEvaluatorStep</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Simple sklearn evaluator step implementation.</p>
<p>This uses sklearn to evaluate the performance of a given model on a given
test dataset.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/steps/sklearn_evaluator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SklearnEvaluator</span><span class="p">(</span><span class="n">BaseEvaluatorStep</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Simple sklearn evaluator step implementation.</span>

<span class="sd">    This uses sklearn to evaluate the performance of a given model on a given</span>
<span class="sd">    test dataset.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">model</span><span class="p">:</span> <span class="n">BaseEstimator</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">SklearnEvaluatorConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>  <span class="c1"># type: ignore[type-arg]</span>
        <span class="sd">&quot;&quot;&quot;Method which is responsible for the computation of the evaluation.</span>

<span class="sd">        Args:</span>
<span class="sd">            dataset: a pandas DataFrame which represents the test dataset</span>
<span class="sd">            model: a trained sklearn model</span>
<span class="sd">            config: the configuration for the step</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary which has the evaluation report</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">label_class_column</span><span class="p">)</span>

        <span class="n">predictions</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
        <span class="n">predicted_classes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mf">0.5</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">predictions</span><span class="p">]</span>

        <span class="n">report</span> <span class="o">=</span> <span class="n">classification_report</span><span class="p">(</span>
            <span class="n">labels</span><span class="p">,</span> <span class="n">predicted_classes</span><span class="p">,</span> <span class="n">output_dict</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">report</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  <div class="doc doc-object doc-class">



<h7 id="zenml.integrations.sklearn.steps.sklearn_evaluator.SklearnEvaluator.CONFIG_CLASS" class="doc doc-heading">
        <code>
CONFIG_CLASS            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_evaluator_step.BaseEvaluatorConfig" href="../steps/#zenml.steps.step_interfaces.base_evaluator_step.BaseEvaluatorConfig">BaseEvaluatorConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Config class for the sklearn evaluator.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/steps/sklearn_evaluator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SklearnEvaluatorConfig</span><span class="p">(</span><span class="n">BaseEvaluatorConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for the sklearn evaluator.&quot;&quot;&quot;</span>

    <span class="n">label_class_column</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.sklearn.steps.sklearn_evaluator.SklearnEvaluator.entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entrypoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Method which is responsible for the computation of the evaluation.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dataset</code></td>
        <td><code>DataFrame</code></td>
        <td><p>a pandas DataFrame which represents the test dataset</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model</code></td>
        <td><code>BaseEstimator</code></td>
        <td><p>a trained sklearn model</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>SklearnEvaluatorConfig</code></td>
        <td><p>the configuration for the step</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>a dictionary which has the evaluation report</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/steps/sklearn_evaluator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">BaseEstimator</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">SklearnEvaluatorConfig</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>  <span class="c1"># type: ignore[type-arg]</span>
    <span class="sd">&quot;&quot;&quot;Method which is responsible for the computation of the evaluation.</span>

<span class="sd">    Args:</span>
<span class="sd">        dataset: a pandas DataFrame which represents the test dataset</span>
<span class="sd">        model: a trained sklearn model</span>
<span class="sd">        config: the configuration for the step</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dictionary which has the evaluation report</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">label_class_column</span><span class="p">)</span>

    <span class="n">predictions</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
    <span class="n">predicted_classes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mf">0.5</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">predictions</span><span class="p">]</span>

    <span class="n">report</span> <span class="o">=</span> <span class="n">classification_report</span><span class="p">(</span>
        <span class="n">labels</span><span class="p">,</span> <span class="n">predicted_classes</span><span class="p">,</span> <span class="n">output_dict</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">report</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.sklearn.steps.sklearn_evaluator.SklearnEvaluatorConfig" class="doc doc-heading">
        <code>
SklearnEvaluatorConfig            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_evaluator_step.BaseEvaluatorConfig" href="../steps/#zenml.steps.step_interfaces.base_evaluator_step.BaseEvaluatorConfig">BaseEvaluatorConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Config class for the sklearn evaluator.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/steps/sklearn_evaluator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SklearnEvaluatorConfig</span><span class="p">(</span><span class="n">BaseEvaluatorConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for the sklearn evaluator.&quot;&quot;&quot;</span>

    <span class="n">label_class_column</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.sklearn.steps.sklearn_splitter" class="doc doc-heading">
        <code>sklearn_splitter</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the sklearn splitter.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.sklearn.steps.sklearn_splitter.SklearnSplitter" class="doc doc-heading">
        <code>
SklearnSplitter            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_split_step.BaseSplitStep" href="../steps/#zenml.steps.step_interfaces.base_split_step.BaseSplitStep">BaseSplitStep</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>A simple sklearn splitter step implementation.</p>
<p>This uses sklearn to split a given dataset into train, test and validation
splits.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/steps/sklearn_splitter.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SklearnSplitter</span><span class="p">(</span><span class="n">BaseSplitStep</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A simple sklearn splitter step implementation.</span>

<span class="sd">    This uses sklearn to split a given dataset into train, test and validation</span>
<span class="sd">    splits.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">SklearnSplitterConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Output</span><span class="p">(</span>  <span class="c1"># type:ignore[valid-type]</span>
        <span class="n">train</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Method which is responsible for the splitting logic.</span>

<span class="sd">        Args:</span>
<span class="sd">            dataset: a pandas DataFrame which entire dataset</span>
<span class="sd">            config: the configuration for the step</span>

<span class="sd">        Returns:</span>
<span class="sd">            three DataFrames representing the splits</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the wrong configuration is used</span>
<span class="sd">            ValueError: if the ratios are not valid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">any</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">split</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">ratios</span>
                    <span class="k">for</span> <span class="n">split</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;validation&quot;</span><span class="p">]</span>
                <span class="p">]</span>
            <span class="p">)</span>
            <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Make sure that you only use &#39;train&#39;, &#39;test&#39; and &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;validation&#39; as keys in the ratios dict. Current keys: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Make sure that the ratios sum up to 1. Current &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;ratios: </span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">train_dataset</span><span class="p">,</span> <span class="n">test_dataset</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
            <span class="n">dataset</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="p">[</span><span class="s2">&quot;test&quot;</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="n">train_dataset</span><span class="p">,</span> <span class="n">val_dataset</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
            <span class="n">train_dataset</span><span class="p">,</span>
            <span class="n">test_size</span><span class="o">=</span><span class="p">(</span>
                <span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="p">[</span><span class="s2">&quot;validation&quot;</span><span class="p">]</span>
                <span class="o">/</span> <span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="p">[</span><span class="s2">&quot;validation&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">])</span>
            <span class="p">),</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">train_dataset</span><span class="p">,</span> <span class="n">test_dataset</span><span class="p">,</span> <span class="n">val_dataset</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  <div class="doc doc-object doc-class">



<h7 id="zenml.integrations.sklearn.steps.sklearn_splitter.SklearnSplitter.CONFIG_CLASS" class="doc doc-heading">
        <code>
CONFIG_CLASS            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_split_step.BaseSplitStepConfig" href="../steps/#zenml.steps.step_interfaces.base_split_step.BaseSplitStepConfig">BaseSplitStepConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Config class for the sklearn splitter.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/steps/sklearn_splitter.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SklearnSplitterConfig</span><span class="p">(</span><span class="n">BaseSplitStepConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for the sklearn splitter.&quot;&quot;&quot;</span>

    <span class="n">ratios</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.sklearn.steps.sklearn_splitter.SklearnSplitter.entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entrypoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Method which is responsible for the splitting logic.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dataset</code></td>
        <td><code>DataFrame</code></td>
        <td><p>a pandas DataFrame which entire dataset</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>SklearnSplitterConfig</code></td>
        <td><p>the configuration for the step</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;zenml.steps.step_output.Output object at 0x7fcc9f0ec400&gt;</code></td>
      <td><p>three DataFrames representing the splits</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the wrong configuration is used</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the ratios are not valid</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/steps/sklearn_splitter.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">SklearnSplitterConfig</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Output</span><span class="p">(</span>  <span class="c1"># type:ignore[valid-type]</span>
    <span class="n">train</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">validation</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Method which is responsible for the splitting logic.</span>

<span class="sd">    Args:</span>
<span class="sd">        dataset: a pandas DataFrame which entire dataset</span>
<span class="sd">        config: the configuration for the step</span>

<span class="sd">    Returns:</span>
<span class="sd">        three DataFrames representing the splits</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the wrong configuration is used</span>
<span class="sd">        ValueError: if the ratios are not valid</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="nb">any</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">split</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">ratios</span>
                <span class="k">for</span> <span class="n">split</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;validation&quot;</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">)</span>
        <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Make sure that you only use &#39;train&#39;, &#39;test&#39; and &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;validation&#39; as keys in the ratios dict. Current keys: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Make sure that the ratios sum up to 1. Current &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;ratios: </span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">train_dataset</span><span class="p">,</span> <span class="n">test_dataset</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
        <span class="n">dataset</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="p">[</span><span class="s2">&quot;test&quot;</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="n">train_dataset</span><span class="p">,</span> <span class="n">val_dataset</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
        <span class="n">train_dataset</span><span class="p">,</span>
        <span class="n">test_size</span><span class="o">=</span><span class="p">(</span>
            <span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="p">[</span><span class="s2">&quot;validation&quot;</span><span class="p">]</span>
            <span class="o">/</span> <span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="p">[</span><span class="s2">&quot;validation&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">config</span><span class="o">.</span><span class="n">ratios</span><span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">])</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">train_dataset</span><span class="p">,</span> <span class="n">test_dataset</span><span class="p">,</span> <span class="n">val_dataset</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.sklearn.steps.sklearn_splitter.SklearnSplitterConfig" class="doc doc-heading">
        <code>
SklearnSplitterConfig            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_split_step.BaseSplitStepConfig" href="../steps/#zenml.steps.step_interfaces.base_split_step.BaseSplitStepConfig">BaseSplitStepConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Config class for the sklearn splitter.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/steps/sklearn_splitter.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SklearnSplitterConfig</span><span class="p">(</span><span class="n">BaseSplitStepConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for the sklearn splitter.&quot;&quot;&quot;</span>

    <span class="n">ratios</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.sklearn.steps.sklearn_standard_scaler" class="doc doc-heading">
        <code>sklearn_standard_scaler</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the sklearn standard scaler step.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.sklearn.steps.sklearn_standard_scaler.SklearnStandardScaler" class="doc doc-heading">
        <code>
SklearnStandardScaler            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_preprocessor_step.BasePreprocessorStep" href="../steps/#zenml.steps.step_interfaces.base_preprocessor_step.BasePreprocessorStep">BasePreprocessorStep</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Simple StandardScaler step implementation.</p>
<p>This uses the StandardScaler from sklearn to transform the numeric columns
of a pd.DataFrame.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/steps/sklearn_standard_scaler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SklearnStandardScaler</span><span class="p">(</span><span class="n">BasePreprocessorStep</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Simple StandardScaler step implementation.</span>

<span class="sd">    This uses the StandardScaler from sklearn to transform the numeric columns</span>
<span class="sd">    of a pd.DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">train_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">test_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">validation_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">statistics</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">schema</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">SklearnStandardScalerConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Output</span><span class="p">(</span>  <span class="c1"># type:ignore[valid-type]</span>
        <span class="n">train_transformed</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">test_transformed</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">validation_transformed</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Main entrypoint function for the StandardScaler.</span>

<span class="sd">        Args:</span>
<span class="sd">            train_dataset: pd.DataFrame, the training dataset</span>
<span class="sd">            test_dataset: pd.DataFrame, the test dataset</span>
<span class="sd">            validation_dataset: pd.DataFrame, the validation dataset</span>
<span class="sd">            statistics: pd.DataFrame, the statistics over the train dataset</span>
<span class="sd">            schema: pd.DataFrame, the detected schema of the dataset</span>
<span class="sd">            config: the configuration for the step</span>

<span class="sd">        Returns:</span>
<span class="sd">            the transformed train, test and validation datasets as pd.DataFrames</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">schema_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">schema</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

        <span class="c1"># Exclude columns</span>
        <span class="n">feature_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">train_dataset</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">exclude_columns</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">feature</span><span class="p">,</span> <span class="n">feature_type</span> <span class="ow">in</span> <span class="n">schema_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">feature_type</span> <span class="o">!=</span> <span class="s2">&quot;int64&quot;</span> <span class="ow">and</span> <span class="n">feature_type</span> <span class="o">!=</span> <span class="s2">&quot;float64&quot;</span><span class="p">:</span>
                <span class="n">feature_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">feature</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">feature</span><span class="si">}</span><span class="s2"> column is a not numeric, thus it is excluded &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;from the standard scaling.&quot;</span>
                <span class="p">)</span>

        <span class="n">transform_feature_set</span> <span class="o">=</span> <span class="n">feature_set</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">ignore_columns</span><span class="p">)</span>

        <span class="c1"># Transform the datasets</span>
        <span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
        <span class="n">scaler</span><span class="o">.</span><span class="n">mean_</span> <span class="o">=</span> <span class="n">statistics</span><span class="p">[</span><span class="s2">&quot;mean&quot;</span><span class="p">][</span><span class="n">transform_feature_set</span><span class="p">]</span>
        <span class="n">scaler</span><span class="o">.</span><span class="n">scale_</span> <span class="o">=</span> <span class="n">statistics</span><span class="p">[</span><span class="s2">&quot;std&quot;</span><span class="p">][</span><span class="n">transform_feature_set</span><span class="p">]</span>

        <span class="n">train_dataset</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">transform_feature_set</span><span class="p">)]</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span>
            <span class="n">train_dataset</span><span class="p">[</span><span class="n">transform_feature_set</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">test_dataset</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">transform_feature_set</span><span class="p">)]</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span>
            <span class="n">test_dataset</span><span class="p">[</span><span class="n">transform_feature_set</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">validation_dataset</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">transform_feature_set</span><span class="p">)]</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span>
            <span class="n">validation_dataset</span><span class="p">[</span><span class="n">transform_feature_set</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">train_dataset</span><span class="p">,</span> <span class="n">test_dataset</span><span class="p">,</span> <span class="n">validation_dataset</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  <div class="doc doc-object doc-class">



<h7 id="zenml.integrations.sklearn.steps.sklearn_standard_scaler.SklearnStandardScaler.CONFIG_CLASS" class="doc doc-heading">
        <code>
CONFIG_CLASS            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_preprocessor_step.BasePreprocessorConfig" href="../steps/#zenml.steps.step_interfaces.base_preprocessor_step.BasePreprocessorConfig">BasePreprocessorConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Config class for the sklearn standard scaler.</p>
<p>ignore_columns: a list of column names which should not be scaled
exclude_columns: a list of column names to be excluded from the dataset</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/steps/sklearn_standard_scaler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SklearnStandardScalerConfig</span><span class="p">(</span><span class="n">BasePreprocessorConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for the sklearn standard scaler.</span>

<span class="sd">    ignore_columns: a list of column names which should not be scaled</span>
<span class="sd">    exclude_columns: a list of column names to be excluded from the dataset</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ignore_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">exclude_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">















  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.sklearn.steps.sklearn_standard_scaler.SklearnStandardScaler.entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entrypoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">train_dataset</span><span class="p">,</span> <span class="n">test_dataset</span><span class="p">,</span> <span class="n">validation_dataset</span><span class="p">,</span> <span class="n">statistics</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Main entrypoint function for the StandardScaler.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>train_dataset</code></td>
        <td><code>DataFrame</code></td>
        <td><p>pd.DataFrame, the training dataset</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>test_dataset</code></td>
        <td><code>DataFrame</code></td>
        <td><p>pd.DataFrame, the test dataset</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>validation_dataset</code></td>
        <td><code>DataFrame</code></td>
        <td><p>pd.DataFrame, the validation dataset</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>statistics</code></td>
        <td><code>DataFrame</code></td>
        <td><p>pd.DataFrame, the statistics over the train dataset</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>schema</code></td>
        <td><code>DataFrame</code></td>
        <td><p>pd.DataFrame, the detected schema of the dataset</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>SklearnStandardScalerConfig</code></td>
        <td><p>the configuration for the step</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;zenml.steps.step_output.Output object at 0x7fcc9f055700&gt;</code></td>
      <td><p>the transformed train, test and validation datasets as pd.DataFrames</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/steps/sklearn_standard_scaler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">train_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">test_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">validation_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">statistics</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">SklearnStandardScalerConfig</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Output</span><span class="p">(</span>  <span class="c1"># type:ignore[valid-type]</span>
    <span class="n">train_transformed</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">test_transformed</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">validation_transformed</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Main entrypoint function for the StandardScaler.</span>

<span class="sd">    Args:</span>
<span class="sd">        train_dataset: pd.DataFrame, the training dataset</span>
<span class="sd">        test_dataset: pd.DataFrame, the test dataset</span>
<span class="sd">        validation_dataset: pd.DataFrame, the validation dataset</span>
<span class="sd">        statistics: pd.DataFrame, the statistics over the train dataset</span>
<span class="sd">        schema: pd.DataFrame, the detected schema of the dataset</span>
<span class="sd">        config: the configuration for the step</span>

<span class="sd">    Returns:</span>
<span class="sd">        the transformed train, test and validation datasets as pd.DataFrames</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">schema_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">schema</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

    <span class="c1"># Exclude columns</span>
    <span class="n">feature_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">train_dataset</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">exclude_columns</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">feature</span><span class="p">,</span> <span class="n">feature_type</span> <span class="ow">in</span> <span class="n">schema_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">feature_type</span> <span class="o">!=</span> <span class="s2">&quot;int64&quot;</span> <span class="ow">and</span> <span class="n">feature_type</span> <span class="o">!=</span> <span class="s2">&quot;float64&quot;</span><span class="p">:</span>
            <span class="n">feature_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">feature</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">feature</span><span class="si">}</span><span class="s2"> column is a not numeric, thus it is excluded &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;from the standard scaling.&quot;</span>
            <span class="p">)</span>

    <span class="n">transform_feature_set</span> <span class="o">=</span> <span class="n">feature_set</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">ignore_columns</span><span class="p">)</span>

    <span class="c1"># Transform the datasets</span>
    <span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
    <span class="n">scaler</span><span class="o">.</span><span class="n">mean_</span> <span class="o">=</span> <span class="n">statistics</span><span class="p">[</span><span class="s2">&quot;mean&quot;</span><span class="p">][</span><span class="n">transform_feature_set</span><span class="p">]</span>
    <span class="n">scaler</span><span class="o">.</span><span class="n">scale_</span> <span class="o">=</span> <span class="n">statistics</span><span class="p">[</span><span class="s2">&quot;std&quot;</span><span class="p">][</span><span class="n">transform_feature_set</span><span class="p">]</span>

    <span class="n">train_dataset</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">transform_feature_set</span><span class="p">)]</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span>
        <span class="n">train_dataset</span><span class="p">[</span><span class="n">transform_feature_set</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">test_dataset</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">transform_feature_set</span><span class="p">)]</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span>
        <span class="n">test_dataset</span><span class="p">[</span><span class="n">transform_feature_set</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">validation_dataset</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">transform_feature_set</span><span class="p">)]</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span>
        <span class="n">validation_dataset</span><span class="p">[</span><span class="n">transform_feature_set</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">train_dataset</span><span class="p">,</span> <span class="n">test_dataset</span><span class="p">,</span> <span class="n">validation_dataset</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.sklearn.steps.sklearn_standard_scaler.SklearnStandardScalerConfig" class="doc doc-heading">
        <code>
SklearnStandardScalerConfig            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_preprocessor_step.BasePreprocessorConfig" href="../steps/#zenml.steps.step_interfaces.base_preprocessor_step.BasePreprocessorConfig">BasePreprocessorConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Config class for the sklearn standard scaler.</p>
<p>ignore_columns: a list of column names which should not be scaled
exclude_columns: a list of column names to be excluded from the dataset</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/sklearn/steps/sklearn_standard_scaler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SklearnStandardScalerConfig</span><span class="p">(</span><span class="n">BasePreprocessorConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for the sklearn standard scaler.</span>

<span class="sd">    ignore_columns: a list of column names which should not be scaled</span>
<span class="sd">    exclude_columns: a list of column names to be excluded from the dataset</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ignore_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">exclude_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">















  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.slack" class="doc doc-heading">
        <code>slack</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Slack integration for alerter components.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.slack.SlackIntegration" class="doc doc-heading">
        <code>
SlackIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of a Slack integration for ZenML.</p>
<p>Implemented using <a href="https://pypi.org/project/slack-sdk/">Slack SDK</a>.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/slack/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SlackIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of a Slack integration for ZenML.</span>

<span class="sd">    Implemented using [Slack SDK](https://pypi.org/project/slack-sdk/).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">SLACK</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;slack-sdk&gt;=3.16.1&quot;</span><span class="p">,</span> <span class="s2">&quot;aiohttp&gt;=3.8.1&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Slack integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of new flavors defined by the Slack integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">SLACK_ALERTER_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.slack.alerters.slack_alerter.SlackAlerter&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ALERTER</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.slack.SlackIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the Slack integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of new flavors defined by the Slack integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/slack/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Slack integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of new flavors defined by the Slack integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">SLACK_ALERTER_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.slack.alerters.slack_alerter.SlackAlerter&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ALERTER</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.slack.alerters" class="doc doc-heading">
        <code>alerters</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Alerter components defined by the Slack integration.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.slack.alerters.slack_alerter" class="doc doc-heading">
        <code>slack_alerter</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation for slack flavor of alerter component.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.slack.alerters.slack_alerter.SlackAlerter" class="doc doc-heading">
        <code>
SlackAlerter            (<a class="autorefs autorefs-internal" title="zenml.alerter.base_alerter.BaseAlerter" href="../alerter/#zenml.alerter.base_alerter.BaseAlerter">BaseAlerter</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Send messages to Slack channels.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>slack_token</code></td>
        <td><code>str</code></td>
        <td><p>The Slack token tied to the Slack account to be used.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/slack/alerters/slack_alerter.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SlackAlerter</span><span class="p">(</span><span class="n">BaseAlerter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Send messages to Slack channels.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        slack_token: The Slack token tied to the Slack account to be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">slack_token</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">default_slack_channel_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">SLACK_ALERTER_FLAVOR</span>

    <span class="k">def</span> <span class="nf">_get_channel_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseAlerterStepConfig</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the Slack channel ID to be used by post/ask.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: Optional runtime configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ID of the Slack channel to be used.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if config is not of type `BaseAlerterStepConfig`.</span>
<span class="sd">            ValueError: if a slack channel was neither defined in the config</span>
<span class="sd">                nor in the slack alerter component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">BaseAlerterStepConfig</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;The config object must be of type `BaseAlerterStepConfig`.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">SlackAlerterConfig</span><span class="p">)</span>
            <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;slack_channel_id&quot;</span><span class="p">)</span>
            <span class="ow">and</span> <span class="n">config</span><span class="o">.</span><span class="n">slack_channel_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">config</span><span class="o">.</span><span class="n">slack_channel_id</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_slack_channel_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_slack_channel_id</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Neither the `SlackAlerterConfig.slack_channel_id` in the runtime &quot;</span>
            <span class="s2">&quot;configuration, nor the `default_slack_channel_id` in the alerter &quot;</span>
            <span class="s2">&quot;stack component is specified. Please specify at least one.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_approve_msg_options</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseAlerterStepConfig</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Define which messages will lead to approval during ask().</span>

<span class="sd">        Args:</span>
<span class="sd">            config: Optional runtime configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Set of messages that lead to approval in alerter.ask().</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">SlackAlerterConfig</span><span class="p">)</span>
            <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;approve_msg_options&quot;</span><span class="p">)</span>
            <span class="ow">and</span> <span class="n">config</span><span class="o">.</span><span class="n">approve_msg_options</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">config</span><span class="o">.</span><span class="n">approve_msg_options</span>
        <span class="k">return</span> <span class="n">DEFAULT_APPROVE_MSG_OPTIONS</span>

    <span class="k">def</span> <span class="nf">_get_disapprove_msg_options</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseAlerterStepConfig</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Define which messages will lead to disapproval during ask().</span>

<span class="sd">        Args:</span>
<span class="sd">            config: Optional runtime configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Set of messages that lead to disapproval in alerter.ask().</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">SlackAlerterConfig</span><span class="p">)</span>
            <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;disapprove_msg_options&quot;</span><span class="p">)</span>
            <span class="ow">and</span> <span class="n">config</span><span class="o">.</span><span class="n">disapprove_msg_options</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">config</span><span class="o">.</span><span class="n">disapprove_msg_options</span>
        <span class="k">return</span> <span class="n">DEFAULT_DISAPPROVE_MSG_OPTIONS</span>

    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseAlerterStepConfig</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Post a message to a Slack channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            message: Message to be posted.</span>
<span class="sd">            config: Optional runtime configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if operation succeeded, else False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">slack_channel_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_channel_id</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">WebClient</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">slack_token</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chat_postMessage</span><span class="p">(</span>
                <span class="n">channel</span><span class="o">=</span><span class="n">slack_channel_id</span><span class="p">,</span>
                <span class="n">text</span><span class="o">=</span><span class="n">message</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">SlackApiError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">error</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SlackAlerter.post() failed: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">ask</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseAlerterStepConfig</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Post a message to a Slack channel and wait for approval.</span>

<span class="sd">        Args:</span>
<span class="sd">            message: Initial message to be posted.</span>
<span class="sd">            config: Optional runtime configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if a user approved the operation, else False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rtm</span> <span class="o">=</span> <span class="n">RTMClient</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">slack_token</span><span class="p">)</span>
        <span class="n">slack_channel_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_channel_id</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

        <span class="n">approved</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># will be modified by handle()</span>

        <span class="nd">@RTMClient</span><span class="o">.</span><span class="n">run_on</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">def</span> <span class="nf">post_initial_message</span><span class="p">(</span><span class="o">**</span><span class="n">payload</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Post an initial message in a channel and start listening.</span>

<span class="sd">            Args:</span>
<span class="sd">                payload: payload of the received Slack event.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">web_client</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;web_client&quot;</span><span class="p">]</span>
            <span class="n">web_client</span><span class="o">.</span><span class="n">chat_postMessage</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">slack_channel_id</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>

        <span class="nd">@RTMClient</span><span class="o">.</span><span class="n">run_on</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="o">**</span><span class="n">payload</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Listen / handle messages posted in the channel.</span>

<span class="sd">            Args:</span>
<span class="sd">                payload: payload of the received Slack event.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;channel&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">slack_channel_id</span><span class="p">:</span>

                <span class="c1"># approve request (return True)</span>
                <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_approve_msg_options</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User </span><span class="si">{</span><span class="n">event</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> approved on slack.&quot;</span><span class="p">)</span>
                    <span class="k">nonlocal</span> <span class="n">approved</span>
                    <span class="n">approved</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="n">rtm</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

                <span class="c1"># disapprove request (return False)</span>
                <span class="k">elif</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_disapprove_msg_options</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User </span><span class="si">{</span><span class="n">event</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> disapproved on slack.&quot;</span><span class="p">)</span>
                    <span class="n">rtm</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>  <span class="c1"># type:ignore</span>

        <span class="c1"># start another thread until `rtm.stop()` is called in handle()</span>
        <span class="n">rtm</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">approved</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">















  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.slack.alerters.slack_alerter.SlackAlerter.ask" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Post a message to a Slack channel and wait for approval.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>message</code></td>
        <td><code>str</code></td>
        <td><p>Initial message to be posted.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>Optional[zenml.steps.step_interfaces.base_alerter_step.BaseAlerterStepConfig]</code></td>
        <td><p>Optional runtime configuration.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if a user approved the operation, else False</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/slack/alerters/slack_alerter.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">ask</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseAlerterStepConfig</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Post a message to a Slack channel and wait for approval.</span>

<span class="sd">    Args:</span>
<span class="sd">        message: Initial message to be posted.</span>
<span class="sd">        config: Optional runtime configuration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if a user approved the operation, else False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rtm</span> <span class="o">=</span> <span class="n">RTMClient</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">slack_token</span><span class="p">)</span>
    <span class="n">slack_channel_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_channel_id</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

    <span class="n">approved</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># will be modified by handle()</span>

    <span class="nd">@RTMClient</span><span class="o">.</span><span class="n">run_on</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">def</span> <span class="nf">post_initial_message</span><span class="p">(</span><span class="o">**</span><span class="n">payload</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Post an initial message in a channel and start listening.</span>

<span class="sd">        Args:</span>
<span class="sd">            payload: payload of the received Slack event.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">web_client</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;web_client&quot;</span><span class="p">]</span>
        <span class="n">web_client</span><span class="o">.</span><span class="n">chat_postMessage</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">slack_channel_id</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>

    <span class="nd">@RTMClient</span><span class="o">.</span><span class="n">run_on</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="o">**</span><span class="n">payload</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Listen / handle messages posted in the channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            payload: payload of the received Slack event.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;channel&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">slack_channel_id</span><span class="p">:</span>

            <span class="c1"># approve request (return True)</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_approve_msg_options</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User </span><span class="si">{</span><span class="n">event</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> approved on slack.&quot;</span><span class="p">)</span>
                <span class="k">nonlocal</span> <span class="n">approved</span>
                <span class="n">approved</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">rtm</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>  <span class="c1"># type: ignore</span>

            <span class="c1"># disapprove request (return False)</span>
            <span class="k">elif</span> <span class="n">event</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_disapprove_msg_options</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User </span><span class="si">{</span><span class="n">event</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> disapproved on slack.&quot;</span><span class="p">)</span>
                <span class="n">rtm</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>  <span class="c1"># type:ignore</span>

    <span class="c1"># start another thread until `rtm.stop()` is called in handle()</span>
    <span class="n">rtm</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">approved</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.slack.alerters.slack_alerter.SlackAlerter.post" class="doc doc-heading">
<code class="highlight language-python"><span class="n">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Post a message to a Slack channel.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>message</code></td>
        <td><code>str</code></td>
        <td><p>Message to be posted.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>Optional[zenml.steps.step_interfaces.base_alerter_step.BaseAlerterStepConfig]</code></td>
        <td><p>Optional runtime configuration.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if operation succeeded, else False</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/slack/alerters/slack_alerter.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">post</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseAlerterStepConfig</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Post a message to a Slack channel.</span>

<span class="sd">    Args:</span>
<span class="sd">        message: Message to be posted.</span>
<span class="sd">        config: Optional runtime configuration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if operation succeeded, else False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">slack_channel_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_channel_id</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">WebClient</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">slack_token</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chat_postMessage</span><span class="p">(</span>
            <span class="n">channel</span><span class="o">=</span><span class="n">slack_channel_id</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="n">message</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="n">SlackApiError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">error</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SlackAlerter.post() failed: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.slack.alerters.slack_alerter.SlackAlerterConfig" class="doc doc-heading">
        <code>
SlackAlerterConfig            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_alerter_step.BaseAlerterStepConfig" href="../steps/#zenml.steps.step_interfaces.base_alerter_step.BaseAlerterStepConfig">BaseAlerterStepConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Slack alerter config.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/slack/alerters/slack_alerter.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SlackAlerterConfig</span><span class="p">(</span><span class="n">BaseAlerterStepConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Slack alerter config.&quot;&quot;&quot;</span>

    <span class="c1"># The ID of the Slack channel to use for communication.</span>
    <span class="n">slack_channel_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Set of messages that lead to approval in alerter.ask()</span>
    <span class="n">approve_msg_options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Set of messages that lead to disapproval in alerter.ask()</span>
    <span class="n">disapprove_msg_options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
















  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.tensorflow" class="doc doc-heading">
        <code>tensorflow</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization for TensorFlow integration.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.tensorflow.TensorflowIntegration" class="doc doc-heading">
        <code>
TensorflowIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Tensorflow integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TensorflowIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Tensorflow integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">TENSORFLOW</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tensorflow==2.8.0&quot;</span><span class="p">,</span> <span class="s2">&quot;tensorflow_io==0.24.0&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
        <span class="c1"># need to import this explicitly to load the Tensorflow file IO support</span>
        <span class="c1"># for S3 and other file systems</span>
        <span class="kn">import</span> <span class="nn">tensorflow_io</span>  <span class="c1"># type: ignore [import]</span>

        <span class="kn">from</span> <span class="nn">zenml.integrations.tensorflow</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.tensorflow</span> <span class="kn">import</span> <span class="n">services</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.tensorflow.TensorflowIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Activates the integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
    <span class="c1"># need to import this explicitly to load the Tensorflow file IO support</span>
    <span class="c1"># for S3 and other file systems</span>
    <span class="kn">import</span> <span class="nn">tensorflow_io</span>  <span class="c1"># type: ignore [import]</span>

    <span class="kn">from</span> <span class="nn">zenml.integrations.tensorflow</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.tensorflow</span> <span class="kn">import</span> <span class="n">services</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.tensorflow.materializers" class="doc doc-heading">
        <code>materializers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization for the TensorFlow materializers.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.tensorflow.materializers.keras_materializer" class="doc doc-heading">
        <code>keras_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the TensorFlow Keras materializer.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.tensorflow.materializers.keras_materializer.KerasMaterializer" class="doc doc-heading">
        <code>
KerasMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read/write Keras models.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/materializers/keras_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">KerasMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read/write Keras models.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">Model</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">ModelArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">keras</span><span class="o">.</span><span class="n">Model</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads and returns a Keras model after copying it to temporary path.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the data to read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tf.keras.Model model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>

        <span class="c1"># Create a temporary directory to store the model</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span>

        <span class="c1"># Copy from artifact store to temporary directory</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="c1"># Load the model from the temporary directory</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="c1"># Cleanup and return</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">model</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">keras</span><span class="o">.</span><span class="n">Model</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a keras model to the artifact store.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: A tf.keras.Model model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

        <span class="c1"># Create a temporary directory to store the model</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span>
        <span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>

        <span class="c1"># Remove the temporary directory</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.tensorflow.materializers.keras_materializer.KerasMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads and returns a Keras model after copying it to temporary path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the data to read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Model</code></td>
      <td><p>A tf.keras.Model model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/materializers/keras_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">keras</span><span class="o">.</span><span class="n">Model</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads and returns a Keras model after copying it to temporary path.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the data to read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tf.keras.Model model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>

    <span class="c1"># Create a temporary directory to store the model</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span>

    <span class="c1"># Copy from artifact store to temporary directory</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="c1"># Load the model from the temporary directory</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="c1"># Cleanup and return</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.tensorflow.materializers.keras_materializer.KerasMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a keras model to the artifact store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>Model</code></td>
        <td><p>A tf.keras.Model model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/materializers/keras_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">keras</span><span class="o">.</span><span class="n">Model</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a keras model to the artifact store.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: A tf.keras.Model model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

    <span class="c1"># Create a temporary directory to store the model</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span>
    <span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>

    <span class="c1"># Remove the temporary directory</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.tensorflow.materializers.tf_dataset_materializer" class="doc doc-heading">
        <code>tf_dataset_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the TensorFlow dataset materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.tensorflow.materializers.tf_dataset_materializer.TensorflowDatasetMaterializer" class="doc doc-heading">
        <code>
TensorflowDatasetMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read data to and from tf.data.Dataset.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/materializers/tf_dataset_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TensorflowDatasetMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read data to and from tf.data.Dataset.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Dataset</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">DataArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads data into tf.data.Dataset.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the data to read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tf.data.Dataset object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tf</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset</span><span class="p">:</span> <span class="n">tf</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Dataset</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Persists a tf.data.Dataset object.</span>

<span class="sd">        Args:</span>
<span class="sd">            dataset: The dataset to persist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>
        <span class="n">tf</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">save</span><span class="p">(</span>
            <span class="n">dataset</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">shard_func</span><span class="o">=</span><span class="kc">None</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.tensorflow.materializers.tf_dataset_materializer.TensorflowDatasetMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads data into tf.data.Dataset.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the data to read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>A tf.data.Dataset object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/materializers/tf_dataset_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads data into tf.data.Dataset.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the data to read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tf.data.Dataset object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">tf</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.tensorflow.materializers.tf_dataset_materializer.TensorflowDatasetMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Persists a tf.data.Dataset object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dataset</code></td>
        <td><code>DatasetV2</code></td>
        <td><p>The dataset to persist.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/materializers/tf_dataset_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset</span><span class="p">:</span> <span class="n">tf</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Dataset</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Persists a tf.data.Dataset object.</span>

<span class="sd">    Args:</span>
<span class="sd">        dataset: The dataset to persist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>
    <span class="n">tf</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">save</span><span class="p">(</span>
        <span class="n">dataset</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">shard_func</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.tensorflow.services" class="doc doc-heading">
        <code>services</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization for TensorFlow services.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.tensorflow.services.tensorboard_service" class="doc doc-heading">
        <code>tensorboard_service</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the TensorBoard service.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.tensorflow.services.tensorboard_service.TensorboardService" class="doc doc-heading">
        <code>
TensorboardService            (<a class="autorefs autorefs-internal" title="zenml.services.local.local_service.LocalDaemonService" href="../services/#zenml.services.local.local_service.LocalDaemonService">LocalDaemonService</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>TensorBoard service.</p>
<p>This can be used to start a local TensorBoard server for one or more models.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SERVICE_TYPE</code></td>
        <td><code>ClassVar[zenml.services.service_type.ServiceType]</code></td>
        <td><p>a service type descriptor with information describing
the TensorBoard service class</p></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>TensorboardServiceConfig</code></td>
        <td><p>service configuration</p></td>
      </tr>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>LocalDaemonServiceEndpoint</code></td>
        <td><p>optional service endpoint</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/services/tensorboard_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TensorboardService</span><span class="p">(</span><span class="n">LocalDaemonService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;TensorBoard service.</span>

<span class="sd">    This can be used to start a local TensorBoard server for one or more models.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        SERVICE_TYPE: a service type descriptor with information describing</span>
<span class="sd">            the TensorBoard service class</span>
<span class="sd">        config: service configuration</span>
<span class="sd">        endpoint: optional service endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">SERVICE_TYPE</span> <span class="o">=</span> <span class="n">ServiceType</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;tensorboard&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;visualization&quot;</span><span class="p">,</span>
        <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;tensorboard&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;TensorBoard visualization service&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">TensorboardServiceConfig</span>
    <span class="n">endpoint</span><span class="p">:</span> <span class="n">LocalDaemonServiceEndpoint</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">TensorboardServiceConfig</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
        <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialization for TensorBoard service.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: service configuration</span>
<span class="sd">            **attrs: additional attributes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># ensure that the endpoint is created before the service is initialized</span>
        <span class="c1"># TODO [ENG-697]: implement a service factory or builder for TensorBoard</span>
        <span class="c1">#   deployment services</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">TensorboardServiceConfig</span><span class="p">)</span>
            <span class="ow">and</span> <span class="s2">&quot;endpoint&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">attrs</span>
        <span class="p">):</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="n">LocalDaemonServiceEndpoint</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="n">LocalDaemonServiceEndpointConfig</span><span class="p">(</span>
                    <span class="n">protocol</span><span class="o">=</span><span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">HTTP</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">monitor</span><span class="o">=</span><span class="n">HTTPEndpointHealthMonitor</span><span class="p">(</span>
                    <span class="n">config</span><span class="o">=</span><span class="n">HTTPEndpointHealthMonitorConfig</span><span class="p">(</span>
                        <span class="n">healthcheck_uri_path</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="n">use_head_request</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">),</span>
            <span class="p">)</span>
            <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;endpoint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">endpoint</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialize and run the TensorBoard server.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Starting TensorBoard service as blocking &quot;</span>
            <span class="s2">&quot;process... press CTRL+C once to stop it.&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prepare_for_start</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">tensorboard</span> <span class="o">=</span> <span class="n">program</span><span class="o">.</span><span class="n">TensorBoard</span><span class="p">(</span>
                <span class="n">plugins</span><span class="o">=</span><span class="n">default</span><span class="o">.</span><span class="n">get_plugins</span><span class="p">(),</span>
                <span class="n">subcommands</span><span class="o">=</span><span class="p">[</span><span class="n">uploader_subcommand</span><span class="o">.</span><span class="n">UploaderSubcommand</span><span class="p">()],</span>
            <span class="p">)</span>
            <span class="n">tensorboard</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
                <span class="n">logdir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">logdir</span><span class="p">,</span>
                <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
                <span class="n">host</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
                <span class="n">max_reload_threads</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">max_reload_threads</span><span class="p">,</span>
                <span class="n">reload_interval</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">reload_interval</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">tensorboard</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;TensorBoard service stopped. Resuming normal execution.&quot;</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.tensorflow.services.tensorboard_service.TensorboardService.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Initialization for TensorBoard service.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>Union[zenml.integrations.tensorflow.services.tensorboard_service.TensorboardServiceConfig, Dict[str, Any]]</code></td>
        <td><p>service configuration</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**attrs</code></td>
        <td><code>Any</code></td>
        <td><p>additional attributes</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/services/tensorboard_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">TensorboardServiceConfig</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Initialization for TensorBoard service.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: service configuration</span>
<span class="sd">        **attrs: additional attributes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># ensure that the endpoint is created before the service is initialized</span>
    <span class="c1"># TODO [ENG-697]: implement a service factory or builder for TensorBoard</span>
    <span class="c1">#   deployment services</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">TensorboardServiceConfig</span><span class="p">)</span>
        <span class="ow">and</span> <span class="s2">&quot;endpoint&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">attrs</span>
    <span class="p">):</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="n">LocalDaemonServiceEndpoint</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="n">LocalDaemonServiceEndpointConfig</span><span class="p">(</span>
                <span class="n">protocol</span><span class="o">=</span><span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">HTTP</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">monitor</span><span class="o">=</span><span class="n">HTTPEndpointHealthMonitor</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="n">HTTPEndpointHealthMonitorConfig</span><span class="p">(</span>
                    <span class="n">healthcheck_uri_path</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="n">use_head_request</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;endpoint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">endpoint</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.tensorflow.services.tensorboard_service.TensorboardService.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Initialize and run the TensorBoard server.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/services/tensorboard_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Initialize and run the TensorBoard server.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Starting TensorBoard service as blocking &quot;</span>
        <span class="s2">&quot;process... press CTRL+C once to stop it.&quot;</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prepare_for_start</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">tensorboard</span> <span class="o">=</span> <span class="n">program</span><span class="o">.</span><span class="n">TensorBoard</span><span class="p">(</span>
            <span class="n">plugins</span><span class="o">=</span><span class="n">default</span><span class="o">.</span><span class="n">get_plugins</span><span class="p">(),</span>
            <span class="n">subcommands</span><span class="o">=</span><span class="p">[</span><span class="n">uploader_subcommand</span><span class="o">.</span><span class="n">UploaderSubcommand</span><span class="p">()],</span>
        <span class="p">)</span>
        <span class="n">tensorboard</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
            <span class="n">logdir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">logdir</span><span class="p">,</span>
            <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
            <span class="n">host</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
            <span class="n">max_reload_threads</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">max_reload_threads</span><span class="p">,</span>
            <span class="n">reload_interval</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">reload_interval</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">tensorboard</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;TensorBoard service stopped. Resuming normal execution.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.tensorflow.services.tensorboard_service.TensorboardServiceConfig" class="doc doc-heading">
        <code>
TensorboardServiceConfig            (<a class="autorefs autorefs-internal" title="zenml.services.local.local_service.LocalDaemonServiceConfig" href="../services/#zenml.services.local.local_service.LocalDaemonServiceConfig">LocalDaemonServiceConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>TensorBoard service configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>logdir</code></td>
        <td><code>str</code></td>
        <td><p>location of TensorBoard log files.</p></td>
      </tr>
      <tr>
        <td><code>max_reload_threads</code></td>
        <td><code>int</code></td>
        <td><p>the max number of threads that TensorBoard can use
to reload runs. Each thread reloads one run at a time.</p></td>
      </tr>
      <tr>
        <td><code>reload_interval</code></td>
        <td><code>int</code></td>
        <td><p>how often the backend should load more data, in
seconds. Set to 0 to load just once at startup.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/services/tensorboard_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TensorboardServiceConfig</span><span class="p">(</span><span class="n">LocalDaemonServiceConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;TensorBoard service configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        logdir: location of TensorBoard log files.</span>
<span class="sd">        max_reload_threads: the max number of threads that TensorBoard can use</span>
<span class="sd">            to reload runs. Each thread reloads one run at a time.</span>
<span class="sd">        reload_interval: how often the backend should load more data, in</span>
<span class="sd">            seconds. Set to 0 to load just once at startup.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logdir</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">max_reload_threads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">reload_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
















  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.tensorflow.steps" class="doc doc-heading">
        <code>steps</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization for TensorFlow standard steps.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.tensorflow.steps.tensorflow_trainer" class="doc doc-heading">
        <code>tensorflow_trainer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of a TensorFlow trainer step.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.tensorflow.steps.tensorflow_trainer.TensorflowBinaryClassifier" class="doc doc-heading">
        <code>
TensorflowBinaryClassifier            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_trainer_step.BaseTrainerStep" href="../steps/#zenml.steps.step_interfaces.base_trainer_step.BaseTrainerStep">BaseTrainerStep</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>A TensorFlow binary classifier.</p>
<p>This simple step implementation creates a simple tensorflow feedforward
neural network and trains it on a given pd.DataFrame dataset.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/steps/tensorflow_trainer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TensorflowBinaryClassifier</span><span class="p">(</span><span class="n">BaseTrainerStep</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A TensorFlow binary classifier.</span>

<span class="sd">    This simple step implementation creates a simple tensorflow feedforward</span>
<span class="sd">    neural network and trains it on a given pd.DataFrame dataset.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">train_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">validation_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">TensorflowBinaryClassifierConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">Model</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Main entrypoint for the tensorflow trainer.</span>

<span class="sd">        Args:</span>
<span class="sd">            train_dataset: pd.DataFrame, the training dataset</span>
<span class="sd">            validation_dataset: pd.DataFrame, the validation dataset</span>
<span class="sd">            config: the configuration of the step</span>

<span class="sd">        Returns:</span>
<span class="sd">            the trained tf.keras.Model</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">Sequential</span><span class="p">()</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">InputLayer</span><span class="p">(</span><span class="n">input_shape</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">input_shape</span><span class="p">))</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Flatten</span><span class="p">())</span>

        <span class="n">last_layer</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">layer</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">layers</span><span class="p">):</span>
            <span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;relu&quot;</span><span class="p">))</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="n">last_layer</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;sigmoid&quot;</span><span class="p">))</span>

        <span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
            <span class="n">optimizer</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">optimizers</span><span class="o">.</span><span class="n">Adam</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">learning_rate</span><span class="p">),</span>
            <span class="n">loss</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">losses</span><span class="o">.</span><span class="n">BinaryCrossentropy</span><span class="p">(),</span>
            <span class="n">metrics</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">metrics</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">train_target</span> <span class="o">=</span> <span class="n">train_dataset</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">target_column</span><span class="p">)</span>
        <span class="n">validation_target</span> <span class="o">=</span> <span class="n">validation_dataset</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">target_column</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">train_dataset</span><span class="p">,</span>
            <span class="n">y</span><span class="o">=</span><span class="n">train_target</span><span class="p">,</span>
            <span class="n">validation_data</span><span class="o">=</span><span class="p">(</span><span class="n">validation_dataset</span><span class="p">,</span> <span class="n">validation_target</span><span class="p">),</span>
            <span class="n">batch_size</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">batch_size</span><span class="p">,</span>
            <span class="n">epochs</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">epochs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">model</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  <div class="doc doc-object doc-class">



<h7 id="zenml.integrations.tensorflow.steps.tensorflow_trainer.TensorflowBinaryClassifier.CONFIG_CLASS" class="doc doc-heading">
        <code>
CONFIG_CLASS            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_trainer_step.BaseTrainerConfig" href="../steps/#zenml.steps.step_interfaces.base_trainer_step.BaseTrainerConfig">BaseTrainerConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Config class for the tensorflow trainer.</p>
<p>target_column: the name of the label column
layers: the number of units in the fully connected layers
input_shape: the shape of the input
learning_rate: the learning rate
metrics: the list of metrics to be computed
epochs: the number of epochs
batch_size: the size of the batch</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/steps/tensorflow_trainer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TensorflowBinaryClassifierConfig</span><span class="p">(</span><span class="n">BaseTrainerConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for the tensorflow trainer.</span>

<span class="sd">    target_column: the name of the label column</span>
<span class="sd">    layers: the number of units in the fully connected layers</span>
<span class="sd">    input_shape: the shape of the input</span>
<span class="sd">    learning_rate: the learning rate</span>
<span class="sd">    metrics: the list of metrics to be computed</span>
<span class="sd">    epochs: the number of epochs</span>
<span class="sd">    batch_size: the size of the batch</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">target_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">layers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">256</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">input_shape</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,)</span>
    <span class="n">learning_rate</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span>
    <span class="n">metrics</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;accuracy&quot;</span><span class="p">]</span>
    <span class="n">epochs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">8</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




















  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.tensorflow.steps.tensorflow_trainer.TensorflowBinaryClassifier.entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entrypoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">train_dataset</span><span class="p">,</span> <span class="n">validation_dataset</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Main entrypoint for the tensorflow trainer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>train_dataset</code></td>
        <td><code>DataFrame</code></td>
        <td><p>pd.DataFrame, the training dataset</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>validation_dataset</code></td>
        <td><code>DataFrame</code></td>
        <td><p>pd.DataFrame, the validation dataset</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>TensorflowBinaryClassifierConfig</code></td>
        <td><p>the configuration of the step</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Model</code></td>
      <td><p>the trained tf.keras.Model</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/steps/tensorflow_trainer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">train_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">validation_dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">TensorflowBinaryClassifierConfig</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">Model</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Main entrypoint for the tensorflow trainer.</span>

<span class="sd">    Args:</span>
<span class="sd">        train_dataset: pd.DataFrame, the training dataset</span>
<span class="sd">        validation_dataset: pd.DataFrame, the validation dataset</span>
<span class="sd">        config: the configuration of the step</span>

<span class="sd">    Returns:</span>
<span class="sd">        the trained tf.keras.Model</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">Sequential</span><span class="p">()</span>
    <span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">InputLayer</span><span class="p">(</span><span class="n">input_shape</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">input_shape</span><span class="p">))</span>
    <span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Flatten</span><span class="p">())</span>

    <span class="n">last_layer</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">layer</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">layers</span><span class="p">):</span>
        <span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="n">layer</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;relu&quot;</span><span class="p">))</span>
    <span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="n">last_layer</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;sigmoid&quot;</span><span class="p">))</span>

    <span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
        <span class="n">optimizer</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">optimizers</span><span class="o">.</span><span class="n">Adam</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">learning_rate</span><span class="p">),</span>
        <span class="n">loss</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">losses</span><span class="o">.</span><span class="n">BinaryCrossentropy</span><span class="p">(),</span>
        <span class="n">metrics</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">metrics</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">train_target</span> <span class="o">=</span> <span class="n">train_dataset</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">target_column</span><span class="p">)</span>
    <span class="n">validation_target</span> <span class="o">=</span> <span class="n">validation_dataset</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">target_column</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">train_dataset</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="n">train_target</span><span class="p">,</span>
        <span class="n">validation_data</span><span class="o">=</span><span class="p">(</span><span class="n">validation_dataset</span><span class="p">,</span> <span class="n">validation_target</span><span class="p">),</span>
        <span class="n">batch_size</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">batch_size</span><span class="p">,</span>
        <span class="n">epochs</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">epochs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">model</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.tensorflow.steps.tensorflow_trainer.TensorflowBinaryClassifierConfig" class="doc doc-heading">
        <code>
TensorflowBinaryClassifierConfig            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_trainer_step.BaseTrainerConfig" href="../steps/#zenml.steps.step_interfaces.base_trainer_step.BaseTrainerConfig">BaseTrainerConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Config class for the tensorflow trainer.</p>
<p>target_column: the name of the label column
layers: the number of units in the fully connected layers
input_shape: the shape of the input
learning_rate: the learning rate
metrics: the list of metrics to be computed
epochs: the number of epochs
batch_size: the size of the batch</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/steps/tensorflow_trainer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TensorflowBinaryClassifierConfig</span><span class="p">(</span><span class="n">BaseTrainerConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for the tensorflow trainer.</span>

<span class="sd">    target_column: the name of the label column</span>
<span class="sd">    layers: the number of units in the fully connected layers</span>
<span class="sd">    input_shape: the shape of the input</span>
<span class="sd">    learning_rate: the learning rate</span>
<span class="sd">    metrics: the list of metrics to be computed</span>
<span class="sd">    epochs: the number of epochs</span>
<span class="sd">    batch_size: the size of the batch</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">target_column</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">layers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">256</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">input_shape</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,)</span>
    <span class="n">learning_rate</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span>
    <span class="n">metrics</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;accuracy&quot;</span><span class="p">]</span>
    <span class="n">epochs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">8</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




















  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.tensorflow.visualizers" class="doc doc-heading">
        <code>visualizers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization for TensorFlow visualizer.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.tensorflow.visualizers.tensorboard_visualizer" class="doc doc-heading">
        <code>tensorboard_visualizer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of a TensorFlow visualizer step.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.TensorboardVisualizer" class="doc doc-heading">
        <code>
TensorboardVisualizer            (<a class="autorefs autorefs-internal" title="zenml.visualizers.base_step_visualizer.BaseStepVisualizer" href="../visualizers/#zenml.visualizers.base_step_visualizer.BaseStepVisualizer">BaseStepVisualizer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>The implementation of a Whylogs Visualizer.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/visualizers/tensorboard_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TensorboardVisualizer</span><span class="p">(</span><span class="n">BaseStepVisualizer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The implementation of a Whylogs Visualizer.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">find_running_tensorboard_server</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">logdir</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TensorBoardInfo</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Find a local TensorBoard server instance.</span>

<span class="sd">        Finds when it is running for the supplied logdir location and return its</span>
<span class="sd">        TCP port.</span>

<span class="sd">        Args:</span>
<span class="sd">            logdir: The logdir location where the TensorBoard server is running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The TensorBoardInfo describing the running TensorBoard server or</span>
<span class="sd">            None if no server is running for the supplied logdir location.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">server</span> <span class="ow">in</span> <span class="n">get_all</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">server</span><span class="o">.</span><span class="n">logdir</span> <span class="o">==</span> <span class="n">logdir</span>
                <span class="ow">and</span> <span class="n">server</span><span class="o">.</span><span class="n">pid</span>
                <span class="ow">and</span> <span class="n">psutil</span><span class="o">.</span><span class="n">pid_exists</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="n">server</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">object</span><span class="p">:</span> <span class="n">StepView</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Start a TensorBoard server.</span>

<span class="sd">        Allows for the visualization of all models logged as artifacts by the</span>
<span class="sd">        indicated step. The server will monitor and display all the models</span>
<span class="sd">        logged by past and future step runs.</span>

<span class="sd">        Args:</span>
<span class="sd">            object: StepView fetched from run.get_step().</span>
<span class="sd">            height: Height of the generated visualization.</span>
<span class="sd">            *args: Additional arguments.</span>
<span class="sd">            **kwargs: Additional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">artifact_view</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># filter out anything but model artifacts</span>
            <span class="k">if</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">ModelArtifact</span><span class="o">.</span><span class="n">TYPE_NAME</span><span class="p">:</span>
                <span class="n">logdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">artifact_view</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>

                <span class="c1"># first check if a TensorBoard server is already running for</span>
                <span class="c1"># the same logdir location and use that one</span>
                <span class="n">running_server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_running_tensorboard_server</span><span class="p">(</span><span class="n">logdir</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">running_server</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">visualize_tensorboard</span><span class="p">(</span><span class="n">running_server</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
                    <span class="k">return</span>

                <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
                    <span class="c1"># Daemon service functionality is currently not supported on Windows</span>
                    <span class="nb">print</span><span class="p">(</span>
                        <span class="s2">&quot;You can run:</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;[italic green]    tensorboard --logdir </span><span class="si">{</span><span class="n">logdir</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;[/italic green]</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="s2">&quot;...to visualize the TensorBoard logs for your trained model.&quot;</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># start a new TensorBoard server</span>
                    <span class="n">service</span> <span class="o">=</span> <span class="n">TensorboardService</span><span class="p">(</span>
                        <span class="n">TensorboardServiceConfig</span><span class="p">(</span>
                            <span class="n">logdir</span><span class="o">=</span><span class="n">logdir</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                    <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">visualize_tensorboard</span><span class="p">(</span>
                            <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="n">height</span>
                        <span class="p">)</span>
                <span class="k">return</span>

    <span class="k">def</span> <span class="nf">visualize_tensorboard</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Generate a visualization of a TensorBoard.</span>

<span class="sd">        Args:</span>
<span class="sd">            port: the TCP port where the TensorBoard server is listening for</span>
<span class="sd">                requests.</span>
<span class="sd">            height: Height of the generated visualization.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>

            <span class="n">notebook</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">port</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="nb">print</span><span class="p">(</span>
            <span class="s2">&quot;You can visit:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;[italic green]    http://localhost:</span><span class="si">{</span><span class="n">port</span><span class="si">}</span><span class="s2">/[/italic green]</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="s2">&quot;...to visualize the TensorBoard logs for your trained model.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">object</span><span class="p">:</span> <span class="n">StepView</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Stop the TensorBoard server previously started for a pipeline step.</span>

<span class="sd">        Args:</span>
<span class="sd">            object: StepView fetched from run.get_step().</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">artifact_view</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># filter out anything but model artifacts</span>
            <span class="k">if</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">ModelArtifact</span><span class="o">.</span><span class="n">TYPE_NAME</span><span class="p">:</span>
                <span class="n">logdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">artifact_view</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>

                <span class="c1"># first check if a TensorBoard server is already running for</span>
                <span class="c1"># the same logdir location and use that one</span>
                <span class="n">running_server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_running_tensorboard_server</span><span class="p">(</span><span class="n">logdir</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">running_server</span><span class="p">:</span>
                    <span class="k">return</span>

                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;Stopping tensorboard server with PID &#39;</span><span class="si">%d</span><span class="s2">&#39; ...&quot;</span><span class="p">,</span>
                    <span class="n">running_server</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">p</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">running_server</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Error</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="s2">&quot;Could not find process for PID &#39;</span><span class="si">%d</span><span class="s2">&#39; ...&quot;</span><span class="p">,</span>
                        <span class="n">running_server</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">continue</span>
                <span class="n">p</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
                <span class="k">return</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.TensorboardVisualizer.find_running_tensorboard_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_running_tensorboard_server</span><span class="p">(</span><span class="n">logdir</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Find a local TensorBoard server instance.</p>
<p>Finds when it is running for the supplied logdir location and return its
TCP port.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>logdir</code></td>
        <td><code>str</code></td>
        <td><p>The logdir location where the TensorBoard server is running.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[tensorboard.manager.TensorBoardInfo]</code></td>
      <td><p>The TensorBoardInfo describing the running TensorBoard server or
None if no server is running for the supplied logdir location.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/visualizers/tensorboard_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">find_running_tensorboard_server</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">logdir</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TensorBoardInfo</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Find a local TensorBoard server instance.</span>

<span class="sd">    Finds when it is running for the supplied logdir location and return its</span>
<span class="sd">    TCP port.</span>

<span class="sd">    Args:</span>
<span class="sd">        logdir: The logdir location where the TensorBoard server is running.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The TensorBoardInfo describing the running TensorBoard server or</span>
<span class="sd">        None if no server is running for the supplied logdir location.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">server</span> <span class="ow">in</span> <span class="n">get_all</span><span class="p">():</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">server</span><span class="o">.</span><span class="n">logdir</span> <span class="o">==</span> <span class="n">logdir</span>
            <span class="ow">and</span> <span class="n">server</span><span class="o">.</span><span class="n">pid</span>
            <span class="ow">and</span> <span class="n">psutil</span><span class="o">.</span><span class="n">pid_exists</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">server</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.TensorboardVisualizer.stop" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Stop the TensorBoard server previously started for a pipeline step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>object</code></td>
        <td><code>StepView</code></td>
        <td><p>StepView fetched from run.get_step().</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/visualizers/tensorboard_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">object</span><span class="p">:</span> <span class="n">StepView</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Stop the TensorBoard server previously started for a pipeline step.</span>

<span class="sd">    Args:</span>
<span class="sd">        object: StepView fetched from run.get_step().</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">artifact_view</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># filter out anything but model artifacts</span>
        <span class="k">if</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">ModelArtifact</span><span class="o">.</span><span class="n">TYPE_NAME</span><span class="p">:</span>
            <span class="n">logdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">artifact_view</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>

            <span class="c1"># first check if a TensorBoard server is already running for</span>
            <span class="c1"># the same logdir location and use that one</span>
            <span class="n">running_server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_running_tensorboard_server</span><span class="p">(</span><span class="n">logdir</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">running_server</span><span class="p">:</span>
                <span class="k">return</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Stopping tensorboard server with PID &#39;</span><span class="si">%d</span><span class="s2">&#39; ...&quot;</span><span class="p">,</span>
                <span class="n">running_server</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">running_server</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Error</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Could not find process for PID &#39;</span><span class="si">%d</span><span class="s2">&#39; ...&quot;</span><span class="p">,</span>
                    <span class="n">running_server</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">continue</span>
            <span class="n">p</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
            <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.TensorboardVisualizer.visualize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Start a TensorBoard server.</p>
<p>Allows for the visualization of all models logged as artifacts by the
indicated step. The server will monitor and display all the models
logged by past and future step runs.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>object</code></td>
        <td><code>StepView</code></td>
        <td><p>StepView fetched from run.get_step().</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>height</code></td>
        <td><code>int</code></td>
        <td><p>Height of the generated visualization.</p></td>
        <td><code>800</code></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional arguments.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/visualizers/tensorboard_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">object</span><span class="p">:</span> <span class="n">StepView</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Start a TensorBoard server.</span>

<span class="sd">    Allows for the visualization of all models logged as artifacts by the</span>
<span class="sd">    indicated step. The server will monitor and display all the models</span>
<span class="sd">    logged by past and future step runs.</span>

<span class="sd">    Args:</span>
<span class="sd">        object: StepView fetched from run.get_step().</span>
<span class="sd">        height: Height of the generated visualization.</span>
<span class="sd">        *args: Additional arguments.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">artifact_view</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># filter out anything but model artifacts</span>
        <span class="k">if</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">ModelArtifact</span><span class="o">.</span><span class="n">TYPE_NAME</span><span class="p">:</span>
            <span class="n">logdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">artifact_view</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>

            <span class="c1"># first check if a TensorBoard server is already running for</span>
            <span class="c1"># the same logdir location and use that one</span>
            <span class="n">running_server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_running_tensorboard_server</span><span class="p">(</span><span class="n">logdir</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">running_server</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">visualize_tensorboard</span><span class="p">(</span><span class="n">running_server</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
                <span class="k">return</span>

            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
                <span class="c1"># Daemon service functionality is currently not supported on Windows</span>
                <span class="nb">print</span><span class="p">(</span>
                    <span class="s2">&quot;You can run:</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;[italic green]    tensorboard --logdir </span><span class="si">{</span><span class="n">logdir</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;[/italic green]</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;...to visualize the TensorBoard logs for your trained model.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># start a new TensorBoard server</span>
                <span class="n">service</span> <span class="o">=</span> <span class="n">TensorboardService</span><span class="p">(</span>
                    <span class="n">TensorboardServiceConfig</span><span class="p">(</span>
                        <span class="n">logdir</span><span class="o">=</span><span class="n">logdir</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">visualize_tensorboard</span><span class="p">(</span>
                        <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="n">height</span>
                    <span class="p">)</span>
            <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.TensorboardVisualizer.visualize_tensorboard" class="doc doc-heading">
<code class="highlight language-python"><span class="n">visualize_tensorboard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Generate a visualization of a TensorBoard.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>the TCP port where the TensorBoard server is listening for
requests.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>height</code></td>
        <td><code>int</code></td>
        <td><p>Height of the generated visualization.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/visualizers/tensorboard_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">visualize_tensorboard</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Generate a visualization of a TensorBoard.</span>

<span class="sd">    Args:</span>
<span class="sd">        port: the TCP port where the TensorBoard server is listening for</span>
<span class="sd">            requests.</span>
<span class="sd">        height: Height of the generated visualization.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>

        <span class="n">notebook</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">port</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="nb">print</span><span class="p">(</span>
        <span class="s2">&quot;You can visit:</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;[italic green]    http://localhost:</span><span class="si">{</span><span class="n">port</span><span class="si">}</span><span class="s2">/[/italic green]</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="s2">&quot;...to visualize the TensorBoard logs for your trained model.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.get_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_step</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">,</span> <span class="n">step_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get the StepView for the specified pipeline and step name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>step_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the step.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepView</code></td>
      <td><p>The StepView for the specified pipeline and step name.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the step is not found.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/visualizers/tensorboard_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_step</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepView</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the StepView for the specified pipeline and step name.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: The name of the pipeline.</span>
<span class="sd">        step_name: The name of the step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The StepView for the specified pipeline and step name.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the step is not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">repo</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">get_pipeline</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">pipeline</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No pipeline with name `</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">` was found&quot;</span><span class="p">)</span>

    <span class="n">last_run</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">runs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">step</span> <span class="o">=</span> <span class="n">last_run</span><span class="o">.</span><span class="n">get_step</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">step_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">step</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;No pipeline step with name `</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">` was found in &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;pipeline `</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">`&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">StepView</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.stop_tensorboard_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop_tensorboard_server</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">,</span> <span class="n">step_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Stop the TensorBoard server previously started for a pipeline step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the pipeline</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>step_name</code></td>
        <td><code>str</code></td>
        <td><p>pipeline step name</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/visualizers/tensorboard_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop_tensorboard_server</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Stop the TensorBoard server previously started for a pipeline step.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: the name of the pipeline</span>
<span class="sd">        step_name: pipeline step name</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">step</span> <span class="o">=</span> <span class="n">get_step</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">,</span> <span class="n">step_name</span><span class="p">)</span>
    <span class="n">TensorboardVisualizer</span><span class="p">()</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.tensorflow.visualizers.tensorboard_visualizer.visualize_tensorboard" class="doc doc-heading">
<code class="highlight language-python"><span class="n">visualize_tensorboard</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">,</span> <span class="n">step_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Start a TensorBoard server.</p>
<p>Allows for the visualization of all models logged as output by the named
pipeline step. The server will monitor and display all the models logged by
past and future step runs.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>the name of the pipeline</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>step_name</code></td>
        <td><code>str</code></td>
        <td><p>pipeline step name</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/tensorflow/visualizers/tensorboard_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">visualize_tensorboard</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Start a TensorBoard server.</span>

<span class="sd">    Allows for the visualization of all models logged as output by the named</span>
<span class="sd">    pipeline step. The server will monitor and display all the models logged by</span>
<span class="sd">    past and future step runs.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: the name of the pipeline</span>
<span class="sd">        step_name: pipeline step name</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">step</span> <span class="o">=</span> <span class="n">get_step</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">,</span> <span class="n">step_name</span><span class="p">)</span>
    <span class="n">TensorboardVisualizer</span><span class="p">()</span><span class="o">.</span><span class="n">visualize</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.utils" class="doc doc-heading">
        <code>utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions for the integrations module.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="zenml.integrations.utils.get_integration_for_module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_integration_for_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets the integration class for a module inside an integration.</p>
<p>If the module given by <code>module_name</code> is not part of a ZenML integration,
this method will return <code>None</code>. If it is part of a ZenML integration,
it will return the integration class found inside the integration
<strong>init</strong> file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>module_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the module to get the integration for.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[Type[zenml.integrations.integration.Integration]]</code></td>
      <td><p>The integration class for the module.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_integration_for_module</span><span class="p">(</span>
    <span class="n">module_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Integration</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Gets the integration class for a module inside an integration.</span>

<span class="sd">    If the module given by `module_name` is not part of a ZenML integration,</span>
<span class="sd">    this method will return `None`. If it is part of a ZenML integration,</span>
<span class="sd">    it will return the integration class found inside the integration</span>
<span class="sd">    __init__ file.</span>

<span class="sd">    Args:</span>
<span class="sd">        module_name: The name of the module to get the integration for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The integration class for the module.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">integration_prefix</span> <span class="o">=</span> <span class="s2">&quot;zenml.integrations.&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">module_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">integration_prefix</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">integration_module_name</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">module_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)[:</span><span class="mi">3</span><span class="p">])</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">integration_module</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">integration_module_name</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">integration_module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">integration_module_name</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="n">integration_module</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">member</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">Integration</span>
            <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="n">IntegrationMeta</span><span class="p">)</span>
            <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="n">Integration</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">Type</span><span class="p">[</span><span class="n">Integration</span><span class="p">],</span> <span class="n">member</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.integrations.utils.get_requirements_for_module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_requirements_for_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets requirements for a module inside an integration.</p>
<p>If the module given by <code>module_name</code> is not part of a ZenML integration,
this method will return an empty list. If it is part of a ZenML integration,
it will return the list of requirements specified inside the integration
class found inside the integration <strong>init</strong> file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>module_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the module to get requirements for.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of requirements for the module.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_requirements_for_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Gets requirements for a module inside an integration.</span>

<span class="sd">    If the module given by `module_name` is not part of a ZenML integration,</span>
<span class="sd">    this method will return an empty list. If it is part of a ZenML integration,</span>
<span class="sd">    it will return the list of requirements specified inside the integration</span>
<span class="sd">    class found inside the integration __init__ file.</span>

<span class="sd">    Args:</span>
<span class="sd">        module_name: The name of the module to get requirements for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of requirements for the module.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">integration</span> <span class="o">=</span> <span class="n">get_integration_for_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">integration</span><span class="o">.</span><span class="n">REQUIREMENTS</span> <span class="k">if</span> <span class="n">integration</span> <span class="k">else</span> <span class="p">[]</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.vault" class="doc doc-heading">
        <code>vault</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization for the Vault Secrets Manager integration.</p>
<p>The Vault secrets manager integration submodule provides a way 
to access the HashiCorp Vault secrets manager from within your ZenML 
pipeline runs.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.vault.VaultSecretsManagerIntegration" class="doc doc-heading">
        <code>
VaultSecretsManagerIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of HashiCorp Vault integration with ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">VaultSecretsManagerIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of HashiCorp Vault integration with ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">VAULT</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;hvac&gt;=0.11.2&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Vault integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">VAULT_SECRETS_MANAGER_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.vault.secrets_manager.VaultSecretsManager&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">SECRETS_MANAGER</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.vault.VaultSecretsManagerIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the Vault integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of stack component flavors.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Vault integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">VAULT_SECRETS_MANAGER_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.vault.secrets_manager.VaultSecretsManager&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">SECRETS_MANAGER</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.vault.secrets_manager" class="doc doc-heading">
        <code>secrets_manager</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>HashiCorp Vault Secrets Manager.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager" class="doc doc-heading">
        <code>vault_secrets_manager</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the HashiCorp Vault Secrets Manager integration.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager.VaultSecretsManager" class="doc doc-heading">
        <code>
VaultSecretsManager            (<a class="autorefs autorefs-internal" title="zenml.secrets_managers.base_secrets_manager.BaseSecretsManager" href="../secrets_managers/#zenml.secrets_managers.base_secrets_manager.BaseSecretsManager">BaseSecretsManager</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Class to interact with the Vault secrets manager - Key/value Engine.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>url</code></td>
        <td><code>str</code></td>
        <td><p>The url of the Vault server.</p></td>
      </tr>
      <tr>
        <td><code>token</code></td>
        <td><code>str</code></td>
        <td><p>The token to use to authenticate with Vault.</p></td>
      </tr>
      <tr>
        <td><code>cert</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The path to the certificate to use to authenticate with Vault.</p></td>
      </tr>
      <tr>
        <td><code>verify</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Whether to verify the certificate or not.</p></td>
      </tr>
      <tr>
        <td><code>mount_point</code></td>
        <td><code>str</code></td>
        <td><p>The mount point of the secrets manager.</p></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The namespace of the secrets manager.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/secrets_manager/vault_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">VaultSecretsManager</span><span class="p">(</span><span class="n">BaseSecretsManager</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class to interact with the Vault secrets manager - Key/value Engine.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        url: The url of the Vault server.</span>
<span class="sd">        token: The token to use to authenticate with Vault.</span>
<span class="sd">        cert: The path to the certificate to use to authenticate with Vault.</span>
<span class="sd">        verify: Whether to verify the certificate or not.</span>
<span class="sd">        mount_point: The mount point of the secrets manager.</span>
<span class="sd">        namespace: The namespace of the secrets manager.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Class configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">VAULT_SECRETS_MANAGER_FLAVOR</span>
    <span class="n">CLIENT</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">token</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">mount_point</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">cert</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">verify</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">namespace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_ensure_client_connected</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Ensure the client is connected.</span>

<span class="sd">        This function initializes the client if it is not initialized.</span>

<span class="sd">        Args:</span>
<span class="sd">            url: The url of the Vault server.</span>
<span class="sd">            token: The token to use to authenticate with Vault.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CLIENT</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Create a Vault Secrets Manager client</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">CLIENT</span> <span class="o">=</span> <span class="n">hvac</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span>
                <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
                <span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_ensure_client_is_authenticated</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Ensure the client is authenticated.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the client is not initialized or authenticated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_connected</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;There was an error authenticating with Vault. Please check your configuration.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Registers a new secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: The secret to register.</span>

<span class="sd">        Raises:</span>
<span class="sd">            SecretExistsError: If the secret already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_is_authenticated</span><span class="p">()</span>

        <span class="n">secret_name</span> <span class="o">=</span> <span class="n">prepend_secret_schema_to_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">=</span><span class="n">secret</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">SecretExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;A Secret with the name &#39;</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">create_or_update_secret</span><span class="p">(</span>
            <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">mount_point</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mount_point</span><span class="p">,</span>
            <span class="n">secret</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">content</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Created secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Added value to secret.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseSecretSchema</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets the value of a secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_name: The name of the secret to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vault_secret_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vault_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">)</span>

        <span class="n">secret_items</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">read_secret_version</span><span class="p">(</span>
                <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">vault_secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">mount_point</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mount_point</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
            <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="p">)</span>

        <span class="n">secret_schema</span> <span class="o">=</span> <span class="n">SecretSchemaClassRegistry</span><span class="o">.</span><span class="n">get_class</span><span class="p">(</span>
            <span class="n">secret_schema</span><span class="o">=</span><span class="n">get_secret_schema_name</span><span class="p">(</span><span class="n">vault_secret_name</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">secret_items</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sanitize_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">secret_schema</span><span class="p">(</span><span class="o">**</span><span class="n">secret_items</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">vault_list_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;List all secrets in Vault without any reformatting.</span>

<span class="sd">        This function tries to get all secrets from Vault and returns</span>
<span class="sd">        them as a list of strings (all secrets&#39; names)</span>
<span class="sd">        in the format: &lt;secret_schema&gt;-&lt;secret_name&gt;</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all secrets in the secrets manager.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_is_authenticated</span><span class="p">()</span>

        <span class="n">set_of_secrets</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">secrets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
                <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/&quot;</span><span class="p">,</span> <span class="n">mount_point</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mount_point</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">hvac</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">InvalidPath</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;There are no secrets created within the path `</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">` &quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">set_of_secrets</span><span class="p">)</span>

        <span class="n">secrets_keys</span> <span class="o">=</span> <span class="n">secrets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">for</span> <span class="n">secret_key</span> <span class="ow">in</span> <span class="n">secrets_keys</span><span class="p">:</span>
            <span class="n">set_of_secrets</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">set_of_secrets</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">vault_secret_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the secret name in the form it is stored in Vault.</span>

<span class="sd">        This function retrieves the secret name in the Vault secrets manager, without</span>
<span class="sd">        any reformatting. This secret should be in the format `&lt;secret_schema_name&gt;-&lt;secret_name&gt;`.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_name: The name of the secret to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret name in the Vault secrets manager.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the secret does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_is_authenticated</span><span class="p">()</span>

        <span class="n">secrets_keys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vault_list_secrets</span><span class="p">()</span>
        <span class="n">sanitized_secret_name</span> <span class="o">=</span> <span class="n">sanitize_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">secret_key</span> <span class="ow">in</span> <span class="n">secrets_keys</span><span class="p">:</span>
            <span class="n">secret_name_without_schema</span> <span class="o">=</span> <span class="n">remove_secret_schema_name</span><span class="p">(</span><span class="n">secret_key</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">sanitized_secret_name</span> <span class="o">==</span> <span class="n">secret_name_without_schema</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">secret_key</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The secret </span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get all secret keys.</span>

<span class="sd">        This function tries to get all secrets from Vault and returns</span>
<span class="sd">        them as a list of strings. All secrets names are without the schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all secret keys in the secrets manager.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">remove_secret_schema_name</span><span class="p">(</span><span class="n">secret_key</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">secret_key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vault_list_secrets</span><span class="p">()</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Update an existing secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: The secret to update.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the secret does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_is_authenticated</span><span class="p">()</span>

        <span class="n">secret_name</span> <span class="o">=</span> <span class="n">prepend_secret_schema_to_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">=</span><span class="n">secret</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">secret_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vault_list_secrets</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">create_or_update_secret</span><span class="p">(</span>
                <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">mount_point</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mount_point</span><span class="p">,</span>
                <span class="n">secret</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">content</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;A Secret with the name &#39;</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span>
            <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Updated secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Added value to secret.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete an existing secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_name: The name of the secret to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the secret does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_is_authenticated</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">vault_secret_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vault_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The secret </span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">delete_metadata_and_all_versions</span><span class="p">(</span>
            <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">vault_secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">mount_point</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mount_point</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deleted secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete all existing secrets.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_is_authenticated</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">secret_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">secret_name</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deleted all secrets.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




















  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager.VaultSecretsManager.delete_all_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Delete all existing secrets.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/secrets_manager/vault_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_all_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete all existing secrets.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_is_authenticated</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">secret_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">secret_name</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deleted all secrets.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager.VaultSecretsManager.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Delete an existing secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the secret to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the secret does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/secrets_manager/vault_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Delete an existing secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: The name of the secret to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the secret does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_is_authenticated</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">vault_secret_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vault_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The secret </span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">delete_metadata_and_all_versions</span><span class="p">(</span>
        <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">vault_secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">mount_point</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mount_point</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deleted secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager.VaultSecretsManager.get_all_secret_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Get all secret keys.</p>
<p>This function tries to get all secrets from Vault and returns
them as a list of strings. All secrets names are without the schema.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of all secret keys in the secrets manager.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/secrets_manager/vault_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_all_secret_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get all secret keys.</span>

<span class="sd">    This function tries to get all secrets from Vault and returns</span>
<span class="sd">    them as a list of strings. All secrets names are without the schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all secret keys in the secrets manager.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">remove_secret_schema_name</span><span class="p">(</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">secret_key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vault_list_secrets</span><span class="p">()</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager.VaultSecretsManager.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Gets the value of a secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the secret to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseSecretSchema</code></td>
      <td><p>The secret.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/secrets_manager/vault_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseSecretSchema</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets the value of a secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: The name of the secret to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vault_secret_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vault_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">)</span>

    <span class="n">secret_items</span> <span class="o">=</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">read_secret_version</span><span class="p">(</span>
            <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">vault_secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">mount_point</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mount_point</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
    <span class="p">)</span>

    <span class="n">secret_schema</span> <span class="o">=</span> <span class="n">SecretSchemaClassRegistry</span><span class="o">.</span><span class="n">get_class</span><span class="p">(</span>
        <span class="n">secret_schema</span><span class="o">=</span><span class="n">get_secret_schema_name</span><span class="p">(</span><span class="n">vault_secret_name</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">secret_items</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sanitize_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">secret_schema</span><span class="p">(</span><span class="o">**</span><span class="n">secret_items</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager.VaultSecretsManager.register_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Registers a new secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>The secret to register.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SecretExistsError</code></td>
        <td><p>If the secret already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/secrets_manager/vault_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Registers a new secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The secret to register.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SecretExistsError: If the secret already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_is_authenticated</span><span class="p">()</span>

    <span class="n">secret_name</span> <span class="o">=</span> <span class="n">prepend_secret_schema_to_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">=</span><span class="n">secret</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_secret_keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">SecretExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;A Secret with the name &#39;</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">create_or_update_secret</span><span class="p">(</span>
        <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">mount_point</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mount_point</span><span class="p">,</span>
        <span class="n">secret</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">content</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Created secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Added value to secret.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager.VaultSecretsManager.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Update an existing secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>The secret to update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the secret does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/secrets_manager/vault_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update an existing secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The secret to update.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the secret does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_is_authenticated</span><span class="p">()</span>

    <span class="n">secret_name</span> <span class="o">=</span> <span class="n">prepend_secret_schema_to_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">=</span><span class="n">secret</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">secret_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vault_list_secrets</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">create_or_update_secret</span><span class="p">(</span>
            <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">mount_point</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mount_point</span><span class="p">,</span>
            <span class="n">secret</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">content</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;A Secret with the name &#39;</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span>
        <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Updated secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Added value to secret.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager.VaultSecretsManager.vault_list_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">vault_list_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>List all secrets in Vault without any reformatting.</p>
<p>This function tries to get all secrets from Vault and returns
them as a list of strings (all secrets' names)
in the format: <secret_schema>-<secret_name></p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of all secrets in the secrets manager.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/secrets_manager/vault_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">vault_list_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;List all secrets in Vault without any reformatting.</span>

<span class="sd">    This function tries to get all secrets from Vault and returns</span>
<span class="sd">    them as a list of strings (all secrets&#39; names)</span>
<span class="sd">    in the format: &lt;secret_schema&gt;-&lt;secret_name&gt;</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all secrets in the secrets manager.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_is_authenticated</span><span class="p">()</span>

    <span class="n">set_of_secrets</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">secrets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CLIENT</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
            <span class="n">path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">/&quot;</span><span class="p">,</span> <span class="n">mount_point</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mount_point</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">hvac</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">InvalidPath</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;There are no secrets created within the path `</span><span class="si">{</span><span class="n">ZENML_PATH</span><span class="si">}</span><span class="s2">` &quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">set_of_secrets</span><span class="p">)</span>

    <span class="n">secrets_keys</span> <span class="o">=</span> <span class="n">secrets</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span> <span class="p">[])</span>
    <span class="k">for</span> <span class="n">secret_key</span> <span class="ow">in</span> <span class="n">secrets_keys</span><span class="p">:</span>
        <span class="n">set_of_secrets</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">secret_key</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">set_of_secrets</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager.VaultSecretsManager.vault_secret_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">vault_secret_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Get the secret name in the form it is stored in Vault.</p>
<p>This function retrieves the secret name in the Vault secrets manager, without
any reformatting. This secret should be in the format <code>&lt;secret_schema_name&gt;-&lt;secret_name&gt;</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the secret to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The secret name in the Vault secrets manager.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the secret does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/secrets_manager/vault_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">vault_secret_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the secret name in the form it is stored in Vault.</span>

<span class="sd">    This function retrieves the secret name in the Vault secrets manager, without</span>
<span class="sd">    any reformatting. This secret should be in the format `&lt;secret_schema_name&gt;-&lt;secret_name&gt;`.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: The name of the secret to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret name in the Vault secrets manager.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the secret does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_client_is_authenticated</span><span class="p">()</span>

    <span class="n">secrets_keys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vault_list_secrets</span><span class="p">()</span>
    <span class="n">sanitized_secret_name</span> <span class="o">=</span> <span class="n">sanitize_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">secret_key</span> <span class="ow">in</span> <span class="n">secrets_keys</span><span class="p">:</span>
        <span class="n">secret_name_without_schema</span> <span class="o">=</span> <span class="n">remove_secret_schema_name</span><span class="p">(</span><span class="n">secret_key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sanitized_secret_name</span> <span class="o">==</span> <span class="n">secret_name_without_schema</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">secret_key</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The secret </span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager.get_secret_schema_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret_schema_name</span><span class="p">(</span><span class="n">combined_secret_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get the secret schema name from the secret name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>combined_secret_name</code></td>
        <td><code>str</code></td>
        <td><p>The secret name to get the secret schema name from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The secret schema name.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the secret name does not have a secret schema name on it.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/secrets_manager/vault_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_secret_schema_name</span><span class="p">(</span><span class="n">combined_secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the secret schema name from the secret name.</span>

<span class="sd">    Args:</span>
<span class="sd">        combined_secret_name: The secret name to get the secret schema name from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret schema name.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the secret name does not have a secret schema name on it.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;-&quot;</span> <span class="ow">in</span> <span class="n">combined_secret_name</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">combined_secret_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Secret name `</span><span class="si">{</span><span class="n">combined_secret_name</span><span class="si">}</span><span class="s2">` does not have a &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Secret_schema name on it.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager.prepend_secret_schema_to_secret_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepend_secret_schema_to_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Prepend the secret schema name to the secret name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>The secret to prepend the secret schema name to.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The secret name with the secret schema name prepended.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/secrets_manager/vault_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepend_secret_schema_to_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Prepend the secret schema name to the secret name.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The secret to prepend the secret schema name to.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret name with the secret schema name prepended.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">secret_name</span> <span class="o">=</span> <span class="n">sanitize_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">secret_schema_name</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">TYPE</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">secret_schema_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager.remove_secret_schema_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_secret_schema_name</span><span class="p">(</span><span class="n">combined_secret_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Remove the secret schema name from the secret name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>combined_secret_name</code></td>
        <td><code>str</code></td>
        <td><p>The secret name to remove the secret schema name from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The secret name without the secret schema name.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the secret name does not have a secret schema name on it.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/secrets_manager/vault_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove_secret_schema_name</span><span class="p">(</span><span class="n">combined_secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Remove the secret schema name from the secret name.</span>

<span class="sd">    Args:</span>
<span class="sd">        combined_secret_name: The secret name to remove the secret schema name from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret name without the secret schema name.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the secret name does not have a secret schema name on it.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;-&quot;</span> <span class="ow">in</span> <span class="n">combined_secret_name</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">combined_secret_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Secret name `</span><span class="si">{</span><span class="n">combined_secret_name</span><span class="si">}</span><span class="s2">` does not have a &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Secret_schema name on it.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.vault.secrets_manager.vault_secrets_manager.sanitize_secret_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sanitize_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Sanitize the secret name to be used in Vault.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>The secret name to sanitize.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The sanitized secret name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/vault/secrets_manager/vault_secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">sanitize_secret_name</span><span class="p">(</span><span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Sanitize the secret name to be used in Vault.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: The secret name to sanitize.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The sanitized secret name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^0-9a-zA-Z_\.]+&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;-_.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.wandb" class="doc doc-heading">
        <code>wandb</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization for the wandb integration.</p>
<p>The wandb integrations currently enables you to use wandb tracking as a
convenient way to visualize your experiment runs within the wandb ui.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.wandb.WandbIntegration" class="doc doc-heading">
        <code>
WandbIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of Plotly integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/wandb/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WandbIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of Plotly integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">WANDB</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;wandb&gt;=0.12.12&quot;</span><span class="p">,</span> <span class="s2">&quot;Pillow&gt;=9.1.0&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Weights and Biases integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">WANDB_EXPERIMENT_TRACKER_FLAVOR</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.wandb.experiment_trackers.WandbExperimentTracker&quot;</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">EXPERIMENT_TRACKER</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.wandb.WandbIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the Weights and Biases integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_stores.models.flavor_wrapper.FlavorWrapper]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/wandb/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Weights and Biases integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">FlavorWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">WANDB_EXPERIMENT_TRACKER_FLAVOR</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml.integrations.wandb.experiment_trackers.WandbExperimentTracker&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">EXPERIMENT_TRACKER</span><span class="p">,</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.wandb.experiment_trackers" class="doc doc-heading">
        <code>experiment_trackers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization for the wandb experiment tracker.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.wandb.experiment_trackers.wandb_experiment_tracker" class="doc doc-heading">
        <code>wandb_experiment_tracker</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation for the wandb experiment tracker.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.wandb.experiment_trackers.wandb_experiment_tracker.WandbExperimentTracker" class="doc doc-heading">
        <code>
WandbExperimentTracker            (<a class="autorefs autorefs-internal" title="zenml.experiment_trackers.base_experiment_tracker.BaseExperimentTracker" href="../experiment_trackers/#zenml.experiment_trackers.base_experiment_tracker.BaseExperimentTracker">BaseExperimentTracker</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Stores wandb configuration options.</p>
<p>ZenML should take care of configuring wandb for you, but should you still
need access to the configuration inside your step you can do it using a
step context:</p>
<pre><code class="language-python">from zenml.steps import StepContext

@enable_wandb
@step
def my_step(context: StepContext, ...)
    context.stack.experiment_tracker  # get the tracking_uri etc. from here
</code></pre>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>entity</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of an existing wandb entity.</p></td>
      </tr>
      <tr>
        <td><code>project_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of an existing wandb project to log to.</p></td>
      </tr>
      <tr>
        <td><code>api_key</code></td>
        <td><code>str</code></td>
        <td><p>API key to should be authorized to log to the configured wandb
entity and project.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/wandb/experiment_trackers/wandb_experiment_tracker.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WandbExperimentTracker</span><span class="p">(</span><span class="n">BaseExperimentTracker</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Stores wandb configuration options.</span>

<span class="sd">    ZenML should take care of configuring wandb for you, but should you still</span>
<span class="sd">    need access to the configuration inside your step you can do it using a</span>
<span class="sd">    step context:</span>
<span class="sd">    ```python</span>
<span class="sd">    from zenml.steps import StepContext</span>

<span class="sd">    @enable_wandb</span>
<span class="sd">    @step</span>
<span class="sd">    def my_step(context: StepContext, ...)</span>
<span class="sd">        context.stack.experiment_tracker  # get the tracking_uri etc. from here</span>
<span class="sd">    ```</span>

<span class="sd">    Attributes:</span>
<span class="sd">        entity: Name of an existing wandb entity.</span>
<span class="sd">        project_name: Name of an existing wandb project to log to.</span>
<span class="sd">        api_key: API key to should be authorized to log to the configured wandb</span>
<span class="sd">            entity and project.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">api_key</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">entity</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">project_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">WANDB_EXPERIMENT_TRACKER_FLAVOR</span>

    <span class="k">def</span> <span class="nf">prepare_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Sets the wandb api key.&quot;&quot;&quot;</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">WANDB_API_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span>

    <span class="nd">@contextmanager</span>
    <span class="k">def</span> <span class="nf">activate_wandb_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">tags</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">wandb</span><span class="o">.</span><span class="n">Settings</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="kc">None</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Activates a wandb run for the duration of this context manager.</span>

<span class="sd">        Anything logged to wandb that is run while this context manager is</span>
<span class="sd">        active will automatically log to the same wandb run configured by the</span>
<span class="sd">        run name passed as an argument to this function.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_name: Name of the wandb run to create.</span>
<span class="sd">            tags: Tags to attach to the wandb run.</span>
<span class="sd">            settings: Additional settings for the wandb run.</span>

<span class="sd">        Yields:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Initializing wandb with project name: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">project_name</span><span class="si">}</span><span class="s2">, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;run_name: </span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2">, entity: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">entity</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
            <span class="n">wandb</span><span class="o">.</span><span class="n">init</span><span class="p">(</span>
                <span class="n">project</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">project_name</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
                <span class="n">entity</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entity</span><span class="p">,</span>
                <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span>
                <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">yield</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">wandb</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
















  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.wandb.experiment_trackers.wandb_experiment_tracker.WandbExperimentTracker.activate_wandb_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate_wandb_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_name</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">(),</span> <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Activates a wandb run for the duration of this context manager.</p>
<p>Anything logged to wandb that is run while this context manager is
active will automatically log to the same wandb run configured by the
run name passed as an argument to this function.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the wandb run to create.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Tuple[str, ...]</code></td>
        <td><p>Tags to attach to the wandb run.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>settings</code></td>
        <td><code>Optional[wandb.sdk.wandb_settings.Settings]</code></td>
        <td><p>Additional settings for the wandb run.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Yields:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterator[NoneType]</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/wandb/experiment_trackers/wandb_experiment_tracker.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">activate_wandb_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">wandb</span><span class="o">.</span><span class="n">Settings</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="kc">None</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Activates a wandb run for the duration of this context manager.</span>

<span class="sd">    Anything logged to wandb that is run while this context manager is</span>
<span class="sd">    active will automatically log to the same wandb run configured by the</span>
<span class="sd">    run name passed as an argument to this function.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_name: Name of the wandb run to create.</span>
<span class="sd">        tags: Tags to attach to the wandb run.</span>
<span class="sd">        settings: Additional settings for the wandb run.</span>

<span class="sd">    Yields:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Initializing wandb with project name: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">project_name</span><span class="si">}</span><span class="s2">, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;run_name: </span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2">, entity: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">entity</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
        <span class="n">wandb</span><span class="o">.</span><span class="n">init</span><span class="p">(</span>
            <span class="n">project</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">project_name</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
            <span class="n">entity</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entity</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">yield</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">wandb</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.wandb.experiment_trackers.wandb_experiment_tracker.WandbExperimentTracker.prepare_step_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Sets the wandb api key.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/wandb/experiment_trackers/wandb_experiment_tracker.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Sets the wandb api key.&quot;&quot;&quot;</span>
    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">WANDB_API_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.wandb.wandb_step_decorator" class="doc doc-heading">
        <code>wandb_step_decorator</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation for the wandb step decorator.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-function">



<h5 id="zenml.integrations.wandb.wandb_step_decorator.enable_wandb" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable_wandb</span><span class="p">(</span><span class="n">_step</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Decorator to enable wandb for a step function.</p>
<p>Apply this decorator to a ZenML pipeline step to enable wandb experiment
tracking. The wandb tracking configuration (project name, experiment name,
entity) will be automatically configured before the step code is executed,
so the step can simply use the <code>wandb</code> module to log metrics and artifacts,
like so:</p>
<pre><code class="language-python">@enable_wandb
@step
def tf_evaluator(
    x_test: np.ndarray,
    y_test: np.ndarray,
    model: tf.keras.Model,
) -&gt; float:
    _, test_acc = model.evaluate(x_test, y_test, verbose=2)
    wandb.log_metric(&quot;val_accuracy&quot;, test_acc)
    return test_acc
</code></pre>
<p>You can also use this decorator with our class-based API like so:</p>
<pre><code>@enable_wandb
class TFEvaluator(BaseStep):
    def entrypoint(
        self,
        x_test: np.ndarray,
        y_test: np.ndarray,
        model: tf.keras.Model,
    ) -&gt; float:
        ...
</code></pre>
<p>All wandb artifacts and metrics logged from all the steps in a pipeline
run are by default grouped under a single experiment named after the
pipeline. To log wandb artifacts and metrics from a step in a separate
wandb experiment, pass a custom <code>experiment_name</code> argument value to the
decorator.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>_step</code></td>
        <td><code>Optional[~S]</code></td>
        <td><p>The decorated step class.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>settings</code></td>
        <td><code>Optional[wandb.sdk.wandb_settings.Settings]</code></td>
        <td><p>wandb settings to use for the step.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[~S, Callable[[~S], ~S]]</code></td>
      <td><p>The inner decorator which enhances the input step class with wandb
tracking functionality</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/wandb/wandb_step_decorator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">enable_wandb</span><span class="p">(</span>
    <span class="n">_step</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">S</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">wandb</span><span class="o">.</span><span class="n">Settings</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">S</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">S</span><span class="p">],</span> <span class="n">S</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Decorator to enable wandb for a step function.</span>

<span class="sd">    Apply this decorator to a ZenML pipeline step to enable wandb experiment</span>
<span class="sd">    tracking. The wandb tracking configuration (project name, experiment name,</span>
<span class="sd">    entity) will be automatically configured before the step code is executed,</span>
<span class="sd">    so the step can simply use the `wandb` module to log metrics and artifacts,</span>
<span class="sd">    like so:</span>

<span class="sd">    ```python</span>
<span class="sd">    @enable_wandb</span>
<span class="sd">    @step</span>
<span class="sd">    def tf_evaluator(</span>
<span class="sd">        x_test: np.ndarray,</span>
<span class="sd">        y_test: np.ndarray,</span>
<span class="sd">        model: tf.keras.Model,</span>
<span class="sd">    ) -&gt; float:</span>
<span class="sd">        _, test_acc = model.evaluate(x_test, y_test, verbose=2)</span>
<span class="sd">        wandb.log_metric(&quot;val_accuracy&quot;, test_acc)</span>
<span class="sd">        return test_acc</span>
<span class="sd">    ```</span>

<span class="sd">    You can also use this decorator with our class-based API like so:</span>
<span class="sd">    ```</span>
<span class="sd">    @enable_wandb</span>
<span class="sd">    class TFEvaluator(BaseStep):</span>
<span class="sd">        def entrypoint(</span>
<span class="sd">            self,</span>
<span class="sd">            x_test: np.ndarray,</span>
<span class="sd">            y_test: np.ndarray,</span>
<span class="sd">            model: tf.keras.Model,</span>
<span class="sd">        ) -&gt; float:</span>
<span class="sd">            ...</span>
<span class="sd">    ```</span>

<span class="sd">    All wandb artifacts and metrics logged from all the steps in a pipeline</span>
<span class="sd">    run are by default grouped under a single experiment named after the</span>
<span class="sd">    pipeline. To log wandb artifacts and metrics from a step in a separate</span>
<span class="sd">    wandb experiment, pass a custom `experiment_name` argument value to the</span>
<span class="sd">    decorator.</span>

<span class="sd">    Args:</span>
<span class="sd">        _step: The decorated step class.</span>
<span class="sd">        settings: wandb settings to use for the step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The inner decorator which enhances the input step class with wandb</span>
<span class="sd">        tracking functionality</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">inner_decorator</span><span class="p">(</span><span class="n">_step</span><span class="p">:</span> <span class="n">S</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">S</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Inner decorator for step enable_wandb.</span>

<span class="sd">        Args:</span>
<span class="sd">            _step: The decorated step class.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The decorated step class.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the decorator is not being applied to a ZenML step</span>
<span class="sd">                decorated function or a BaseStep subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Applying &#39;enable_wandb&#39; decorator to step </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">_step</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">_step</span><span class="p">,</span> <span class="n">BaseStep</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;The `enable_wandb` decorator can only be applied to a ZenML &quot;</span>
                <span class="s2">&quot;`step` decorated function or a BaseStep subclass.&quot;</span>
            <span class="p">)</span>
        <span class="n">source_fn</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">_step</span><span class="p">,</span> <span class="n">STEP_INNER_FUNC_NAME</span><span class="p">)</span>
        <span class="n">new_entrypoint</span> <span class="o">=</span> <span class="n">wandb_step_entrypoint</span><span class="p">(</span>
            <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span>
        <span class="p">)(</span><span class="n">source_fn</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_step</span><span class="o">.</span><span class="n">_created_by_functional_api</span><span class="p">():</span>
            <span class="c1"># If the step was created by the functional API, the old entrypoint</span>
            <span class="c1"># was a static method -&gt; make sure the new one is as well</span>
            <span class="n">new_entrypoint</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">new_entrypoint</span><span class="p">)</span>

        <span class="nb">setattr</span><span class="p">(</span><span class="n">_step</span><span class="p">,</span> <span class="n">STEP_INNER_FUNC_NAME</span><span class="p">,</span> <span class="n">new_entrypoint</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_step</span>

    <span class="k">if</span> <span class="n">_step</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inner_decorator</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inner_decorator</span><span class="p">(</span><span class="n">_step</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.integrations.wandb.wandb_step_decorator.wandb_step_entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wandb_step_entrypoint</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Decorator for a step entrypoint to enable wandb.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>settings</code></td>
        <td><code>Optional[wandb.sdk.wandb_settings.Settings]</code></td>
        <td><p>wandb settings to use for the step.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Callable[[~F], ~F]</code></td>
      <td><p>the input function enhanced with wandb profiling functionality</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/wandb/wandb_step_decorator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wandb_step_entrypoint</span><span class="p">(</span>
    <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">wandb</span><span class="o">.</span><span class="n">Settings</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">F</span><span class="p">],</span> <span class="n">F</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Decorator for a step entrypoint to enable wandb.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings: wandb settings to use for the step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the input function enhanced with wandb profiling functionality</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">inner_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">F</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">F</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Inner decorator for step entrypoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            func: The decorated function.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the input function enhanced with wandb profiling functionality</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Applying &#39;wandb_step_entrypoint&#39; decorator to step entrypoint </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>  <span class="c1"># noqa</span>
            <span class="sd">&quot;&quot;&quot;Wrapper function for decorator.</span>

<span class="sd">            Args:</span>
<span class="sd">                *args: positional arguments to the decorated function.</span>
<span class="sd">                **kwargs: keyword arguments to the decorated function.</span>

<span class="sd">            Returns:</span>
<span class="sd">                The return value of the decorated function.</span>

<span class="sd">            Raises:</span>
<span class="sd">                ValueError: if the active stack has no active experiment tracker.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Setting up wandb backend before running step entrypoint </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">step_env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">()</span><span class="o">.</span><span class="n">step_environment</span>
            <span class="n">run_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">step_env</span><span class="o">.</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">tags</span> <span class="o">=</span> <span class="p">(</span><span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_name</span><span class="p">,</span> <span class="n">step_env</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">)</span>

            <span class="n">experiment_tracker</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">(</span>  <span class="c1"># type: ignore[call-arg]</span>
                <span class="n">skip_repository_check</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">experiment_tracker</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">experiment_tracker</span><span class="p">,</span> <span class="n">WandbExperimentTracker</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;The active stack needs to have a wandb experiment tracker &quot;</span>
                    <span class="s2">&quot;component registered to be able to track experiments &quot;</span>
                    <span class="s2">&quot;using wandb. You can create a new stack with a wandb &quot;</span>
                    <span class="s2">&quot;experiment tracker component or update your existing &quot;</span>
                    <span class="s2">&quot;stack to add this component, e.g.:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;  &#39;zenml experiment-tracker register wandb_tracker &quot;</span>
                    <span class="s2">&quot;--type=wandb --entity=&lt;WANDB_ENTITY&gt; --project_name=&quot;</span>
                    <span class="s2">&quot;&lt;WANDB_PROJECT_NAME&gt; --api_key=&lt;WANDB_API_KEY&gt;&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;  &#39;zenml stack register stack-name -e wandb_tracker ...&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="k">with</span> <span class="n">experiment_tracker</span><span class="o">.</span><span class="n">activate_wandb_run</span><span class="p">(</span>
                <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
                <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
                <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">wrapper</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">inner_decorator</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.whylogs" class="doc doc-heading">
        <code>whylogs</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the whylogs integration.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.whylogs.WhylogsIntegration" class="doc doc-heading">
        <code>
WhylogsIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of <a href="https://github.com/whylabs/whylogs">whylogs</a> integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WhylogsIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of [whylogs](https://github.com/whylabs/whylogs) integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">WHYLOGS</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;whylogs&lt;=0.7.9&quot;</span><span class="p">,</span> <span class="s2">&quot;pybars3&gt;=0.9.7&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.whylogs</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.whylogs</span> <span class="kn">import</span> <span class="n">visualizers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.whylogs.WhylogsIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Activates the integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.whylogs</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.whylogs</span> <span class="kn">import</span> <span class="n">visualizers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.whylogs.materializers" class="doc doc-heading">
        <code>materializers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the whylogs materializer.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.whylogs.materializers.whylogs_materializer" class="doc doc-heading">
        <code>whylogs_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the whylogs materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.whylogs.materializers.whylogs_materializer.WhylogsMaterializer" class="doc doc-heading">
        <code>
WhylogsMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read/write whylogs dataset profiles.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/materializers/whylogs_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WhylogsMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read/write whylogs dataset profiles.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">DatasetProfile</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">StatisticsArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DatasetProfile</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads and returns a whylogs DatasetProfile.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the data to read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A loaded whylogs DatasetProfile.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">PROFILE_FILENAME</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">protobuf</span> <span class="o">=</span> <span class="n">DatasetProfile</span><span class="o">.</span><span class="n">parse_delimited</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">protobuf</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">profile</span><span class="p">:</span> <span class="n">DatasetProfile</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes a whylogs DatasetProfile.</span>

<span class="sd">        Args:</span>
<span class="sd">            profile: A DatasetProfile object from whylogs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">PROFILE_FILENAME</span><span class="p">)</span>
        <span class="n">protobuf</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">serialize_delimited</span><span class="p">()</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">protobuf</span><span class="p">)</span>

        <span class="c1"># TODO [ENG-439]: uploading profiles to whylabs should be enabled and</span>
        <span class="c1">#  configurable at step level or pipeline level instead of being</span>
        <span class="c1">#  globally enabled.</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;WHYLABS_DEFAULT_ORG_ID&quot;</span><span class="p">):</span>
            <span class="n">upload_profile</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.whylogs.materializers.whylogs_materializer.WhylogsMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads and returns a whylogs DatasetProfile.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the data to read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DatasetProfile</code></td>
      <td><p>A loaded whylogs DatasetProfile.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/materializers/whylogs_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">DatasetProfile</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads and returns a whylogs DatasetProfile.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the data to read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A loaded whylogs DatasetProfile.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">PROFILE_FILENAME</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">protobuf</span> <span class="o">=</span> <span class="n">DatasetProfile</span><span class="o">.</span><span class="n">parse_delimited</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">protobuf</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.whylogs.materializers.whylogs_materializer.WhylogsMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">profile</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Writes a whylogs DatasetProfile.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>profile</code></td>
        <td><code>DatasetProfile</code></td>
        <td><p>A DatasetProfile object from whylogs.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/materializers/whylogs_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">profile</span><span class="p">:</span> <span class="n">DatasetProfile</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes a whylogs DatasetProfile.</span>

<span class="sd">    Args:</span>
<span class="sd">        profile: A DatasetProfile object from whylogs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">PROFILE_FILENAME</span><span class="p">)</span>
    <span class="n">protobuf</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">serialize_delimited</span><span class="p">()</span>
    <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">protobuf</span><span class="p">)</span>

    <span class="c1"># TODO [ENG-439]: uploading profiles to whylabs should be enabled and</span>
    <span class="c1">#  configurable at step level or pipeline level instead of being</span>
    <span class="c1">#  globally enabled.</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;WHYLABS_DEFAULT_ORG_ID&quot;</span><span class="p">):</span>
        <span class="n">upload_profile</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.whylogs.steps" class="doc doc-heading">
        <code>steps</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the whylogs steps.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.whylogs.steps.whylogs_profiler" class="doc doc-heading">
        <code>whylogs_profiler</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the whylogs profiler step.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.whylogs.steps.whylogs_profiler.WhylogsProfilerConfig" class="doc doc-heading">
        <code>
WhylogsProfilerConfig            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_analyzer_step.BaseAnalyzerConfig" href="../steps/#zenml.steps.step_interfaces.base_analyzer_step.BaseAnalyzerConfig">BaseAnalyzerConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Config class for the WhylogsProfiler step.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dataset_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the name of the dataset (Optional). If not specified,
the pipeline step name is used</p></td>
      </tr>
      <tr>
        <td><code>dataset_timestamp</code></td>
        <td><code>Optional[datetime.datetime]</code></td>
        <td><p>timestamp to associate with the generated
dataset profile (Optional). The current time is used if not
supplied.</p></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>custom metadata tags associated with the whylogs profile</p></td>
      </tr>
  </tbody>
</table>      <p>Also see <code>WhylogsContext.log_dataframe</code>.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/steps/whylogs_profiler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WhylogsProfilerConfig</span><span class="p">(</span><span class="n">BaseAnalyzerConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for the WhylogsProfiler step.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        dataset_name: the name of the dataset (Optional). If not specified,</span>
<span class="sd">            the pipeline step name is used</span>
<span class="sd">        dataset_timestamp: timestamp to associate with the generated</span>
<span class="sd">            dataset profile (Optional). The current time is used if not</span>
<span class="sd">            supplied.</span>
<span class="sd">        tags: custom metadata tags associated with the whylogs profile</span>

<span class="sd">    Also see `WhylogsContext.log_dataframe`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">dataset_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dataset_timestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.whylogs.steps.whylogs_profiler.WhylogsProfilerStep" class="doc doc-heading">
        <code>
WhylogsProfilerStep            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_analyzer_step.BaseAnalyzerStep" href="../steps/#zenml.steps.step_interfaces.base_analyzer_step.BaseAnalyzerStep">BaseAnalyzerStep</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Generates a whylogs data profile from a given pd.DataFrame.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/steps/whylogs_profiler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WhylogsProfilerStep</span><span class="p">(</span><span class="n">BaseAnalyzerStep</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Generates a whylogs data profile from a given pd.DataFrame.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">WhylogsProfilerConfig</span><span class="p">,</span>
        <span class="n">context</span><span class="p">:</span> <span class="n">StepContext</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DatasetProfile</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Main entrypoint function for the whylogs profiler.</span>

<span class="sd">        Args:</span>
<span class="sd">            dataset: pd.DataFrame, the given dataset</span>
<span class="sd">            config: the configuration of the step</span>
<span class="sd">            context: the context of the step</span>

<span class="sd">        Returns:</span>
<span class="sd">            whylogs profile with statistics generated for the input dataset</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">whylogs_context</span> <span class="o">=</span> <span class="n">WhylogsContext</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
        <span class="n">profile</span> <span class="o">=</span> <span class="n">whylogs_context</span><span class="o">.</span><span class="n">profile_dataframe</span><span class="p">(</span>
            <span class="n">dataset</span><span class="p">,</span> <span class="n">dataset_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">dataset_name</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">profile</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  <div class="doc doc-object doc-class">



<h7 id="zenml.integrations.whylogs.steps.whylogs_profiler.WhylogsProfilerStep.CONFIG_CLASS" class="doc doc-heading">
        <code>
CONFIG_CLASS            (<a class="autorefs autorefs-internal" title="zenml.steps.step_interfaces.base_analyzer_step.BaseAnalyzerConfig" href="../steps/#zenml.steps.step_interfaces.base_analyzer_step.BaseAnalyzerConfig">BaseAnalyzerConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Config class for the WhylogsProfiler step.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dataset_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the name of the dataset (Optional). If not specified,
the pipeline step name is used</p></td>
      </tr>
      <tr>
        <td><code>dataset_timestamp</code></td>
        <td><code>Optional[datetime.datetime]</code></td>
        <td><p>timestamp to associate with the generated
dataset profile (Optional). The current time is used if not
supplied.</p></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>custom metadata tags associated with the whylogs profile</p></td>
      </tr>
  </tbody>
</table>      <p>Also see <code>WhylogsContext.log_dataframe</code>.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/steps/whylogs_profiler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WhylogsProfilerConfig</span><span class="p">(</span><span class="n">BaseAnalyzerConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Config class for the WhylogsProfiler step.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        dataset_name: the name of the dataset (Optional). If not specified,</span>
<span class="sd">            the pipeline step name is used</span>
<span class="sd">        dataset_timestamp: timestamp to associate with the generated</span>
<span class="sd">            dataset profile (Optional). The current time is used if not</span>
<span class="sd">            supplied.</span>
<span class="sd">        tags: custom metadata tags associated with the whylogs profile</span>

<span class="sd">    Also see `WhylogsContext.log_dataframe`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">dataset_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dataset_timestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
















  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.whylogs.steps.whylogs_profiler.WhylogsProfilerStep.entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entrypoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Main entrypoint function for the whylogs profiler.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>dataset</code></td>
        <td><code>DataFrame</code></td>
        <td><p>pd.DataFrame, the given dataset</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>WhylogsProfilerConfig</code></td>
        <td><p>the configuration of the step</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>context</code></td>
        <td><code>StepContext</code></td>
        <td><p>the context of the step</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DatasetProfile</code></td>
      <td><p>whylogs profile with statistics generated for the input dataset</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/steps/whylogs_profiler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">dataset</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">WhylogsProfilerConfig</span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">StepContext</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DatasetProfile</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Main entrypoint function for the whylogs profiler.</span>

<span class="sd">    Args:</span>
<span class="sd">        dataset: pd.DataFrame, the given dataset</span>
<span class="sd">        config: the configuration of the step</span>
<span class="sd">        context: the context of the step</span>

<span class="sd">    Returns:</span>
<span class="sd">        whylogs profile with statistics generated for the input dataset</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">whylogs_context</span> <span class="o">=</span> <span class="n">WhylogsContext</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
    <span class="n">profile</span> <span class="o">=</span> <span class="n">whylogs_context</span><span class="o">.</span><span class="n">profile_dataframe</span><span class="p">(</span>
        <span class="n">dataset</span><span class="p">,</span> <span class="n">dataset_name</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">dataset_name</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">tags</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">profile</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h6 id="zenml.integrations.whylogs.steps.whylogs_profiler.whylogs_profiler_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">whylogs_profiler_step</span><span class="p">(</span><span class="n">step_name</span><span class="p">,</span> <span class="n">enable_cache</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dataset_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dataset_timestamp</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Shortcut function to create a new instance of the WhylogsProfilerStep step.</p>
<p>The returned WhylogsProfilerStep can be used in a pipeline to generate a
whylogs DatasetProfile from a given pd.DataFrame and save it as an artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the step</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>enable_cache</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Specify whether caching is enabled for this step. If no
value is passed, caching is enabled by default</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>dataset_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the dataset name to be used for the whylogs profile
(Optional). If not specified, the step name is used</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>dataset_timestamp</code></td>
        <td><code>Optional[datetime.datetime]</code></td>
        <td><p>timestamp to associate with the generated
dataset profile (Optional). The current time is used if not
supplied.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>custom metadata tags associated with the whylogs profile</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WhylogsProfilerStep</code></td>
      <td><p>a WhylogsProfilerStep step instance</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/steps/whylogs_profiler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">whylogs_profiler_step</span><span class="p">(</span>
    <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">enable_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dataset_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dataset_timestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WhylogsProfilerStep</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Shortcut function to create a new instance of the WhylogsProfilerStep step.</span>

<span class="sd">    The returned WhylogsProfilerStep can be used in a pipeline to generate a</span>
<span class="sd">    whylogs DatasetProfile from a given pd.DataFrame and save it as an artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_name: The name of the step</span>
<span class="sd">        enable_cache: Specify whether caching is enabled for this step. If no</span>
<span class="sd">            value is passed, caching is enabled by default</span>
<span class="sd">        dataset_name: the dataset name to be used for the whylogs profile</span>
<span class="sd">            (Optional). If not specified, the step name is used</span>
<span class="sd">        dataset_timestamp: timestamp to associate with the generated</span>
<span class="sd">            dataset profile (Optional). The current time is used if not</span>
<span class="sd">            supplied.</span>
<span class="sd">        tags: custom metadata tags associated with the whylogs profile</span>

<span class="sd">    Returns:</span>
<span class="sd">        a WhylogsProfilerStep step instance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># enable cache explicitly to compensate for the fact that this step</span>
    <span class="c1"># takes in a context object</span>
    <span class="k">if</span> <span class="n">enable_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">enable_cache</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">step_type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span>
        <span class="n">step_name</span><span class="p">,</span>
        <span class="p">(</span><span class="n">WhylogsProfilerStep</span><span class="p">,),</span>
        <span class="p">{</span>
            <span class="n">INSTANCE_CONFIGURATION</span><span class="p">:</span> <span class="p">{</span>
                <span class="n">PARAM_ENABLE_CACHE</span><span class="p">:</span> <span class="n">enable_cache</span><span class="p">,</span>
                <span class="n">PARAM_CREATED_BY_FUNCTIONAL_API</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">},</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
        <span class="n">WhylogsProfilerStep</span><span class="p">,</span>
        <span class="n">step_type</span><span class="p">(</span>
            <span class="n">WhylogsProfilerConfig</span><span class="p">(</span>
                <span class="n">dataset_name</span><span class="o">=</span><span class="n">dataset_name</span><span class="p">,</span>
                <span class="n">dataset_timestamp</span><span class="o">=</span><span class="n">dataset_timestamp</span><span class="p">,</span>
                <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.whylogs.visualizers" class="doc doc-heading">
        <code>visualizers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the whylogs visualizer.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.whylogs.visualizers.whylogs_visualizer" class="doc doc-heading">
        <code>whylogs_visualizer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the whylogs visualizer step.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.whylogs.visualizers.whylogs_visualizer.WhylogsPlots" class="doc doc-heading">
        <code>
WhylogsPlots            (<a class="autorefs autorefs-internal" title="zenml.utils.enum_utils.StrEnum" href="../utils/#zenml.utils.enum_utils.StrEnum">StrEnum</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>All supported whylogs plot types.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/visualizers/whylogs_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WhylogsPlots</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;All supported whylogs plot types.&quot;&quot;&quot;</span>

    <span class="n">DISTRIBUTION</span> <span class="o">=</span> <span class="s2">&quot;plot_distribution&quot;</span>
    <span class="n">MISSING_VALUES</span> <span class="o">=</span> <span class="s2">&quot;plot_missing_values&quot;</span>
    <span class="n">UNIQUENESS</span> <span class="o">=</span> <span class="s2">&quot;plot_uniqueness&quot;</span>
    <span class="n">DATA_TYPES</span> <span class="o">=</span> <span class="s2">&quot;plot_data_types&quot;</span>
    <span class="n">STRING_LENGTH</span> <span class="o">=</span> <span class="s2">&quot;plot_string_length&quot;</span>
    <span class="n">TOKEN_LENGTH</span> <span class="o">=</span> <span class="s2">&quot;plot_token_length&quot;</span>
    <span class="n">CHAR_POS</span> <span class="o">=</span> <span class="s2">&quot;plot_char_pos&quot;</span>
    <span class="n">STRING</span> <span class="o">=</span> <span class="s2">&quot;plot_string&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.whylogs.visualizers.whylogs_visualizer.WhylogsVisualizer" class="doc doc-heading">
        <code>
WhylogsVisualizer            (<a class="autorefs autorefs-internal" title="zenml.visualizers.base_step_visualizer.BaseStepVisualizer" href="../visualizers/#zenml.visualizers.base_step_visualizer.BaseStepVisualizer">BaseStepVisualizer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>The implementation of a Whylogs Visualizer.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/visualizers/whylogs_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WhylogsVisualizer</span><span class="p">(</span><span class="n">BaseStepVisualizer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The implementation of a Whylogs Visualizer.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">object</span><span class="p">:</span> <span class="n">StepView</span><span class="p">,</span>
        <span class="n">plots</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">WhylogsPlots</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Visualize all whylogs dataset profiles present as outputs in the step view.</span>

<span class="sd">        Args:</span>
<span class="sd">            object: StepView fetched from run.get_step().</span>
<span class="sd">            plots: optional list of whylogs plots to visualize. Defaults to</span>
<span class="sd">                using all available plot types if not set</span>
<span class="sd">            *args: additional positional arguments to pass to the visualize</span>
<span class="sd">                method</span>
<span class="sd">            **kwargs: additional keyword arguments to pass to the visualize</span>
<span class="sd">                method</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">whylogs_artifact_datatype</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">DatasetProfile</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">DatasetProfile</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">artifact_name</span><span class="p">,</span> <span class="n">artifact_view</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># filter out anything but whylogs dataset profile artifacts</span>
            <span class="k">if</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">data_type</span> <span class="o">==</span> <span class="n">whylogs_artifact_datatype</span><span class="p">:</span>
                <span class="n">profile</span> <span class="o">=</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                <span class="c1"># whylogs doesn&#39;t currently support visualizing multiple</span>
                <span class="c1"># non-related profiles side-by-side, so we open them in</span>
                <span class="c1"># separate viewers for now</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">visualize_profile</span><span class="p">(</span><span class="n">artifact_name</span><span class="p">,</span> <span class="n">profile</span><span class="p">,</span> <span class="n">plots</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_plot_method</span><span class="p">(</span>
        <span class="n">visualizer</span><span class="p">:</span> <span class="n">ProfileVisualizer</span><span class="p">,</span> <span class="n">plot</span><span class="p">:</span> <span class="n">WhylogsPlots</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the Whylogs ProfileVisualizer plot method.</span>

<span class="sd">        This will be the one corresponding to a WhylogsPlots enum value.</span>

<span class="sd">        Args:</span>
<span class="sd">            visualizer: a ProfileVisualizer instance</span>
<span class="sd">            plot: a WhylogsPlots enum value</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the supplied WhylogsPlots enum value does not</span>
<span class="sd">                correspond to a valid ProfileVisualizer plot method</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ProfileVisualizer plot method corresponding to the input</span>
<span class="sd">            WhylogsPlots enum value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">plot_method</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">visualizer</span><span class="p">,</span> <span class="n">plot</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">plot_method</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">nl</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid whylogs plot type: </span><span class="si">{</span><span class="n">plot</span><span class="si">}</span><span class="s2"> </span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Valid and supported options are: </span><span class="si">{</span><span class="n">nl</span><span class="si">}</span><span class="s2">- &quot;</span>
                <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nl</span><span class="si">}</span><span class="s2">- &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">WhylogsPlots</span><span class="o">.</span><span class="n">names</span><span class="p">())</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">plot_method</span>

    <span class="k">def</span> <span class="nf">visualize_profile</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">profile</span><span class="p">:</span> <span class="n">DatasetProfile</span><span class="p">,</span>
        <span class="n">plots</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">WhylogsPlots</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Generate a visualization of a whylogs dataset profile.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: name identifying the profile if multiple profiles are</span>
<span class="sd">                displayed at the same time</span>
<span class="sd">            profile: whylogs DatasetProfile to visualize</span>
<span class="sd">            plots: optional list of whylogs plots to visualize. Defaults to</span>
<span class="sd">                using all available plot types if not set</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>
            <span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="kn">import</span> <span class="n">display</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">plots</span><span class="p">:</span>
                <span class="c1"># default to using all plots if none are supplied</span>
                <span class="n">plots</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">WhylogsPlots</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">profile</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">plot</span> <span class="ow">in</span> <span class="n">plots</span><span class="p">:</span>
                    <span class="n">visualizer</span> <span class="o">=</span> <span class="n">ProfileVisualizer</span><span class="p">()</span>
                    <span class="n">visualizer</span><span class="o">.</span><span class="n">set_profiles</span><span class="p">([</span><span class="n">profile</span><span class="p">])</span>
                    <span class="n">plot_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_plot_method</span><span class="p">(</span><span class="n">visualizer</span><span class="p">,</span> <span class="n">plot</span><span class="p">)</span>
                    <span class="n">display</span><span class="p">(</span><span class="n">plot_method</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The magic functions are only usable in a Jupyter notebook.&quot;</span>
            <span class="p">)</span>
            <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span>
                <span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;-</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">.html&quot;</span>
            <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Opening </span><span class="si">%s</span><span class="s2"> in a new browser..&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="n">profile_viewer</span><span class="p">([</span><span class="n">profile</span><span class="p">],</span> <span class="n">output_path</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.whylogs.visualizers.whylogs_visualizer.WhylogsVisualizer.visualize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">plots</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Visualize all whylogs dataset profiles present as outputs in the step view.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>object</code></td>
        <td><code>StepView</code></td>
        <td><p>StepView fetched from run.get_step().</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>plots</code></td>
        <td><code>Optional[List[zenml.integrations.whylogs.visualizers.whylogs_visualizer.WhylogsPlots]]</code></td>
        <td><p>optional list of whylogs plots to visualize. Defaults to
using all available plot types if not set</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>additional positional arguments to pass to the visualize
method</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>additional keyword arguments to pass to the visualize
method</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/visualizers/whylogs_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">object</span><span class="p">:</span> <span class="n">StepView</span><span class="p">,</span>
    <span class="n">plots</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">WhylogsPlots</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Visualize all whylogs dataset profiles present as outputs in the step view.</span>

<span class="sd">    Args:</span>
<span class="sd">        object: StepView fetched from run.get_step().</span>
<span class="sd">        plots: optional list of whylogs plots to visualize. Defaults to</span>
<span class="sd">            using all available plot types if not set</span>
<span class="sd">        *args: additional positional arguments to pass to the visualize</span>
<span class="sd">            method</span>
<span class="sd">        **kwargs: additional keyword arguments to pass to the visualize</span>
<span class="sd">            method</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">whylogs_artifact_datatype</span> <span class="o">=</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">DatasetProfile</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">DatasetProfile</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">artifact_name</span><span class="p">,</span> <span class="n">artifact_view</span> <span class="ow">in</span> <span class="nb">object</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># filter out anything but whylogs dataset profile artifacts</span>
        <span class="k">if</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">data_type</span> <span class="o">==</span> <span class="n">whylogs_artifact_datatype</span><span class="p">:</span>
            <span class="n">profile</span> <span class="o">=</span> <span class="n">artifact_view</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="c1"># whylogs doesn&#39;t currently support visualizing multiple</span>
            <span class="c1"># non-related profiles side-by-side, so we open them in</span>
            <span class="c1"># separate viewers for now</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">visualize_profile</span><span class="p">(</span><span class="n">artifact_name</span><span class="p">,</span> <span class="n">profile</span><span class="p">,</span> <span class="n">plots</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.whylogs.visualizers.whylogs_visualizer.WhylogsVisualizer.visualize_profile" class="doc doc-heading">
<code class="highlight language-python"><span class="n">visualize_profile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">profile</span><span class="p">,</span> <span class="n">plots</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Generate a visualization of a whylogs dataset profile.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>name identifying the profile if multiple profiles are
displayed at the same time</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>profile</code></td>
        <td><code>DatasetProfile</code></td>
        <td><p>whylogs DatasetProfile to visualize</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>plots</code></td>
        <td><code>Optional[List[zenml.integrations.whylogs.visualizers.whylogs_visualizer.WhylogsPlots]]</code></td>
        <td><p>optional list of whylogs plots to visualize. Defaults to
using all available plot types if not set</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/visualizers/whylogs_visualizer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">visualize_profile</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">profile</span><span class="p">:</span> <span class="n">DatasetProfile</span><span class="p">,</span>
    <span class="n">plots</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">WhylogsPlots</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Generate a visualization of a whylogs dataset profile.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: name identifying the profile if multiple profiles are</span>
<span class="sd">            displayed at the same time</span>
<span class="sd">        profile: whylogs DatasetProfile to visualize</span>
<span class="sd">        plots: optional list of whylogs plots to visualize. Defaults to</span>
<span class="sd">            using all available plot types if not set</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>
        <span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="kn">import</span> <span class="n">display</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">plots</span><span class="p">:</span>
            <span class="c1"># default to using all plots if none are supplied</span>
            <span class="n">plots</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">WhylogsPlots</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">profile</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">plot</span> <span class="ow">in</span> <span class="n">plots</span><span class="p">:</span>
                <span class="n">visualizer</span> <span class="o">=</span> <span class="n">ProfileVisualizer</span><span class="p">()</span>
                <span class="n">visualizer</span><span class="o">.</span><span class="n">set_profiles</span><span class="p">([</span><span class="n">profile</span><span class="p">])</span>
                <span class="n">plot_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_plot_method</span><span class="p">(</span><span class="n">visualizer</span><span class="p">,</span> <span class="n">plot</span><span class="p">)</span>
                <span class="n">display</span><span class="p">(</span><span class="n">plot_method</span><span class="p">(</span><span class="n">column</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;The magic functions are only usable in a Jupyter notebook.&quot;</span>
        <span class="p">)</span>
        <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span>
            <span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;-</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">.html&quot;</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Opening </span><span class="si">%s</span><span class="s2"> in a new browser..&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">profile_viewer</span><span class="p">([</span><span class="n">profile</span><span class="p">],</span> <span class="n">output_path</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.whylogs.whylogs_context" class="doc doc-heading">
        <code>whylogs_context</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the whylogs step context extension.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.whylogs.whylogs_context.WhylogsContext" class="doc doc-heading">
        <code>
WhylogsContext        </code>



</h5>

    <div class="doc doc-contents ">

      <p>A step context extension for whylogs.</p>
<p>This can be used to facilitate whylogs data logging and profiling inside a
step function.</p>
<p>It acts as a wrapper built around the whylogs API that transparently
incorporates ZenML specific information into the generated whylogs dataset
profiles that can be used to associate whylogs profiles with the
corresponding ZenML step run that produces them.</p>
<p>It also simplifies the whylogs profile generation process by abstracting
away some of the whylogs specific details, such as whylogs session and
logger initialization and management.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/whylogs_context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WhylogsContext</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;A step context extension for whylogs.</span>

<span class="sd">    This can be used to facilitate whylogs data logging and profiling inside a</span>
<span class="sd">    step function.</span>

<span class="sd">    It acts as a wrapper built around the whylogs API that transparently</span>
<span class="sd">    incorporates ZenML specific information into the generated whylogs dataset</span>
<span class="sd">    profiles that can be used to associate whylogs profiles with the</span>
<span class="sd">    corresponding ZenML step run that produces them.</span>

<span class="sd">    It also simplifies the whylogs profile generation process by abstracting</span>
<span class="sd">    away some of the whylogs specific details, such as whylogs session and</span>
<span class="sd">    logger initialization and management.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_session</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">step_context</span><span class="p">:</span> <span class="n">StepContext</span><span class="p">,</span>
        <span class="n">project</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a ZenML whylogs context based on a generic step context.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_context: a StepContext instance that provides information</span>
<span class="sd">                about the currently running step, such as the step name</span>
<span class="sd">            project: optional project name to use for the whylogs session</span>
<span class="sd">            pipeline: optional pipeline name to use for the whylogs session</span>
<span class="sd">            tags: optional list of tags to apply to all whylogs profiles</span>
<span class="sd">                generated through this context</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_step_context</span> <span class="o">=</span> <span class="n">step_context</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">project</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span> <span class="o">=</span> <span class="n">pipeline</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tags</span> <span class="o">=</span> <span class="n">tags</span>

    <span class="k">def</span> <span class="nf">get_whylogs_session</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Session</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the whylogs session associated with the current step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The whylogs Session instance associated with the current step</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span>
            <span class="n">project</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_context</span><span class="o">.</span><span class="n">step_name</span><span class="p">,</span>
            <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_context</span><span class="o">.</span><span class="n">step_name</span><span class="p">,</span>
            <span class="c1"># keeping the writers list empty, serialization is done in the</span>
            <span class="c1"># materializer</span>
            <span class="n">writers</span><span class="o">=</span><span class="p">[],</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span>

    <span class="k">def</span> <span class="nf">profile_dataframe</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">dataset_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">dataset_timestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DatasetProfile</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Generate whylogs statistics for a Pandas dataframe.</span>

<span class="sd">        Args:</span>
<span class="sd">            df: a Pandas dataframe to profile.</span>
<span class="sd">            dataset_name: the name of the dataset (Optional). If not specified,</span>
<span class="sd">                the pipeline step name is used</span>
<span class="sd">            dataset_timestamp: timestamp to associate with the generated</span>
<span class="sd">                dataset profile (Optional). The current time is used if not</span>
<span class="sd">                supplied.</span>
<span class="sd">            tags: custom metadata tags associated with the whylogs profile</span>

<span class="sd">        Returns:</span>
<span class="sd">            A whylogs DatasetProfile with the statistics generated from the</span>
<span class="sd">            input dataset.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">session</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_whylogs_session</span><span class="p">()</span>
        <span class="c1"># TODO [ENG-437]: use a default whylogs dataset_name that is unique across</span>
        <span class="c1">#  multiple pipelines</span>
        <span class="n">dataset_name</span> <span class="o">=</span> <span class="n">dataset_name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_context</span><span class="o">.</span><span class="n">step_name</span>
        <span class="n">final_tags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tags</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tags</span> <span class="k">else</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="c1"># TODO [ENG-438]: add more zenml specific tags to the whylogs profile, such</span>
        <span class="c1">#  as the pipeline name and run ID</span>
        <span class="n">final_tags</span><span class="p">[</span><span class="s2">&quot;zenml.step&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_context</span><span class="o">.</span><span class="n">step_name</span>
        <span class="c1"># the datasetId tag is used to identify dataset profiles in whylabs.</span>
        <span class="c1"># dataset profiles with the same datasetID are considered to belong</span>
        <span class="c1"># to the same dataset/model.</span>
        <span class="n">final_tags</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;datasetId&quot;</span><span class="p">,</span> <span class="n">dataset_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">tags</span><span class="p">:</span>
            <span class="n">final_tags</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">tags</span><span class="p">)</span>
        <span class="n">logger</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">logger</span><span class="p">(</span>
            <span class="n">dataset_name</span><span class="p">,</span> <span class="n">dataset_timestamp</span><span class="o">=</span><span class="n">dataset_timestamp</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">final_tags</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">log_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">logger</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.whylogs.whylogs_context.WhylogsContext.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_context</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create a ZenML whylogs context based on a generic step context.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_context</code></td>
        <td><code>StepContext</code></td>
        <td><p>a StepContext instance that provides information
about the currently running step, such as the step name</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>project</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>optional project name to use for the whylogs session</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>optional pipeline name to use for the whylogs session</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>optional list of tags to apply to all whylogs profiles
generated through this context</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/whylogs_context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">step_context</span><span class="p">:</span> <span class="n">StepContext</span><span class="p">,</span>
    <span class="n">project</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a ZenML whylogs context based on a generic step context.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_context: a StepContext instance that provides information</span>
<span class="sd">            about the currently running step, such as the step name</span>
<span class="sd">        project: optional project name to use for the whylogs session</span>
<span class="sd">        pipeline: optional pipeline name to use for the whylogs session</span>
<span class="sd">        tags: optional list of tags to apply to all whylogs profiles</span>
<span class="sd">            generated through this context</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_step_context</span> <span class="o">=</span> <span class="n">step_context</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="o">=</span> <span class="n">project</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span> <span class="o">=</span> <span class="n">pipeline</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_tags</span> <span class="o">=</span> <span class="n">tags</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.whylogs.whylogs_context.WhylogsContext.get_whylogs_session" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_whylogs_session</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get the whylogs session associated with the current step.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Session</code></td>
      <td><p>The whylogs Session instance associated with the current step</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/whylogs_context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_whylogs_session</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Session</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the whylogs session associated with the current step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The whylogs Session instance associated with the current step</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span>
        <span class="n">project</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_project</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_context</span><span class="o">.</span><span class="n">step_name</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_context</span><span class="o">.</span><span class="n">step_name</span><span class="p">,</span>
        <span class="c1"># keeping the writers list empty, serialization is done in the</span>
        <span class="c1"># materializer</span>
        <span class="n">writers</span><span class="o">=</span><span class="p">[],</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.whylogs.whylogs_context.WhylogsContext.profile_dataframe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">profile_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">dataset_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dataset_timestamp</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Generate whylogs statistics for a Pandas dataframe.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>df</code></td>
        <td><code>DataFrame</code></td>
        <td><p>a Pandas dataframe to profile.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dataset_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the name of the dataset (Optional). If not specified,
the pipeline step name is used</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>dataset_timestamp</code></td>
        <td><code>Optional[datetime.datetime]</code></td>
        <td><p>timestamp to associate with the generated
dataset profile (Optional). The current time is used if not
supplied.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>custom metadata tags associated with the whylogs profile</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DatasetProfile</code></td>
      <td><p>A whylogs DatasetProfile with the statistics generated from the
input dataset.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/whylogs_context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">profile_dataframe</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">dataset_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dataset_timestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DatasetProfile</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Generate whylogs statistics for a Pandas dataframe.</span>

<span class="sd">    Args:</span>
<span class="sd">        df: a Pandas dataframe to profile.</span>
<span class="sd">        dataset_name: the name of the dataset (Optional). If not specified,</span>
<span class="sd">            the pipeline step name is used</span>
<span class="sd">        dataset_timestamp: timestamp to associate with the generated</span>
<span class="sd">            dataset profile (Optional). The current time is used if not</span>
<span class="sd">            supplied.</span>
<span class="sd">        tags: custom metadata tags associated with the whylogs profile</span>

<span class="sd">    Returns:</span>
<span class="sd">        A whylogs DatasetProfile with the statistics generated from the</span>
<span class="sd">        input dataset.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">session</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_whylogs_session</span><span class="p">()</span>
    <span class="c1"># TODO [ENG-437]: use a default whylogs dataset_name that is unique across</span>
    <span class="c1">#  multiple pipelines</span>
    <span class="n">dataset_name</span> <span class="o">=</span> <span class="n">dataset_name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_context</span><span class="o">.</span><span class="n">step_name</span>
    <span class="n">final_tags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tags</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tags</span> <span class="k">else</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="c1"># TODO [ENG-438]: add more zenml specific tags to the whylogs profile, such</span>
    <span class="c1">#  as the pipeline name and run ID</span>
    <span class="n">final_tags</span><span class="p">[</span><span class="s2">&quot;zenml.step&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_context</span><span class="o">.</span><span class="n">step_name</span>
    <span class="c1"># the datasetId tag is used to identify dataset profiles in whylabs.</span>
    <span class="c1"># dataset profiles with the same datasetID are considered to belong</span>
    <span class="c1"># to the same dataset/model.</span>
    <span class="n">final_tags</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;datasetId&quot;</span><span class="p">,</span> <span class="n">dataset_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">tags</span><span class="p">:</span>
        <span class="n">final_tags</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">tags</span><span class="p">)</span>
    <span class="n">logger</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">logger</span><span class="p">(</span>
        <span class="n">dataset_name</span><span class="p">,</span> <span class="n">dataset_timestamp</span><span class="o">=</span><span class="n">dataset_timestamp</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">final_tags</span>
    <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">log_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">logger</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.whylogs.whylogs_step_decorator" class="doc doc-heading">
        <code>whylogs_step_decorator</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the whylogs step decorator.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-function">



<h5 id="zenml.integrations.whylogs.whylogs_step_decorator.enable_whylogs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable_whylogs</span><span class="p">(</span><span class="n">_step</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Decorator to enable whylogs profiling for a step function.</p>
<p>Apply this decorator to a ZenML pipeline step to enable whylogs profiling.
The decorated function will be given access to a StepContext <code>whylogs</code>
field that facilitates access to the whylogs dataset profiling API,
like so:</p>
<pre><code class="language-python">@enable_whylogs
@step(enable_cache=True)
def data_loader(
    context: StepContext,
) -&gt; Output(data=pd.DataFrame, profile=DatasetProfile,):
    ...
    data = pd.DataFrame(...)
    profile = context.whylogs.profile_dataframe(data, dataset_name=&quot;input_data&quot;)
    ...
    return data, profile
</code></pre>
<p>You can also use this decorator with our class-based API like so:</p>
<pre><code>@enable_whylogs
class DataLoader(BaseStep):
    def entrypoint(
        self,
        context: StepContext
    ) -&gt; Output(data=pd.DataFrame, profile=DatasetProfile,):
        ...
</code></pre>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>_step</code></td>
        <td><code>Optional[~S]</code></td>
        <td><p>The decorated step class.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>project</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>optional project name to use for the whylogs session</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>optional pipeline name to use for the whylogs session</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>optional list of tags to apply to all profiles generated by this
step</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[~S, Callable[[~S], ~S]]</code></td>
      <td><p>the inner decorator which enhaces the input step class with whylogs
profiling functionality</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/whylogs_step_decorator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">enable_whylogs</span><span class="p">(</span>
    <span class="n">_step</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">S</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">project</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">S</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">S</span><span class="p">],</span> <span class="n">S</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Decorator to enable whylogs profiling for a step function.</span>

<span class="sd">    Apply this decorator to a ZenML pipeline step to enable whylogs profiling.</span>
<span class="sd">    The decorated function will be given access to a StepContext `whylogs`</span>
<span class="sd">    field that facilitates access to the whylogs dataset profiling API,</span>
<span class="sd">    like so:</span>

<span class="sd">    ```python</span>
<span class="sd">    @enable_whylogs</span>
<span class="sd">    @step(enable_cache=True)</span>
<span class="sd">    def data_loader(</span>
<span class="sd">        context: StepContext,</span>
<span class="sd">    ) -&gt; Output(data=pd.DataFrame, profile=DatasetProfile,):</span>
<span class="sd">        ...</span>
<span class="sd">        data = pd.DataFrame(...)</span>
<span class="sd">        profile = context.whylogs.profile_dataframe(data, dataset_name=&quot;input_data&quot;)</span>
<span class="sd">        ...</span>
<span class="sd">        return data, profile</span>
<span class="sd">    ```</span>

<span class="sd">    You can also use this decorator with our class-based API like so:</span>
<span class="sd">    ```</span>
<span class="sd">    @enable_whylogs</span>
<span class="sd">    class DataLoader(BaseStep):</span>
<span class="sd">        def entrypoint(</span>
<span class="sd">            self,</span>
<span class="sd">            context: StepContext</span>
<span class="sd">        ) -&gt; Output(data=pd.DataFrame, profile=DatasetProfile,):</span>
<span class="sd">            ...</span>
<span class="sd">    ```</span>

<span class="sd">    Args:</span>
<span class="sd">        _step: The decorated step class.</span>
<span class="sd">        project: optional project name to use for the whylogs session</span>
<span class="sd">        pipeline: optional pipeline name to use for the whylogs session</span>
<span class="sd">        tags: optional list of tags to apply to all profiles generated by this</span>
<span class="sd">            step</span>

<span class="sd">    Returns:</span>
<span class="sd">        the inner decorator which enhaces the input step class with whylogs</span>
<span class="sd">        profiling functionality</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">inner_decorator</span><span class="p">(</span><span class="n">_step</span><span class="p">:</span> <span class="n">S</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">S</span><span class="p">:</span>
        <span class="n">source_fn</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">_step</span><span class="p">,</span> <span class="n">STEP_INNER_FUNC_NAME</span><span class="p">)</span>
        <span class="n">new_entrypoint</span> <span class="o">=</span> <span class="n">whylogs_entrypoint</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">tags</span><span class="p">)(</span><span class="n">source_fn</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_step</span><span class="o">.</span><span class="n">_created_by_functional_api</span><span class="p">():</span>
            <span class="c1"># If the step was created by the functional API, the old entrypoint</span>
            <span class="c1"># was a static method -&gt; make sure the new one is as well</span>
            <span class="n">new_entrypoint</span> <span class="o">=</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">new_entrypoint</span><span class="p">)</span>

        <span class="nb">setattr</span><span class="p">(</span><span class="n">_step</span><span class="p">,</span> <span class="n">STEP_INNER_FUNC_NAME</span><span class="p">,</span> <span class="n">new_entrypoint</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_step</span>

    <span class="k">if</span> <span class="n">_step</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inner_decorator</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inner_decorator</span><span class="p">(</span><span class="n">_step</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.integrations.whylogs.whylogs_step_decorator.whylogs_entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">whylogs_entrypoint</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Decorator for a step entrypoint to enable whylogs.</p>
<p>Apply this decorator to a ZenML pipeline step to enable whylogs profiling.
The decorated function will be given access to a StepContext <code>whylogs</code>
field that facilitates access to the whylogs dataset profiling API,
like so:</p>
<p>.. highlight:: python
.. code-block:: python</p>
<pre><code>@step(enable_cache=True)
@whylogs_entrypoint()
def data_loader(
    context: StepContext,
) -&gt; Output(data=pd.DataFrame, profile=DatasetProfile,):
    ...
    data = pd.DataFrame(...)
    profile = context.whylogs.profile_dataframe(data, dataset_name="input_data")
    ...
    return data, profile
</code></pre>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>project</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>optional project name to use for the whylogs session</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>optional pipeline name to use for the whylogs session</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>optional list of tags to apply to all profiles generated by this
step</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Callable[[~F], ~F]</code></td>
      <td><p>the input function enhanced with whylogs profiling functionality</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/whylogs/whylogs_step_decorator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">whylogs_entrypoint</span><span class="p">(</span>
    <span class="n">project</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">F</span><span class="p">],</span> <span class="n">F</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Decorator for a step entrypoint to enable whylogs.</span>

<span class="sd">    Apply this decorator to a ZenML pipeline step to enable whylogs profiling.</span>
<span class="sd">    The decorated function will be given access to a StepContext `whylogs`</span>
<span class="sd">    field that facilitates access to the whylogs dataset profiling API,</span>
<span class="sd">    like so:</span>

<span class="sd">    .. highlight:: python</span>
<span class="sd">    .. code-block:: python</span>

<span class="sd">        @step(enable_cache=True)</span>
<span class="sd">        @whylogs_entrypoint()</span>
<span class="sd">        def data_loader(</span>
<span class="sd">            context: StepContext,</span>
<span class="sd">        ) -&gt; Output(data=pd.DataFrame, profile=DatasetProfile,):</span>
<span class="sd">            ...</span>
<span class="sd">            data = pd.DataFrame(...)</span>
<span class="sd">            profile = context.whylogs.profile_dataframe(data, dataset_name=&quot;input_data&quot;)</span>
<span class="sd">            ...</span>
<span class="sd">            return data, profile</span>

<span class="sd">    Args:</span>
<span class="sd">        project: optional project name to use for the whylogs session</span>
<span class="sd">        pipeline: optional pipeline name to use for the whylogs session</span>
<span class="sd">        tags: optional list of tags to apply to all profiles generated by this</span>
<span class="sd">            step</span>

<span class="sd">    Returns:</span>
<span class="sd">        the input function enhanced with whylogs profiling functionality</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">inner_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">F</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">F</span><span class="p">:</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>  <span class="c1"># noqa</span>

            <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span> <span class="o">+</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">StepContext</span><span class="p">):</span>
                    <span class="n">arg</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;whylogs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WhylogsContext</span><span class="p">(</span>
                        <span class="n">arg</span><span class="p">,</span> <span class="n">project</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">tags</span>
                    <span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">wrapper</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">inner_decorator</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.xgboost" class="doc doc-heading">
        <code>xgboost</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the XGBoost integration.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.integrations.xgboost.XgboostIntegration" class="doc doc-heading">
        <code>
XgboostIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Definition of xgboost integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/xgboost/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">XgboostIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Definition of xgboost integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">XGBOOST</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;xgboost&gt;=1.0.0&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.xgboost</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.integrations.xgboost.XgboostIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Activates the integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/xgboost/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.xgboost</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.xgboost.materializers" class="doc doc-heading">
        <code>materializers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Initialization of the XGBoost materializers.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.xgboost.materializers.xgboost_booster_materializer" class="doc doc-heading">
        <code>xgboost_booster_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of an XGBoost booster materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.xgboost.materializers.xgboost_booster_materializer.XgboostBoosterMaterializer" class="doc doc-heading">
        <code>
XgboostBoosterMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read data to and from xgboost.Booster.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/xgboost/materializers/xgboost_booster_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">XgboostBoosterMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read data to and from xgboost.Booster.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">xgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">ModelArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">xgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads a xgboost Booster model from a serialized JSON file.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: A xgboost Booster type.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A xgboost Booster object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

        <span class="c1"># Create a temporary folder</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span>
        <span class="n">temp_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">),</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

        <span class="c1"># Copy from artifact store to temporary file</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">temp_file</span><span class="p">)</span>
        <span class="n">booster</span> <span class="o">=</span> <span class="n">xgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">()</span>
        <span class="n">booster</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="n">temp_file</span><span class="p">)</span>

        <span class="c1"># Cleanup and return</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">booster</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">booster</span><span class="p">:</span> <span class="n">xgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a JSON serialization for a xgboost Booster model.</span>

<span class="sd">        Args:</span>
<span class="sd">            booster: A xgboost Booster model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">booster</span><span class="p">)</span>

        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

        <span class="c1"># Make a temporary phantom artifact</span>
        <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.json&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">booster</span><span class="o">.</span><span class="n">save_model</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="c1"># Copy it into artifact store</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>

        <span class="c1"># Close and remove the temporary file</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.xgboost.materializers.xgboost_booster_materializer.XgboostBoosterMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads a xgboost Booster model from a serialized JSON file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>A xgboost Booster type.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Booster</code></td>
      <td><p>A xgboost Booster object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/xgboost/materializers/xgboost_booster_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">xgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads a xgboost Booster model from a serialized JSON file.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: A xgboost Booster type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A xgboost Booster object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

    <span class="c1"># Create a temporary folder</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span>
    <span class="n">temp_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">),</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

    <span class="c1"># Copy from artifact store to temporary file</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">temp_file</span><span class="p">)</span>
    <span class="n">booster</span> <span class="o">=</span> <span class="n">xgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">()</span>
    <span class="n">booster</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="n">temp_file</span><span class="p">)</span>

    <span class="c1"># Cleanup and return</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">booster</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.xgboost.materializers.xgboost_booster_materializer.XgboostBoosterMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">booster</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Creates a JSON serialization for a xgboost Booster model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>booster</code></td>
        <td><code>Booster</code></td>
        <td><p>A xgboost Booster model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/xgboost/materializers/xgboost_booster_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">booster</span><span class="p">:</span> <span class="n">xgb</span><span class="o">.</span><span class="n">Booster</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a JSON serialization for a xgboost Booster model.</span>

<span class="sd">    Args:</span>
<span class="sd">        booster: A xgboost Booster model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">booster</span><span class="p">)</span>

    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

    <span class="c1"># Make a temporary phantom artifact</span>
    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span>
        <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.json&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">booster</span><span class="o">.</span><span class="n">save_model</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="c1"># Copy it into artifact store</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>

    <span class="c1"># Close and remove the temporary file</span>
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.integrations.xgboost.materializers.xgboost_dmatrix_materializer" class="doc doc-heading">
        <code>xgboost_dmatrix_materializer</code>



</h5>

    <div class="doc doc-contents ">

      <p>Implementation of the XGBoost dmatrix materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.xgboost.materializers.xgboost_dmatrix_materializer.XgboostDMatrixMaterializer" class="doc doc-heading">
        <code>
XgboostDMatrixMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Materializer to read data to and from xgboost.DMatrix.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/xgboost/materializers/xgboost_dmatrix_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">XgboostDMatrixMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Materializer to read data to and from xgboost.DMatrix.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">xgb</span><span class="o">.</span><span class="n">DMatrix</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="n">DataArtifact</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">xgb</span><span class="o">.</span><span class="n">DMatrix</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Reads a xgboost.DMatrix binary file and loads it.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The datatype which should be read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Materialized xgboost matrix.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

        <span class="c1"># Create a temporary folder</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span>
        <span class="n">temp_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">),</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

        <span class="c1"># Copy from artifact store to temporary file</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">temp_file</span><span class="p">)</span>
        <span class="n">matrix</span> <span class="o">=</span> <span class="n">xgb</span><span class="o">.</span><span class="n">DMatrix</span><span class="p">(</span><span class="n">temp_file</span><span class="p">)</span>

        <span class="c1"># Cleanup and return</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">matrix</span>

    <span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">:</span> <span class="n">xgb</span><span class="o">.</span><span class="n">DMatrix</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a binary serialization for a xgboost.DMatrix object.</span>

<span class="sd">        Args:</span>
<span class="sd">            matrix: A xgboost.DMatrix object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

        <span class="c1"># Make a temporary phantom artifact</span>
        <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;wb&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">matrix</span><span class="o">.</span><span class="n">save_binary</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="c1"># Copy it into artifact store</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>

        <span class="c1"># Close and remove the temporary file</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.xgboost.materializers.xgboost_dmatrix_materializer.XgboostDMatrixMaterializer.handle_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Reads a xgboost.DMatrix binary file and loads it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The datatype which should be read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DMatrix</code></td>
      <td><p>Materialized xgboost matrix.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/xgboost/materializers/xgboost_dmatrix_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">xgb</span><span class="o">.</span><span class="n">DMatrix</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads a xgboost.DMatrix binary file and loads it.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The datatype which should be read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Materialized xgboost matrix.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_input</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

    <span class="c1"># Create a temporary folder</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span>
    <span class="n">temp_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">),</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

    <span class="c1"># Copy from artifact store to temporary file</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">temp_file</span><span class="p">)</span>
    <span class="n">matrix</span> <span class="o">=</span> <span class="n">xgb</span><span class="o">.</span><span class="n">DMatrix</span><span class="p">(</span><span class="n">temp_file</span><span class="p">)</span>

    <span class="c1"># Cleanup and return</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">matrix</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.integrations.xgboost.materializers.xgboost_dmatrix_materializer.XgboostDMatrixMaterializer.handle_return" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Creates a binary serialization for a xgboost.DMatrix object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>matrix</code></td>
        <td><code>DMatrix</code></td>
        <td><p>A xgboost.DMatrix object.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/xgboost/materializers/xgboost_dmatrix_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">:</span> <span class="n">xgb</span><span class="o">.</span><span class="n">DMatrix</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a binary serialization for a xgboost.DMatrix object.</span>

<span class="sd">    Args:</span>
<span class="sd">        matrix: A xgboost.DMatrix object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_return</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_FILENAME</span><span class="p">)</span>

    <span class="c1"># Make a temporary phantom artifact</span>
    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;wb&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">matrix</span><span class="o">.</span><span class="n">save_binary</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="c1"># Copy it into artifact store</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span>

    <span class="c1"># Close and remove the temporary file</span>
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../feature_stores/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Feature Stores" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Feature Stores
            </div>
          </div>
        </a>
      
      
        
        <a href="../io/" class="md-footer__link md-footer__link--next" aria-label="Next: Io" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Io
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.a6c66575.min.js"></script>
      
    
  </body>
</html>