
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://apidocs.zenml.io/0.8.0/api_docs/stack/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.15">
    
    
      
        <title>Stack - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.c382b1dc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stack" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Stack
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Api docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Api docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Api docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/" class="md-nav__link">
        Integrations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../metadata_stores/" class="md-nav__link">
        Metadata Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../repository/" class="md-nav__link">
        Repository
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runtime_configuration/" class="md-nav__link">
        Runtime Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../secrets_managers/" class="md-nav__link">
        Secrets Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Stack
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Stack
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.stack" class="md-nav__link">
    stack
  </a>
  
    <nav class="md-nav" aria-label="stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.flavor_registry" class="md-nav__link">
    flavor_registry
  </a>
  
    <nav class="md-nav" aria-label="flavor_registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.flavor_registry.FlavorRegistry" class="md-nav__link">
    FlavorRegistry
  </a>
  
    <nav class="md-nav" aria-label="FlavorRegistry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.flavor_registry.FlavorRegistry.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.flavor_registry.FlavorRegistry.get_flavors_by_type" class="md-nav__link">
    get_flavors_by_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.flavor_registry.FlavorRegistry.register_default_flavors" class="md-nav__link">
    register_default_flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.flavor_registry.FlavorRegistry.register_integration_flavors" class="md-nav__link">
    register_integration_flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack" class="md-nav__link">
    stack
  </a>
  
    <nav class="md-nav" aria-label="stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack" class="md-nav__link">
    Stack
  </a>
  
    <nav class="md-nav" aria-label="Stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.artifact_store" class="md-nav__link">
    artifact_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.components" class="md-nav__link">
    components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.container_registry" class="md-nav__link">
    container_registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.experiment_tracker" class="md-nav__link">
    experiment_tracker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.feature_store" class="md-nav__link">
    feature_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.is_provisioned" class="md-nav__link">
    is_provisioned
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.is_running" class="md-nav__link">
    is_running
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.metadata_store" class="md-nav__link">
    metadata_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.model_deployer" class="md-nav__link">
    model_deployer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.orchestrator" class="md-nav__link">
    orchestrator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.runtime_options" class="md-nav__link">
    runtime_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.secrets_manager" class="md-nav__link">
    secrets_manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.step_operator" class="md-nav__link">
    step_operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.cleanup_step_run" class="md-nav__link">
    cleanup_step_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.default_local_stack" class="md-nav__link">
    default_local_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.deploy_pipeline" class="md-nav__link">
    deploy_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.dict" class="md-nav__link">
    dict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.from_components" class="md-nav__link">
    from_components()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.prepare_step_run" class="md-nav__link">
    prepare_step_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.requirements" class="md-nav__link">
    requirements()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.resume" class="md-nav__link">
    resume()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.suspend" class="md-nav__link">
    suspend()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component" class="md-nav__link">
    stack_component
  </a>
  
    <nav class="md-nav" aria-label="stack_component">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent" class="md-nav__link">
    StackComponent
  </a>
  
    <nav class="md-nav" aria-label="StackComponent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.is_provisioned" class="md-nav__link">
    is_provisioned
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.is_running" class="md-nav__link">
    is_running
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.is_suspended" class="md-nav__link">
    is_suspended
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.local_path" class="md-nav__link">
    local_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.log_file" class="md-nav__link">
    log_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.post_registration_message" class="md-nav__link">
    post_registration_message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.requirements" class="md-nav__link">
    requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.runtime_options" class="md-nav__link">
    runtime_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.validator" class="md-nav__link">
    validator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.cleanup_pipeline_run" class="md-nav__link">
    cleanup_pipeline_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.cleanup_step_run" class="md-nav__link">
    cleanup_step_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.prepare_pipeline_deployment" class="md-nav__link">
    prepare_pipeline_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.prepare_pipeline_run" class="md-nav__link">
    prepare_pipeline_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.prepare_step_run" class="md-nav__link">
    prepare_step_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.resume" class="md-nav__link">
    resume()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.suspend" class="md-nav__link">
    suspend()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_validator" class="md-nav__link">
    stack_validator
  </a>
  
    <nav class="md-nav" aria-label="stack_validator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_validator.StackValidator" class="md-nav__link">
    StackValidator
  </a>
  
    <nav class="md-nav" aria-label="StackValidator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_validator.StackValidator.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_validator.StackValidator.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../visualizers/" class="md-nav__link">
        Visualizers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_34" type="checkbox" id="__nav_3_34" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_34">
          Cli
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cli" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_34">
          <span class="md-nav__icon md-icon"></span>
          Cli
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/base/" class="md-nav__link">
        Base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/cli/" class="md-nav__link">
        Cli
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/example/" class="md-nav__link">
        Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/feature/" class="md-nav__link">
        Feature
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/formatter/" class="md-nav__link">
        Formatter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/pipeline/" class="md-nav__link">
        Pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/served_models/" class="md-nav__link">
        Served Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/server/" class="md-nav__link">
        Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/stack_components/" class="md-nav__link">
        Stack Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/text_utils/" class="md-nav__link">
        Text Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/user_management/" class="md-nav__link">
        User Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/version/" class="md-nav__link">
        Version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.stack" class="md-nav__link">
    stack
  </a>
  
    <nav class="md-nav" aria-label="stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.flavor_registry" class="md-nav__link">
    flavor_registry
  </a>
  
    <nav class="md-nav" aria-label="flavor_registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.flavor_registry.FlavorRegistry" class="md-nav__link">
    FlavorRegistry
  </a>
  
    <nav class="md-nav" aria-label="FlavorRegistry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.flavor_registry.FlavorRegistry.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.flavor_registry.FlavorRegistry.get_flavors_by_type" class="md-nav__link">
    get_flavors_by_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.flavor_registry.FlavorRegistry.register_default_flavors" class="md-nav__link">
    register_default_flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.flavor_registry.FlavorRegistry.register_integration_flavors" class="md-nav__link">
    register_integration_flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack" class="md-nav__link">
    stack
  </a>
  
    <nav class="md-nav" aria-label="stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack" class="md-nav__link">
    Stack
  </a>
  
    <nav class="md-nav" aria-label="Stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.artifact_store" class="md-nav__link">
    artifact_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.components" class="md-nav__link">
    components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.container_registry" class="md-nav__link">
    container_registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.experiment_tracker" class="md-nav__link">
    experiment_tracker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.feature_store" class="md-nav__link">
    feature_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.is_provisioned" class="md-nav__link">
    is_provisioned
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.is_running" class="md-nav__link">
    is_running
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.metadata_store" class="md-nav__link">
    metadata_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.model_deployer" class="md-nav__link">
    model_deployer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.orchestrator" class="md-nav__link">
    orchestrator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.runtime_options" class="md-nav__link">
    runtime_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.secrets_manager" class="md-nav__link">
    secrets_manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.step_operator" class="md-nav__link">
    step_operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.cleanup_step_run" class="md-nav__link">
    cleanup_step_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.default_local_stack" class="md-nav__link">
    default_local_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.deploy_pipeline" class="md-nav__link">
    deploy_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.dict" class="md-nav__link">
    dict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.from_components" class="md-nav__link">
    from_components()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.prepare_step_run" class="md-nav__link">
    prepare_step_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.requirements" class="md-nav__link">
    requirements()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.resume" class="md-nav__link">
    resume()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.suspend" class="md-nav__link">
    suspend()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack.Stack.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component" class="md-nav__link">
    stack_component
  </a>
  
    <nav class="md-nav" aria-label="stack_component">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent" class="md-nav__link">
    StackComponent
  </a>
  
    <nav class="md-nav" aria-label="StackComponent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.is_provisioned" class="md-nav__link">
    is_provisioned
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.is_running" class="md-nav__link">
    is_running
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.is_suspended" class="md-nav__link">
    is_suspended
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.local_path" class="md-nav__link">
    local_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.log_file" class="md-nav__link">
    log_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.post_registration_message" class="md-nav__link">
    post_registration_message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.requirements" class="md-nav__link">
    requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.runtime_options" class="md-nav__link">
    runtime_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.validator" class="md-nav__link">
    validator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.cleanup_pipeline_run" class="md-nav__link">
    cleanup_pipeline_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.cleanup_step_run" class="md-nav__link">
    cleanup_step_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.prepare_pipeline_deployment" class="md-nav__link">
    prepare_pipeline_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.prepare_pipeline_run" class="md-nav__link">
    prepare_pipeline_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.prepare_step_run" class="md-nav__link">
    prepare_step_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.resume" class="md-nav__link">
    resume()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_component.StackComponent.suspend" class="md-nav__link">
    suspend()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_validator" class="md-nav__link">
    stack_validator
  </a>
  
    <nav class="md-nav" aria-label="stack_validator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_validator.StackValidator" class="md-nav__link">
    StackValidator
  </a>
  
    <nav class="md-nav" aria-label="StackValidator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_validator.StackValidator.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.stack.stack_validator.StackValidator.validate" class="md-nav__link">
    validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/zenml-io/zenml/docs/api_docs/stack.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="stack">Stack</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.stack" class="doc doc-heading">
        <code>zenml.stack</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>The stack is essentially all the configuration for the infrastructure of your 
MLOps platform.</p>
<p>A stack is made up of multiple components. Some examples are:</p>
<ul>
<li>An Artifact Store</li>
<li>A Metadata Store</li>
<li>An Orchestrator</li>
<li>A Step Operator (Optional)</li>
<li>A Container Registry (Optional)</li>
</ul>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h3 id="zenml.stack.flavor_registry" class="doc doc-heading">
        <code>flavor_registry</code>



</h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.stack.flavor_registry.FlavorRegistry" class="doc doc-heading">
        <code>
FlavorRegistry        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Registry for stack component flavors.</p>
<p>The flavors defined by ZenML must be registered here.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/flavor_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FlavorRegistry</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Registry for stack component flavors.</span>

<span class="sd">    The flavors defined by ZenML must be registered here.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialization of the flavors.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_flavors</span><span class="p">:</span> <span class="n">DefaultDict</span><span class="p">[</span>
            <span class="n">StackComponentType</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">FlavorWrapper</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">register_default_flavors</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">register_integration_flavors</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">register_default_flavors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Registers the default built-in flavors.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.artifact_stores</span> <span class="kn">import</span> <span class="n">LocalArtifactStore</span>
        <span class="kn">from</span> <span class="nn">zenml.container_registries</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">AzureContainerRegistry</span><span class="p">,</span>
            <span class="n">DefaultContainerRegistry</span><span class="p">,</span>
            <span class="n">DockerHubContainerRegistry</span><span class="p">,</span>
            <span class="n">GCPContainerRegistry</span><span class="p">,</span>
            <span class="n">GitHubContainerRegistry</span><span class="p">,</span>
            <span class="n">GitLabContainerRegistry</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="kn">from</span> <span class="nn">zenml.metadata_stores</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">MySQLMetadataStore</span><span class="p">,</span>
            <span class="n">SQLiteMetadataStore</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="kn">from</span> <span class="nn">zenml.orchestrators</span> <span class="kn">import</span> <span class="n">LocalOrchestrator</span>
        <span class="kn">from</span> <span class="nn">zenml.secrets_managers</span> <span class="kn">import</span> <span class="n">LocalSecretsManager</span>

        <span class="n">default_flavors</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">LocalOrchestrator</span><span class="p">,</span>
            <span class="n">SQLiteMetadataStore</span><span class="p">,</span>
            <span class="n">MySQLMetadataStore</span><span class="p">,</span>
            <span class="n">LocalArtifactStore</span><span class="p">,</span>
            <span class="n">DefaultContainerRegistry</span><span class="p">,</span>
            <span class="n">AzureContainerRegistry</span><span class="p">,</span>
            <span class="n">DockerHubContainerRegistry</span><span class="p">,</span>
            <span class="n">GCPContainerRegistry</span><span class="p">,</span>
            <span class="n">GitHubContainerRegistry</span><span class="p">,</span>
            <span class="n">GitLabContainerRegistry</span><span class="p">,</span>
            <span class="n">LocalSecretsManager</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">flavor</span> <span class="ow">in</span> <span class="n">default_flavors</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_register_flavor</span><span class="p">(</span>
                <span class="n">FlavorWrapper</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">FLAVOR</span><span class="p">,</span>  <span class="c1"># type: ignore[attr-defined]</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">TYPE</span><span class="p">,</span>  <span class="c1"># type: ignore[attr-defined]</span>
                    <span class="n">source</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="vm">__module__</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">flavor</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                    <span class="n">integration</span><span class="o">=</span><span class="s2">&quot;built-in&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">register_integration_flavors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Registers the flavors implemented by integrations.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.registry</span> <span class="kn">import</span> <span class="n">integration_registry</span>

        <span class="k">for</span> <span class="n">integration</span> <span class="ow">in</span> <span class="n">integration_registry</span><span class="o">.</span><span class="n">integrations</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">integrated_flavors</span> <span class="o">=</span> <span class="n">integration</span><span class="o">.</span><span class="n">flavors</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">integrated_flavors</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">flavor</span> <span class="ow">in</span> <span class="n">integrated_flavors</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_register_flavor</span><span class="p">(</span><span class="n">flavor</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_register_flavor</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">flavor</span><span class="p">:</span> <span class="n">FlavorWrapper</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Registers a stack component flavor.&quot;&quot;&quot;</span>
        <span class="n">flavors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flavors</span><span class="p">[</span><span class="n">flavor</span><span class="o">.</span><span class="n">type</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">flavor</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">flavors</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;There is already a </span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2"> with the flavor &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">`. Please select another name for the flavor.&quot;</span>
            <span class="p">)</span>

        <span class="n">flavors</span><span class="p">[</span><span class="n">flavor</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">flavor</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Registered flavor for &#39;</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; and type &#39;</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_flavors_by_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">component_type</span><span class="p">:</span> <span class="n">StackComponentType</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">FlavorWrapper</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Return the list of flavors with given type.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flavors</span><span class="p">[</span><span class="n">component_type</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.flavor_registry.FlavorRegistry.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialization of the flavors.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/flavor_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Initialization of the flavors.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_flavors</span><span class="p">:</span> <span class="n">DefaultDict</span><span class="p">[</span>
        <span class="n">StackComponentType</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">FlavorWrapper</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">register_default_flavors</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">register_integration_flavors</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.flavor_registry.FlavorRegistry.get_flavors_by_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_flavors_by_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_type</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Return the list of flavors with given type.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/flavor_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_flavors_by_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">component_type</span><span class="p">:</span> <span class="n">StackComponentType</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">FlavorWrapper</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return the list of flavors with given type.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flavors</span><span class="p">[</span><span class="n">component_type</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.flavor_registry.FlavorRegistry.register_default_flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_default_flavors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Registers the default built-in flavors.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/flavor_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_default_flavors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Registers the default built-in flavors.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.artifact_stores</span> <span class="kn">import</span> <span class="n">LocalArtifactStore</span>
    <span class="kn">from</span> <span class="nn">zenml.container_registries</span> <span class="kn">import</span> <span class="p">(</span>
        <span class="n">AzureContainerRegistry</span><span class="p">,</span>
        <span class="n">DefaultContainerRegistry</span><span class="p">,</span>
        <span class="n">DockerHubContainerRegistry</span><span class="p">,</span>
        <span class="n">GCPContainerRegistry</span><span class="p">,</span>
        <span class="n">GitHubContainerRegistry</span><span class="p">,</span>
        <span class="n">GitLabContainerRegistry</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="kn">from</span> <span class="nn">zenml.metadata_stores</span> <span class="kn">import</span> <span class="p">(</span>
        <span class="n">MySQLMetadataStore</span><span class="p">,</span>
        <span class="n">SQLiteMetadataStore</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="kn">from</span> <span class="nn">zenml.orchestrators</span> <span class="kn">import</span> <span class="n">LocalOrchestrator</span>
    <span class="kn">from</span> <span class="nn">zenml.secrets_managers</span> <span class="kn">import</span> <span class="n">LocalSecretsManager</span>

    <span class="n">default_flavors</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">LocalOrchestrator</span><span class="p">,</span>
        <span class="n">SQLiteMetadataStore</span><span class="p">,</span>
        <span class="n">MySQLMetadataStore</span><span class="p">,</span>
        <span class="n">LocalArtifactStore</span><span class="p">,</span>
        <span class="n">DefaultContainerRegistry</span><span class="p">,</span>
        <span class="n">AzureContainerRegistry</span><span class="p">,</span>
        <span class="n">DockerHubContainerRegistry</span><span class="p">,</span>
        <span class="n">GCPContainerRegistry</span><span class="p">,</span>
        <span class="n">GitHubContainerRegistry</span><span class="p">,</span>
        <span class="n">GitLabContainerRegistry</span><span class="p">,</span>
        <span class="n">LocalSecretsManager</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="k">for</span> <span class="n">flavor</span> <span class="ow">in</span> <span class="n">default_flavors</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_register_flavor</span><span class="p">(</span>
            <span class="n">FlavorWrapper</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">FLAVOR</span><span class="p">,</span>  <span class="c1"># type: ignore[attr-defined]</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">TYPE</span><span class="p">,</span>  <span class="c1"># type: ignore[attr-defined]</span>
                <span class="n">source</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="vm">__module__</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">flavor</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="s2">&quot;built-in&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.flavor_registry.FlavorRegistry.register_integration_flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_integration_flavors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Registers the flavors implemented by integrations.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/flavor_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_integration_flavors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Registers the flavors implemented by integrations.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.registry</span> <span class="kn">import</span> <span class="n">integration_registry</span>

    <span class="k">for</span> <span class="n">integration</span> <span class="ow">in</span> <span class="n">integration_registry</span><span class="o">.</span><span class="n">integrations</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">integrated_flavors</span> <span class="o">=</span> <span class="n">integration</span><span class="o">.</span><span class="n">flavors</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">integrated_flavors</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">flavor</span> <span class="ow">in</span> <span class="n">integrated_flavors</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_register_flavor</span><span class="p">(</span><span class="n">flavor</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.stack.stack" class="doc doc-heading">
        <code>stack</code>



</h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.stack.stack.Stack" class="doc doc-heading">
        <code>
Stack        </code>



</h4>

    <div class="doc doc-contents ">

      <p>ZenML stack class.</p>
<p>A ZenML stack is a collection of multiple stack components that are
required to run ZenML pipelines. Some of these components (orchestrator,
metadata store and artifact store) are required to run any kind of
pipeline, other components like the container registry are only required
if other stack components depend on them.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Stack</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;ZenML stack class.</span>

<span class="sd">    A ZenML stack is a collection of multiple stack components that are</span>
<span class="sd">    required to run ZenML pipelines. Some of these components (orchestrator,</span>
<span class="sd">    metadata store and artifact store) are required to run any kind of</span>
<span class="sd">    pipeline, other components like the container registry are only required</span>
<span class="sd">    if other stack components depend on them.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">orchestrator</span><span class="p">:</span> <span class="s2">&quot;BaseOrchestrator&quot;</span><span class="p">,</span>
        <span class="n">metadata_store</span><span class="p">:</span> <span class="s2">&quot;BaseMetadataStore&quot;</span><span class="p">,</span>
        <span class="n">artifact_store</span><span class="p">:</span> <span class="s2">&quot;BaseArtifactStore&quot;</span><span class="p">,</span>
        <span class="n">container_registry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseContainerRegistry&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">secrets_manager</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseSecretsManager&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">step_operator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseStepOperator&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">feature_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseFeatureStore&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">model_deployer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseModelDeployer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">experiment_tracker</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseExperimentTracker&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initializes and validates a stack instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">             StackValidationError: If the stack configuration is not valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span> <span class="o">=</span> <span class="n">orchestrator</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_store</span> <span class="o">=</span> <span class="n">metadata_store</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_artifact_store</span> <span class="o">=</span> <span class="n">artifact_store</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_container_registry</span> <span class="o">=</span> <span class="n">container_registry</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_step_operator</span> <span class="o">=</span> <span class="n">step_operator</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_secrets_manager</span> <span class="o">=</span> <span class="n">secrets_manager</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_feature_store</span> <span class="o">=</span> <span class="n">feature_store</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model_deployer</span> <span class="o">=</span> <span class="n">model_deployer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_experiment_tracker</span> <span class="o">=</span> <span class="n">experiment_tracker</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_components</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">components</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">StackComponentType</span><span class="p">,</span> <span class="s2">&quot;StackComponent&quot;</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Stack&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a stack instance from a dict of stack components.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the stack.</span>
<span class="sd">            components: The components of the stack.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A stack instance consisting of the given components.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If a required component is missing or a component</span>
<span class="sd">                doesn&#39;t inherit from the expected base class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.artifact_stores</span> <span class="kn">import</span> <span class="n">BaseArtifactStore</span>
        <span class="kn">from</span> <span class="nn">zenml.container_registries</span> <span class="kn">import</span> <span class="n">BaseContainerRegistry</span>
        <span class="kn">from</span> <span class="nn">zenml.experiment_trackers</span> <span class="kn">import</span> <span class="n">BaseExperimentTracker</span>
        <span class="kn">from</span> <span class="nn">zenml.feature_stores</span> <span class="kn">import</span> <span class="n">BaseFeatureStore</span>
        <span class="kn">from</span> <span class="nn">zenml.metadata_stores</span> <span class="kn">import</span> <span class="n">BaseMetadataStore</span>
        <span class="kn">from</span> <span class="nn">zenml.model_deployers</span> <span class="kn">import</span> <span class="n">BaseModelDeployer</span>
        <span class="kn">from</span> <span class="nn">zenml.orchestrators</span> <span class="kn">import</span> <span class="n">BaseOrchestrator</span>
        <span class="kn">from</span> <span class="nn">zenml.secrets_managers</span> <span class="kn">import</span> <span class="n">BaseSecretsManager</span>
        <span class="kn">from</span> <span class="nn">zenml.step_operators</span> <span class="kn">import</span> <span class="n">BaseStepOperator</span>

        <span class="k">def</span> <span class="nf">_raise_type_error</span><span class="p">(</span>
            <span class="n">component</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;StackComponent&quot;</span><span class="p">],</span> <span class="n">expected_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NoReturn</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Raises a TypeError that the component has an unexpected type.&quot;&quot;&quot;</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to create stack: Wrong stack component type &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` (expected: subclass &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;of `</span><span class="si">{</span><span class="n">expected_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">`)&quot;</span>
            <span class="p">)</span>

        <span class="n">orchestrator</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">orchestrator</span><span class="p">,</span> <span class="n">BaseOrchestrator</span><span class="p">):</span>
            <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">orchestrator</span><span class="p">,</span> <span class="n">BaseOrchestrator</span><span class="p">)</span>

        <span class="n">metadata_store</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">METADATA_STORE</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">metadata_store</span><span class="p">,</span> <span class="n">BaseMetadataStore</span><span class="p">):</span>
            <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">metadata_store</span><span class="p">,</span> <span class="n">BaseMetadataStore</span><span class="p">)</span>

        <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact_store</span><span class="p">,</span> <span class="n">BaseArtifactStore</span><span class="p">):</span>
            <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">artifact_store</span><span class="p">,</span> <span class="n">BaseArtifactStore</span><span class="p">)</span>

        <span class="n">container_registry</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">container_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
            <span class="n">container_registry</span><span class="p">,</span> <span class="n">BaseContainerRegistry</span>
        <span class="p">):</span>
            <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">container_registry</span><span class="p">,</span> <span class="n">BaseContainerRegistry</span><span class="p">)</span>

        <span class="n">secrets_manager</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">SECRETS_MANAGER</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">secrets_manager</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
            <span class="n">secrets_manager</span><span class="p">,</span> <span class="n">BaseSecretsManager</span>
        <span class="p">):</span>
            <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">secrets_manager</span><span class="p">,</span> <span class="n">BaseSecretsManager</span><span class="p">)</span>

        <span class="n">step_operator</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">STEP_OPERATOR</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">step_operator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
            <span class="n">step_operator</span><span class="p">,</span> <span class="n">BaseStepOperator</span>
        <span class="p">):</span>
            <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">step_operator</span><span class="p">,</span> <span class="n">BaseStepOperator</span><span class="p">)</span>

        <span class="n">feature_store</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">FEATURE_STORE</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">feature_store</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
            <span class="n">feature_store</span><span class="p">,</span> <span class="n">BaseFeatureStore</span>
        <span class="p">):</span>
            <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">feature_store</span><span class="p">,</span> <span class="n">BaseFeatureStore</span><span class="p">)</span>

        <span class="n">model_deployer</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">MODEL_DEPLOYER</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">model_deployer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
            <span class="n">model_deployer</span><span class="p">,</span> <span class="n">BaseModelDeployer</span>
        <span class="p">):</span>
            <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">model_deployer</span><span class="p">,</span> <span class="n">BaseModelDeployer</span><span class="p">)</span>

        <span class="n">experiment_tracker</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">StackComponentType</span><span class="o">.</span><span class="n">EXPERIMENT_TRACKER</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">experiment_tracker</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
            <span class="n">experiment_tracker</span><span class="p">,</span> <span class="n">BaseExperimentTracker</span>
        <span class="p">):</span>
            <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">experiment_tracker</span><span class="p">,</span> <span class="n">BaseExperimentTracker</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">Stack</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">orchestrator</span><span class="o">=</span><span class="n">orchestrator</span><span class="p">,</span>
            <span class="n">metadata_store</span><span class="o">=</span><span class="n">metadata_store</span><span class="p">,</span>
            <span class="n">artifact_store</span><span class="o">=</span><span class="n">artifact_store</span><span class="p">,</span>
            <span class="n">container_registry</span><span class="o">=</span><span class="n">container_registry</span><span class="p">,</span>
            <span class="n">secrets_manager</span><span class="o">=</span><span class="n">secrets_manager</span><span class="p">,</span>
            <span class="n">step_operator</span><span class="o">=</span><span class="n">step_operator</span><span class="p">,</span>
            <span class="n">feature_store</span><span class="o">=</span><span class="n">feature_store</span><span class="p">,</span>
            <span class="n">model_deployer</span><span class="o">=</span><span class="n">model_deployer</span><span class="p">,</span>
            <span class="n">experiment_tracker</span><span class="o">=</span><span class="n">experiment_tracker</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">default_local_stack</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Stack&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a stack instance which is configured to run locally.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.artifact_stores</span> <span class="kn">import</span> <span class="n">LocalArtifactStore</span>
        <span class="kn">from</span> <span class="nn">zenml.metadata_stores</span> <span class="kn">import</span> <span class="n">SQLiteMetadataStore</span>
        <span class="kn">from</span> <span class="nn">zenml.orchestrators</span> <span class="kn">import</span> <span class="n">LocalOrchestrator</span>

        <span class="n">orchestrator</span> <span class="o">=</span> <span class="n">LocalOrchestrator</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>

        <span class="n">artifact_store_uuid</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
        <span class="n">artifact_store_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">config_directory</span><span class="p">,</span>
            <span class="s2">&quot;local_stores&quot;</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">artifact_store_uuid</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">utils</span><span class="o">.</span><span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="n">artifact_store_path</span><span class="p">)</span>
        <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">LocalArtifactStore</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
            <span class="n">uuid</span><span class="o">=</span><span class="n">artifact_store_uuid</span><span class="p">,</span>
            <span class="n">path</span><span class="o">=</span><span class="n">artifact_store_path</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">metadata_store_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">artifact_store_path</span><span class="p">,</span> <span class="s2">&quot;metadata.db&quot;</span><span class="p">)</span>
        <span class="n">metadata_store</span> <span class="o">=</span> <span class="n">SQLiteMetadataStore</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">uri</span><span class="o">=</span><span class="n">metadata_store_path</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
            <span class="n">orchestrator</span><span class="o">=</span><span class="n">orchestrator</span><span class="p">,</span>
            <span class="n">metadata_store</span><span class="o">=</span><span class="n">metadata_store</span><span class="p">,</span>
            <span class="n">artifact_store</span><span class="o">=</span><span class="n">artifact_store</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">components</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">StackComponentType</span><span class="p">,</span> <span class="s2">&quot;StackComponent&quot;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;All components of the stack.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">component</span><span class="o">.</span><span class="n">TYPE</span><span class="p">:</span> <span class="n">component</span>
            <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">orchestrator</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">metadata_store</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">artifact_store</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">container_registry</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">secrets_manager</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">step_operator</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">feature_store</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">model_deployer</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">experiment_tracker</span><span class="p">,</span>
            <span class="p">]</span>
            <span class="k">if</span> <span class="n">component</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The name of the stack.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">orchestrator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseOrchestrator&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The orchestrator of the stack.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">metadata_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseMetadataStore&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The metadata store of the stack.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_store</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">artifact_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseArtifactStore&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The artifact store of the stack.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_artifact_store</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">container_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseContainerRegistry&quot;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The container registry of the stack.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_container_registry</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">secrets_manager</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseSecretsManager&quot;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The secrets manager of the stack.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_secrets_manager</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">step_operator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseStepOperator&quot;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The step operator of the stack.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_operator</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">feature_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseFeatureStore&quot;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The feature store of the stack.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_feature_store</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">model_deployer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseModelDeployer&quot;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The model deployer of the stack.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_deployer</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">experiment_tracker</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseExperimentTracker&quot;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The experiment tracker of the stack.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_experiment_tracker</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">runtime_options</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Runtime options that are available to configure this stack.</span>

<span class="sd">        This method combines the available runtime options for all components</span>
<span class="sd">        of this stack. See `StackComponent.runtime_options()` for</span>
<span class="sd">        more information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">runtime_options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">duplicate_runtime_options</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">runtime_options</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">component</span><span class="o">.</span><span class="n">runtime_options</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">duplicate_runtime_options</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;Found duplicate runtime options </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
                    <span class="n">duplicate_runtime_options</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="n">runtime_options</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">runtime_options</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">runtime_options</span>

    <span class="k">def</span> <span class="nf">dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Converts the stack into a dictionary.&quot;&quot;&quot;</span>
        <span class="n">component_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">component_type</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="n">component</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">component_type</span><span class="p">,</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="n">component_dict</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">})</span>
        <span class="k">return</span> <span class="n">component_dict</span>

    <span class="k">def</span> <span class="nf">requirements</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">exclude_components</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AbstractSet</span><span class="p">[</span><span class="n">StackComponentType</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Set of PyPI requirements for the stack.</span>

<span class="sd">        This method combines the requirements of all stack components (except</span>
<span class="sd">        the ones specified in `exclude_components`).</span>

<span class="sd">        Args:</span>
<span class="sd">            exclude_components: Set of component types for which the</span>
<span class="sd">                requirements should not be included in the output.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exclude_components</span> <span class="o">=</span> <span class="n">exclude_components</span> <span class="ow">or</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">requirements</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">component</span><span class="o">.</span><span class="n">requirements</span>
            <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">TYPE</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">exclude_components</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="n">requirements</span><span class="p">)</span> <span class="k">if</span> <span class="n">requirements</span> <span class="k">else</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks whether the stack configuration is valid.</span>

<span class="sd">        To check if a stack configuration is valid, the following criteria must</span>
<span class="sd">        be met:</span>
<span class="sd">        - all components must support the execution mode (either local or</span>
<span class="sd">         remote execution) specified by the orchestrator of the stack</span>
<span class="sd">        - the `StackValidator` of each stack component has to validate the</span>
<span class="sd">         stack to make sure all the components are compatible with each other</span>

<span class="sd">        Raises:</span>
<span class="sd">             StackValidationError: If the stack configuration is not valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">validator</span><span class="p">:</span>
                <span class="n">component</span><span class="o">.</span><span class="n">validator</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">stack</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_register_pipeline_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Registers a pipeline run in the ZenStore.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.repository</span> <span class="kn">import</span> <span class="n">Repository</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.models</span> <span class="kn">import</span> <span class="n">StackWrapper</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.models.pipeline_models</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">PipelineRunWrapper</span><span class="p">,</span>
            <span class="n">PipelineWrapper</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">repo</span> <span class="o">=</span> <span class="n">Repository</span><span class="p">()</span>
        <span class="n">active_project</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">active_project</span>
        <span class="n">pipeline_run_wrapper</span> <span class="o">=</span> <span class="n">PipelineRunWrapper</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="p">,</span>
            <span class="n">pipeline</span><span class="o">=</span><span class="n">PipelineWrapper</span><span class="o">.</span><span class="n">from_pipeline</span><span class="p">(</span><span class="n">pipeline</span><span class="p">),</span>
            <span class="n">stack</span><span class="o">=</span><span class="n">StackWrapper</span><span class="o">.</span><span class="n">from_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span>
            <span class="n">runtime_configuration</span><span class="o">=</span><span class="n">runtime_configuration</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">repo</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">project_name</span><span class="o">=</span><span class="n">active_project</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">active_project</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">Repository</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">register_pipeline_run</span><span class="p">(</span><span class="n">pipeline_run_wrapper</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deploy_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="n">RuntimeConfiguration</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Deploys a pipeline on this stack.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline: The pipeline to deploy.</span>
<span class="sd">            runtime_configuration: Contains all the runtime configuration</span>
<span class="sd">                options specified for the pipeline run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The return value of the call to `orchestrator.run_pipeline(...)`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">component</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">StackValidationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The &#39;</span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">TYPE</span><span class="si">}</span><span class="s2"> stack component &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;is not currently running. Please run the following &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;command to provision and start the component:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;    `zenml stack up`</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="p">)</span>

        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">component</span><span class="o">.</span><span class="n">prepare_pipeline_deployment</span><span class="p">(</span>
                <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span>
                <span class="n">stack</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">runtime_configuration</span><span class="o">=</span><span class="n">runtime_configuration</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">component</span><span class="o">.</span><span class="n">prepare_pipeline_run</span><span class="p">()</span>

        <span class="n">runtime_configuration</span><span class="p">[</span>
            <span class="n">RUN_NAME_OPTION_KEY</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span> <span class="ow">or</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">-&quot;</span>
            <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">_%h_%y-%H_%M_%S_</span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Using stack `</span><span class="si">%s</span><span class="s2">` to run pipeline `</span><span class="si">%s</span><span class="s2">`...&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="n">original_cache_boolean</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">enable_cache</span>
        <span class="k">if</span> <span class="s2">&quot;enable_cache&quot;</span> <span class="ow">in</span> <span class="n">runtime_configuration</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Runtime configuration overwriting the pipeline cache settings&quot;</span>
                <span class="s2">&quot; to enable_cache=`</span><span class="si">%s</span><span class="s2">` for this pipeline run. The default &quot;</span>
                <span class="s2">&quot;caching strategy is retained for future pipeline runs.&quot;</span><span class="p">,</span>
                <span class="n">runtime_configuration</span><span class="p">[</span><span class="s2">&quot;enable_cache&quot;</span><span class="p">],</span>
            <span class="p">)</span>
            <span class="n">pipeline</span><span class="o">.</span><span class="n">enable_cache</span> <span class="o">=</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;enable_cache&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_register_pipeline_run</span><span class="p">(</span>
            <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="o">=</span><span class="n">runtime_configuration</span>
        <span class="p">)</span>

        <span class="n">return_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">orchestrator</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
            <span class="n">pipeline</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="o">=</span><span class="n">runtime_configuration</span>
        <span class="p">)</span>

        <span class="c1"># Put pipeline level cache policy back to make sure the next runs</span>
        <span class="c1">#  default to that policy again in case the runtime configuration</span>
        <span class="c1">#  is not set explicitly</span>
        <span class="n">pipeline</span><span class="o">.</span><span class="n">enable_cache</span> <span class="o">=</span> <span class="n">original_cache_boolean</span>

        <span class="n">run_duration</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Pipeline run `</span><span class="si">%s</span><span class="s2">` has finished in </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
            <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="p">,</span>
            <span class="n">string_utils</span><span class="o">.</span><span class="n">get_human_readable_time</span><span class="p">(</span><span class="n">run_duration</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">component</span><span class="o">.</span><span class="n">cleanup_pipeline_run</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">return_value</span>

    <span class="k">def</span> <span class="nf">prepare_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Prepares running a step.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">component</span><span class="o">.</span><span class="n">prepare_step_run</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">cleanup_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Cleans up resources after the step run is finished.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">component</span><span class="o">.</span><span class="n">cleanup_step_run</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_provisioned</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;If the stack provisioned resources to run locally.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">all</span><span class="p">(</span>
            <span class="n">component</span><span class="o">.</span><span class="n">is_provisioned</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;If the stack is running locally.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">all</span><span class="p">(</span>
            <span class="n">component</span><span class="o">.</span><span class="n">is_running</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Provisions resources to run the stack locally.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If any unprovisioned component does not</span>
<span class="sd">                implement provisioning.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provisioning resources for stack &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">component</span><span class="o">.</span><span class="n">is_provisioned</span><span class="p">:</span>
                <span class="n">component</span><span class="o">.</span><span class="n">provision</span><span class="p">()</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provisioned resources for </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Deprovisions all local resources of the stack.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If any provisioned component does not</span>
<span class="sd">                implement deprovisioning.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deprovisioning resources for stack &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">is_provisioned</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">component</span><span class="o">.</span><span class="n">deprovision</span><span class="p">()</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deprovisioned resources for </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">NotImplementedError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Resumes the provisioned local resources of the stack.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ProvisioningError: If any stack component is missing provisioned</span>
<span class="sd">                resources.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Resuming provisioned resources for stack </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
                <span class="c1"># the component is already running, no need to resume anything</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="n">component</span><span class="o">.</span><span class="n">is_provisioned</span><span class="p">:</span>
                <span class="n">component</span><span class="o">.</span><span class="n">resume</span><span class="p">()</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Resumed resources for </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ProvisioningError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to resume resources for </span><span class="si">{</span><span class="n">component</span><span class="si">}</span><span class="s2">: No &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;resources have been provisioned for this component.&quot;</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Suspends the provisioned local resources of the stack.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Suspending provisioned resources for stack &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">component</span><span class="o">.</span><span class="n">is_suspended</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">component</span><span class="o">.</span><span class="n">suspend</span><span class="p">()</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Suspended resources for </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">NotImplementedError</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="s2">&quot;Suspending provisioned resources not implemented &quot;</span>
                        <span class="s2">&quot;for </span><span class="si">%s</span><span class="s2">. Continuing without suspending resources...&quot;</span><span class="p">,</span>
                        <span class="n">component</span><span class="p">,</span>
                    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.artifact_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">artifact_store</span><span class="p">:</span> <span class="n">BaseArtifactStore</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The artifact store of the stack.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.components" class="doc doc-heading">
<code class="highlight language-python"><span class="n">components</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">enums</span><span class="o">.</span><span class="n">StackComponentType</span><span class="p">,</span> <span class="n">StackComponent</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>All components of the stack.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.container_registry" class="doc doc-heading">
<code class="highlight language-python"><span class="n">container_registry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseContainerRegistry</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The container registry of the stack.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.experiment_tracker" class="doc doc-heading">
<code class="highlight language-python"><span class="n">experiment_tracker</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseExperimentTracker</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The experiment tracker of the stack.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.feature_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">feature_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseFeatureStore</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The feature store of the stack.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.is_provisioned" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_provisioned</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>If the stack provisioned resources to run locally.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.is_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_running</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>If the stack is running locally.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.metadata_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">metadata_store</span><span class="p">:</span> <span class="n">BaseMetadataStore</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The metadata store of the stack.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.model_deployer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">model_deployer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseModelDeployer</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The model deployer of the stack.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The name of the stack.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.orchestrator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">orchestrator</span><span class="p">:</span> <span class="n">BaseOrchestrator</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The orchestrator of the stack.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.runtime_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runtime_options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Runtime options that are available to configure this stack.</p>
<p>This method combines the available runtime options for all components
of this stack. See <code>StackComponent.runtime_options()</code> for
more information.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.secrets_manager" class="doc doc-heading">
<code class="highlight language-python"><span class="n">secrets_manager</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseSecretsManager</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The secrets manager of the stack.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack.Stack.step_operator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_operator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseStepOperator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The step operator of the stack.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack.Stack.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">orchestrator</span><span class="p">,</span> <span class="n">metadata_store</span><span class="p">,</span> <span class="n">artifact_store</span><span class="p">,</span> <span class="n">container_registry</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">secrets_manager</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">step_operator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">feature_store</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">model_deployer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">experiment_tracker</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initializes and validates a stack instance.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StackValidationError</code></td>
        <td><p>If the stack configuration is not valid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">orchestrator</span><span class="p">:</span> <span class="s2">&quot;BaseOrchestrator&quot;</span><span class="p">,</span>
    <span class="n">metadata_store</span><span class="p">:</span> <span class="s2">&quot;BaseMetadataStore&quot;</span><span class="p">,</span>
    <span class="n">artifact_store</span><span class="p">:</span> <span class="s2">&quot;BaseArtifactStore&quot;</span><span class="p">,</span>
    <span class="n">container_registry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseContainerRegistry&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">secrets_manager</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseSecretsManager&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">step_operator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseStepOperator&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">feature_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseFeatureStore&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_deployer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseModelDeployer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">experiment_tracker</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseExperimentTracker&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initializes and validates a stack instance.</span>

<span class="sd">    Raises:</span>
<span class="sd">         StackValidationError: If the stack configuration is not valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span> <span class="o">=</span> <span class="n">orchestrator</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_metadata_store</span> <span class="o">=</span> <span class="n">metadata_store</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_artifact_store</span> <span class="o">=</span> <span class="n">artifact_store</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_container_registry</span> <span class="o">=</span> <span class="n">container_registry</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_step_operator</span> <span class="o">=</span> <span class="n">step_operator</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_secrets_manager</span> <span class="o">=</span> <span class="n">secrets_manager</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_feature_store</span> <span class="o">=</span> <span class="n">feature_store</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_model_deployer</span> <span class="o">=</span> <span class="n">model_deployer</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_experiment_tracker</span> <span class="o">=</span> <span class="n">experiment_tracker</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack.Stack.cleanup_step_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cleanup_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Cleans up resources after the step run is finished.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">cleanup_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Cleans up resources after the step run is finished.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">component</span><span class="o">.</span><span class="n">cleanup_step_run</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack.Stack.default_local_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_local_stack</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Creates a stack instance which is configured to run locally.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">default_local_stack</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Stack&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a stack instance which is configured to run locally.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.artifact_stores</span> <span class="kn">import</span> <span class="n">LocalArtifactStore</span>
    <span class="kn">from</span> <span class="nn">zenml.metadata_stores</span> <span class="kn">import</span> <span class="n">SQLiteMetadataStore</span>
    <span class="kn">from</span> <span class="nn">zenml.orchestrators</span> <span class="kn">import</span> <span class="n">LocalOrchestrator</span>

    <span class="n">orchestrator</span> <span class="o">=</span> <span class="n">LocalOrchestrator</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>

    <span class="n">artifact_store_uuid</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
    <span class="n">artifact_store_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">config_directory</span><span class="p">,</span>
        <span class="s2">&quot;local_stores&quot;</span><span class="p">,</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">artifact_store_uuid</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">utils</span><span class="o">.</span><span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="n">artifact_store_path</span><span class="p">)</span>
    <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">LocalArtifactStore</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="n">uuid</span><span class="o">=</span><span class="n">artifact_store_uuid</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="n">artifact_store_path</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">metadata_store_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">artifact_store_path</span><span class="p">,</span> <span class="s2">&quot;metadata.db&quot;</span><span class="p">)</span>
    <span class="n">metadata_store</span> <span class="o">=</span> <span class="n">SQLiteMetadataStore</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="n">uri</span><span class="o">=</span><span class="n">metadata_store_path</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="n">orchestrator</span><span class="o">=</span><span class="n">orchestrator</span><span class="p">,</span>
        <span class="n">metadata_store</span><span class="o">=</span><span class="n">metadata_store</span><span class="p">,</span>
        <span class="n">artifact_store</span><span class="o">=</span><span class="n">artifact_store</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack.Stack.deploy_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deploy_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deploys a pipeline on this stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>BasePipeline</code></td>
        <td><p>The pipeline to deploy.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>runtime_configuration</code></td>
        <td><code>RuntimeConfiguration</code></td>
        <td><p>Contains all the runtime configuration
options specified for the pipeline run.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The return value of the call to <code>orchestrator.run_pipeline(...)</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deploy_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
    <span class="n">runtime_configuration</span><span class="p">:</span> <span class="n">RuntimeConfiguration</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Deploys a pipeline on this stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline: The pipeline to deploy.</span>
<span class="sd">        runtime_configuration: Contains all the runtime configuration</span>
<span class="sd">            options specified for the pipeline run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The return value of the call to `orchestrator.run_pipeline(...)`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">component</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StackValidationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The &#39;</span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">TYPE</span><span class="si">}</span><span class="s2"> stack component &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;is not currently running. Please run the following &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;command to provision and start the component:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;    `zenml stack up`</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">component</span><span class="o">.</span><span class="n">prepare_pipeline_deployment</span><span class="p">(</span>
            <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span>
            <span class="n">stack</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">runtime_configuration</span><span class="o">=</span><span class="n">runtime_configuration</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">component</span><span class="o">.</span><span class="n">prepare_pipeline_run</span><span class="p">()</span>

    <span class="n">runtime_configuration</span><span class="p">[</span>
        <span class="n">RUN_NAME_OPTION_KEY</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span> <span class="ow">or</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">-&quot;</span>
        <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">_%h_%y-%H_%M_%S_</span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Using stack `</span><span class="si">%s</span><span class="s2">` to run pipeline `</span><span class="si">%s</span><span class="s2">`...&quot;</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="n">original_cache_boolean</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">enable_cache</span>
    <span class="k">if</span> <span class="s2">&quot;enable_cache&quot;</span> <span class="ow">in</span> <span class="n">runtime_configuration</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Runtime configuration overwriting the pipeline cache settings&quot;</span>
            <span class="s2">&quot; to enable_cache=`</span><span class="si">%s</span><span class="s2">` for this pipeline run. The default &quot;</span>
            <span class="s2">&quot;caching strategy is retained for future pipeline runs.&quot;</span><span class="p">,</span>
            <span class="n">runtime_configuration</span><span class="p">[</span><span class="s2">&quot;enable_cache&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="n">pipeline</span><span class="o">.</span><span class="n">enable_cache</span> <span class="o">=</span> <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;enable_cache&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_register_pipeline_run</span><span class="p">(</span>
        <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="o">=</span><span class="n">runtime_configuration</span>
    <span class="p">)</span>

    <span class="n">return_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">orchestrator</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
        <span class="n">pipeline</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="o">=</span><span class="n">runtime_configuration</span>
    <span class="p">)</span>

    <span class="c1"># Put pipeline level cache policy back to make sure the next runs</span>
    <span class="c1">#  default to that policy again in case the runtime configuration</span>
    <span class="c1">#  is not set explicitly</span>
    <span class="n">pipeline</span><span class="o">.</span><span class="n">enable_cache</span> <span class="o">=</span> <span class="n">original_cache_boolean</span>

    <span class="n">run_duration</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Pipeline run `</span><span class="si">%s</span><span class="s2">` has finished in </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="o">.</span><span class="n">run_name</span><span class="p">,</span>
        <span class="n">string_utils</span><span class="o">.</span><span class="n">get_human_readable_time</span><span class="p">(</span><span class="n">run_duration</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">component</span><span class="o">.</span><span class="n">cleanup_pipeline_run</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">return_value</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack.Stack.deprovision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deprovisions all local resources of the stack.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>NotImplementedError</code></td>
        <td><p>If any provisioned component does not
implement deprovisioning.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Deprovisions all local resources of the stack.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: If any provisioned component does not</span>
<span class="sd">            implement deprovisioning.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deprovisioning resources for stack &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">is_provisioned</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">component</span><span class="o">.</span><span class="n">deprovision</span><span class="p">()</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deprovisioned resources for </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">NotImplementedError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack.Stack.dict" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Converts the stack into a dictionary.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Converts the stack into a dictionary.&quot;&quot;&quot;</span>
    <span class="n">component_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">component_type</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="n">component</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">component_type</span><span class="p">,</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="n">component_dict</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">component_dict</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack.Stack.from_components" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_components</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">components</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Creates a stack instance from a dict of stack components.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the stack.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>components</code></td>
        <td><code>Dict[zenml.enums.StackComponentType, StackComponent]</code></td>
        <td><p>The components of the stack.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Stack</code></td>
      <td><p>A stack instance consisting of the given components.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If a required component is missing or a component
doesn't inherit from the expected base class.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_components</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">components</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">StackComponentType</span><span class="p">,</span> <span class="s2">&quot;StackComponent&quot;</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Stack&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a stack instance from a dict of stack components.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the stack.</span>
<span class="sd">        components: The components of the stack.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A stack instance consisting of the given components.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If a required component is missing or a component</span>
<span class="sd">            doesn&#39;t inherit from the expected base class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.artifact_stores</span> <span class="kn">import</span> <span class="n">BaseArtifactStore</span>
    <span class="kn">from</span> <span class="nn">zenml.container_registries</span> <span class="kn">import</span> <span class="n">BaseContainerRegistry</span>
    <span class="kn">from</span> <span class="nn">zenml.experiment_trackers</span> <span class="kn">import</span> <span class="n">BaseExperimentTracker</span>
    <span class="kn">from</span> <span class="nn">zenml.feature_stores</span> <span class="kn">import</span> <span class="n">BaseFeatureStore</span>
    <span class="kn">from</span> <span class="nn">zenml.metadata_stores</span> <span class="kn">import</span> <span class="n">BaseMetadataStore</span>
    <span class="kn">from</span> <span class="nn">zenml.model_deployers</span> <span class="kn">import</span> <span class="n">BaseModelDeployer</span>
    <span class="kn">from</span> <span class="nn">zenml.orchestrators</span> <span class="kn">import</span> <span class="n">BaseOrchestrator</span>
    <span class="kn">from</span> <span class="nn">zenml.secrets_managers</span> <span class="kn">import</span> <span class="n">BaseSecretsManager</span>
    <span class="kn">from</span> <span class="nn">zenml.step_operators</span> <span class="kn">import</span> <span class="n">BaseStepOperator</span>

    <span class="k">def</span> <span class="nf">_raise_type_error</span><span class="p">(</span>
        <span class="n">component</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;StackComponent&quot;</span><span class="p">],</span> <span class="n">expected_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NoReturn</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Raises a TypeError that the component has an unexpected type.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to create stack: Wrong stack component type &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` (expected: subclass &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of `</span><span class="si">{</span><span class="n">expected_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">`)&quot;</span>
        <span class="p">)</span>

    <span class="n">orchestrator</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">orchestrator</span><span class="p">,</span> <span class="n">BaseOrchestrator</span><span class="p">):</span>
        <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">orchestrator</span><span class="p">,</span> <span class="n">BaseOrchestrator</span><span class="p">)</span>

    <span class="n">metadata_store</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">METADATA_STORE</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">metadata_store</span><span class="p">,</span> <span class="n">BaseMetadataStore</span><span class="p">):</span>
        <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">metadata_store</span><span class="p">,</span> <span class="n">BaseMetadataStore</span><span class="p">)</span>

    <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact_store</span><span class="p">,</span> <span class="n">BaseArtifactStore</span><span class="p">):</span>
        <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">artifact_store</span><span class="p">,</span> <span class="n">BaseArtifactStore</span><span class="p">)</span>

    <span class="n">container_registry</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">container_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
        <span class="n">container_registry</span><span class="p">,</span> <span class="n">BaseContainerRegistry</span>
    <span class="p">):</span>
        <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">container_registry</span><span class="p">,</span> <span class="n">BaseContainerRegistry</span><span class="p">)</span>

    <span class="n">secrets_manager</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">SECRETS_MANAGER</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">secrets_manager</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
        <span class="n">secrets_manager</span><span class="p">,</span> <span class="n">BaseSecretsManager</span>
    <span class="p">):</span>
        <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">secrets_manager</span><span class="p">,</span> <span class="n">BaseSecretsManager</span><span class="p">)</span>

    <span class="n">step_operator</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">STEP_OPERATOR</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">step_operator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
        <span class="n">step_operator</span><span class="p">,</span> <span class="n">BaseStepOperator</span>
    <span class="p">):</span>
        <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">step_operator</span><span class="p">,</span> <span class="n">BaseStepOperator</span><span class="p">)</span>

    <span class="n">feature_store</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">FEATURE_STORE</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">feature_store</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
        <span class="n">feature_store</span><span class="p">,</span> <span class="n">BaseFeatureStore</span>
    <span class="p">):</span>
        <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">feature_store</span><span class="p">,</span> <span class="n">BaseFeatureStore</span><span class="p">)</span>

    <span class="n">model_deployer</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">MODEL_DEPLOYER</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">model_deployer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
        <span class="n">model_deployer</span><span class="p">,</span> <span class="n">BaseModelDeployer</span>
    <span class="p">):</span>
        <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">model_deployer</span><span class="p">,</span> <span class="n">BaseModelDeployer</span><span class="p">)</span>

    <span class="n">experiment_tracker</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="n">StackComponentType</span><span class="o">.</span><span class="n">EXPERIMENT_TRACKER</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">experiment_tracker</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
        <span class="n">experiment_tracker</span><span class="p">,</span> <span class="n">BaseExperimentTracker</span>
    <span class="p">):</span>
        <span class="n">_raise_type_error</span><span class="p">(</span><span class="n">experiment_tracker</span><span class="p">,</span> <span class="n">BaseExperimentTracker</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">Stack</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">orchestrator</span><span class="o">=</span><span class="n">orchestrator</span><span class="p">,</span>
        <span class="n">metadata_store</span><span class="o">=</span><span class="n">metadata_store</span><span class="p">,</span>
        <span class="n">artifact_store</span><span class="o">=</span><span class="n">artifact_store</span><span class="p">,</span>
        <span class="n">container_registry</span><span class="o">=</span><span class="n">container_registry</span><span class="p">,</span>
        <span class="n">secrets_manager</span><span class="o">=</span><span class="n">secrets_manager</span><span class="p">,</span>
        <span class="n">step_operator</span><span class="o">=</span><span class="n">step_operator</span><span class="p">,</span>
        <span class="n">feature_store</span><span class="o">=</span><span class="n">feature_store</span><span class="p">,</span>
        <span class="n">model_deployer</span><span class="o">=</span><span class="n">model_deployer</span><span class="p">,</span>
        <span class="n">experiment_tracker</span><span class="o">=</span><span class="n">experiment_tracker</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack.Stack.prepare_step_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Prepares running a step.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Prepares running a step.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">component</span><span class="o">.</span><span class="n">prepare_step_run</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack.Stack.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Provisions resources to run the stack locally.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>NotImplementedError</code></td>
        <td><p>If any unprovisioned component does not
implement provisioning.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Provisions resources to run the stack locally.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: If any unprovisioned component does not</span>
<span class="sd">            implement provisioning.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provisioning resources for stack &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">component</span><span class="o">.</span><span class="n">is_provisioned</span><span class="p">:</span>
            <span class="n">component</span><span class="o">.</span><span class="n">provision</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Provisioned resources for </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack.Stack.requirements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exclude_components</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Set of PyPI requirements for the stack.</p>
<p>This method combines the requirements of all stack components (except
the ones specified in <code>exclude_components</code>).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>exclude_components</code></td>
        <td><code>Optional[AbstractSet[zenml.enums.StackComponentType]]</code></td>
        <td><p>Set of component types for which the
requirements should not be included in the output.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">requirements</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">exclude_components</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AbstractSet</span><span class="p">[</span><span class="n">StackComponentType</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Set of PyPI requirements for the stack.</span>

<span class="sd">    This method combines the requirements of all stack components (except</span>
<span class="sd">    the ones specified in `exclude_components`).</span>

<span class="sd">    Args:</span>
<span class="sd">        exclude_components: Set of component types for which the</span>
<span class="sd">            requirements should not be included in the output.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">exclude_components</span> <span class="o">=</span> <span class="n">exclude_components</span> <span class="ow">or</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">requirements</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">component</span><span class="o">.</span><span class="n">requirements</span>
        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">TYPE</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">exclude_components</span>
    <span class="p">]</span>
    <span class="k">return</span> <span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="n">requirements</span><span class="p">)</span> <span class="k">if</span> <span class="n">requirements</span> <span class="k">else</span> <span class="nb">set</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack.Stack.resume" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Resumes the provisioned local resources of the stack.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ProvisioningError</code></td>
        <td><p>If any stack component is missing provisioned
resources.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Resumes the provisioned local resources of the stack.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ProvisioningError: If any stack component is missing provisioned</span>
<span class="sd">            resources.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Resuming provisioned resources for stack </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="c1"># the component is already running, no need to resume anything</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">component</span><span class="o">.</span><span class="n">is_provisioned</span><span class="p">:</span>
            <span class="n">component</span><span class="o">.</span><span class="n">resume</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Resumed resources for </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ProvisioningError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to resume resources for </span><span class="si">{</span><span class="n">component</span><span class="si">}</span><span class="s2">: No &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;resources have been provisioned for this component.&quot;</span>
            <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack.Stack.suspend" class="doc doc-heading">
<code class="highlight language-python"><span class="n">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Suspends the provisioned local resources of the stack.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Suspends the provisioned local resources of the stack.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Suspending provisioned resources for stack &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">component</span><span class="o">.</span><span class="n">is_suspended</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">component</span><span class="o">.</span><span class="n">suspend</span><span class="p">()</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Suspended resources for </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">NotImplementedError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;Suspending provisioned resources not implemented &quot;</span>
                    <span class="s2">&quot;for </span><span class="si">%s</span><span class="s2">. Continuing without suspending resources...&quot;</span><span class="p">,</span>
                    <span class="n">component</span><span class="p">,</span>
                <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack.Stack.validate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Checks whether the stack configuration is valid.</p>
<p>To check if a stack configuration is valid, the following criteria must
be met:
- all components must support the execution mode (either local or
 remote execution) specified by the orchestrator of the stack
- the <code>StackValidator</code> of each stack component has to validate the
 stack to make sure all the components are compatible with each other</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StackValidationError</code></td>
        <td><p>If the stack configuration is not valid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks whether the stack configuration is valid.</span>

<span class="sd">    To check if a stack configuration is valid, the following criteria must</span>
<span class="sd">    be met:</span>
<span class="sd">    - all components must support the execution mode (either local or</span>
<span class="sd">     remote execution) specified by the orchestrator of the stack</span>
<span class="sd">    - the `StackValidator` of each stack component has to validate the</span>
<span class="sd">     stack to make sure all the components are compatible with each other</span>

<span class="sd">    Raises:</span>
<span class="sd">         StackValidationError: If the stack configuration is not valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">validator</span><span class="p">:</span>
            <span class="n">component</span><span class="o">.</span><span class="n">validator</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">stack</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.stack.stack_component" class="doc doc-heading">
        <code>stack_component</code>



</h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.stack.stack_component.StackComponent" class="doc doc-heading">
        <code>
StackComponent            (<span title="pydantic.main.BaseModel">BaseModel</span>, <span title="abc.ABC">ABC</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Abstract StackComponent class for all components of a ZenML stack.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the component.</p></td>
      </tr>
      <tr>
        <td><code>uuid</code></td>
        <td><code>UUID</code></td>
        <td><p>Unique identifier of the component.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_component.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StackComponent</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Abstract StackComponent class for all components of a ZenML stack.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: The name of the component.</span>
<span class="sd">        uuid: Unique identifier of the component.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">uuid4</span><span class="p">)</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">StackComponentType</span><span class="p">]</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">log_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Optional path to a log file for the stack component.&quot;&quot;&quot;</span>
        <span class="c1"># TODO [ENG-136]: Add support for multiple log files for a stack</span>
        <span class="c1">#  component. E.g. let each component return a generator that yields</span>
        <span class="c1">#  logs instead of specifying a single file path.</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">runtime_options</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Runtime options that are available to configure this component.</span>

<span class="sd">        The items of the dictionary should map option names (which can be used</span>
<span class="sd">        to configure the option in the `RuntimeConfiguration`) to default</span>
<span class="sd">        values for the option (or `None` if there is no default value).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Set of PyPI requirements for the component.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.utils</span> <span class="kn">import</span> <span class="n">get_requirements_for_module</span>

        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">get_requirements_for_module</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__module__</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">local_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Path to a local directory used by the component to store persistent</span>
<span class="sd">        information.</span>

<span class="sd">        This property should only be implemented by components that need to</span>
<span class="sd">        store persistent information in a directory on the local machine and</span>
<span class="sd">        also need that information to be available during pipeline runs.</span>

<span class="sd">        IMPORTANT: the path returned by this property must always be a path</span>
<span class="sd">        that is relative to the ZenML global config directory. The local</span>
<span class="sd">        Kubeflow orchestrator relies on this convention to correctly mount the</span>
<span class="sd">        local folders in the Kubeflow containers. This is an example of a valid</span>
<span class="sd">        path:</span>

<span class="sd">        ```python</span>
<span class="sd">        from zenml.io.utils import get_global_config_directory</span>
<span class="sd">        from zenml.constants import LOCAL_STORES_DIRECTORY_NAME</span>

<span class="sd">        ...</span>

<span class="sd">        @property</span>
<span class="sd">        def local_path(self) -&gt; Optional[str]:</span>

<span class="sd">            return os.path.join(</span>
<span class="sd">                get_global_config_directory(),</span>
<span class="sd">                LOCAL_STORES_DIRECTORY_NAME,</span>
<span class="sd">                str(uuid),</span>
<span class="sd">            )</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Prepares deploying the pipeline.</span>

<span class="sd">        This method gets called immediately before a pipeline is deployed.</span>
<span class="sd">        Subclasses should override it if they require runtime configuration</span>
<span class="sd">        options or if they need to run code before the pipeline deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline: The pipeline that will be deployed.</span>
<span class="sd">            stack: The stack on which the pipeline will be deployed.</span>
<span class="sd">            runtime_configuration: Contains all the runtime configuration</span>
<span class="sd">                options specified for the pipeline run.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">prepare_pipeline_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Prepares running the pipeline.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">cleanup_pipeline_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Cleans up resources after the pipeline run is finished.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">prepare_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Prepares running a step.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">cleanup_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Cleans up resources after the step run is finished.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">post_registration_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Optional message that will be printed after the stack component is</span>
<span class="sd">        registered.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;StackValidator&quot;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;The optional validator of the stack component.</span>

<span class="sd">        This validator will be called each time a stack with the stack</span>
<span class="sd">        component is initialized. Subclasses should override this property</span>
<span class="sd">        and return a `StackValidator` that makes sure they&#39;re not included in</span>
<span class="sd">        any stack that they&#39;re not compatible with.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_provisioned</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;If the component provisioned resources to run.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;If the component is running.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_suspended</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;If the component is suspended.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Provisions resources to run the component.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Provisioning resources not implemented for </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Deprovisions all resources of the component.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Deprovisioning resource not implemented for </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Resumes the provisioned resources of the component.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Resuming provisioned resources not implemented for </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Suspends the provisioned resources of the component.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Suspending provisioned resources not implemented for </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;String representation of the stack component.&quot;&quot;&quot;</span>
        <span class="n">attribute_representation</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2">(type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">TYPE</span><span class="si">}</span><span class="s2">, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;flavor=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">FLAVOR</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">attribute_representation</span><span class="si">}</span><span class="s2">)&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;String representation of the stack component.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">skip_on_failure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_ensure_stack_component_complete</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">stack_component_type</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;TYPE&quot;</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">stack_component_type</span> <span class="ow">in</span> <span class="n">StackComponentType</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">AssertionError</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">StackComponentInterfaceError</span><span class="p">(</span>
                <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span>
                    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                    When you are working with any classes which subclass from</span>
<span class="sd">                    `zenml.stack.StackComponent` please make sure that your</span>
<span class="sd">                    class has a ClassVar named `TYPE` and its value is set to a</span>
<span class="sd">                    `StackComponentType` from `from zenml.enums import</span>
<span class="sd">                    StackComponentType`.</span>

<span class="sd">                    In most of the cases, this is already done for you within</span>
<span class="sd">                    the implementation of the base concept.</span>

<span class="sd">                    Example:</span>

<span class="sd">                    class BaseArtifactStore(StackComponent):</span>
<span class="sd">                        # Instance Variables</span>
<span class="sd">                        path: str</span>

<span class="sd">                        # Class Variables</span>
<span class="sd">                        TYPE: ClassVar[StackComponentType] = StackComponentType.ARTIFACT_STORE</span>
<span class="sd">                    &quot;&quot;&quot;</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;FLAVOR&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StackComponentInterfaceError</span><span class="p">(</span>
                <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span>
                    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                    When you are working with any classes which subclass from</span>
<span class="sd">                    `zenml.stack.StackComponent` please make sure that your</span>
<span class="sd">                    class has a defined ClassVar `FLAVOR`.</span>

<span class="sd">                    Example:</span>

<span class="sd">                    class LocalArtifactStore(BaseArtifactStore):</span>

<span class="sd">                        ...</span>

<span class="sd">                        # Define flavor as a ClassVar</span>
<span class="sd">                        FLAVOR: ClassVar[str] = &quot;local&quot;</span>

<span class="sd">                        ...</span>
<span class="sd">                    &quot;&quot;&quot;</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">values</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># public attributes are immutable</span>
        <span class="n">allow_mutation</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># all attributes with leading underscore are private and therefore</span>
        <span class="c1"># are mutable and not included in serialization</span>
        <span class="n">underscore_attrs_are_private</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack_component.StackComponent.is_provisioned" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_provisioned</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>If the component provisioned resources to run.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack_component.StackComponent.is_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_running</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>If the component is running.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack_component.StackComponent.is_suspended" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_suspended</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>If the component is suspended.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack_component.StackComponent.local_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">local_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Path to a local directory used by the component to store persistent
information.</p>
<p>This property should only be implemented by components that need to
store persistent information in a directory on the local machine and
also need that information to be available during pipeline runs.</p>
<p>IMPORTANT: the path returned by this property must always be a path
that is relative to the ZenML global config directory. The local
Kubeflow orchestrator relies on this convention to correctly mount the
local folders in the Kubeflow containers. This is an example of a valid
path:</p>
<pre><code class="language-python">from zenml.io.utils import get_global_config_directory
from zenml.constants import LOCAL_STORES_DIRECTORY_NAME

...

@property
def local_path(self) -&gt; Optional[str]:

    return os.path.join(
        get_global_config_directory(),
        LOCAL_STORES_DIRECTORY_NAME,
        str(uuid),
    )
</code></pre>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack_component.StackComponent.log_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Optional path to a log file for the stack component.</p>
    </div>

  </div>




  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack_component.StackComponent.post_registration_message" class="doc doc-heading">
<code class="highlight language-python"><span class="n">post_registration_message</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Optional message that will be printed after the stack component is
registered.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack_component.StackComponent.requirements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">requirements</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Set of PyPI requirements for the component.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack_component.StackComponent.runtime_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runtime_options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Runtime options that are available to configure this component.</p>
<p>The items of the dictionary should map option names (which can be used
to configure the option in the <code>RuntimeConfiguration</code>) to default
values for the option (or <code>None</code> if there is no default value).</p>
    </div>

  </div>




  <div class="doc doc-object doc-attribute">



<h5 id="zenml.stack.stack_component.StackComponent.validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StackValidator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The optional validator of the stack component.</p>
<p>This validator will be called each time a stack with the stack
component is initialized. Subclasses should override this property
and return a <code>StackValidator</code> that makes sure they're not included in
any stack that they're not compatible with.</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h5 id="zenml.stack.stack_component.StackComponent.Config" class="doc doc-heading">
        <code>
Config        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_component.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># public attributes are immutable</span>
    <span class="n">allow_mutation</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># all attributes with leading underscore are private and therefore</span>
    <span class="c1"># are mutable and not included in serialization</span>
    <span class="n">underscore_attrs_are_private</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack_component.StackComponent.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>String representation of the stack component.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_component.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;String representation of the stack component.&quot;&quot;&quot;</span>
    <span class="n">attribute_representation</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2">(type=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">TYPE</span><span class="si">}</span><span class="s2">, &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;flavor=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">FLAVOR</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">attribute_representation</span><span class="si">}</span><span class="s2">)&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack_component.StackComponent.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>String representation of the stack component.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_component.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;String representation of the stack component.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack_component.StackComponent.cleanup_pipeline_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cleanup_pipeline_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Cleans up resources after the pipeline run is finished.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_component.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">cleanup_pipeline_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Cleans up resources after the pipeline run is finished.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack_component.StackComponent.cleanup_step_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cleanup_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Cleans up resources after the step run is finished.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_component.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">cleanup_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Cleans up resources after the step run is finished.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack_component.StackComponent.deprovision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deprovisions all resources of the component.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_component.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Deprovisions all resources of the component.&quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Deprovisioning resource not implemented for </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack_component.StackComponent.prepare_pipeline_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_pipeline_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">runtime_configuration</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Prepares deploying the pipeline.</p>
<p>This method gets called immediately before a pipeline is deployed.
Subclasses should override it if they require runtime configuration
options or if they need to run code before the pipeline deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>BasePipeline</code></td>
        <td><p>The pipeline that will be deployed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack on which the pipeline will be deployed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>runtime_configuration</code></td>
        <td><code>RuntimeConfiguration</code></td>
        <td><p>Contains all the runtime configuration
options specified for the pipeline run.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_component.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;BasePipeline&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">runtime_configuration</span><span class="p">:</span> <span class="s2">&quot;RuntimeConfiguration&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Prepares deploying the pipeline.</span>

<span class="sd">    This method gets called immediately before a pipeline is deployed.</span>
<span class="sd">    Subclasses should override it if they require runtime configuration</span>
<span class="sd">    options or if they need to run code before the pipeline deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline: The pipeline that will be deployed.</span>
<span class="sd">        stack: The stack on which the pipeline will be deployed.</span>
<span class="sd">        runtime_configuration: Contains all the runtime configuration</span>
<span class="sd">            options specified for the pipeline run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack_component.StackComponent.prepare_pipeline_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_pipeline_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Prepares running the pipeline.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_component.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_pipeline_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Prepares running the pipeline.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack_component.StackComponent.prepare_step_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Prepares running a step.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_component.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_step_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Prepares running a step.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack_component.StackComponent.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Provisions resources to run the component.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_component.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Provisions resources to run the component.&quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Provisioning resources not implemented for </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack_component.StackComponent.resume" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Resumes the provisioned resources of the component.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_component.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Resumes the provisioned resources of the component.&quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Resuming provisioned resources not implemented for </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack_component.StackComponent.suspend" class="doc doc-heading">
<code class="highlight language-python"><span class="n">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Suspends the provisioned resources of the component.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_component.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">suspend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Suspends the provisioned resources of the component.&quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Suspending provisioned resources not implemented for </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.stack.stack_validator" class="doc doc-heading">
        <code>stack_validator</code>



</h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.stack.stack_validator.StackValidator" class="doc doc-heading">
        <code>
StackValidator        </code>



</h4>

    <div class="doc doc-contents ">

      <p>A <code>StackValidator</code> is used to validate a stack configuration.</p>
<p>Each <code>StackComponent</code> can provide a <code>StackValidator</code> to make sure it is
compatible with all components of the stack. The <code>KubeflowOrchestrator</code>
for example will always require the stack to have a container registry
in order to push the docker images that are required to run a pipeline
in Kubeflow Pipelines.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_validator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StackValidator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;A `StackValidator` is used to validate a stack configuration.</span>

<span class="sd">    Each `StackComponent` can provide a `StackValidator` to make sure it is</span>
<span class="sd">    compatible with all components of the stack. The `KubeflowOrchestrator`</span>
<span class="sd">    for example will always require the stack to have a container registry</span>
<span class="sd">    in order to push the docker images that are required to run a pipeline</span>
<span class="sd">    in Kubeflow Pipelines.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">required_components</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AbstractSet</span><span class="p">[</span><span class="n">StackComponentType</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">custom_validation_function</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
            <span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;Stack&quot;</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initializes a `StackValidator` instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            required_components: Optional set of stack components that must</span>
<span class="sd">                exist in the stack.</span>
<span class="sd">            custom_validation_function: Optional function that returns whether</span>
<span class="sd">                a stack is valid and an error message to show if not valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_required_components</span> <span class="o">=</span> <span class="n">required_components</span> <span class="ow">or</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_custom_validation_function</span> <span class="o">=</span> <span class="n">custom_validation_function</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Validates the given stack.</span>

<span class="sd">        Checks if the stack contains all the required components and passes</span>
<span class="sd">        the custom validation function of the validator.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StackValidationError: If the stack does not meet all the</span>
<span class="sd">                validation criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">missing_components</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_required_components</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">missing_components</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StackValidationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Missing stack components </span><span class="si">{</span><span class="n">missing_components</span><span class="si">}</span><span class="s2"> for &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;stack: </span><span class="si">{</span><span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_validation_function</span><span class="p">:</span>
            <span class="n">valid</span><span class="p">,</span> <span class="n">err_msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_validation_function</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">valid</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">StackValidationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Custom validation function failed to validate &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;stack &#39;</span><span class="si">{</span><span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">err_msg</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack_validator.StackValidator.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">required_components</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">custom_validation_function</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initializes a <code>StackValidator</code> instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>required_components</code></td>
        <td><code>Optional[AbstractSet[zenml.enums.StackComponentType]]</code></td>
        <td><p>Optional set of stack components that must
exist in the stack.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>custom_validation_function</code></td>
        <td><code>Optional[Callable[[Stack], Tuple[bool, str]]]</code></td>
        <td><p>Optional function that returns whether
a stack is valid and an error message to show if not valid.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_validator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">required_components</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AbstractSet</span><span class="p">[</span><span class="n">StackComponentType</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">custom_validation_function</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;Stack&quot;</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initializes a `StackValidator` instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        required_components: Optional set of stack components that must</span>
<span class="sd">            exist in the stack.</span>
<span class="sd">        custom_validation_function: Optional function that returns whether</span>
<span class="sd">            a stack is valid and an error message to show if not valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_required_components</span> <span class="o">=</span> <span class="n">required_components</span> <span class="ow">or</span> <span class="nb">set</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_custom_validation_function</span> <span class="o">=</span> <span class="n">custom_validation_function</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.stack.stack_validator.StackValidator.validate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Validates the given stack.</p>
<p>Checks if the stack contains all the required components and passes
the custom validation function of the validator.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StackValidationError</code></td>
        <td><p>If the stack does not meet all the
validation criteria.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/stack/stack_validator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Validates the given stack.</span>

<span class="sd">    Checks if the stack contains all the required components and passes</span>
<span class="sd">    the custom validation function of the validator.</span>

<span class="sd">    Raises:</span>
<span class="sd">        StackValidationError: If the stack does not meet all the</span>
<span class="sd">            validation criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">missing_components</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_required_components</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">missing_components</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">StackValidationError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Missing stack components </span><span class="si">{</span><span class="n">missing_components</span><span class="si">}</span><span class="s2"> for &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;stack: </span><span class="si">{</span><span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_validation_function</span><span class="p">:</span>
        <span class="n">valid</span><span class="p">,</span> <span class="n">err_msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_custom_validation_function</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">valid</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StackValidationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Custom validation function failed to validate &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;stack &#39;</span><span class="si">{</span><span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">err_msg</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../services/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Services" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Services
            </div>
          </div>
        </a>
      
      
        
        <a href="../step_operators/" class="md-footer__link md-footer__link--next" aria-label="Next: Step Operators" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Step Operators
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.a6c66575.min.js"></script>
      
    
  </body>
</html>