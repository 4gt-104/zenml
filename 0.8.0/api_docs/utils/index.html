
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://apidocs.zenml.io/0.8.0/api_docs/utils/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.15">
    
    
      
        <title>Utils - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.c382b1dc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#utils" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Utils
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Api docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Api docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Api docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/" class="md-nav__link">
        Integrations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../metadata_stores/" class="md-nav__link">
        Metadata Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../repository/" class="md-nav__link">
        Repository
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runtime_configuration/" class="md-nav__link">
        Runtime Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../secrets_managers/" class="md-nav__link">
        Secrets Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Utils
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Utils
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils" class="md-nav__link">
    analytics_utils
  </a>
  
    <nav class="md-nav" aria-label="analytics_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsEvent" class="md-nav__link">
    AnalyticsEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.get_segment_key" class="md-nav__link">
    get_segment_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.identify_user" class="md-nav__link">
    identify_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.parametrized" class="md-nav__link">
    parametrized()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.track" class="md-nav__link">
    track()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.track_event" class="md-nav__link">
    track_event()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon" class="md-nav__link">
    daemon
  </a>
  
    <nav class="md-nav" aria-label="daemon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.check_if_daemon_is_running" class="md-nav__link">
    check_if_daemon_is_running()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.daemonize" class="md-nav__link">
    daemonize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.get_daemon_pid_if_running" class="md-nav__link">
    get_daemon_pid_if_running()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.run_as_daemon" class="md-nav__link">
    run_as_daemon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.stop_daemon" class="md-nav__link">
    stop_daemon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.terminate_children" class="md-nav__link">
    terminate_children()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils" class="md-nav__link">
    docker_utils
  </a>
  
    <nav class="md-nav" aria-label="docker_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.build_docker_image" class="md-nav__link">
    build_docker_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.create_custom_build_context" class="md-nav__link">
    create_custom_build_context()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.generate_dockerfile_contents" class="md-nav__link">
    generate_dockerfile_contents()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.get_current_environment_requirements" class="md-nav__link">
    get_current_environment_requirements()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.get_image_digest" class="md-nav__link">
    get_image_digest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.is_local_image" class="md-nav__link">
    is_local_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.push_docker_image" class="md-nav__link">
    push_docker_image()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils" class="md-nav__link">
    enum_utils
  </a>
  
    <nav class="md-nav" aria-label="enum_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils.StrEnum" class="md-nav__link">
    StrEnum
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model" class="md-nav__link">
    filesync_model
  </a>
  
    <nav class="md-nav" aria-label="filesync_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel" class="md-nav__link">
    FileSyncModel
  </a>
  
    <nav class="md-nav" aria-label="FileSyncModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.__getattribute__" class="md-nav__link">
    __getattribute__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.__setattr__" class="md-nav__link">
    __setattr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.load_config" class="md-nav__link">
    load_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.write_config" class="md-nav__link">
    write_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils" class="md-nav__link">
    networking_utils
  </a>
  
    <nav class="md-nav" aria-label="networking_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.find_available_port" class="md-nav__link">
    find_available_port()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.port_available" class="md-nav__link">
    port_available()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.port_is_open" class="md-nav__link">
    port_is_open()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.scan_for_available_port" class="md-nav__link">
    scan_for_available_port()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secrets_manager_utils" class="md-nav__link">
    secrets_manager_utils
  </a>
  
    <nav class="md-nav" aria-label="secrets_manager_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secrets_manager_utils.decode_secret_dict" class="md-nav__link">
    decode_secret_dict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secrets_manager_utils.decode_string" class="md-nav__link">
    decode_string()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secrets_manager_utils.encode_secret" class="md-nav__link">
    encode_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secrets_manager_utils.encode_string" class="md-nav__link">
    encode_string()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton" class="md-nav__link">
    singleton
  </a>
  
    <nav class="md-nav" aria-label="singleton">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass" class="md-nav__link">
    SingletonMetaClass
  </a>
  
    <nav class="md-nav" aria-label="SingletonMetaClass">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils" class="md-nav__link">
    source_utils
  </a>
  
    <nav class="md-nav" aria-label="source_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.create_zenml_pin" class="md-nav__link">
    create_zenml_pin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_absolute_path_from_module_source" class="md-nav__link">
    get_absolute_path_from_module_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_class_source_from_source" class="md-nav__link">
    get_class_source_from_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_hashed_source" class="md-nav__link">
    get_hashed_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_module_source_from_class" class="md-nav__link">
    get_module_source_from_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_module_source_from_module" class="md-nav__link">
    get_module_source_from_module()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_module_source_from_source" class="md-nav__link">
    get_module_source_from_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_relative_path_from_module_source" class="md-nav__link">
    get_relative_path_from_module_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_source" class="md-nav__link">
    get_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_source_root_path" class="md-nav__link">
    get_source_root_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.import_class_by_path" class="md-nav__link">
    import_class_by_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.import_python_file" class="md-nav__link">
    import_python_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_inside_repository" class="md-nav__link">
    is_inside_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_standard_pin" class="md-nav__link">
    is_standard_pin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_standard_source" class="md-nav__link">
    is_standard_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_third_party_module" class="md-nav__link">
    is_third_party_module()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.load_source_path_class" class="md-nav__link">
    load_source_path_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.prepend_python_path" class="md-nav__link">
    prepend_python_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.resolve_class" class="md-nav__link">
    resolve_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.resolve_standard_source" class="md-nav__link">
    resolve_standard_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.validate_flavor_source" class="md-nav__link">
    validate_flavor_source()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils" class="md-nav__link">
    string_utils
  </a>
  
    <nav class="md-nav" aria-label="string_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.get_human_readable_filesize" class="md-nav__link">
    get_human_readable_filesize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.get_human_readable_time" class="md-nav__link">
    get_human_readable_time()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model" class="md-nav__link">
    typed_model
  </a>
  
    <nav class="md-nav" aria-label="typed_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel" class="md-nav__link">
    BaseTypedModel
  </a>
  
    <nav class="md-nav" aria-label="BaseTypedModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel.from_dict" class="md-nav__link">
    from_dict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel.from_json" class="md-nav__link">
    from_json()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModelMeta" class="md-nav__link">
    BaseTypedModelMeta
  </a>
  
    <nav class="md-nav" aria-label="BaseTypedModelMeta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModelMeta.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils" class="md-nav__link">
    yaml_utils
  </a>
  
    <nav class="md-nav" aria-label="yaml_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.UUIDEncoder" class="md-nav__link">
    UUIDEncoder
  </a>
  
    <nav class="md-nav" aria-label="UUIDEncoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.UUIDEncoder.default" class="md-nav__link">
    default()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.append_yaml" class="md-nav__link">
    append_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.is_yaml" class="md-nav__link">
    is_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.read_json" class="md-nav__link">
    read_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.read_yaml" class="md-nav__link">
    read_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.write_json" class="md-nav__link">
    write_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.write_yaml" class="md-nav__link">
    write_yaml()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../visualizers/" class="md-nav__link">
        Visualizers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_34" type="checkbox" id="__nav_3_34" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_34">
          Cli
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cli" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_34">
          <span class="md-nav__icon md-icon"></span>
          Cli
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/base/" class="md-nav__link">
        Base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/cli/" class="md-nav__link">
        Cli
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/example/" class="md-nav__link">
        Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/feature/" class="md-nav__link">
        Feature
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/formatter/" class="md-nav__link">
        Formatter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/pipeline/" class="md-nav__link">
        Pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/served_models/" class="md-nav__link">
        Served Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/server/" class="md-nav__link">
        Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/stack_components/" class="md-nav__link">
        Stack Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/text_utils/" class="md-nav__link">
        Text Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/user_management/" class="md-nav__link">
        User Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/version/" class="md-nav__link">
        Version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils" class="md-nav__link">
    analytics_utils
  </a>
  
    <nav class="md-nav" aria-label="analytics_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.AnalyticsEvent" class="md-nav__link">
    AnalyticsEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.get_segment_key" class="md-nav__link">
    get_segment_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.identify_user" class="md-nav__link">
    identify_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.parametrized" class="md-nav__link">
    parametrized()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.track" class="md-nav__link">
    track()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.analytics_utils.track_event" class="md-nav__link">
    track_event()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon" class="md-nav__link">
    daemon
  </a>
  
    <nav class="md-nav" aria-label="daemon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.check_if_daemon_is_running" class="md-nav__link">
    check_if_daemon_is_running()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.daemonize" class="md-nav__link">
    daemonize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.get_daemon_pid_if_running" class="md-nav__link">
    get_daemon_pid_if_running()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.run_as_daemon" class="md-nav__link">
    run_as_daemon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.stop_daemon" class="md-nav__link">
    stop_daemon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.terminate_children" class="md-nav__link">
    terminate_children()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils" class="md-nav__link">
    docker_utils
  </a>
  
    <nav class="md-nav" aria-label="docker_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.build_docker_image" class="md-nav__link">
    build_docker_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.create_custom_build_context" class="md-nav__link">
    create_custom_build_context()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.generate_dockerfile_contents" class="md-nav__link">
    generate_dockerfile_contents()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.get_current_environment_requirements" class="md-nav__link">
    get_current_environment_requirements()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.get_image_digest" class="md-nav__link">
    get_image_digest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.is_local_image" class="md-nav__link">
    is_local_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.push_docker_image" class="md-nav__link">
    push_docker_image()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils" class="md-nav__link">
    enum_utils
  </a>
  
    <nav class="md-nav" aria-label="enum_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils.StrEnum" class="md-nav__link">
    StrEnum
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model" class="md-nav__link">
    filesync_model
  </a>
  
    <nav class="md-nav" aria-label="filesync_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel" class="md-nav__link">
    FileSyncModel
  </a>
  
    <nav class="md-nav" aria-label="FileSyncModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.__getattribute__" class="md-nav__link">
    __getattribute__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.__setattr__" class="md-nav__link">
    __setattr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.load_config" class="md-nav__link">
    load_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel.write_config" class="md-nav__link">
    write_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils" class="md-nav__link">
    networking_utils
  </a>
  
    <nav class="md-nav" aria-label="networking_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.find_available_port" class="md-nav__link">
    find_available_port()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.port_available" class="md-nav__link">
    port_available()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.port_is_open" class="md-nav__link">
    port_is_open()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.scan_for_available_port" class="md-nav__link">
    scan_for_available_port()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secrets_manager_utils" class="md-nav__link">
    secrets_manager_utils
  </a>
  
    <nav class="md-nav" aria-label="secrets_manager_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secrets_manager_utils.decode_secret_dict" class="md-nav__link">
    decode_secret_dict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secrets_manager_utils.decode_string" class="md-nav__link">
    decode_string()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secrets_manager_utils.encode_secret" class="md-nav__link">
    encode_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secrets_manager_utils.encode_string" class="md-nav__link">
    encode_string()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton" class="md-nav__link">
    singleton
  </a>
  
    <nav class="md-nav" aria-label="singleton">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass" class="md-nav__link">
    SingletonMetaClass
  </a>
  
    <nav class="md-nav" aria-label="SingletonMetaClass">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils" class="md-nav__link">
    source_utils
  </a>
  
    <nav class="md-nav" aria-label="source_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.create_zenml_pin" class="md-nav__link">
    create_zenml_pin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_absolute_path_from_module_source" class="md-nav__link">
    get_absolute_path_from_module_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_class_source_from_source" class="md-nav__link">
    get_class_source_from_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_hashed_source" class="md-nav__link">
    get_hashed_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_module_source_from_class" class="md-nav__link">
    get_module_source_from_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_module_source_from_module" class="md-nav__link">
    get_module_source_from_module()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_module_source_from_source" class="md-nav__link">
    get_module_source_from_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_relative_path_from_module_source" class="md-nav__link">
    get_relative_path_from_module_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_source" class="md-nav__link">
    get_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_source_root_path" class="md-nav__link">
    get_source_root_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.import_class_by_path" class="md-nav__link">
    import_class_by_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.import_python_file" class="md-nav__link">
    import_python_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_inside_repository" class="md-nav__link">
    is_inside_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_standard_pin" class="md-nav__link">
    is_standard_pin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_standard_source" class="md-nav__link">
    is_standard_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_third_party_module" class="md-nav__link">
    is_third_party_module()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.load_source_path_class" class="md-nav__link">
    load_source_path_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.prepend_python_path" class="md-nav__link">
    prepend_python_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.resolve_class" class="md-nav__link">
    resolve_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.resolve_standard_source" class="md-nav__link">
    resolve_standard_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.validate_flavor_source" class="md-nav__link">
    validate_flavor_source()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils" class="md-nav__link">
    string_utils
  </a>
  
    <nav class="md-nav" aria-label="string_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.get_human_readable_filesize" class="md-nav__link">
    get_human_readable_filesize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.get_human_readable_time" class="md-nav__link">
    get_human_readable_time()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model" class="md-nav__link">
    typed_model
  </a>
  
    <nav class="md-nav" aria-label="typed_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel" class="md-nav__link">
    BaseTypedModel
  </a>
  
    <nav class="md-nav" aria-label="BaseTypedModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel.from_dict" class="md-nav__link">
    from_dict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel.from_json" class="md-nav__link">
    from_json()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModelMeta" class="md-nav__link">
    BaseTypedModelMeta
  </a>
  
    <nav class="md-nav" aria-label="BaseTypedModelMeta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModelMeta.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils" class="md-nav__link">
    yaml_utils
  </a>
  
    <nav class="md-nav" aria-label="yaml_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.UUIDEncoder" class="md-nav__link">
    UUIDEncoder
  </a>
  
    <nav class="md-nav" aria-label="UUIDEncoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.UUIDEncoder.default" class="md-nav__link">
    default()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.append_yaml" class="md-nav__link">
    append_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.is_yaml" class="md-nav__link">
    is_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.read_json" class="md-nav__link">
    read_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.read_yaml" class="md-nav__link">
    read_yaml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.write_json" class="md-nav__link">
    write_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.write_yaml" class="md-nav__link">
    write_yaml()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/zenml-io/zenml/docs/api_docs/utils.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="utils">Utils</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.utils" class="doc doc-heading">
        <code>zenml.utils</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>The <code>utils</code> module contains utility functions handling analytics, reading and
writing YAML data as well as other general purpose functions.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.analytics_utils" class="doc doc-heading">
        <code>analytics_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Analytics code for ZenML</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.analytics_utils.AnalyticsEvent" class="doc doc-heading">
        <code>
AnalyticsEvent            (<span title="str">str</span>, <span title="enum.Enum">Enum</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>An enumeration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AnalyticsEvent</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
    <span class="c1"># Pipelines</span>
    <span class="n">RUN_PIPELINE</span> <span class="o">=</span> <span class="s2">&quot;Pipeline run&quot;</span>
    <span class="n">GET_PIPELINES</span> <span class="o">=</span> <span class="s2">&quot;Pipelines fetched&quot;</span>
    <span class="n">GET_PIPELINE</span> <span class="o">=</span> <span class="s2">&quot;Pipeline fetched&quot;</span>

    <span class="c1"># Repo</span>
    <span class="n">INITIALIZE_REPO</span> <span class="o">=</span> <span class="s2">&quot;ZenML initialized&quot;</span>

    <span class="c1"># Profile</span>
    <span class="n">INITIALIZED_PROFILE</span> <span class="o">=</span> <span class="s2">&quot;Profile initialized&quot;</span>

    <span class="c1"># Components</span>
    <span class="n">REGISTERED_STACK_COMPONENT</span> <span class="o">=</span> <span class="s2">&quot;Stack component registered&quot;</span>
    <span class="n">UPDATED_STACK_COMPONENT</span> <span class="o">=</span> <span class="s2">&quot;Stack component updated&quot;</span>

    <span class="c1"># Stack</span>
    <span class="n">REGISTERED_STACK</span> <span class="o">=</span> <span class="s2">&quot;Stack registered&quot;</span>
    <span class="n">REGISTERED_DEFAULT_STACK</span> <span class="o">=</span> <span class="s2">&quot;Default stack registered&quot;</span>
    <span class="n">SET_STACK</span> <span class="o">=</span> <span class="s2">&quot;Stack set&quot;</span>
    <span class="n">UPDATED_STACK</span> <span class="o">=</span> <span class="s2">&quot;Stack updated&quot;</span>
    <span class="n">IMPORT_STACK</span> <span class="o">=</span> <span class="s2">&quot;Stack imported&quot;</span>
    <span class="n">EXPORT_STACK</span> <span class="o">=</span> <span class="s2">&quot;Stack exported&quot;</span>

    <span class="c1"># Analytics opt in and out</span>
    <span class="n">OPT_IN_ANALYTICS</span> <span class="o">=</span> <span class="s2">&quot;Analytics opt-in&quot;</span>
    <span class="n">OPT_OUT_ANALYTICS</span> <span class="o">=</span> <span class="s2">&quot;Analytics opt-out&quot;</span>

    <span class="c1"># Examples</span>
    <span class="n">RUN_ZENML_GO</span> <span class="o">=</span> <span class="s2">&quot;ZenML go&quot;</span>
    <span class="n">RUN_EXAMPLE</span> <span class="o">=</span> <span class="s2">&quot;Example run&quot;</span>
    <span class="n">PULL_EXAMPLE</span> <span class="o">=</span> <span class="s2">&quot;Example pull&quot;</span>

    <span class="c1"># Integrations</span>
    <span class="n">INSTALL_INTEGRATION</span> <span class="o">=</span> <span class="s2">&quot;Integration installed&quot;</span>

    <span class="c1"># Users</span>
    <span class="n">CREATED_USER</span> <span class="o">=</span> <span class="s2">&quot;User created&quot;</span>
    <span class="n">CREATED_DEFAULT_USER</span> <span class="o">=</span> <span class="s2">&quot;Default user created&quot;</span>
    <span class="n">DELETED_USER</span> <span class="o">=</span> <span class="s2">&quot;User deleted&quot;</span>

    <span class="c1"># Teams</span>
    <span class="n">CREATED_TEAM</span> <span class="o">=</span> <span class="s2">&quot;Team created&quot;</span>
    <span class="n">DELETED_TEAM</span> <span class="o">=</span> <span class="s2">&quot;Team deleted&quot;</span>

    <span class="c1"># Projects</span>
    <span class="n">CREATED_PROJECT</span> <span class="o">=</span> <span class="s2">&quot;Project created&quot;</span>
    <span class="n">DELETED_PROJECT</span> <span class="o">=</span> <span class="s2">&quot;Project deleted&quot;</span>

    <span class="c1"># Role</span>
    <span class="n">CREATED_ROLE</span> <span class="o">=</span> <span class="s2">&quot;Role created&quot;</span>
    <span class="n">DELETED_ROLE</span> <span class="o">=</span> <span class="s2">&quot;Role deleted&quot;</span>

    <span class="c1"># Flavor</span>
    <span class="n">CREATED_FLAVOR</span> <span class="o">=</span> <span class="s2">&quot;Flavor created&quot;</span>

    <span class="c1"># Test event</span>
    <span class="n">EVENT_TEST</span> <span class="o">=</span> <span class="s2">&quot;Test event&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









































  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.analytics_utils.get_segment_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_segment_key</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get key for authorizing to Segment backend.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Segment key as a string.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_segment_key</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get key for authorizing to Segment backend.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Segment key as a string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">IS_DEBUG_ENV</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">SEGMENT_KEY_DEV</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">SEGMENT_KEY_PROD</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.analytics_utils.identify_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">identify_user</span><span class="p">(</span><span class="n">user_metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Attach metadata to user directly</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>metadata</code></td>
        <td></td>
        <td><p>Dict of metadata to attach to the user.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">identify_user</span><span class="p">(</span><span class="n">user_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Attach metadata to user directly</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata: Dict of metadata to attach to the user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO [ENG-857]: The identify_user function shares a lot of setup with</span>
    <span class="c1">#  track_event() - this duplicated code could be given its own function</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.config.global_config</span> <span class="kn">import</span> <span class="n">GlobalConfiguration</span>

        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>

        <span class="c1"># That means user opted out of analytics</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">gc</span><span class="o">.</span><span class="n">analytics_opt_in</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="kn">import</span> <span class="nn">analytics</span>

        <span class="k">if</span> <span class="n">analytics</span><span class="o">.</span><span class="n">write_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">analytics</span><span class="o">.</span><span class="n">write_key</span> <span class="o">=</span> <span class="n">get_segment_key</span><span class="p">()</span>

        <span class="k">assert</span> <span class="p">(</span>
            <span class="n">analytics</span><span class="o">.</span><span class="n">write_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">),</span> <span class="s2">&quot;Analytics key not set but trying to make telemetry call.&quot;</span>

        <span class="c1"># Set this to 1 to avoid backoff loop</span>
        <span class="n">analytics</span><span class="o">.</span><span class="n">max_retries</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Attempting to attach metadata to: User: </span><span class="si">{</span><span class="n">gc</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">user_metadata</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">user_metadata</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">analytics</span><span class="o">.</span><span class="n">identify</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">gc</span><span class="o">.</span><span class="n">user_id</span><span class="p">),</span> <span class="n">traits</span><span class="o">=</span><span class="n">user_metadata</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User data sent: User: </span><span class="si">{</span><span class="n">gc</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">user_metadata</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c1"># We should never fail main thread</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User data update failed due to: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.analytics_utils.parametrized" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parametrized</span><span class="p">(</span><span class="n">dec</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>This is a meta-decorator, that is, a decorator for decorators.
As a decorator is a function, it actually works as a regular decorator
with arguments:</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parametrized</span><span class="p">(</span>
    <span class="n">dec</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]:</span>
    <span class="sd">&quot;&quot;&quot;This is a meta-decorator, that is, a decorator for decorators.</span>
<span class="sd">    As a decorator is a function, it actually works as a regular decorator</span>
<span class="sd">    with arguments:&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">layer</span><span class="p">(</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Internal layer&quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">repl</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
            <span class="sd">&quot;&quot;&quot;Internal repl&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">dec</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">repl</span>

    <span class="k">return</span> <span class="n">layer</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.analytics_utils.track" class="doc doc-heading">
<code class="highlight language-python"><span class="n">track</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Internal layer</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">layer</span><span class="p">(</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Internal layer&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">repl</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Internal repl&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">dec</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">repl</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.analytics_utils.track_event" class="doc doc-heading">
<code class="highlight language-python"><span class="n">track_event</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Track segment event if user opted-in.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>event</code></td>
        <td><code>Union[str, zenml.utils.analytics_utils.AnalyticsEvent]</code></td>
        <td><p>Name of event to track in segment.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>metadata</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Dict of metadata to track.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if event is sent successfully, False is not.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/analytics_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">track_event</span><span class="p">(</span>
    <span class="n">event</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">AnalyticsEvent</span><span class="p">],</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Track segment event if user opted-in.</span>

<span class="sd">    Args:</span>
<span class="sd">        event: Name of event to track in segment.</span>
<span class="sd">        metadata: Dict of metadata to track.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if event is sent successfully, False is not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">analytics</span>

        <span class="kn">from</span> <span class="nn">zenml.config.global_config</span> <span class="kn">import</span> <span class="n">GlobalConfiguration</span>

        <span class="k">if</span> <span class="n">analytics</span><span class="o">.</span><span class="n">write_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">analytics</span><span class="o">.</span><span class="n">write_key</span> <span class="o">=</span> <span class="n">get_segment_key</span><span class="p">()</span>

        <span class="k">assert</span> <span class="p">(</span>
            <span class="n">analytics</span><span class="o">.</span><span class="n">write_key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">),</span> <span class="s2">&quot;Analytics key not set but trying to make telemetry call.&quot;</span>

        <span class="c1"># Set this to 1 to avoid backoff loop</span>
        <span class="n">analytics</span><span class="o">.</span><span class="n">max_retries</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">AnalyticsEvent</span><span class="p">):</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">value</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Attempting analytics: User: </span><span class="si">{</span><span class="n">gc</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Event: </span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2">,&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">gc</span><span class="o">.</span><span class="n">analytics_opt_in</span> <span class="ow">and</span> <span class="n">event</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span>
            <span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">OPT_OUT_ANALYTICS</span><span class="p">,</span>
            <span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">OPT_IN_ANALYTICS</span><span class="p">,</span>
        <span class="p">}:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="n">metadata</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># add basics</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Environment</span><span class="o">.</span><span class="n">get_system_info</span><span class="p">())</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;environment&quot;</span><span class="p">:</span> <span class="n">get_environment</span><span class="p">(),</span>
                <span class="s2">&quot;python_version&quot;</span><span class="p">:</span> <span class="n">Environment</span><span class="o">.</span><span class="n">python_version</span><span class="p">(),</span>
                <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">__version__</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="n">analytics</span><span class="o">.</span><span class="n">track</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">gc</span><span class="o">.</span><span class="n">user_id</span><span class="p">),</span> <span class="n">event</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Analytics sent: User: </span><span class="si">{</span><span class="n">gc</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, Event: </span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2">, Metadata: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c1"># We should never fail main thread</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Analytics failed due to: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.daemon" class="doc doc-heading">
        <code>daemon</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions to start/stop daemon processes.</p>
<p>This is only implemented for UNIX systems and therefore doesn't work on
Windows. Based on
https://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.daemon.check_if_daemon_is_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_if_daemon_is_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Checks whether a daemon process indicated by the PID file is running.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pid_file</code></td>
        <td><code>str</code></td>
        <td><p>Path to file containing the PID of the daemon
process to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/daemon.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_if_daemon_is_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks whether a daemon process indicated by the PID file is running.</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file: Path to file containing the PID of the daemon</span>
<span class="sd">            process to check.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_daemon_pid_if_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.daemon.daemonize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">daemonize</span><span class="p">(</span><span class="n">pid_file</span><span class="p">,</span> <span class="n">log_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">working_directory</span><span class="o">=</span><span class="s1">&#39;/&#39;</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Decorator that executes the decorated function as a daemon process.</p>
<p>Use this decorator to easily transform any function into a daemon
process.</p>

<p><strong>Examples:</strong></p>
    
      <pre><code class="language-python">import time
from zenml.utils.daemonizer import daemonize


@daemonize(log_file='/tmp/daemon.log', pid_file='/tmp/daemon.pid')
def sleeping_daemon(period: int) -&gt; None:
    print(f&quot;I'm a daemon! I will sleep for {period} seconds.&quot;)
    time.sleep(period)
    print(&quot;Done sleeping, flying away.&quot;)

sleeping_daemon(period=30)

print(&quot;I'm the daemon's parent!.&quot;)
time.sleep(10) # just to prove that the daemon is running in parallel
</code></pre>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>_func</code></td>
        <td></td>
        <td><p>decorated function</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pid_file</code></td>
        <td><code>str</code></td>
        <td><p>an optional file where the PID of the daemon process will
be stored.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>log_file</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>file where stdout and stderr are redirected for the daemon
process. If not supplied, the daemon will be silenced (i.e. have
its stdout/stderr redirected to /dev/null).</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>working_directory</code></td>
        <td><code>str</code></td>
        <td><p>working directory for the daemon process,
defaults to the root directory.</p></td>
        <td><code>&#39;/&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Callable[[~F], ~F]</code></td>
      <td><p>Decorated function that, when called, will detach from the current
process and continue executing in the background, as a daemon
process.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/daemon.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">daemonize</span><span class="p">(</span>
    <span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">working_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">F</span><span class="p">],</span> <span class="n">F</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Decorator that executes the decorated function as a daemon process.</span>

<span class="sd">    Use this decorator to easily transform any function into a daemon</span>
<span class="sd">    process.</span>

<span class="sd">    Example:</span>

<span class="sd">    ```python</span>
<span class="sd">    import time</span>
<span class="sd">    from zenml.utils.daemonizer import daemonize</span>


<span class="sd">    @daemonize(log_file=&#39;/tmp/daemon.log&#39;, pid_file=&#39;/tmp/daemon.pid&#39;)</span>
<span class="sd">    def sleeping_daemon(period: int) -&gt; None:</span>
<span class="sd">        print(f&quot;I&#39;m a daemon! I will sleep for {period} seconds.&quot;)</span>
<span class="sd">        time.sleep(period)</span>
<span class="sd">        print(&quot;Done sleeping, flying away.&quot;)</span>

<span class="sd">    sleeping_daemon(period=30)</span>

<span class="sd">    print(&quot;I&#39;m the daemon&#39;s parent!.&quot;)</span>
<span class="sd">    time.sleep(10) # just to prove that the daemon is running in parallel</span>
<span class="sd">    ```</span>

<span class="sd">    Args:</span>
<span class="sd">        _func: decorated function</span>
<span class="sd">        pid_file: an optional file where the PID of the daemon process will</span>
<span class="sd">            be stored.</span>
<span class="sd">        log_file: file where stdout and stderr are redirected for the daemon</span>
<span class="sd">            process. If not supplied, the daemon will be silenced (i.e. have</span>
<span class="sd">            its stdout/stderr redirected to /dev/null).</span>
<span class="sd">        working_directory: working directory for the daemon process,</span>
<span class="sd">            defaults to the root directory.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Decorated function that, when called, will detach from the current</span>
<span class="sd">        process and continue executing in the background, as a daemon</span>
<span class="sd">        process.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">inner_decorator</span><span class="p">(</span><span class="n">_func</span><span class="p">:</span> <span class="n">F</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">F</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">daemon</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Standard daemonization of a process.&quot;&quot;&quot;</span>
            <span class="c1"># flake8: noqa: C901</span>
            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Daemon functionality is currently not supported on Windows.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">run_as_daemon</span><span class="p">(</span>
                    <span class="n">_func</span><span class="p">,</span>
                    <span class="n">log_file</span><span class="o">=</span><span class="n">log_file</span><span class="p">,</span>
                    <span class="n">pid_file</span><span class="o">=</span><span class="n">pid_file</span><span class="p">,</span>
                    <span class="n">working_directory</span><span class="o">=</span><span class="n">working_directory</span><span class="p">,</span>
                    <span class="o">*</span><span class="n">args</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">daemon</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">inner_decorator</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.daemon.get_daemon_pid_if_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_daemon_pid_if_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Read and return the PID value from a PID file if the daemon process
tracked by the PID file is running.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pid_file</code></td>
        <td><code>str</code></td>
        <td><p>Path to file containing the PID of the daemon
process to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[int]</code></td>
      <td><p>The PID of the daemon process if it is running, otherwise None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/daemon.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_daemon_pid_if_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Read and return the PID value from a PID file if the daemon process</span>
<span class="sd">    tracked by the PID file is running.</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file: Path to file containing the PID of the daemon</span>
<span class="sd">            process to check.</span>
<span class="sd">    Returns:</span>
<span class="sd">        The PID of the daemon process if it is running, otherwise None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pid_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">pid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">IOError</span><span class="p">,</span> <span class="ne">FileNotFoundError</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">pid</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">psutil</span><span class="o">.</span><span class="n">pid_exists</span><span class="p">(</span><span class="n">pid</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">pid</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.daemon.run_as_daemon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_as_daemon</span><span class="p">(</span><span class="n">daemon_function</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">pid_file</span><span class="p">,</span> <span class="n">log_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">working_directory</span><span class="o">=</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Runs a function as a daemon process.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>daemon_function</code></td>
        <td><code>~F</code></td>
        <td><p>The function to run as a daemon.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pid_file</code></td>
        <td><code>str</code></td>
        <td><p>Path to file in which to store the PID of the daemon
process.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>log_file</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional file to which the daemons stdout/stderr will be
redirected to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>working_directory</code></td>
        <td><code>str</code></td>
        <td><p>Working directory for the daemon process,
defaults to the root directory.</p></td>
        <td><code>&#39;/&#39;</code></td>
      </tr>
      <tr>
        <td><code>args</code></td>
        <td><code>Any</code></td>
        <td><p>Positional arguments to pass to the daemon function.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Keyword arguments to pass to the daemon function.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileExistsError</code></td>
        <td><p>If the PID file already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/daemon.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_as_daemon</span><span class="p">(</span>
    <span class="n">daemon_function</span><span class="p">:</span> <span class="n">F</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">working_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Runs a function as a daemon process.</span>

<span class="sd">    Args:</span>
<span class="sd">        daemon_function: The function to run as a daemon.</span>
<span class="sd">        pid_file: Path to file in which to store the PID of the daemon</span>
<span class="sd">            process.</span>
<span class="sd">        log_file: Optional file to which the daemons stdout/stderr will be</span>
<span class="sd">            redirected to.</span>
<span class="sd">        working_directory: Working directory for the daemon process,</span>
<span class="sd">            defaults to the root directory.</span>
<span class="sd">        args: Positional arguments to pass to the daemon function.</span>
<span class="sd">        kwargs: Keyword arguments to pass to the daemon function.</span>
<span class="sd">    Raises:</span>
<span class="sd">        FileExistsError: If the PID file already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># convert to absolute path as we will change working directory later</span>
    <span class="k">if</span> <span class="n">pid_file</span><span class="p">:</span>
        <span class="n">pid_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">log_file</span><span class="p">:</span>
        <span class="n">log_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">log_file</span><span class="p">)</span>

    <span class="c1"># check if PID file exists</span>
    <span class="k">if</span> <span class="n">pid_file</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">pid_file</span><span class="p">):</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">get_daemon_pid_if_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pid</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The PID file &#39;</span><span class="si">{</span><span class="n">pid_file</span><span class="si">}</span><span class="s2">&#39; already exists and a daemon &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;process with the same PID &#39;</span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s2">&#39; is already running.&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Please remove the PID file or kill the daemon process &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;before starting a new daemon.&quot;</span>
            <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Removing left over PID file &#39;</span><span class="si">{</span><span class="n">pid_file</span><span class="si">}</span><span class="s2">&#39; from a previous &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;daemon process that didn&#39;t shut down correctly.&quot;</span>
        <span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>

    <span class="c1"># first fork</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">fork</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pid</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># this is the process that called `run_as_daemon` so we</span>
            <span class="c1"># simply return so it can keep running</span>
            <span class="k">return</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to fork (error code: </span><span class="si">%d</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">errno</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># decouple from parent environment</span>
    <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">working_directory</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">setsid</span><span class="p">()</span>
    <span class="n">os</span><span class="o">.</span><span class="n">umask</span><span class="p">(</span><span class="mo">0o22</span><span class="p">)</span>

    <span class="c1"># second fork</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">fork</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pid</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># this is the parent of the future daemon process, kill it</span>
            <span class="c1"># so the daemon gets adopted by the init process</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to fork (error code: </span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">errno</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># redirect standard file descriptors to devnull (or the given logfile)</span>
    <span class="n">devnull</span> <span class="o">=</span> <span class="s2">&quot;/dev/null&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">os</span><span class="p">,</span> <span class="s2">&quot;devnull&quot;</span><span class="p">):</span>
        <span class="n">devnull</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">devnull</span>

    <span class="n">devnull_fd</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">devnull</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">O_RDWR</span><span class="p">)</span>
    <span class="n">log_fd</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">log_file</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">O_CREAT</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">O_RDWR</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">O_APPEND</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">log_file</span>
        <span class="k">else</span> <span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">out_fd</span> <span class="o">=</span> <span class="n">log_fd</span> <span class="ow">or</span> <span class="n">devnull_fd</span>

    <span class="n">os</span><span class="o">.</span><span class="n">dup2</span><span class="p">(</span><span class="n">devnull_fd</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">fileno</span><span class="p">())</span>
    <span class="n">os</span><span class="o">.</span><span class="n">dup2</span><span class="p">(</span><span class="n">out_fd</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">fileno</span><span class="p">())</span>
    <span class="n">os</span><span class="o">.</span><span class="n">dup2</span><span class="p">(</span><span class="n">out_fd</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">fileno</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">pid_file</span><span class="p">:</span>
        <span class="c1"># write the PID file</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pid_file</span><span class="p">,</span> <span class="s2">&quot;w+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># register actions in case this process exits/gets killed</span>
    <span class="k">def</span> <span class="nf">cleanup</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Daemon cleanup.&quot;&quot;&quot;</span>
        <span class="n">terminate_children</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pid_file</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">pid_file</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">sighndl</span><span class="p">(</span><span class="n">signum</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">types</span><span class="o">.</span><span class="n">FrameType</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Daemon signal handler.&quot;&quot;&quot;</span>
        <span class="n">cleanup</span><span class="p">()</span>

    <span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGTERM</span><span class="p">,</span> <span class="n">sighndl</span><span class="p">)</span>
    <span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGINT</span><span class="p">,</span> <span class="n">sighndl</span><span class="p">)</span>
    <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">cleanup</span><span class="p">)</span>

    <span class="c1"># finally run the actual daemon code</span>
    <span class="n">daemon_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.daemon.stop_daemon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop_daemon</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Stops a daemon process.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pid_file</code></td>
        <td><code>str</code></td>
        <td><p>Path to file containing the PID of the daemon process to
kill.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/daemon.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop_daemon</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Stops a daemon process.</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file: Path to file containing the PID of the daemon process to</span>
<span class="sd">            kill.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pid_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">pid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">IOError</span><span class="p">,</span> <span class="ne">FileNotFoundError</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Daemon PID file &#39;</span><span class="si">%s</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">,</span> <span class="n">pid_file</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="n">psutil</span><span class="o">.</span><span class="n">pid_exists</span><span class="p">(</span><span class="n">pid</span><span class="p">):</span>
        <span class="n">process</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
        <span class="n">process</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;PID from &#39;</span><span class="si">%s</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">,</span> <span class="n">pid_file</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.daemon.terminate_children" class="doc doc-heading">
<code class="highlight language-python"><span class="n">terminate_children</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Terminate all processes that are children of the currently running
process.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/daemon.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">terminate_children</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Terminate all processes that are children of the currently running</span>
<span class="sd">    process.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Error</span><span class="p">:</span>
        <span class="c1"># could not find parent process id</span>
        <span class="k">return</span>
    <span class="n">children</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
        <span class="n">p</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">alive</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">wait_procs</span><span class="p">(</span>
        <span class="n">children</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">CHILD_PROCESS_WAIT_TIMEOUT</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">alive</span><span class="p">:</span>
        <span class="n">p</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">alive</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">wait_procs</span><span class="p">(</span>
        <span class="n">children</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">CHILD_PROCESS_WAIT_TIMEOUT</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.docker_utils" class="doc doc-heading">
        <code>docker_utils</code>



</h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">











  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.docker_utils.build_docker_image" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_docker_image</span><span class="p">(</span><span class="n">build_context_path</span><span class="p">,</span> <span class="n">image_name</span><span class="p">,</span> <span class="n">entrypoint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dockerfile_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dockerignore_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requirements</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">environment_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">use_local_requirements</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">base_image</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Builds a docker image.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_context_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to a directory that will be sent to the
docker daemon as build context.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>image_name</code></td>
        <td><code>str</code></td>
        <td><p>The name to use for the created docker image.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>entrypoint</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional entrypoint command that gets executed when running
a container of the built image.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>dockerfile_path</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional path to a dockerfile. If no value is given,
a temporary dockerfile will be created.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>dockerignore_path</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional path to a dockerignore file. If no value is
given, the .dockerignore in the root of the build context will be
used if it exists. Otherwise, all files inside <code>build_context_path</code>
are included in the build context.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>requirements</code></td>
        <td><code>Optional[AbstractSet[str]]</code></td>
        <td><p>Optional list of pip requirements to install. This
will only be used if no value is given for <code>dockerfile_path</code>.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>environment_vars</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>Optional dict of key value pairs that need to be
embedded as environment variables in the image.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>use_local_requirements</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code> and no values are given for
<code>dockerfile_path</code> and <code>requirements</code>, then the packages installed
in the environment of the current python processed will be
installed in the docker image.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>base_image</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The image to use as base for the docker image.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/docker_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_docker_image</span><span class="p">(</span>
    <span class="n">build_context_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">entrypoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dockerfile_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dockerignore_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requirements</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AbstractSet</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">environment_vars</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">use_local_requirements</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">base_image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Builds a docker image.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_context_path: Path to a directory that will be sent to the</span>
<span class="sd">            docker daemon as build context.</span>
<span class="sd">        image_name: The name to use for the created docker image.</span>
<span class="sd">        entrypoint: Optional entrypoint command that gets executed when running</span>
<span class="sd">            a container of the built image.</span>
<span class="sd">        dockerfile_path: Optional path to a dockerfile. If no value is given,</span>
<span class="sd">            a temporary dockerfile will be created.</span>
<span class="sd">        dockerignore_path: Optional path to a dockerignore file. If no value is</span>
<span class="sd">            given, the .dockerignore in the root of the build context will be</span>
<span class="sd">            used if it exists. Otherwise, all files inside `build_context_path`</span>
<span class="sd">            are included in the build context.</span>
<span class="sd">        requirements: Optional list of pip requirements to install. This</span>
<span class="sd">            will only be used if no value is given for `dockerfile_path`.</span>
<span class="sd">        environment_vars: Optional dict of key value pairs that need to be</span>
<span class="sd">            embedded as environment variables in the image.</span>
<span class="sd">        use_local_requirements: If `True` and no values are given for</span>
<span class="sd">            `dockerfile_path` and `requirements`, then the packages installed</span>
<span class="sd">            in the environment of the current python processed will be</span>
<span class="sd">            installed in the docker image.</span>
<span class="sd">        base_image: The image to use as base for the docker image.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">build_context_path</span><span class="p">,</span> <span class="n">CONTAINER_ZENML_CONFIG_DIR</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>

        <span class="c1"># Save a copy of the current global configuration with the</span>
        <span class="c1"># active profile and the active stack configuration into the build</span>
        <span class="c1"># context, to have the active profile and active stack accessible from</span>
        <span class="c1"># within the container.</span>
        <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">copy_active_configuration</span><span class="p">(</span>
            <span class="n">config_path</span><span class="p">,</span>
            <span class="n">load_config_path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;/app/</span><span class="si">{</span><span class="n">CONTAINER_ZENML_CONFIG_DIR</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">requirements</span> <span class="ow">and</span> <span class="n">use_local_requirements</span><span class="p">:</span>
            <span class="n">local_requirements</span> <span class="o">=</span> <span class="n">get_current_environment_requirements</span><span class="p">()</span>
            <span class="n">requirements</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">package</span><span class="si">}</span><span class="s2">==</span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="k">for</span> <span class="n">package</span><span class="p">,</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">local_requirements</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">package</span> <span class="o">!=</span> <span class="s2">&quot;zenml&quot;</span>  <span class="c1"># exclude ZenML</span>
            <span class="p">}</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Using requirements from local environment to build &quot;</span>
                <span class="s2">&quot;docker image: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">requirements</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">dockerfile_path</span><span class="p">:</span>
            <span class="n">dockerfile_contents</span> <span class="o">=</span> <span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">dockerfile_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dockerfile_contents</span> <span class="o">=</span> <span class="n">generate_dockerfile_contents</span><span class="p">(</span>
                <span class="n">base_image</span><span class="o">=</span><span class="n">base_image</span> <span class="ow">or</span> <span class="n">DEFAULT_BASE_IMAGE</span><span class="p">,</span>
                <span class="n">entrypoint</span><span class="o">=</span><span class="n">entrypoint</span><span class="p">,</span>
                <span class="n">requirements</span><span class="o">=</span><span class="n">requirements</span><span class="p">,</span>
                <span class="n">environment_vars</span><span class="o">=</span><span class="n">environment_vars</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">build_context</span> <span class="o">=</span> <span class="n">create_custom_build_context</span><span class="p">(</span>
            <span class="n">build_context_path</span><span class="o">=</span><span class="n">build_context_path</span><span class="p">,</span>
            <span class="n">dockerfile_contents</span><span class="o">=</span><span class="n">dockerfile_contents</span><span class="p">,</span>
            <span class="n">dockerignore_path</span><span class="o">=</span><span class="n">dockerignore_path</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># If a custom base image is provided, make sure to always pull the</span>
        <span class="c1"># latest version of that image (if it isn&#39;t a locally built image).</span>
        <span class="c1"># If no base image is provided, we use the static default ZenML image so</span>
        <span class="c1"># there is no need to constantly pull</span>
        <span class="n">pull_base_image</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">base_image</span><span class="p">:</span>
            <span class="n">pull_base_image</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">is_local_image</span><span class="p">(</span><span class="n">base_image</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Building docker image &#39;</span><span class="si">%s</span><span class="s2">&#39;, this might take a while...&quot;</span><span class="p">,</span>
            <span class="n">image_name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">docker_client</span> <span class="o">=</span> <span class="n">DockerClient</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
        <span class="c1"># We use the client api directly here, so we can stream the logs</span>
        <span class="n">output_stream</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">build</span><span class="p">(</span>
            <span class="n">fileobj</span><span class="o">=</span><span class="n">build_context</span><span class="p">,</span>
            <span class="n">custom_context</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
            <span class="n">pull</span><span class="o">=</span><span class="n">pull_base_image</span><span class="p">,</span>
            <span class="n">rm</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># don&#39;t remove intermediate containers</span>
        <span class="p">)</span>
        <span class="n">_process_stream</span><span class="p">(</span><span class="n">output_stream</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># Clean up the temporary build files</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">config_path</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished building docker image.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.docker_utils.create_custom_build_context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_custom_build_context</span><span class="p">(</span><span class="n">build_context_path</span><span class="p">,</span> <span class="n">dockerfile_contents</span><span class="p">,</span> <span class="n">dockerignore_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Creates a docker build context.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_context_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to a directory that will be sent to the
docker daemon as build context.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dockerfile_contents</code></td>
        <td><code>str</code></td>
        <td><p>File contents of the Dockerfile to use for the
build.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dockerignore_path</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional path to a dockerignore file. If no value is
given, the .dockerignore in the root of the build context will be
used if it exists. Otherwise, all files inside <code>build_context_path</code>
are included in the build context.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>Docker build context that can be passed when building a docker image.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/docker_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_custom_build_context</span><span class="p">(</span>
    <span class="n">build_context_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">dockerfile_contents</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">dockerignore_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a docker build context.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_context_path: Path to a directory that will be sent to the</span>
<span class="sd">            docker daemon as build context.</span>
<span class="sd">        dockerfile_contents: File contents of the Dockerfile to use for the</span>
<span class="sd">            build.</span>
<span class="sd">        dockerignore_path: Optional path to a dockerignore file. If no value is</span>
<span class="sd">            given, the .dockerignore in the root of the build context will be</span>
<span class="sd">            used if it exists. Otherwise, all files inside `build_context_path`</span>
<span class="sd">            are included in the build context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Docker build context that can be passed when building a docker image.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">exclude_patterns</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">default_dockerignore_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">build_context_path</span><span class="p">,</span> <span class="s2">&quot;.dockerignore&quot;</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">dockerignore_path</span><span class="p">:</span>
        <span class="n">exclude_patterns</span> <span class="o">=</span> <span class="n">_parse_dockerignore</span><span class="p">(</span><span class="n">dockerignore_path</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">default_dockerignore_path</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Using dockerignore found at path &#39;</span><span class="si">%s</span><span class="s2">&#39; to create docker &quot;</span>
            <span class="s2">&quot;build context.&quot;</span><span class="p">,</span>
            <span class="n">default_dockerignore_path</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">exclude_patterns</span> <span class="o">=</span> <span class="n">_parse_dockerignore</span><span class="p">(</span><span class="n">default_dockerignore_path</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;No explicit dockerignore specified and no file called &quot;</span>
            <span class="s2">&quot;.dockerignore exists at the build context root (</span><span class="si">%s</span><span class="s2">). &quot;</span>
            <span class="s2">&quot;Creating docker build context with all files inside the build &quot;</span>
            <span class="s2">&quot;context root directory.&quot;</span><span class="p">,</span>
            <span class="n">build_context_path</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Exclude patterns for creating docker build context: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">exclude_patterns</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">no_ignores_found</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">exclude_patterns</span>

    <span class="n">files</span> <span class="o">=</span> <span class="n">docker_build_utils</span><span class="o">.</span><span class="n">exclude_paths</span><span class="p">(</span>
        <span class="n">build_context_path</span><span class="p">,</span> <span class="n">patterns</span><span class="o">=</span><span class="n">exclude_patterns</span>
    <span class="p">)</span>
    <span class="n">extra_files</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;Dockerfile&quot;</span><span class="p">,</span> <span class="n">dockerfile_contents</span><span class="p">)]</span>
    <span class="n">context</span> <span class="o">=</span> <span class="n">docker_build_utils</span><span class="o">.</span><span class="n">create_archive</span><span class="p">(</span>
        <span class="n">root</span><span class="o">=</span><span class="n">build_context_path</span><span class="p">,</span>
        <span class="n">files</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">files</span><span class="p">),</span>
        <span class="n">gzip</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">extra_files</span><span class="o">=</span><span class="n">extra_files</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">build_context_size</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">build_context_size</span> <span class="o">&gt;</span> <span class="mi">50</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span> <span class="ow">and</span> <span class="n">no_ignores_found</span><span class="p">:</span>
        <span class="c1"># The build context exceeds 50MiB and we didn&#39;t find any excludes</span>
        <span class="c1"># in dockerignore files -&gt; remind to specify a .dockerignore file</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Build context size for docker image: </span><span class="si">%s</span><span class="s2">. If you believe this is &quot;</span>
            <span class="s2">&quot;unreasonably large, make sure to include a .dockerignore file at &quot;</span>
            <span class="s2">&quot;the root of your build context (</span><span class="si">%s</span><span class="s2">) or specify a custom file &quot;</span>
            <span class="s2">&quot;when defining your pipeline.&quot;</span><span class="p">,</span>
            <span class="n">string_utils</span><span class="o">.</span><span class="n">get_human_readable_filesize</span><span class="p">(</span><span class="n">build_context_size</span><span class="p">),</span>
            <span class="n">default_dockerignore_path</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">context</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.docker_utils.generate_dockerfile_contents" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_dockerfile_contents</span><span class="p">(</span><span class="n">base_image</span><span class="p">,</span> <span class="n">entrypoint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requirements</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">environment_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Generates a Dockerfile.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>base_image</code></td>
        <td><code>str</code></td>
        <td><p>The image to use as base for the dockerfile.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>entrypoint</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The default entrypoint command that gets executed when
running a container of an image created by this dockerfile.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>requirements</code></td>
        <td><code>Optional[AbstractSet[str]]</code></td>
        <td><p>Optional list of pip requirements to install.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>environment_vars</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>Optional dict of environment variables to set.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Content of a dockerfile.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/docker_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_dockerfile_contents</span><span class="p">(</span>
    <span class="n">base_image</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">entrypoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">requirements</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AbstractSet</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">environment_vars</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Generates a Dockerfile.</span>

<span class="sd">    Args:</span>
<span class="sd">        base_image: The image to use as base for the dockerfile.</span>
<span class="sd">        entrypoint: The default entrypoint command that gets executed when</span>
<span class="sd">            running a container of an image created by this dockerfile.</span>
<span class="sd">        requirements: Optional list of pip requirements to install.</span>
<span class="sd">        environment_vars: Optional dict of environment variables to set.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Content of a dockerfile.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;FROM </span><span class="si">{</span><span class="n">base_image</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;WORKDIR /app&quot;</span><span class="p">]</span>

    <span class="c1"># TODO [ENG-781]: Make secrets invisible in the Dockerfile or use a different approach.</span>
    <span class="k">if</span> <span class="n">environment_vars</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">environment_vars</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ENV </span><span class="si">{</span><span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">requirements</span><span class="p">:</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;RUN pip install --no-cache </span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">requirements</span><span class="p">))</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;COPY . .&quot;</span><span class="p">)</span>
    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;RUN chmod -R a+rw .&quot;</span><span class="p">)</span>
    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;ENV </span><span class="si">{</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="si">}</span><span class="s2">=/app/</span><span class="si">{</span><span class="n">CONTAINER_ZENML_CONFIG_DIR</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">entrypoint</span><span class="p">:</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ENTRYPOINT </span><span class="si">{</span><span class="n">entrypoint</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.docker_utils.get_current_environment_requirements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_current_environment_requirements</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns a dict of package requirements for the environment that
the current python process is running in.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/docker_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_current_environment_requirements</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Returns a dict of package requirements for the environment that</span>
<span class="sd">    the current python process is running in.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="n">distribution</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="n">distribution</span><span class="o">.</span><span class="n">version</span>
        <span class="k">for</span> <span class="n">distribution</span> <span class="ow">in</span> <span class="n">pkg_resources</span><span class="o">.</span><span class="n">working_set</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.docker_utils.get_image_digest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets the digest of a docker image.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>image_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the image to get the digest for.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>Returns the repo digest for the given image if there exists exactly one.
If there are zero or multiple repo digests, returns <code>None</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/docker_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Gets the digest of a docker image.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_name: Name of the image to get the digest for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Returns the repo digest for the given image if there exists exactly one.</span>
<span class="sd">        If there are zero or multiple repo digests, returns `None`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">DockerClient</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>
    <span class="n">repo_digests</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;RepoDigests&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">repo_digests</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">repo_digests</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Found zero or more repo digests for docker image &#39;</span><span class="si">%s</span><span class="s2">&#39;: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">image_name</span><span class="p">,</span>
            <span class="n">repo_digests</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.docker_utils.is_local_image" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_local_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns whether an image was pulled from a registry or not.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/docker_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_local_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns whether an image was pulled from a registry or not.&quot;&quot;&quot;</span>
    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">DockerClient</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
    <span class="n">images</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">image_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">images</span><span class="p">:</span>
        <span class="c1"># An image with this name is available locally -&gt; now check whether it</span>
        <span class="c1"># was pulled from a repo or built locally (in which case the repo</span>
        <span class="c1"># digest is empty)</span>
        <span class="k">return</span> <span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># no image with this name found locally</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.docker_utils.push_docker_image" class="doc doc-heading">
<code class="highlight language-python"><span class="n">push_docker_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Pushes a docker image to a container registry.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>image_name</code></td>
        <td><code>str</code></td>
        <td><p>The full name (including a tag) of the image to push.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/docker_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">push_docker_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pushes a docker image to a container registry.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_name: The full name (including a tag) of the image to push.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Pushing docker image &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="n">image_name</span><span class="p">)</span>
    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">DockerClient</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
    <span class="n">output_stream</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">image_name</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">_process_stream</span><span class="p">(</span><span class="n">output_stream</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished pushing docker image.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.enum_utils" class="doc doc-heading">
        <code>enum_utils</code>



</h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.enum_utils.StrEnum" class="doc doc-heading">
        <code>
StrEnum            (<span title="str">str</span>, <span title="enum.Enum">Enum</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Base enum type for string enum values</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/enum_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StrEnum</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base enum type for string enum values&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the enum string value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>  <span class="c1"># type: ignore</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">names</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get all enum names as a list of strings&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">cls</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get all enum values as a list of strings&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">cls</span><span class="p">]</span>
</code></pre></div>
        </details>


    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.filesync_model" class="doc doc-heading">
        <code>filesync_model</code>



</h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.filesync_model.FileSyncModel" class="doc doc-heading">
        <code>
FileSyncModel            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Pydantic model synchronized with a configuration file.</p>
<p>Use this class as a base Pydantic model that is automatically synchronized
with a configuration file on disk.</p>
<p>This class overrides the <strong>setattr</strong> and <strong>getattr</strong> magic methods to
ensure that the FileSyncModel instance acts as an in-memory cache of the
information stored in the associated configuration file.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FileSyncModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Pydantic model synchronized with a configuration file.</span>

<span class="sd">    Use this class as a base Pydantic model that is automatically synchronized</span>
<span class="sd">    with a configuration file on disk.</span>

<span class="sd">    This class overrides the __setattr__ and __getattr__ magic methods to</span>
<span class="sd">    ensure that the FileSyncModel instance acts as an in-memory cache of the</span>
<span class="sd">    information stored in the associated configuration file.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_config_file</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">_config_file_timestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a FileSyncModel instance synchronized with a configuration</span>
<span class="sd">        file on disk.</span>

<span class="sd">        Args:</span>
<span class="sd">            config_file: configuration file path. If the file exists, the model</span>
<span class="sd">                will be initialized with the values from the file.</span>
<span class="sd">            **kwargs: additional keyword arguments to pass to the Pydantic model</span>
<span class="sd">                constructor. If supplied, these values will override those</span>
<span class="sd">                loaded from the configuration file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">config_file</span><span class="p">):</span>
            <span class="n">config_dict</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span> <span class="o">=</span> <span class="n">config_file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">config_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">config_dict</span><span class="p">)</span>

        <span class="c1"># write the configuration file to disk, to reflect new attributes</span>
        <span class="c1"># and schema changes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_config</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Sets an attribute on the model and persists the new value in the</span>
<span class="sd">        configuration file.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_config</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Gets an attribute value for a specific key.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load_config</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Writes the model to the configuration file.&quot;&quot;&quot;</span>
        <span class="n">config_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
        <span class="n">yaml_utils</span><span class="o">.</span><span class="n">write_yaml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">,</span> <span class="n">config_dict</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Loads the model from the configuration file on disk.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="c1"># don&#39;t reload the configuration if the file hasn&#39;t</span>
        <span class="c1"># been updated since the last load</span>
        <span class="n">file_timestamp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">file_timestamp</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reloading configuration file </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># refresh the model from the configuration file values</span>
        <span class="n">config_dict</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">config_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="n">file_timestamp</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># all attributes with leading underscore are private and therefore</span>
        <span class="c1"># are mutable and not included in serialization</span>
        <span class="n">underscore_attrs_are_private</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.utils.filesync_model.FileSyncModel.Config" class="doc doc-heading">
        <code>
Config        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># all attributes with leading underscore are private and therefore</span>
    <span class="c1"># are mutable and not included in serialization</span>
    <span class="n">underscore_attrs_are_private</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.filesync_model.FileSyncModel.__getattribute__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Gets an attribute value for a specific key.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets an attribute value for a specific key.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_config</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.filesync_model.FileSyncModel.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Create a FileSyncModel instance synchronized with a configuration
file on disk.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config_file</code></td>
        <td><code>str</code></td>
        <td><p>configuration file path. If the file exists, the model
will be initialized with the values from the file.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>additional keyword arguments to pass to the Pydantic model
constructor. If supplied, these values will override those
loaded from the configuration file.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create a FileSyncModel instance synchronized with a configuration</span>
<span class="sd">    file on disk.</span>

<span class="sd">    Args:</span>
<span class="sd">        config_file: configuration file path. If the file exists, the model</span>
<span class="sd">            will be initialized with the values from the file.</span>
<span class="sd">        **kwargs: additional keyword arguments to pass to the Pydantic model</span>
<span class="sd">            constructor. If supplied, these values will override those</span>
<span class="sd">            loaded from the configuration file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">config_file</span><span class="p">):</span>
        <span class="n">config_dict</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span> <span class="o">=</span> <span class="n">config_file</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">config_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">config_dict</span><span class="p">)</span>

    <span class="c1"># write the configuration file to disk, to reflect new attributes</span>
    <span class="c1"># and schema changes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write_config</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.filesync_model.FileSyncModel.__setattr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Sets an attribute on the model and persists the new value in the
configuration file.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Sets an attribute on the model and persists the new value in the</span>
<span class="sd">    configuration file.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">):</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write_config</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.filesync_model.FileSyncModel.load_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Loads the model from the configuration file on disk.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Loads the model from the configuration file on disk.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">):</span>
        <span class="k">return</span>

    <span class="c1"># don&#39;t reload the configuration if the file hasn&#39;t</span>
    <span class="c1"># been updated since the last load</span>
    <span class="n">file_timestamp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">file_timestamp</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reloading configuration file </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># refresh the model from the configuration file values</span>
    <span class="n">config_dict</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">config_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="n">file_timestamp</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.filesync_model.FileSyncModel.write_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Writes the model to the configuration file.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/filesync_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Writes the model to the configuration file.&quot;&quot;&quot;</span>
    <span class="n">config_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
    <span class="n">yaml_utils</span><span class="o">.</span><span class="n">write_yaml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">,</span> <span class="n">config_dict</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.networking_utils" class="doc doc-heading">
        <code>networking_utils</code>



</h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">










  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.networking_utils.find_available_port" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_available_port</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Finds a local random unoccupied TCP port.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/networking_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_available_port</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Finds a local random unoccupied TCP port.&quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
        <span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">getsockname</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.networking_utils.port_available" class="doc doc-heading">
<code class="highlight language-python"><span class="n">port_available</span><span class="p">(</span><span class="n">port</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Checks if a local port is available.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>TCP port number</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the port is available, otherwise False</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/networking_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">port_available</span><span class="p">(</span><span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks if a local port is available.</span>

<span class="sd">    Args:</span>
<span class="sd">        port: TCP port number</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the port is available, otherwise False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
            <span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
    <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Port </span><span class="si">%d</span><span class="s2"> unavailable: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.networking_utils.port_is_open" class="doc doc-heading">
<code class="highlight language-python"><span class="n">port_is_open</span><span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Check if a TCP port is open on a remote host.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>hostname</code></td>
        <td><code>str</code></td>
        <td><p>hostname of the remote machine</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>TCP port number</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the port is open, False otherwise</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/networking_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">port_is_open</span><span class="p">(</span><span class="n">hostname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check if a TCP port is open on a remote host.</span>

<span class="sd">    Args:</span>
<span class="sd">        hostname: hostname of the remote machine</span>
<span class="sd">        port: TCP port number</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the port is open, False otherwise</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">sock</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">connect_ex</span><span class="p">((</span><span class="n">hostname</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">result</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error checking TCP port </span><span class="si">{</span><span class="n">port</span><span class="si">}</span><span class="s2"> on host </span><span class="si">{</span><span class="n">hostname</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.networking_utils.scan_for_available_port" class="doc doc-heading">
<code class="highlight language-python"><span class="n">scan_for_available_port</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">8000</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">65535</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Scan the local network for an available port in the given range.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>start</code></td>
        <td><code>int</code></td>
        <td><p>the beginning of the port range value to scan</p></td>
        <td><code>8000</code></td>
      </tr>
      <tr>
        <td><code>stop</code></td>
        <td><code>int</code></td>
        <td><p>the (inclusive) end of the port range value to scan</p></td>
        <td><code>65535</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[int]</code></td>
      <td><p>The first available port in the given range, or None if no available
port is found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/networking_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">scan_for_available_port</span><span class="p">(</span>
    <span class="n">start</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">SCAN_PORT_RANGE</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stop</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">SCAN_PORT_RANGE</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Scan the local network for an available port in the given range.</span>

<span class="sd">    Args:</span>
<span class="sd">        start: the beginning of the port range value to scan</span>
<span class="sd">        stop: the (inclusive) end of the port range value to scan</span>
<span class="sd">    Returns:</span>
<span class="sd">        The first available port in the given range, or None if no available</span>
<span class="sd">        port is found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">port</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">port_available</span><span class="p">(</span><span class="n">port</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">port</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;No free TCP ports found in the range </span><span class="si">%d</span><span class="s2"> - </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">start</span><span class="p">,</span>
        <span class="n">stop</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.secrets_manager_utils" class="doc doc-heading">
        <code>secrets_manager_utils</code>



</h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.secrets_manager_utils.decode_secret_dict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">decode_secret_dict</span><span class="p">(</span><span class="n">secret_dict</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Base64 decode a Secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_dict</code></td>
        <td><code>Dict[str, str]</code></td>
        <td><p>dict containing key-value pairs to decode</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[Dict[str, str], str]</code></td>
      <td><p>Decoded secret Dict containing key-value pairs</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/secrets_manager_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">decode_secret_dict</span><span class="p">(</span>
    <span class="n">secret_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Base64 decode a Secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_dict: dict containing key-value pairs to decode</span>

<span class="sd">    Returns:</span>
<span class="sd">        Decoded secret Dict containing key-value pairs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">zenml_schema_name</span> <span class="o">=</span> <span class="n">secret_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">ZENML_SCHEMA_NAME</span><span class="p">)</span>

    <span class="n">decoded_secret</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">decode_string</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">secret_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="k">return</span> <span class="n">decoded_secret</span><span class="p">,</span> <span class="n">zenml_schema_name</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.secrets_manager_utils.decode_string" class="doc doc-heading">
<code class="highlight language-python"><span class="n">decode_string</span><span class="p">(</span><span class="n">string</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Base64 decode a string.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>string</code></td>
        <td><code>str</code></td>
        <td><p>String to decode</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Decoded string</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/secrets_manager_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">decode_string</span><span class="p">(</span><span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Base64 decode a string.</span>

<span class="sd">    Args:</span>
<span class="sd">        string: String to decode</span>

<span class="sd">    Returns:</span>
<span class="sd">        Decoded string</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">decoded_bytes</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">decoded_bytes</span><span class="p">,</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.secrets_manager_utils.encode_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">encode_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Base64 encode all values within a secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>BaseSecretSchema</code></td>
        <td><p>Secret containing key-value pairs</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, str]</code></td>
      <td><p>Encoded secret Dict containing key-value pairs</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/secrets_manager_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">encode_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">:</span> <span class="n">BaseSecretSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Base64 encode all values within a secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: Secret containing key-value pairs</span>

<span class="sd">    Returns:</span>
<span class="sd">        Encoded secret Dict containing key-value pairs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">encoded_secret</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">k</span><span class="p">:</span> <span class="n">encode_string</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="p">}</span>
    <span class="n">encoded_secret</span><span class="p">[</span><span class="n">ZENML_SCHEMA_NAME</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">TYPE</span>
    <span class="k">return</span> <span class="n">encoded_secret</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.secrets_manager_utils.encode_string" class="doc doc-heading">
<code class="highlight language-python"><span class="n">encode_string</span><span class="p">(</span><span class="n">string</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Base64 encode a string.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>string</code></td>
        <td><code>str</code></td>
        <td><p>String to encode</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Encoded string</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/secrets_manager_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">encode_string</span><span class="p">(</span><span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Base64 encode a string.</span>

<span class="sd">    Args:</span>
<span class="sd">        string: String to encode</span>

<span class="sd">    Returns:</span>
<span class="sd">        Encoded string</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">encoded_bytes</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">encoded_bytes</span><span class="p">,</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.singleton" class="doc doc-heading">
        <code>singleton</code>



</h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.singleton.SingletonMetaClass" class="doc doc-heading">
        <code>
SingletonMetaClass            (<span title="type">type</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Singleton metaclass.</p>
<p>Use this metaclass to make any class into a singleton class:</p>
<pre><code class="language-python">class OneRing(metaclass=SingletonMetaClass):
    def __init__(self, owner):
        self._owner = owner

    @property
    def owner(self):
        return self._owner

the_one_ring = OneRing('Sauron')
the_lost_ring = OneRing('Frodo')
print(the_lost_ring.owner)  # Sauron
OneRing._clear() # ring destroyed
</code></pre>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/singleton.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SingletonMetaClass</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Singleton metaclass.</span>

<span class="sd">    Use this metaclass to make any class into a singleton class:</span>

<span class="sd">    ```python</span>
<span class="sd">    class OneRing(metaclass=SingletonMetaClass):</span>
<span class="sd">        def __init__(self, owner):</span>
<span class="sd">            self._owner = owner</span>

<span class="sd">        @property</span>
<span class="sd">        def owner(self):</span>
<span class="sd">            return self._owner</span>

<span class="sd">    the_one_ring = OneRing(&#39;Sauron&#39;)</span>
<span class="sd">    the_lost_ring = OneRing(&#39;Frodo&#39;)</span>
<span class="sd">    print(the_lost_ring.owner)  # Sauron</span>
<span class="sd">    OneRing._clear() # ring destroyed</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialize a singleton class.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;SingletonMetaClass&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SingletonMetaClass&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create or return the singleton instance.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
                <span class="s2">&quot;SingletonMetaClass&quot;</span><span class="p">,</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span>

    <span class="k">def</span> <span class="nf">_clear</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Clear the singleton instance.&quot;&quot;&quot;</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.singleton.SingletonMetaClass.__call__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Create or return the singleton instance.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/singleton.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SingletonMetaClass&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create or return the singleton instance.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span><span class="p">:</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="s2">&quot;SingletonMetaClass&quot;</span><span class="p">,</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.singleton.SingletonMetaClass.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialize a singleton class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/singleton.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Initialize a singleton class.&quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;SingletonMetaClass&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.source_utils" class="doc doc-heading">
        <code>source_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>These utils are predicated on the following definitions:</p>
<ul>
<li>class_source: This is a python-import type path to a class, e.g.
    some.mod.class</li>
<li>module_source: This is a python-import type path to a module, e.g. some.mod</li>
<li>file_path, relative_path, absolute_path: These are file system paths.</li>
<li>source: This is a class_source or module_source. If it is a class_source, it
    can also be optionally pinned.</li>
<li>pin: Whatever comes after the <code>@</code> symbol from a source, usually the git sha
    or the version of zenml as a string.</li>
</ul>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.create_zenml_pin" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_zenml_pin</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Creates a ZenML pin for source pinning from release version.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_zenml_pin</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a ZenML pin for source pinning from release version.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">APP_NAME</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">__version__</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_absolute_path_from_module_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_absolute_path_from_module_source</span><span class="p">(</span><span class="n">module</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get a directory path from module source.</p>
<p>E.g. <code>zenml.core.step</code> will return <code>full/path/to/zenml/core/step</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>module</code></td>
        <td><code>str</code></td>
        <td><p>A module e.g. <code>zenml.core.step</code>.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_absolute_path_from_module_source</span><span class="p">(</span><span class="n">module</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get a directory path from module source.</span>

<span class="sd">    E.g. `zenml.core.step` will return `full/path/to/zenml/core/step`.</span>

<span class="sd">    Args:</span>
<span class="sd">        module: A module e.g. `zenml.core.step`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mod</span><span class="o">.</span><span class="n">__path__</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_class_source_from_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_class_source_from_source</span><span class="p">(</span><span class="n">source</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets class source from source, i.e. module.path@version, returns version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>source pointing to potentially pinned sha.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_class_source_from_source</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets class source from source, i.e. module.path@version, returns version.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: source pointing to potentially pinned sha.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># source need not even be pinned</span>
    <span class="k">return</span> <span class="n">source</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_hashed_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_hashed_source</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns a hash of the objects source code.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_hashed_source</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns a hash of the objects source code.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">source_code</span> <span class="o">=</span> <span class="n">get_source</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to compute the hash of source code of object: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">source_code</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_module_source_from_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_module_source_from_class</span><span class="p">(</span><span class="n">class_</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Takes class input and returns module_source. If class is already string
then returns the same.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>class_</code></td>
        <td><code>Union[Type[Any], str]</code></td>
        <td><p>object of type class.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_module_source_from_class</span><span class="p">(</span>
    <span class="n">class_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Takes class input and returns module_source. If class is already string</span>
<span class="sd">    then returns the same.</span>

<span class="sd">    Args:</span>
<span class="sd">        class_: object of type class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">class_</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">module_source</span> <span class="o">=</span> <span class="n">class_</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Infer it from the class provided</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="n">class_</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s2">&quot;step_type is neither string nor class.&quot;</span><span class="p">)</span>
        <span class="n">module_source</span> <span class="o">=</span> <span class="n">class_</span><span class="o">.</span><span class="vm">__module__</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">class_</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="k">return</span> <span class="n">module_source</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_module_source_from_module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_module_source_from_module</span><span class="p">(</span><span class="n">module</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets the source of the supplied module.</p>
<p>E.g.:</p>
<ul>
<li>
<p>a <code>/home/myrepo/src/run.py</code> module running as the main module returns
  <code>run</code> if no repository root is specified.</p>
</li>
<li>
<p>a <code>/home/myrepo/src/run.py</code> module running as the main module returns
  <code>src.run</code> if the repository root is configured in <code>/home/myrepo</code></p>
</li>
<li>
<p>a <code>/home/myrepo/src/pipeline.py</code> module not running as the main module
  returns <code>src.pipeline</code> if the repository root is configured in
  <code>/home/myrepo</code></p>
</li>
<li>
<p>a <code>/home/myrepo/src/pipeline.py</code> module not running as the main module
  returns <code>pipeline</code> if no repository root is specified and the main
  module is also in <code>/home/myrepo/src</code>.</p>
</li>
<li>
<p>a <code>/home/step.py</code> module not running as the main module
  returns <code>step</code> if the CWD is /home and the repository root or the main
  module are in a different path (e.g. <code>/home/myrepo/src</code>).</p>
</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>module</code></td>
        <td><code>module</code></td>
        <td><p>the module to get the source of.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The source of the main module.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the module is not loaded from a file</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_module_source_from_module</span><span class="p">(</span><span class="n">module</span><span class="p">:</span> <span class="n">ModuleType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets the source of the supplied module.</span>

<span class="sd">    E.g.:</span>

<span class="sd">      * a `/home/myrepo/src/run.py` module running as the main module returns</span>
<span class="sd">      `run` if no repository root is specified.</span>

<span class="sd">      * a `/home/myrepo/src/run.py` module running as the main module returns</span>
<span class="sd">      `src.run` if the repository root is configured in `/home/myrepo`</span>

<span class="sd">      * a `/home/myrepo/src/pipeline.py` module not running as the main module</span>
<span class="sd">      returns `src.pipeline` if the repository root is configured in</span>
<span class="sd">      `/home/myrepo`</span>

<span class="sd">      * a `/home/myrepo/src/pipeline.py` module not running as the main module</span>
<span class="sd">      returns `pipeline` if no repository root is specified and the main</span>
<span class="sd">      module is also in `/home/myrepo/src`.</span>

<span class="sd">      * a `/home/step.py` module not running as the main module</span>
<span class="sd">      returns `step` if the CWD is /home and the repository root or the main</span>
<span class="sd">      module are in a different path (e.g. `/home/myrepo/src`).</span>

<span class="sd">    Args:</span>
<span class="sd">        module: the module to get the source of.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The source of the main module.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the module is not loaded from a file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="s2">&quot;__file__&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">module</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s2"> module was not loaded from a file. Cannot &quot;</span>
                <span class="s2">&quot;determine the module root path.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">module</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="n">module_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>

    <span class="n">root_path</span> <span class="o">=</span> <span class="n">get_source_root_path</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">module_path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">root_path</span><span class="p">):</span>
        <span class="n">root_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;User module </span><span class="si">%s</span><span class="s2"> is not in the source root. Using current &quot;</span>
            <span class="s2">&quot;directory </span><span class="si">%s</span><span class="s2"> instead to resolve module source.&quot;</span><span class="p">,</span>
            <span class="n">module</span><span class="p">,</span>
            <span class="n">root_path</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Remove root_path from module_path to get relative path left over</span>
    <span class="n">module_path</span> <span class="o">=</span> <span class="n">module_path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">root_path</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]</span>

    <span class="c1"># Kick out the .py and replace `/` with `.` to get the module source</span>
    <span class="n">module_path</span> <span class="o">=</span> <span class="n">module_path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.py&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">module_source</span> <span class="o">=</span> <span class="n">module_path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Resolved module source for module </span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s2"> to: </span><span class="si">{</span><span class="n">module_source</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">module_source</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_module_source_from_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_module_source_from_source</span><span class="p">(</span><span class="n">source</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets module source from source. E.g. <code>some.module.file.class@version</code>,
returns <code>some.module</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>source pointing to potentially pinned sha.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_module_source_from_source</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets module source from source. E.g. `some.module.file.class@version`,</span>
<span class="sd">    returns `some.module`.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: source pointing to potentially pinned sha.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">class_source</span> <span class="o">=</span> <span class="n">get_class_source_from_source</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">class_source</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_relative_path_from_module_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_relative_path_from_module_source</span><span class="p">(</span><span class="n">module_source</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get a directory path from module, relative to root of the package tree.</p>
<p>E.g. zenml.core.step will return zenml/core/step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>module_source</code></td>
        <td><code>str</code></td>
        <td><p>A module e.g. zenml.core.step</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_relative_path_from_module_source</span><span class="p">(</span><span class="n">module_source</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get a directory path from module, relative to root of the package tree.</span>

<span class="sd">    E.g. zenml.core.step will return zenml/core/step.</span>

<span class="sd">    Args:</span>
<span class="sd">        module_source: A module e.g. zenml.core.step</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">module_source</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_source</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns the source code of an object. If executing within a IPython
kernel environment, then this monkey-patches <code>inspect</code> module temporarily
with a workaround to get source from the cell.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If source not found.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_source</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the source code of an object. If executing within a IPython</span>
<span class="sd">    kernel environment, then this monkey-patches `inspect` module temporarily</span>
<span class="sd">    with a workaround to get source from the cell.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If source not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>
        <span class="c1"># Monkey patch inspect.getfile temporarily to make getsource work.</span>
        <span class="c1"># Source: https://stackoverflow.com/questions/51566497/</span>
        <span class="k">def</span> <span class="nf">_new_getfile</span><span class="p">(</span>
            <span class="nb">object</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
            <span class="n">_old_getfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span>
                <span class="p">[</span>
                    <span class="n">Union</span><span class="p">[</span>
                        <span class="n">ModuleType</span><span class="p">,</span>
                        <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span>
                        <span class="n">MethodType</span><span class="p">,</span>
                        <span class="n">FunctionType</span><span class="p">,</span>
                        <span class="n">TracebackType</span><span class="p">,</span>
                        <span class="n">FrameType</span><span class="p">,</span>
                        <span class="n">CodeType</span><span class="p">,</span>
                        <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
                    <span class="p">]</span>
                <span class="p">],</span>
                <span class="nb">str</span><span class="p">,</span>
            <span class="p">]</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">_old_getfile</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>

            <span class="c1"># Lookup by parent module (as in current inspect)</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="s2">&quot;__module__&quot;</span><span class="p">):</span>
                <span class="n">object_</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">object</span><span class="o">.</span><span class="vm">__module__</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">object_</span><span class="p">,</span> <span class="s2">&quot;__file__&quot;</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">object_</span><span class="o">.</span><span class="vm">__file__</span>  <span class="c1"># type: ignore[union-attr]</span>

            <span class="c1"># If parent module is __main__, lookup by methods</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">inspect</span><span class="o">.</span><span class="n">isfunction</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__qualname__</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">member</span><span class="o">.</span><span class="vm">__name__</span>
                    <span class="o">==</span> <span class="n">member</span><span class="o">.</span><span class="vm">__qualname__</span>
                <span class="p">):</span>
                    <span class="k">return</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Source for </span><span class="si">{</span><span class="nb">object</span><span class="si">!r}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>

        <span class="c1"># Monkey patch, compute source, then revert monkey patch.</span>
        <span class="n">_old_getfile</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span>
        <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span> <span class="o">=</span> <span class="n">_new_getfile</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">src</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span> <span class="o">=</span> <span class="n">_old_getfile</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Use standard inspect if running outside a notebook</span>
        <span class="n">src</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">src</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.get_source_root_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_source_root_path</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get the repository root path or the source root path of the current
process.</p>
<p>E.g.:</p>
<ul>
<li>
<p>if the process was started by running a <code>run.py</code> file under
  <code>full/path/to/my/run.py</code>, and the repository root is configured at
  <code>full/path</code>, the source root path is <code>full/path</code>.</p>
</li>
<li>
<p>same case as above, but when there is no repository root configured,
  the source root path is <code>full/path/to/my</code>.</p>
</li>
</ul>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The source root path of the current process.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_source_root_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the repository root path or the source root path of the current</span>
<span class="sd">    process.</span>

<span class="sd">    E.g.:</span>

<span class="sd">      * if the process was started by running a `run.py` file under</span>
<span class="sd">      `full/path/to/my/run.py`, and the repository root is configured at</span>
<span class="sd">      `full/path`, the source root path is `full/path`.</span>

<span class="sd">      * same case as above, but when there is no repository root configured,</span>
<span class="sd">      the source root path is `full/path/to/my`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The source root path of the current process.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.repository</span> <span class="kn">import</span> <span class="n">Repository</span>

    <span class="n">repo_root</span> <span class="o">=</span> <span class="n">Repository</span><span class="o">.</span><span class="n">find_repository</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">repo_root</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Using repository root as source root: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">repo_root</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">repo_root</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>

    <span class="n">main_module</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;__main__&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">main_module</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Could not determine the main module used to run the current &quot;</span>
            <span class="s2">&quot;process.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">main_module</span><span class="p">,</span> <span class="s2">&quot;__file__&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">main_module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Main module was not started from a file. Cannot &quot;</span>
            <span class="s2">&quot;determine the module root path.&quot;</span>
        <span class="p">)</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">main_module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Using main module location as source root: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.import_class_by_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">import_class_by_path</span><span class="p">(</span><span class="n">class_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Imports a class based on a given path</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>class_path</code></td>
        <td><code>str</code></td>
        <td><p>str, class_source e.g. this.module.Class</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>      <p>Returns: the given class</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">import_class_by_path</span><span class="p">(</span><span class="n">class_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Imports a class based on a given path</span>

<span class="sd">    Args:</span>
<span class="sd">        class_path: str, class_source e.g. this.module.Class</span>

<span class="sd">    Returns: the given class</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">classname</span> <span class="o">=</span> <span class="n">class_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">modulename</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">class_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">modulename</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="n">classname</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.import_python_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">import_python_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Imports a python file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to python file that should be imported.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>imported module</code></td>
      <td><p>Module</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">import_python_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Imports a python file.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to python file that should be imported.</span>

<span class="sd">    Returns:</span>
<span class="sd">        imported module: Module</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Add directory of python file to PYTHONPATH so we can import it</span>
    <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
    <span class="n">module_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># In case the module is already fully or partially imported and the module</span>
    <span class="c1">#  path is something like materializer.materializer the full path needs to</span>
    <span class="c1">#  be checked for in the sys.modules to avoid getting an empty namespace</span>
    <span class="c1">#  module</span>
    <span class="n">full_module_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">())</span>
    <span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">full_module_path</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">prepend_python_path</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">file_path</span><span class="p">)):</span>
            <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">module</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">full_module_path</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.is_inside_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_inside_repository</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns whether a file is inside a zenml repository.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_inside_repository</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns whether a file is inside a zenml repository.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.repository</span> <span class="kn">import</span> <span class="n">Repository</span>

    <span class="n">repo_path</span> <span class="o">=</span> <span class="n">Repository</span><span class="o">.</span><span class="n">find_repository</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">repo_path</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">repo_path</span> <span class="o">=</span> <span class="n">repo_path</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
    <span class="n">absolute_file_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">repo_path</span> <span class="ow">in</span> <span class="n">absolute_file_path</span><span class="o">.</span><span class="n">parents</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.is_standard_pin" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_standard_pin</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns <code>True</code> if pin is valid ZenML pin, else False.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pin</code></td>
        <td><code>str</code></td>
        <td><p>potential ZenML pin like 'zenml_0.1.1'</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_standard_pin</span><span class="p">(</span><span class="n">pin</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns `True` if pin is valid ZenML pin, else False.</span>

<span class="sd">    Args:</span>
<span class="sd">        pin: potential ZenML pin like &#39;zenml_0.1.1&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">pin</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">APP_NAME</span><span class="si">}</span><span class="s2">_&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.is_standard_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_standard_source</span><span class="p">(</span><span class="n">source</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns <code>True</code> if source is a standard ZenML source.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>class_source e.g. this.module.Class[@pin].</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_standard_source</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns `True` if source is a standard ZenML source.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: class_source e.g. this.module.Class[@pin].</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">source</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;zenml&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.is_third_party_module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_third_party_module</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns whether a file belongs to a third party package.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_third_party_module</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns whether a file belongs to a third party package.&quot;&quot;&quot;</span>
    <span class="n">absolute_file_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">site</span><span class="o">.</span><span class="n">getsitepackages</span><span class="p">()</span> <span class="o">+</span> <span class="p">[</span><span class="n">site</span><span class="o">.</span><span class="n">getusersitepackages</span><span class="p">()]:</span>
        <span class="k">if</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span> <span class="ow">in</span> <span class="n">absolute_file_path</span><span class="o">.</span><span class="n">parents</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.load_source_path_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_source_path_class</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">import_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Loads a Python class from the source.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>class_source e.g. this.module.Class[@sha]</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>import_path</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>optional path to add to python path</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_source_path_class</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">import_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Loads a Python class from the source.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: class_source e.g. this.module.Class[@sha]</span>
<span class="sd">        import_path: optional path to add to python path</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.repository</span> <span class="kn">import</span> <span class="n">Repository</span>

    <span class="n">repo_root</span> <span class="o">=</span> <span class="n">Repository</span><span class="o">.</span><span class="n">find_repository</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">import_path</span> <span class="ow">and</span> <span class="n">repo_root</span><span class="p">:</span>
        <span class="n">import_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">repo_root</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">source</span><span class="p">:</span>
        <span class="n">source</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">import_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">prepend_python_path</span><span class="p">(</span><span class="n">import_path</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Loading class </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2"> with import path </span><span class="si">{</span><span class="n">import_path</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">import_class_by_path</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">import_class_by_path</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.prepend_python_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepend_python_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Simple context manager to help import module within the repo</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">prepend_python_path</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="kc">None</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Simple context manager to help import module within the repo&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Entering the with statement</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
        <span class="k">yield</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># Exiting the with statement</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.resolve_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resolve_class</span><span class="p">(</span><span class="n">class_</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Resolves a class into a serializable source string.</p>
<p>For classes that are not built-in nor imported from a Python package, the
<code>get_source_root_path</code> function is used to determine the root path
relative to which the class source is resolved.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>class_</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>A Python Class reference.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>      <p>Returns: source_path e.g. this.module.Class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">resolve_class</span><span class="p">(</span><span class="n">class_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Resolves a class into a serializable source string.</span>

<span class="sd">    For classes that are not built-in nor imported from a Python package, the</span>
<span class="sd">    `get_source_root_path` function is used to determine the root path</span>
<span class="sd">    relative to which the class source is resolved.</span>

<span class="sd">    Args:</span>
<span class="sd">        class_: A Python Class reference.</span>

<span class="sd">    Returns: source_path e.g. this.module.Class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">initial_source</span> <span class="o">=</span> <span class="n">class_</span><span class="o">.</span><span class="vm">__module__</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">class_</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="k">if</span> <span class="n">is_standard_source</span><span class="p">(</span><span class="n">initial_source</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">resolve_standard_source</span><span class="p">(</span><span class="n">initial_source</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span><span class="p">(</span><span class="n">class_</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="c1"># builtin file</span>
        <span class="k">return</span> <span class="n">initial_source</span>

    <span class="k">if</span> <span class="n">initial_source</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;__main__&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">is_third_party_module</span><span class="p">(</span>
        <span class="n">file_path</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="n">initial_source</span>

    <span class="c1"># Regular user file -&gt; get the full module path relative to the</span>
    <span class="c1"># source root.</span>
    <span class="n">module_source</span> <span class="o">=</span> <span class="n">get_module_source_from_module</span><span class="p">(</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">class_</span><span class="o">.</span><span class="vm">__module__</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># ENG-123 Sanitize for Windows OS</span>
    <span class="c1"># module_source = module_source.replace(&quot;\\&quot;, &quot;.&quot;)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Resolved class </span><span class="si">{</span><span class="n">class_</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">module_source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">module_source</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">class_</span><span class="o">.</span><span class="vm">__name__</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.resolve_standard_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resolve_standard_source</span><span class="p">(</span><span class="n">source</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Creates a ZenML pin for source pinning from release version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>class_source e.g. this.module.Class.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">resolve_standard_source</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a ZenML pin for source pinning from release version.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: class_source e.g. this.module.Class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">source</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;source </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2"> is already pinned.&quot;</span><span class="p">)</span>
    <span class="n">pin</span> <span class="o">=</span> <span class="n">create_zenml_pin</span><span class="p">()</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">@</span><span class="si">{</span><span class="n">pin</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.source_utils.validate_flavor_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_flavor_source</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">component_type</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Utility function to import a StackComponent class from a given source
and validate its type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>source path of the implementation</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>component_type</code></td>
        <td><code>StackComponentType</code></td>
        <td><p>the type of the stack component</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If ZenML cannot find the given module path</p></td>
      </tr>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If the given module path does not point to a subclass of a
StackComponent which has the right component type.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/source_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate_flavor_source</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">component_type</span><span class="p">:</span> <span class="n">StackComponentType</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">StackComponent</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Utility function to import a StackComponent class from a given source</span>
<span class="sd">    and validate its type.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: source path of the implementation</span>
<span class="sd">        component_type: the type of the stack component</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If ZenML cannot find the given module path</span>
<span class="sd">        TypeError: If the given module path does not point to a subclass of a</span>
<span class="sd">            StackComponent which has the right component type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">stack_component_class</span> <span class="o">=</span> <span class="n">load_source_path_class</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">ImportError</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;ZenML can not import the source &#39;</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&#39; of the given module.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">stack_component_class</span><span class="p">,</span> <span class="n">StackComponent</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The source &#39;</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&#39; does not point to a subclass of the ZenML&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;StackComponent.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">stack_component_class</span><span class="o">.</span><span class="n">TYPE</span> <span class="o">!=</span> <span class="n">component_type</span><span class="p">:</span>  <span class="c1"># noqa</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The source points to a </span><span class="si">{</span><span class="n">stack_component_class</span><span class="o">.</span><span class="n">TYPE</span><span class="si">}</span><span class="s2">, not a &quot;</span>  <span class="c1"># noqa</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">component_type</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">stack_component_class</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.string_utils" class="doc doc-heading">
        <code>string_utils</code>



</h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.string_utils.get_human_readable_filesize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_human_readable_filesize</span><span class="p">(</span><span class="n">bytes_</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Convert a file size in bytes into a human-readable string.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/string_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_human_readable_filesize</span><span class="p">(</span><span class="n">bytes_</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Convert a file size in bytes into a human-readable string.&quot;&quot;&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">bytes_</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">unit</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;KiB&quot;</span><span class="p">,</span> <span class="s2">&quot;MiB&quot;</span><span class="p">,</span> <span class="s2">&quot;GiB&quot;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">&lt;</span> <span class="mf">1024.0</span> <span class="ow">or</span> <span class="n">unit</span> <span class="o">==</span> <span class="s2">&quot;GiB&quot;</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">size</span> <span class="o">/=</span> <span class="mf">1024.0</span>

    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">size</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">unit</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.string_utils.get_human_readable_time" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_human_readable_time</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Convert seconds into a human-readable string.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/string_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_human_readable_time</span><span class="p">(</span><span class="n">seconds</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Convert seconds into a human-readable string.&quot;&quot;&quot;</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span> <span class="k">if</span> <span class="n">seconds</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">seconds</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span>
    <span class="n">int_seconds</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span>
    <span class="n">days</span><span class="p">,</span> <span class="n">int_seconds</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">int_seconds</span><span class="p">,</span> <span class="mi">86400</span><span class="p">)</span>
    <span class="n">hours</span><span class="p">,</span> <span class="n">int_seconds</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">int_seconds</span><span class="p">,</span> <span class="mi">3600</span><span class="p">)</span>
    <span class="n">minutes</span><span class="p">,</span> <span class="n">int_seconds</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">int_seconds</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">days</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">days</span><span class="si">}</span><span class="s2">d</span><span class="si">{</span><span class="n">hours</span><span class="si">}</span><span class="s2">h</span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">m</span><span class="si">{</span><span class="n">int_seconds</span><span class="si">}</span><span class="s2">s&quot;</span>
    <span class="k">elif</span> <span class="n">hours</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">hours</span><span class="si">}</span><span class="s2">h</span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">m</span><span class="si">{</span><span class="n">int_seconds</span><span class="si">}</span><span class="s2">s&quot;</span>
    <span class="k">elif</span> <span class="n">minutes</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">m</span><span class="si">{</span><span class="n">int_seconds</span><span class="si">}</span><span class="s2">s&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">seconds</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s&quot;</span>

    <span class="k">return</span> <span class="n">prefix</span> <span class="o">+</span> <span class="n">time_string</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.typed_model" class="doc doc-heading">
        <code>typed_model</code>



</h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.typed_model.BaseTypedModel" class="doc doc-heading">
        <code>
BaseTypedModel            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Typed Pydantic model base class.</p>
<p>Use this class as a base class instead of BaseModel to automatically
add a <code>type</code> literal attribute to the model that stores the name of the
class.</p>
<p>This can be useful when serializing models to JSON and then de-serializing
them as part of a submodel union field, e.g.:</p>
<pre><code class="language-python">
class BluePill(BaseTypedModel):
    ...

class RedPill(BaseTypedModel):
    ...

class TheMatrix(BaseTypedModel):
    choice: Union[BluePill, RedPill] = Field(..., discriminator='type')

matrix = TheMatrix(choice=RedPill())
d = matrix.dict()
new_matrix = TheMatrix.parse_obj(d)
assert isinstance(new_matrix.choice, RedPill)
</code></pre>
<p>It can also facilitate de-serializing objects when their type isn't known:</p>
<pre><code class="language-python">matrix = TheMatrix(choice=RedPill())
d = matrix.dict()
new_matrix = BaseTypedModel.from_dict(d)
assert isinstance(new_matrix.choice, RedPill)
</code></pre>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/typed_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseTypedModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">metaclass</span><span class="o">=</span><span class="n">BaseTypedModelMeta</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Typed Pydantic model base class.</span>

<span class="sd">    Use this class as a base class instead of BaseModel to automatically</span>
<span class="sd">    add a `type` literal attribute to the model that stores the name of the</span>
<span class="sd">    class.</span>

<span class="sd">    This can be useful when serializing models to JSON and then de-serializing</span>
<span class="sd">    them as part of a submodel union field, e.g.:</span>

<span class="sd">    ```python</span>

<span class="sd">    class BluePill(BaseTypedModel):</span>
<span class="sd">        ...</span>

<span class="sd">    class RedPill(BaseTypedModel):</span>
<span class="sd">        ...</span>

<span class="sd">    class TheMatrix(BaseTypedModel):</span>
<span class="sd">        choice: Union[BluePill, RedPill] = Field(..., discriminator=&#39;type&#39;)</span>

<span class="sd">    matrix = TheMatrix(choice=RedPill())</span>
<span class="sd">    d = matrix.dict()</span>
<span class="sd">    new_matrix = TheMatrix.parse_obj(d)</span>
<span class="sd">    assert isinstance(new_matrix.choice, RedPill)</span>
<span class="sd">    ```</span>

<span class="sd">    It can also facilitate de-serializing objects when their type isn&#39;t known:</span>

<span class="sd">    ```python</span>
<span class="sd">    matrix = TheMatrix(choice=RedPill())</span>
<span class="sd">    d = matrix.dict()</span>
<span class="sd">    new_matrix = BaseTypedModel.from_dict(d)</span>
<span class="sd">    assert isinstance(new_matrix.choice, RedPill)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">model_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Instantiate a Pydantic model from a serialized JSON-able dict</span>
<span class="sd">        representation.</span>

<span class="sd">        Args:</span>
<span class="sd">            model_dict: the model attributes serialized as JSON-able dict.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A BaseTypedModel created from the serialized representation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">model_type</span> <span class="o">=</span> <span class="n">model_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">model_type</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;`type` information is missing from the serialized model dict.&quot;</span>
            <span class="p">)</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="n">load_source_path_class</span><span class="p">(</span><span class="n">model_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">BaseTypedModel</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Class `</span><span class="si">{</span><span class="bp">cls</span><span class="si">}</span><span class="s2">` is not a ZenML BaseTypedModel subclass.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">model_dict</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">json_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Instantiate a Pydantic model from a serialized JSON representation.</span>

<span class="sd">        Args:</span>
<span class="sd">            json_str: the model attributes serialized as JSON.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A BaseTypedModel created from the serialized representation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">model_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">model_dict</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.typed_model.BaseTypedModel.from_dict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">model_dict</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Instantiate a Pydantic model from a serialized JSON-able dict
representation.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_dict</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>the model attributes serialized as JSON-able dict.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseTypedModel</code></td>
      <td><p>A BaseTypedModel created from the serialized representation.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/typed_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">model_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Instantiate a Pydantic model from a serialized JSON-able dict</span>
<span class="sd">    representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_dict: the model attributes serialized as JSON-able dict.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A BaseTypedModel created from the serialized representation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_type</span> <span class="o">=</span> <span class="n">model_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">model_type</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;`type` information is missing from the serialized model dict.&quot;</span>
        <span class="p">)</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">load_source_path_class</span><span class="p">(</span><span class="n">model_type</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">BaseTypedModel</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Class `</span><span class="si">{</span><span class="bp">cls</span><span class="si">}</span><span class="s2">` is not a ZenML BaseTypedModel subclass.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">model_dict</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.typed_model.BaseTypedModel.from_json" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_json</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Instantiate a Pydantic model from a serialized JSON representation.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>json_str</code></td>
        <td><code>str</code></td>
        <td><p>the model attributes serialized as JSON.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseTypedModel</code></td>
      <td><p>A BaseTypedModel created from the serialized representation.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/typed_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">json_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Instantiate a Pydantic model from a serialized JSON representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        json_str: the model attributes serialized as JSON.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A BaseTypedModel created from the serialized representation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">model_dict</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.typed_model.BaseTypedModelMeta" class="doc doc-heading">
        <code>
BaseTypedModelMeta            (<span title="pydantic.main.ModelMetaclass">ModelMetaclass</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Metaclass responsible for adding type information to Pydantic models.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/typed_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseTypedModelMeta</span><span class="p">(</span><span class="n">ModelMetaclass</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Metaclass responsible for adding type information to Pydantic models.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
        <span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModelMeta&quot;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a pydantic BaseModel class that includes a hidden attribute that</span>
<span class="sd">        reflects the full class identifier.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;type&quot;</span> <span class="ow">in</span> <span class="n">dct</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;`type` is a reserved attribute name for BaseTypedModel &quot;</span>
                <span class="s2">&quot;subclasses&quot;</span>
            <span class="p">)</span>
        <span class="n">type_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dct</span><span class="p">[</span><span class="s1">&#39;__module__&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">dct</span><span class="p">[</span><span class="s1">&#39;__qualname__&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">type_ann</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">[</span><span class="n">type_name</span><span class="p">]</span>  <span class="c1"># type: ignore [misc,valid-type]</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">type_name</span><span class="p">)</span>
        <span class="n">dct</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;__annotations__&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">())[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">type_ann</span>
        <span class="n">dct</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">type</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">],</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.typed_model.BaseTypedModelMeta.__new__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Creates a pydantic BaseModel class that includes a hidden attribute that
reflects the full class identifier.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/typed_model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
    <span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModelMeta&quot;</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates a pydantic BaseModel class that includes a hidden attribute that</span>
<span class="sd">    reflects the full class identifier.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;type&quot;</span> <span class="ow">in</span> <span class="n">dct</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="s2">&quot;`type` is a reserved attribute name for BaseTypedModel &quot;</span>
            <span class="s2">&quot;subclasses&quot;</span>
        <span class="p">)</span>
    <span class="n">type_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dct</span><span class="p">[</span><span class="s1">&#39;__module__&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">dct</span><span class="p">[</span><span class="s1">&#39;__qualname__&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">type_ann</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">[</span><span class="n">type_name</span><span class="p">]</span>  <span class="c1"># type: ignore [misc,valid-type]</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">type_name</span><span class="p">)</span>
    <span class="n">dct</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;__annotations__&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">())[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">type_ann</span>
    <span class="n">dct</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">type</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
        <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">],</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.utils.yaml_utils" class="doc doc-heading">
        <code>yaml_utils</code>



</h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.utils.yaml_utils.UUIDEncoder" class="doc doc-heading">
        <code>
UUIDEncoder            (<span title="json.encoder.JSONEncoder">JSONEncoder</span>)
        </code>



</h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">UUIDEncoder</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">JSONEncoder</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
            <span class="c1"># if the obj is uuid, we simply return the value of uuid</span>
            <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">hex</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.utils.yaml_utils.UUIDEncoder.default" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Implement this method in a subclass such that it returns
a serializable object for <code>o</code>, or calls the base implementation
(to raise a <code>TypeError</code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this::</p>
<pre><code>def default(self, o):
    !!! try
        iterable = iter(o)
    except TypeError:
        pass
    !!! else
        return list(iterable)
    # Let the base class default method raise the TypeError
    return JSONEncoder.default(self, o)
</code></pre>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
        <span class="c1"># if the obj is uuid, we simply return the value of uuid</span>
        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">hex</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.yaml_utils.append_yaml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">append_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">contents</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Append contents to a YAML file at file_path.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">append_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">contents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Append contents to a YAML file at file_path.&quot;&quot;&quot;</span>
    <span class="n">file_contents</span> <span class="o">=</span> <span class="n">read_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">file_contents</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">dir_</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Directory </span><span class="si">{</span><span class="n">dir_</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
    <span class="n">utils</span><span class="o">.</span><span class="n">write_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">file_contents</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.yaml_utils.is_yaml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns True if file_path is YAML, else False</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to YAML file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if is yaml, else False.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns True if file_path is YAML, else False</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to YAML file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if is yaml, else False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">file_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;yaml&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">file_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;yml&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.yaml_utils.read_json" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Read JSON on file path and returns contents as dict.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to JSON file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Read JSON on file path and returns contents as dict.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to JSON file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.yaml_utils.read_yaml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Read YAML on file path and returns contents as dict.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to YAML file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>Contents of the file in a dict.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileNotFoundError</code></td>
        <td><p>if file does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Read YAML on file path and returns contents as dict.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to YAML file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Contents of the file in a dict.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if file does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="c1"># TODO: [LOW] consider adding a default empty dict to be returned</span>
        <span class="c1">#   instead of None</span>
        <span class="k">return</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.yaml_utils.write_json" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">contents</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Write contents as JSON format to file_path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to JSON file.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>contents</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>Contents of JSON file as dict.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>Contents of the file in a dict.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileNotFoundError</code></td>
        <td><p>if directory does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">contents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Write contents as JSON format to file_path.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to JSON file.</span>
<span class="sd">        contents: Contents of JSON file as dict.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Contents of the file in a dict.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if directory does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">dir_</span><span class="p">):</span>
            <span class="c1"># Check if it is a local path, if it doesn&#39;t exist, raise Exception.</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Directory </span><span class="si">{</span><span class="n">dir_</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
    <span class="n">utils</span><span class="o">.</span><span class="n">write_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">contents</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.utils.yaml_utils.write_yaml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">contents</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Write contents as YAML format to file_path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to YAML file.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>contents</code></td>
        <td><code>Dict[Any, Any]</code></td>
        <td><p>Contents of YAML file as dict.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileNotFoundError</code></td>
        <td><p>if directory does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/utils/yaml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">contents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Write contents as YAML format to file_path.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to YAML file.</span>
<span class="sd">        contents: Contents of YAML file as dict.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if directory does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">dir_</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Directory </span><span class="si">{</span><span class="n">dir_</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
    <span class="n">utils</span><span class="o">.</span><span class="n">write_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">contents</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../steps/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Steps" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Steps
            </div>
          </div>
        </a>
      
      
        
        <a href="../visualizers/" class="md-footer__link md-footer__link--next" aria-label="Next: Visualizers" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Visualizers
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.a6c66575.min.js"></script>
      
    
  </body>
</html>